<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/images/chubby-unicorn-logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Removed cache control meta tags - handled by service worker and server headers -->
    <title>Chubby Unicorn - Flight Planning Excellence</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#3b82f6" />
    <meta name="description" content="Professional flight planning and management application" />
<link rel="manifest" href="data:application/manifest+json;base64,eyJuYW1lIjogIkNodWJieSBVbmljb3JuIEZsaWdodCBQbGFubmluZyIsICJzaG9ydF9uYW1lIjogIkNodWJieSBVbmljb3JuIiwgImRlc2NyaXB0aW9uIjogIlByb2Zlc3Npb25hbCBmbGlnaHQgcGxhbm5pbmcgYW5kIG1hbmFnZW1lbnQgc3lzdGVtIiwgInN0YXJ0X3VybCI6ICIuLyIsICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLCAib3JpZW50YXRpb24iOiAiYW55IiwgImJhY2tncm91bmRfY29sb3IiOiAiI2ZmZmZmZiIsICJ0aGVtZV9jb2xvciI6ICIjMkY1NEVCIiwgImljb25zIjogW3sic3JjIjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFEVWxFUVZSNDJtTmtZUGhmRHdBQ2h3R0E2MGU2a2dBQUFBQkpSVTVFcmtKZ2dnPT0iLCAic2l6ZXMiOiAiMTkyeDE5MiIsICJ0eXBlIjogImltYWdlL3BuZyJ9LCB7InNyYyI6ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBRFVsRVFWUjQybU5rWVBoZkR3QUNod0dBNjBlNmtnQUFBQUJKUlU1RXJrSmdnZz09IiwgInNpemVzIjogIjUxMng1MTIiLCAidHlwZSI6ICJpbWFnZS9wbmcifV19">
    
    <!-- iOS PWA Support -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Chubby Unicorn" />
    <link rel="apple-touch-icon" href="/images/chubby-unicorn-logo.png" />
<script type="module">
var f_=Object.defineProperty;var h_=(e,t,n)=>t in e?f_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qn=(e,t,n)=>h_(e,typeof t!="symbol"?t+"":t,n);function p_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function m_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var CA={exports:{}},Ig={},OA={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=Symbol.for("react.element"),g_=Symbol.for("react.portal"),v_=Symbol.for("react.fragment"),y_=Symbol.for("react.strict_mode"),x_=Symbol.for("react.profiler"),b_=Symbol.for("react.provider"),w_=Symbol.for("react.context"),S_=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),j_=Symbol.for("react.memo"),A_=Symbol.for("react.lazy"),k5=Symbol.iterator;function P_(e){return e===null||typeof e!="object"?null:(e=k5&&e[k5]||e["@@iterator"],typeof e=="function"?e:null)}var TA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FA=Object.assign,kA={};function gc(e,t,n){this.props=e,this.context=t,this.refs=kA,this.updater=n||TA}gc.prototype.isReactComponent={};gc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _A(){}_A.prototype=gc.prototype;function z2(e,t,n){this.props=e,this.context=t,this.refs=kA,this.updater=n||TA}var H2=z2.prototype=new _A;H2.constructor=z2;FA(H2,gc.prototype);H2.isPureReactComponent=!0;var _5=Array.isArray,EA=Object.prototype.hasOwnProperty,q2={current:null},LA={key:!0,ref:!0,__self:!0,__source:!0};function MA(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)EA.call(t,r)&&!LA.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ch,type:e,key:a,ref:o,props:i,_owner:q2.current}}function C_(e,t){return{$$typeof:ch,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function G2(e){return typeof e=="object"&&e!==null&&e.$$typeof===ch}function O_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var E5=/\/+/g;function Wv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?O_(""+e.key):t.toString(36)}function Zp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ch:case g_:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Wv(o,0):r,_5(i)?(n="",e!=null&&(n=e.replace(E5,"$&/")+"/"),Zp(i,t,n,"",function(c){return c})):i!=null&&(G2(i)&&(i=C_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E5,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",_5(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+Wv(a,s);o+=Zp(a,t,n,l,i)}else if(l=P_(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+Wv(a,s++),o+=Zp(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function mp(e,t,n){if(e==null)return e;var r=[],i=0;return Zp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function T_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Or={current:null},em={transition:null},F_={ReactCurrentDispatcher:Or,ReactCurrentBatchConfig:em,ReactCurrentOwner:q2};function DA(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:mp,forEach:function(e,t,n){mp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mp(e,function(){t++}),t},toArray:function(e){return mp(e,function(t){return t})||[]},only:function(e){if(!G2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};St.Component=gc;St.Fragment=v_;St.Profiler=x_;St.PureComponent=z2;St.StrictMode=y_;St.Suspense=N_;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F_;St.act=DA;St.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=FA({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=q2.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)EA.call(t,l)&&!LA.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:ch,type:e.type,key:i,ref:a,props:r,_owner:o}};St.createContext=function(e){return e={$$typeof:w_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b_,_context:e},e.Consumer=e};St.createElement=MA;St.createFactory=function(e){var t=MA.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:S_,render:e}};St.isValidElement=G2;St.lazy=function(e){return{$$typeof:A_,_payload:{_status:-1,_result:e},_init:T_}};St.memo=function(e,t){return{$$typeof:j_,type:e,compare:t===void 0?null:t}};St.startTransition=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}};St.unstable_act=DA;St.useCallback=function(e,t){return Or.current.useCallback(e,t)};St.useContext=function(e){return Or.current.useContext(e)};St.useDebugValue=function(){};St.useDeferredValue=function(e){return Or.current.useDeferredValue(e)};St.useEffect=function(e,t){return Or.current.useEffect(e,t)};St.useId=function(){return Or.current.useId()};St.useImperativeHandle=function(e,t,n){return Or.current.useImperativeHandle(e,t,n)};St.useInsertionEffect=function(e,t){return Or.current.useInsertionEffect(e,t)};St.useLayoutEffect=function(e,t){return Or.current.useLayoutEffect(e,t)};St.useMemo=function(e,t){return Or.current.useMemo(e,t)};St.useReducer=function(e,t,n){return Or.current.useReducer(e,t,n)};St.useRef=function(e){return Or.current.useRef(e)};St.useState=function(e){return Or.current.useState(e)};St.useSyncExternalStore=function(e,t,n){return Or.current.useSyncExternalStore(e,t,n)};St.useTransition=function(){return Or.current.useTransition()};St.version="18.3.1";OA.exports=St;var se=OA.exports;const ge=Rt(se),k_=p_({__proto__:null,default:ge},[se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __=se,E_=Symbol.for("react.element"),L_=Symbol.for("react.fragment"),M_=Object.prototype.hasOwnProperty,D_=__.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I_={key:!0,ref:!0,__self:!0,__source:!0};function IA(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)M_.call(t,r)&&!I_.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:E_,type:e,key:a,ref:o,props:i,_owner:D_.current}}Ig.Fragment=L_;Ig.jsx=IA;Ig.jsxs=IA;CA.exports=Ig;var u=CA.exports,r1={},$A={exports:{}},li={},RA={exports:{}},BA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,z){var Y=W.length;W.push(z);e:for(;0<Y;){var re=Y-1>>>1,E=W[re];if(0<i(E,z))W[re]=z,W[Y]=E,Y=re;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var z=W[0],Y=W.pop();if(Y!==z){W[0]=Y;e:for(var re=0,E=W.length,R=E>>>1;re<R;){var q=2*(re+1)-1,ee=W[q],H=q+1,te=W[H];if(0>i(ee,Y))H<E&&0>i(te,ee)?(W[re]=te,W[H]=Y,re=H):(W[re]=ee,W[q]=Y,re=q);else if(H<E&&0>i(te,Y))W[re]=te,W[H]=Y,re=H;else break e}}return z}function i(W,z){var Y=W.sortIndex-z.sortIndex;return Y!==0?Y:W.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],h=1,f=null,p=3,d=!1,m=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=W)r(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(c)}}function A(W){if(g=!1,x(W),!m)if(n(l)!==null)m=!0,D(N);else{var z=n(c);z!==null&&$(A,z.startTime-W)}}function N(W,z){m=!1,g&&(g=!1,b(C),C=-1),d=!0;var Y=p;try{for(x(z),f=n(l);f!==null&&(!(f.expirationTime>z)||W&&!O());){var re=f.callback;if(typeof re=="function"){f.callback=null,p=f.priorityLevel;var E=re(f.expirationTime<=z);z=e.unstable_now(),typeof E=="function"?f.callback=E:f===n(l)&&r(l),x(z)}else r(l);f=n(l)}if(f!==null)var R=!0;else{var q=n(c);q!==null&&$(A,q.startTime-z),R=!1}return R}finally{f=null,p=Y,d=!1}}var P=!1,j=null,C=-1,_=5,M=-1;function O(){return!(e.unstable_now()-M<_)}function T(){if(j!==null){var W=e.unstable_now();M=W;var z=!0;try{z=j(!0,W)}finally{z?I():(P=!1,j=null)}}else P=!1}var I;if(typeof y=="function")I=function(){y(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=T,I=function(){U.postMessage(null)}}else I=function(){w(T,0)};function D(W){j=W,P||(P=!0,I())}function $(W,z){C=w(function(){W(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,D(N))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var Y=p;p=z;try{return W()}finally{p=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=p;p=W;try{return z()}finally{p=Y}},e.unstable_scheduleCallback=function(W,z,Y){var re=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,W){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Y+E,W={id:h++,callback:z,priorityLevel:W,startTime:Y,expirationTime:E,sortIndex:-1},Y>re?(W.sortIndex=Y,t(c,W),n(l)===null&&W===n(c)&&(g?(b(C),C=-1):g=!0,$(A,Y-re))):(W.sortIndex=E,t(l,W),m||d||(m=!0,D(N))),W},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(W){var z=p;return function(){var Y=p;p=z;try{return W.apply(this,arguments)}finally{p=Y}}}})(BA);RA.exports=BA;var $_=RA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_=se,oi=$_;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WA=new Set,of={};function Sl(e,t){Bu(e,t),Bu(e+"Capture",t)}function Bu(e,t){for(of[e]=t,e=0;e<t.length;e++)WA.add(t[e])}var oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i1=Object.prototype.hasOwnProperty,B_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L5={},M5={};function W_(e){return i1.call(M5,e)?!0:i1.call(L5,e)?!1:B_.test(e)?M5[e]=!0:(L5[e]=!0,!1)}function U_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z_(e,t,n,r){if(t===null||typeof t>"u"||U_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tr(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rr[e]=new Tr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rr[t]=new Tr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rr[e]=new Tr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rr[e]=new Tr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rr[e]=new Tr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rr[e]=new Tr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rr[e]=new Tr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rr[e]=new Tr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rr[e]=new Tr(e,5,!1,e.toLowerCase(),null,!1,!1)});var V2=/[\-:]([a-z])/g;function K2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V2,K2);rr[t]=new Tr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V2,K2);rr[t]=new Tr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V2,K2);rr[t]=new Tr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rr[e]=new Tr(e,1,!1,e.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rr[e]=new Tr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y2(e,t,n,r){var i=rr.hasOwnProperty(t)?rr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(z_(t,n,i,r)&&(n=null),r||i===null?W_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mo=R_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gp=Symbol.for("react.element"),gu=Symbol.for("react.portal"),vu=Symbol.for("react.fragment"),X2=Symbol.for("react.strict_mode"),a1=Symbol.for("react.profiler"),UA=Symbol.for("react.provider"),zA=Symbol.for("react.context"),J2=Symbol.for("react.forward_ref"),o1=Symbol.for("react.suspense"),s1=Symbol.for("react.suspense_list"),Q2=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),HA=Symbol.for("react.offscreen"),D5=Symbol.iterator;function cd(e){return e===null||typeof e!="object"?null:(e=D5&&e[D5]||e["@@iterator"],typeof e=="function"?e:null)}var ln=Object.assign,Uv;function Ld(e){if(Uv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uv=t&&t[1]||""}return`
`+Uv+e}var zv=!1;function Hv(e,t){if(!e||zv)return"";zv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{zv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ld(e):""}function H_(e){switch(e.tag){case 5:return Ld(e.type);case 16:return Ld("Lazy");case 13:return Ld("Suspense");case 19:return Ld("SuspenseList");case 0:case 2:case 15:return e=Hv(e.type,!1),e;case 11:return e=Hv(e.type.render,!1),e;case 1:return e=Hv(e.type,!0),e;default:return""}}function l1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vu:return"Fragment";case gu:return"Portal";case a1:return"Profiler";case X2:return"StrictMode";case o1:return"Suspense";case s1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zA:return(e.displayName||"Context")+".Consumer";case UA:return(e._context.displayName||"Context")+".Provider";case J2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q2:return t=e.displayName||null,t!==null?t:l1(e.type)||"Memo";case Ro:t=e._payload,e=e._init;try{return l1(e(t))}catch{}}return null}function q_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l1(t);case 8:return t===X2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ls(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G_(e){var t=qA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vp(e){e._valueTracker||(e._valueTracker=G_(e))}function GA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function u1(e,t){var n=t.checked;return ln({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function I5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ls(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VA(e,t){t=t.checked,t!=null&&Y2(e,"checked",t,!1)}function c1(e,t){VA(e,t);var n=ls(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?d1(e,t.type,n):t.hasOwnProperty("defaultValue")&&d1(e,t.type,ls(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function d1(e,t,n){(t!=="number"||fm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Md=Array.isArray;function ku(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ls(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function f1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return ln({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function R5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(We(92));if(Md(n)){if(1<n.length)throw Error(We(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ls(n)}}function KA(e,t){var n=ls(t.value),r=ls(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function B5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function h1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yp,XA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yp=yp||document.createElement("div"),yp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V_=["Webkit","ms","Moz","O"];Object.keys(Rd).forEach(function(e){V_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rd[t]=Rd[e]})});function JA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rd.hasOwnProperty(e)&&Rd[e]?(""+t).trim():t+"px"}function QA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var K_=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function p1(e,t){if(t){if(K_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function m1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g1=null;function Z2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v1=null,_u=null,Eu=null;function W5(e){if(e=hh(e)){if(typeof v1!="function")throw Error(We(280));var t=e.stateNode;t&&(t=Ug(t),v1(e.stateNode,e.type,t))}}function ZA(e){_u?Eu?Eu.push(e):Eu=[e]:_u=e}function eP(){if(_u){var e=_u,t=Eu;if(Eu=_u=null,W5(e),t)for(e=0;e<t.length;e++)W5(t[e])}}function tP(e,t){return e(t)}function nP(){}var qv=!1;function rP(e,t,n){if(qv)return e(t,n);qv=!0;try{return tP(e,t,n)}finally{qv=!1,(_u!==null||Eu!==null)&&(nP(),eP())}}function lf(e,t){var n=e.stateNode;if(n===null)return null;var r=Ug(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(We(231,t,typeof n));return n}var y1=!1;if(oo)try{var dd={};Object.defineProperty(dd,"passive",{get:function(){y1=!0}}),window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{y1=!1}function Y_(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Bd=!1,hm=null,pm=!1,x1=null,X_={onError:function(e){Bd=!0,hm=e}};function J_(e,t,n,r,i,a,o,s,l){Bd=!1,hm=null,Y_.apply(X_,arguments)}function Q_(e,t,n,r,i,a,o,s,l){if(J_.apply(this,arguments),Bd){if(Bd){var c=hm;Bd=!1,hm=null}else throw Error(We(198));pm||(pm=!0,x1=c)}}function Nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U5(e){if(Nl(e)!==e)throw Error(We(188))}function Z_(e){var t=e.alternate;if(!t){if(t=Nl(e),t===null)throw Error(We(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return U5(i),e;if(a===r)return U5(i),t;a=a.sibling}throw Error(We(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(We(189))}}if(n.alternate!==r)throw Error(We(190))}if(n.tag!==3)throw Error(We(188));return n.stateNode.current===n?e:t}function aP(e){return e=Z_(e),e!==null?oP(e):null}function oP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oP(e);if(t!==null)return t;e=e.sibling}return null}var sP=oi.unstable_scheduleCallback,z5=oi.unstable_cancelCallback,eE=oi.unstable_shouldYield,tE=oi.unstable_requestPaint,xn=oi.unstable_now,nE=oi.unstable_getCurrentPriorityLevel,eb=oi.unstable_ImmediatePriority,lP=oi.unstable_UserBlockingPriority,mm=oi.unstable_NormalPriority,rE=oi.unstable_LowPriority,uP=oi.unstable_IdlePriority,$g=null,Oa=null;function iE(e){if(Oa&&typeof Oa.onCommitFiberRoot=="function")try{Oa.onCommitFiberRoot($g,e,void 0,(e.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:sE,aE=Math.log,oE=Math.LN2;function sE(e){return e>>>=0,e===0?32:31-(aE(e)/oE|0)|0}var xp=64,bp=4194304;function Dd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Dd(s):(a&=o,a!==0&&(r=Dd(a)))}else o=n&~i,o!==0?r=Dd(o):a!==0&&(r=Dd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-aa(t),i=1<<n,r|=e[n],t&=~i;return r}function lE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-aa(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=lE(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function b1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cP(){var e=xp;return xp<<=1,!(xp&4194240)&&(xp=64),e}function Gv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-aa(t),e[t]=n}function cE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-aa(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function tb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-aa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $t=0;function dP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fP,nb,hP,pP,mP,w1=!1,wp=[],Jo=null,Qo=null,Zo=null,uf=new Map,cf=new Map,Uo=[],dE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H5(e,t){switch(e){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Zo=null;break;case"pointerover":case"pointerout":uf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cf.delete(t.pointerId)}}function fd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=hh(t),t!==null&&nb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fE(e,t,n,r,i){switch(t){case"focusin":return Jo=fd(Jo,e,t,n,r,i),!0;case"dragenter":return Qo=fd(Qo,e,t,n,r,i),!0;case"mouseover":return Zo=fd(Zo,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return uf.set(a,fd(uf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,cf.set(a,fd(cf.get(a)||null,e,t,n,r,i)),!0}return!1}function gP(e){var t=qs(e.target);if(t!==null){var n=Nl(t);if(n!==null){if(t=n.tag,t===13){if(t=iP(n),t!==null){e.blockedOn=t,mP(e.priority,function(){hP(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=S1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);g1=r,n.target.dispatchEvent(r),g1=null}else return t=hh(n),t!==null&&nb(t),e.blockedOn=n,!1;t.shift()}return!0}function q5(e,t,n){tm(e)&&n.delete(t)}function hE(){w1=!1,Jo!==null&&tm(Jo)&&(Jo=null),Qo!==null&&tm(Qo)&&(Qo=null),Zo!==null&&tm(Zo)&&(Zo=null),uf.forEach(q5),cf.forEach(q5)}function hd(e,t){e.blockedOn===t&&(e.blockedOn=null,w1||(w1=!0,oi.unstable_scheduleCallback(oi.unstable_NormalPriority,hE)))}function df(e){function t(i){return hd(i,e)}if(0<wp.length){hd(wp[0],e);for(var n=1;n<wp.length;n++){var r=wp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jo!==null&&hd(Jo,e),Qo!==null&&hd(Qo,e),Zo!==null&&hd(Zo,e),uf.forEach(t),cf.forEach(t),n=0;n<Uo.length;n++)r=Uo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Uo.length&&(n=Uo[0],n.blockedOn===null);)gP(n),n.blockedOn===null&&Uo.shift()}var Lu=mo.ReactCurrentBatchConfig,vm=!0;function pE(e,t,n,r){var i=$t,a=Lu.transition;Lu.transition=null;try{$t=1,rb(e,t,n,r)}finally{$t=i,Lu.transition=a}}function mE(e,t,n,r){var i=$t,a=Lu.transition;Lu.transition=null;try{$t=4,rb(e,t,n,r)}finally{$t=i,Lu.transition=a}}function rb(e,t,n,r){if(vm){var i=S1(e,t,n,r);if(i===null)ny(e,t,r,ym,n),H5(e,r);else if(fE(i,e,t,n,r))r.stopPropagation();else if(H5(e,r),t&4&&-1<dE.indexOf(e)){for(;i!==null;){var a=hh(i);if(a!==null&&fP(a),a=S1(e,t,n,r),a===null&&ny(e,t,r,ym,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ny(e,t,r,null,n)}}var ym=null;function S1(e,t,n,r){if(ym=null,e=Z2(r),e=qs(e),e!==null)if(t=Nl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ym=e,null}function vP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nE()){case eb:return 1;case lP:return 4;case mm:case rE:return 16;case uP:return 536870912;default:return 16}default:return 16}}var Go=null,ib=null,nm=null;function yP(){if(nm)return nm;var e,t=ib,n=t.length,r,i="value"in Go?Go.value:Go.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return nm=i.slice(e,1<r?1-r:void 0)}function rm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sp(){return!0}function G5(){return!1}function ui(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sp:G5,this.isPropagationStopped=G5,this}return ln(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),t}var vc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ab=ui(vc),fh=ln({},vc,{view:0,detail:0}),gE=ui(fh),Vv,Kv,pd,Rg=ln({},fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ob,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pd&&(pd&&e.type==="mousemove"?(Vv=e.screenX-pd.screenX,Kv=e.screenY-pd.screenY):Kv=Vv=0,pd=e),Vv)},movementY:function(e){return"movementY"in e?e.movementY:Kv}}),V5=ui(Rg),vE=ln({},Rg,{dataTransfer:0}),yE=ui(vE),xE=ln({},fh,{relatedTarget:0}),Yv=ui(xE),bE=ln({},vc,{animationName:0,elapsedTime:0,pseudoElement:0}),wE=ui(bE),SE=ln({},vc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NE=ui(SE),jE=ln({},vc,{data:0}),K5=ui(jE),AE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CE[e])?!!t[e]:!1}function ob(){return OE}var TE=ln({},fh,{key:function(e){if(e.key){var t=AE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ob,charCode:function(e){return e.type==="keypress"?rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FE=ui(TE),kE=ln({},Rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y5=ui(kE),_E=ln({},fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ob}),EE=ui(_E),LE=ln({},vc,{propertyName:0,elapsedTime:0,pseudoElement:0}),ME=ui(LE),DE=ln({},Rg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IE=ui(DE),$E=[9,13,27,32],sb=oo&&"CompositionEvent"in window,Wd=null;oo&&"documentMode"in document&&(Wd=document.documentMode);var RE=oo&&"TextEvent"in window&&!Wd,xP=oo&&(!sb||Wd&&8<Wd&&11>=Wd),X5=" ",J5=!1;function bP(e,t){switch(e){case"keyup":return $E.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yu=!1;function BE(e,t){switch(e){case"compositionend":return wP(t);case"keypress":return t.which!==32?null:(J5=!0,X5);case"textInput":return e=t.data,e===X5&&J5?null:e;default:return null}}function WE(e,t){if(yu)return e==="compositionend"||!sb&&bP(e,t)?(e=yP(),nm=ib=Go=null,yu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xP&&t.locale!=="ko"?null:t.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UE[e.type]:t==="textarea"}function SP(e,t,n,r){ZA(r),t=xm(t,"onChange"),0<t.length&&(n=new ab("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ud=null,ff=null;function zE(e){EP(e,0)}function Bg(e){var t=wu(e);if(GA(t))return e}function HE(e,t){if(e==="change")return t}var NP=!1;if(oo){var Xv;if(oo){var Jv="oninput"in document;if(!Jv){var Z5=document.createElement("div");Z5.setAttribute("oninput","return;"),Jv=typeof Z5.oninput=="function"}Xv=Jv}else Xv=!1;NP=Xv&&(!document.documentMode||9<document.documentMode)}function eS(){Ud&&(Ud.detachEvent("onpropertychange",jP),ff=Ud=null)}function jP(e){if(e.propertyName==="value"&&Bg(ff)){var t=[];SP(t,ff,e,Z2(e)),rP(zE,t)}}function qE(e,t,n){e==="focusin"?(eS(),Ud=t,ff=n,Ud.attachEvent("onpropertychange",jP)):e==="focusout"&&eS()}function GE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bg(ff)}function VE(e,t){if(e==="click")return Bg(t)}function KE(e,t){if(e==="input"||e==="change")return Bg(t)}function YE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sa=typeof Object.is=="function"?Object.is:YE;function hf(e,t){if(sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!i1.call(t,i)||!sa(e[i],t[i]))return!1}return!0}function tS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nS(e,t){var n=tS(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tS(n)}}function AP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?AP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PP(){for(var e=window,t=fm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fm(e.document)}return t}function lb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XE(e){var t=PP(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&AP(n.ownerDocument.documentElement,n)){if(r!==null&&lb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=nS(n,a);var o=nS(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JE=oo&&"documentMode"in document&&11>=document.documentMode,xu=null,N1=null,zd=null,j1=!1;function rS(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;j1||xu==null||xu!==fm(r)||(r=xu,"selectionStart"in r&&lb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zd&&hf(zd,r)||(zd=r,r=xm(N1,"onSelect"),0<r.length&&(t=new ab("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xu)))}function Np(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bu={animationend:Np("Animation","AnimationEnd"),animationiteration:Np("Animation","AnimationIteration"),animationstart:Np("Animation","AnimationStart"),transitionend:Np("Transition","TransitionEnd")},Qv={},CP={};oo&&(CP=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function Wg(e){if(Qv[e])return Qv[e];if(!bu[e])return e;var t=bu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in CP)return Qv[e]=t[n];return e}var OP=Wg("animationend"),TP=Wg("animationiteration"),FP=Wg("animationstart"),kP=Wg("transitionend"),_P=new Map,iS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(e,t){_P.set(e,t),Sl(t,[e])}for(var Zv=0;Zv<iS.length;Zv++){var ey=iS[Zv],QE=ey.toLowerCase(),ZE=ey[0].toUpperCase()+ey.slice(1);hs(QE,"on"+ZE)}hs(OP,"onAnimationEnd");hs(TP,"onAnimationIteration");hs(FP,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(kP,"onTransitionEnd");Bu("onMouseEnter",["mouseout","mouseover"]);Bu("onMouseLeave",["mouseout","mouseover"]);Bu("onPointerEnter",["pointerout","pointerover"]);Bu("onPointerLeave",["pointerout","pointerover"]);Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));function aS(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Q_(r,t,void 0,e),e.currentTarget=null}function EP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;aS(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;aS(i,s,c),a=l}}}if(pm)throw e=x1,pm=!1,x1=null,e}function Jt(e,t){var n=t[T1];n===void 0&&(n=t[T1]=new Set);var r=e+"__bubble";n.has(r)||(LP(t,e,2,!1),n.add(r))}function ty(e,t,n){var r=0;t&&(r|=4),LP(n,e,r,t)}var jp="_reactListening"+Math.random().toString(36).slice(2);function pf(e){if(!e[jp]){e[jp]=!0,WA.forEach(function(n){n!=="selectionchange"&&(eL.has(n)||ty(n,!1,e),ty(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jp]||(t[jp]=!0,ty("selectionchange",!1,t))}}function LP(e,t,n,r){switch(vP(t)){case 1:var i=pE;break;case 4:i=mE;break;default:i=rb}n=i.bind(null,t,n,e),i=void 0,!y1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ny(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=qs(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}rP(function(){var c=a,h=Z2(n),f=[];e:{var p=_P.get(e);if(p!==void 0){var d=ab,m=e;switch(e){case"keypress":if(rm(n)===0)break e;case"keydown":case"keyup":d=FE;break;case"focusin":m="focus",d=Yv;break;case"focusout":m="blur",d=Yv;break;case"beforeblur":case"afterblur":d=Yv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=V5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=yE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=EE;break;case OP:case TP:case FP:d=wE;break;case kP:d=ME;break;case"scroll":d=gE;break;case"wheel":d=IE;break;case"copy":case"cut":case"paste":d=NE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Y5}var g=(t&4)!==0,w=!g&&e==="scroll",b=g?p!==null?p+"Capture":null:p;g=[];for(var y=c,x;y!==null;){x=y;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,b!==null&&(A=lf(y,b),A!=null&&g.push(mf(y,A,x)))),w)break;y=y.return}0<g.length&&(p=new d(p,m,null,n,h),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",p&&n!==g1&&(m=n.relatedTarget||n.fromElement)&&(qs(m)||m[so]))break e;if((d||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=c,m=m?qs(m):null,m!==null&&(w=Nl(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=c),d!==m)){if(g=V5,A="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Y5,A="onPointerLeave",b="onPointerEnter",y="pointer"),w=d==null?p:wu(d),x=m==null?p:wu(m),p=new g(A,y+"leave",d,n,h),p.target=w,p.relatedTarget=x,A=null,qs(h)===c&&(g=new g(b,y+"enter",m,n,h),g.target=x,g.relatedTarget=w,A=g),w=A,d&&m)t:{for(g=d,b=m,y=0,x=g;x;x=iu(x))y++;for(x=0,A=b;A;A=iu(A))x++;for(;0<y-x;)g=iu(g),y--;for(;0<x-y;)b=iu(b),x--;for(;y--;){if(g===b||b!==null&&g===b.alternate)break t;g=iu(g),b=iu(b)}g=null}else g=null;d!==null&&oS(f,p,d,g,!1),m!==null&&w!==null&&oS(f,w,m,g,!0)}}e:{if(p=c?wu(c):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var N=HE;else if(Q5(p))if(NP)N=KE;else{N=GE;var P=qE}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=VE);if(N&&(N=N(e,c))){SP(f,N,n,h);break e}P&&P(e,p,c),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&d1(p,"number",p.value)}switch(P=c?wu(c):window,e){case"focusin":(Q5(P)||P.contentEditable==="true")&&(xu=P,N1=c,zd=null);break;case"focusout":zd=N1=xu=null;break;case"mousedown":j1=!0;break;case"contextmenu":case"mouseup":case"dragend":j1=!1,rS(f,n,h);break;case"selectionchange":if(JE)break;case"keydown":case"keyup":rS(f,n,h)}var j;if(sb)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else yu?bP(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(xP&&n.locale!=="ko"&&(yu||C!=="onCompositionStart"?C==="onCompositionEnd"&&yu&&(j=yP()):(Go=h,ib="value"in Go?Go.value:Go.textContent,yu=!0)),P=xm(c,C),0<P.length&&(C=new K5(C,e,null,n,h),f.push({event:C,listeners:P}),j?C.data=j:(j=wP(n),j!==null&&(C.data=j)))),(j=RE?BE(e,n):WE(e,n))&&(c=xm(c,"onBeforeInput"),0<c.length&&(h=new K5("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=j))}EP(f,t)})}function mf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=lf(e,n),a!=null&&r.unshift(mf(e,a,i)),a=lf(e,t),a!=null&&r.push(mf(e,a,i))),e=e.return}return r}function iu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oS(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=lf(n,a),l!=null&&o.unshift(mf(n,l,s))):i||(l=lf(n,a),l!=null&&o.push(mf(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tL=/\r\n?/g,nL=/\u0000|\uFFFD/g;function sS(e){return(typeof e=="string"?e:""+e).replace(tL,`
`).replace(nL,"")}function Ap(e,t,n){if(t=sS(t),sS(e)!==t&&n)throw Error(We(425))}function bm(){}var A1=null,P1=null;function C1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O1=typeof setTimeout=="function"?setTimeout:void 0,rL=typeof clearTimeout=="function"?clearTimeout:void 0,lS=typeof Promise=="function"?Promise:void 0,iL=typeof queueMicrotask=="function"?queueMicrotask:typeof lS<"u"?function(e){return lS.resolve(null).then(e).catch(aL)}:O1;function aL(e){setTimeout(function(){throw e})}function ry(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),df(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);df(t)}function es(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yc=Math.random().toString(36).slice(2),Aa="__reactFiber$"+yc,gf="__reactProps$"+yc,so="__reactContainer$"+yc,T1="__reactEvents$"+yc,oL="__reactListeners$"+yc,sL="__reactHandles$"+yc;function qs(e){var t=e[Aa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[so]||n[Aa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uS(e);e!==null;){if(n=e[Aa])return n;e=uS(e)}return t}e=n,n=e.parentNode}return null}function hh(e){return e=e[Aa]||e[so],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function Ug(e){return e[gf]||null}var F1=[],Su=-1;function ps(e){return{current:e}}function tn(e){0>Su||(e.current=F1[Su],F1[Su]=null,Su--)}function Xt(e,t){Su++,F1[Su]=e.current,e.current=t}var us={},br=ps(us),Rr=ps(!1),dl=us;function Wu(e,t){var n=e.type.contextTypes;if(!n)return us;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Br(e){return e=e.childContextTypes,e!=null}function wm(){tn(Rr),tn(br)}function cS(e,t,n){if(br.current!==us)throw Error(We(168));Xt(br,t),Xt(Rr,n)}function MP(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(We(108,q_(e)||"Unknown",i));return ln({},n,r)}function Sm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||us,dl=br.current,Xt(br,e),Xt(Rr,Rr.current),!0}function dS(e,t,n){var r=e.stateNode;if(!r)throw Error(We(169));n?(e=MP(e,t,dl),r.__reactInternalMemoizedMergedChildContext=e,tn(Rr),tn(br),Xt(br,e)):tn(Rr),Xt(Rr,n)}var Xa=null,zg=!1,iy=!1;function DP(e){Xa===null?Xa=[e]:Xa.push(e)}function lL(e){zg=!0,DP(e)}function ms(){if(!iy&&Xa!==null){iy=!0;var e=0,t=$t;try{var n=Xa;for($t=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xa=null,zg=!1}catch(i){throw Xa!==null&&(Xa=Xa.slice(e+1)),sP(eb,ms),i}finally{$t=t,iy=!1}}return null}var Nu=[],ju=0,Nm=null,jm=0,wi=[],Si=0,fl=null,Ja=1,Qa="";function Ds(e,t){Nu[ju++]=jm,Nu[ju++]=Nm,Nm=e,jm=t}function IP(e,t,n){wi[Si++]=Ja,wi[Si++]=Qa,wi[Si++]=fl,fl=e;var r=Ja;e=Qa;var i=32-aa(r)-1;r&=~(1<<i),n+=1;var a=32-aa(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ja=1<<32-aa(t)+i|n<<i|r,Qa=a+e}else Ja=1<<a|n<<i|r,Qa=e}function ub(e){e.return!==null&&(Ds(e,1),IP(e,1,0))}function cb(e){for(;e===Nm;)Nm=Nu[--ju],Nu[ju]=null,jm=Nu[--ju],Nu[ju]=null;for(;e===fl;)fl=wi[--Si],wi[Si]=null,Qa=wi[--Si],wi[Si]=null,Ja=wi[--Si],wi[Si]=null}var ai=null,ri=null,nn=!1,ea=null;function $P(e,t){var n=Ni(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ai=e,ri=es(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ai=e,ri=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fl!==null?{id:Ja,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ni(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ai=e,ri=null,!0):!1;default:return!1}}function k1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _1(e){if(nn){var t=ri;if(t){var n=t;if(!fS(e,t)){if(k1(e))throw Error(We(418));t=es(n.nextSibling);var r=ai;t&&fS(e,t)?$P(r,n):(e.flags=e.flags&-4097|2,nn=!1,ai=e)}}else{if(k1(e))throw Error(We(418));e.flags=e.flags&-4097|2,nn=!1,ai=e}}}function hS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ai=e}function Pp(e){if(e!==ai)return!1;if(!nn)return hS(e),nn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!C1(e.type,e.memoizedProps)),t&&(t=ri)){if(k1(e))throw RP(),Error(We(418));for(;t;)$P(e,t),t=es(t.nextSibling)}if(hS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ri=es(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ri=null}}else ri=ai?es(e.stateNode.nextSibling):null;return!0}function RP(){for(var e=ri;e;)e=es(e.nextSibling)}function Uu(){ri=ai=null,nn=!1}function db(e){ea===null?ea=[e]:ea.push(e)}var uL=mo.ReactCurrentBatchConfig;function md(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(We(309));var r=n.stateNode}if(!r)throw Error(We(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(We(284));if(!n._owner)throw Error(We(290,e))}return e}function Cp(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pS(e){var t=e._init;return t(e._payload)}function BP(e){function t(b,y){if(e){var x=b.deletions;x===null?(b.deletions=[y],b.flags|=16):x.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=is(b,y),b.index=0,b.sibling=null,b}function a(b,y,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<y?(b.flags|=2,y):x):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function s(b,y,x,A){return y===null||y.tag!==6?(y=dy(x,b.mode,A),y.return=b,y):(y=i(y,x),y.return=b,y)}function l(b,y,x,A){var N=x.type;return N===vu?h(b,y,x.props.children,A,x.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ro&&pS(N)===y.type)?(A=i(y,x.props),A.ref=md(b,y,x),A.return=b,A):(A=cm(x.type,x.key,x.props,null,b.mode,A),A.ref=md(b,y,x),A.return=b,A)}function c(b,y,x,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=fy(x,b.mode,A),y.return=b,y):(y=i(y,x.children||[]),y.return=b,y)}function h(b,y,x,A,N){return y===null||y.tag!==7?(y=tl(x,b.mode,A,N),y.return=b,y):(y=i(y,x),y.return=b,y)}function f(b,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=dy(""+y,b.mode,x),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gp:return x=cm(y.type,y.key,y.props,null,b.mode,x),x.ref=md(b,null,y),x.return=b,x;case gu:return y=fy(y,b.mode,x),y.return=b,y;case Ro:var A=y._init;return f(b,A(y._payload),x)}if(Md(y)||cd(y))return y=tl(y,b.mode,x,null),y.return=b,y;Cp(b,y)}return null}function p(b,y,x,A){var N=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:s(b,y,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gp:return x.key===N?l(b,y,x,A):null;case gu:return x.key===N?c(b,y,x,A):null;case Ro:return N=x._init,p(b,y,N(x._payload),A)}if(Md(x)||cd(x))return N!==null?null:h(b,y,x,A,null);Cp(b,x)}return null}function d(b,y,x,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(x)||null,s(y,b,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case gp:return b=b.get(A.key===null?x:A.key)||null,l(y,b,A,N);case gu:return b=b.get(A.key===null?x:A.key)||null,c(y,b,A,N);case Ro:var P=A._init;return d(b,y,x,P(A._payload),N)}if(Md(A)||cd(A))return b=b.get(x)||null,h(y,b,A,N,null);Cp(y,A)}return null}function m(b,y,x,A){for(var N=null,P=null,j=y,C=y=0,_=null;j!==null&&C<x.length;C++){j.index>C?(_=j,j=null):_=j.sibling;var M=p(b,j,x[C],A);if(M===null){j===null&&(j=_);break}e&&j&&M.alternate===null&&t(b,j),y=a(M,y,C),P===null?N=M:P.sibling=M,P=M,j=_}if(C===x.length)return n(b,j),nn&&Ds(b,C),N;if(j===null){for(;C<x.length;C++)j=f(b,x[C],A),j!==null&&(y=a(j,y,C),P===null?N=j:P.sibling=j,P=j);return nn&&Ds(b,C),N}for(j=r(b,j);C<x.length;C++)_=d(j,b,C,x[C],A),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?C:_.key),y=a(_,y,C),P===null?N=_:P.sibling=_,P=_);return e&&j.forEach(function(O){return t(b,O)}),nn&&Ds(b,C),N}function g(b,y,x,A){var N=cd(x);if(typeof N!="function")throw Error(We(150));if(x=N.call(x),x==null)throw Error(We(151));for(var P=N=null,j=y,C=y=0,_=null,M=x.next();j!==null&&!M.done;C++,M=x.next()){j.index>C?(_=j,j=null):_=j.sibling;var O=p(b,j,M.value,A);if(O===null){j===null&&(j=_);break}e&&j&&O.alternate===null&&t(b,j),y=a(O,y,C),P===null?N=O:P.sibling=O,P=O,j=_}if(M.done)return n(b,j),nn&&Ds(b,C),N;if(j===null){for(;!M.done;C++,M=x.next())M=f(b,M.value,A),M!==null&&(y=a(M,y,C),P===null?N=M:P.sibling=M,P=M);return nn&&Ds(b,C),N}for(j=r(b,j);!M.done;C++,M=x.next())M=d(j,b,C,M.value,A),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?C:M.key),y=a(M,y,C),P===null?N=M:P.sibling=M,P=M);return e&&j.forEach(function(T){return t(b,T)}),nn&&Ds(b,C),N}function w(b,y,x,A){if(typeof x=="object"&&x!==null&&x.type===vu&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case gp:e:{for(var N=x.key,P=y;P!==null;){if(P.key===N){if(N=x.type,N===vu){if(P.tag===7){n(b,P.sibling),y=i(P,x.props.children),y.return=b,b=y;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ro&&pS(N)===P.type){n(b,P.sibling),y=i(P,x.props),y.ref=md(b,P,x),y.return=b,b=y;break e}n(b,P);break}else t(b,P);P=P.sibling}x.type===vu?(y=tl(x.props.children,b.mode,A,x.key),y.return=b,b=y):(A=cm(x.type,x.key,x.props,null,b.mode,A),A.ref=md(b,y,x),A.return=b,b=A)}return o(b);case gu:e:{for(P=x.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(b,y.sibling),y=i(y,x.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else t(b,y);y=y.sibling}y=fy(x,b.mode,A),y.return=b,b=y}return o(b);case Ro:return P=x._init,w(b,y,P(x._payload),A)}if(Md(x))return m(b,y,x,A);if(cd(x))return g(b,y,x,A);Cp(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,x),y.return=b,b=y):(n(b,y),y=dy(x,b.mode,A),y.return=b,b=y),o(b)):n(b,y)}return w}var zu=BP(!0),WP=BP(!1),Am=ps(null),Pm=null,Au=null,fb=null;function hb(){fb=Au=Pm=null}function pb(e){var t=Am.current;tn(Am),e._currentValue=t}function E1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mu(e,t){Pm=e,fb=Au=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ir=!0),e.firstContext=null)}function Oi(e){var t=e._currentValue;if(fb!==e)if(e={context:e,memoizedValue:t,next:null},Au===null){if(Pm===null)throw Error(We(308));Au=e,Pm.dependencies={lanes:0,firstContext:e}}else Au=Au.next=e;return t}var Gs=null;function mb(e){Gs===null?Gs=[e]:Gs.push(e)}function UP(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,mb(t)):(n.next=i.next,i.next=n),t.interleaved=n,lo(e,r)}function lo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bo=!1;function gb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function no(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ts(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ct&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,lo(e,n)}return i=r.interleaved,i===null?(t.next=t,mb(r)):(t.next=i.next,i.next=t),r.interleaved=t,lo(e,n)}function im(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tb(e,n)}}function mS(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cm(e,t,n,r){var i=e.updateQueue;Bo=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==o&&(s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,h=c=l=null,s=a;do{var p=s.lane,d=s.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(p=t,d=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(d,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(d,f,p):m,p==null)break e;f=ln({},f,p);break e;case 2:Bo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else d={eventTime:d,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=d,l=f):h=h.next=d,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);pl|=o,e.lanes=o,e.memoizedState=f}}function gS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(We(191,i));i.call(r)}}}var ph={},Ta=ps(ph),vf=ps(ph),yf=ps(ph);function Vs(e){if(e===ph)throw Error(We(174));return e}function vb(e,t){switch(Xt(yf,t),Xt(vf,e),Xt(Ta,ph),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:h1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=h1(t,e)}tn(Ta),Xt(Ta,t)}function Hu(){tn(Ta),tn(vf),tn(yf)}function HP(e){Vs(yf.current);var t=Vs(Ta.current),n=h1(t,e.type);t!==n&&(Xt(vf,e),Xt(Ta,n))}function yb(e){vf.current===e&&(tn(Ta),tn(vf))}var on=ps(0);function Om(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ay=[];function xb(){for(var e=0;e<ay.length;e++)ay[e]._workInProgressVersionPrimary=null;ay.length=0}var am=mo.ReactCurrentDispatcher,oy=mo.ReactCurrentBatchConfig,hl=0,sn=null,Dn=null,Vn=null,Tm=!1,Hd=!1,xf=0,cL=0;function sr(){throw Error(We(321))}function bb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sa(e[n],t[n]))return!1;return!0}function wb(e,t,n,r,i,a){if(hl=a,sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,am.current=e===null||e.memoizedState===null?pL:mL,e=n(r,i),Hd){a=0;do{if(Hd=!1,xf=0,25<=a)throw Error(We(301));a+=1,Vn=Dn=null,t.updateQueue=null,am.current=gL,e=n(r,i)}while(Hd)}if(am.current=Fm,t=Dn!==null&&Dn.next!==null,hl=0,Vn=Dn=sn=null,Tm=!1,t)throw Error(We(300));return e}function Sb(){var e=xf!==0;return xf=0,e}function Na(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?sn.memoizedState=Vn=e:Vn=Vn.next=e,Vn}function Ti(){if(Dn===null){var e=sn.alternate;e=e!==null?e.memoizedState:null}else e=Dn.next;var t=Vn===null?sn.memoizedState:Vn.next;if(t!==null)Vn=t,Dn=e;else{if(e===null)throw Error(We(310));Dn=e,e={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Vn===null?sn.memoizedState=Vn=e:Vn=Vn.next=e}return Vn}function bf(e,t){return typeof t=="function"?t(e):t}function sy(e){var t=Ti(),n=t.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=e;var r=Dn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var h=c.lane;if((hl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,sn.lanes|=h,pl|=h}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,sa(r,t.memoizedState)||(Ir=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,sn.lanes|=a,pl|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ly(e){var t=Ti(),n=t.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);sa(a,t.memoizedState)||(Ir=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function qP(){}function GP(e,t){var n=sn,r=Ti(),i=t(),a=!sa(r.memoizedState,i);if(a&&(r.memoizedState=i,Ir=!0),r=r.queue,Nb(YP.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Vn!==null&&Vn.memoizedState.tag&1){if(n.flags|=2048,wf(9,KP.bind(null,n,r,i,t),void 0,null),Kn===null)throw Error(We(349));hl&30||VP(n,t,i)}return i}function VP(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KP(e,t,n,r){t.value=n,t.getSnapshot=r,XP(t)&&JP(e)}function YP(e,t,n){return n(function(){XP(t)&&JP(e)})}function XP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sa(e,n)}catch{return!0}}function JP(e){var t=lo(e,1);t!==null&&oa(t,e,1,-1)}function vS(e){var t=Na();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bf,lastRenderedState:e},t.queue=e,e=e.dispatch=hL.bind(null,sn,e),[t.memoizedState,e]}function wf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function QP(){return Ti().memoizedState}function om(e,t,n,r){var i=Na();sn.flags|=e,i.memoizedState=wf(1|t,n,void 0,r===void 0?null:r)}function Hg(e,t,n,r){var i=Ti();r=r===void 0?null:r;var a=void 0;if(Dn!==null){var o=Dn.memoizedState;if(a=o.destroy,r!==null&&bb(r,o.deps)){i.memoizedState=wf(t,n,a,r);return}}sn.flags|=e,i.memoizedState=wf(1|t,n,a,r)}function yS(e,t){return om(8390656,8,e,t)}function Nb(e,t){return Hg(2048,8,e,t)}function ZP(e,t){return Hg(4,2,e,t)}function eC(e,t){return Hg(4,4,e,t)}function tC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nC(e,t,n){return n=n!=null?n.concat([e]):null,Hg(4,4,tC.bind(null,t,e),n)}function jb(){}function rC(e,t){var n=Ti();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function iC(e,t){var n=Ti();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function aC(e,t,n){return hl&21?(sa(n,t)||(n=cP(),sn.lanes|=n,pl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ir=!0),e.memoizedState=n)}function dL(e,t){var n=$t;$t=n!==0&&4>n?n:4,e(!0);var r=oy.transition;oy.transition={};try{e(!1),t()}finally{$t=n,oy.transition=r}}function oC(){return Ti().memoizedState}function fL(e,t,n){var r=rs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sC(e))lC(t,n);else if(n=UP(e,t,n,r),n!==null){var i=Cr();oa(n,e,r,i),uC(n,t,r)}}function hL(e,t,n){var r=rs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sC(e))lC(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sa(s,o)){var l=t.interleaved;l===null?(i.next=i,mb(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=UP(e,t,i,r),n!==null&&(i=Cr(),oa(n,e,r,i),uC(n,t,r))}}function sC(e){var t=e.alternate;return e===sn||t!==null&&t===sn}function lC(e,t){Hd=Tm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tb(e,n)}}var Fm={readContext:Oi,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},pL={readContext:Oi,useCallback:function(e,t){return Na().memoizedState=[e,t===void 0?null:t],e},useContext:Oi,useEffect:yS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,om(4194308,4,tC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return om(4194308,4,e,t)},useInsertionEffect:function(e,t){return om(4,2,e,t)},useMemo:function(e,t){var n=Na();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Na();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fL.bind(null,sn,e),[r.memoizedState,e]},useRef:function(e){var t=Na();return e={current:e},t.memoizedState=e},useState:vS,useDebugValue:jb,useDeferredValue:function(e){return Na().memoizedState=e},useTransition:function(){var e=vS(!1),t=e[0];return e=dL.bind(null,e[1]),Na().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sn,i=Na();if(nn){if(n===void 0)throw Error(We(407));n=n()}else{if(n=t(),Kn===null)throw Error(We(349));hl&30||VP(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,yS(YP.bind(null,r,a,e),[e]),r.flags|=2048,wf(9,KP.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Na(),t=Kn.identifierPrefix;if(nn){var n=Qa,r=Ja;n=(r&~(1<<32-aa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mL={readContext:Oi,useCallback:rC,useContext:Oi,useEffect:Nb,useImperativeHandle:nC,useInsertionEffect:ZP,useLayoutEffect:eC,useMemo:iC,useReducer:sy,useRef:QP,useState:function(){return sy(bf)},useDebugValue:jb,useDeferredValue:function(e){var t=Ti();return aC(t,Dn.memoizedState,e)},useTransition:function(){var e=sy(bf)[0],t=Ti().memoizedState;return[e,t]},useMutableSource:qP,useSyncExternalStore:GP,useId:oC,unstable_isNewReconciler:!1},gL={readContext:Oi,useCallback:rC,useContext:Oi,useEffect:Nb,useImperativeHandle:nC,useInsertionEffect:ZP,useLayoutEffect:eC,useMemo:iC,useReducer:ly,useRef:QP,useState:function(){return ly(bf)},useDebugValue:jb,useDeferredValue:function(e){var t=Ti();return Dn===null?t.memoizedState=e:aC(t,Dn.memoizedState,e)},useTransition:function(){var e=ly(bf)[0],t=Ti().memoizedState;return[e,t]},useMutableSource:qP,useSyncExternalStore:GP,useId:oC,unstable_isNewReconciler:!1};function Ki(e,t){if(e&&e.defaultProps){t=ln({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function L1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ln({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qg={isMounted:function(e){return(e=e._reactInternals)?Nl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cr(),i=rs(e),a=no(r,i);a.payload=t,n!=null&&(a.callback=n),t=ts(e,a,i),t!==null&&(oa(t,e,i,r),im(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cr(),i=rs(e),a=no(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ts(e,a,i),t!==null&&(oa(t,e,i,r),im(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cr(),r=rs(e),i=no(n,r);i.tag=2,t!=null&&(i.callback=t),t=ts(e,i,r),t!==null&&(oa(t,e,r,n),im(t,e,r))}};function xS(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!hf(n,r)||!hf(i,a):!0}function cC(e,t,n){var r=!1,i=us,a=t.contextType;return typeof a=="object"&&a!==null?a=Oi(a):(i=Br(t)?dl:br.current,r=t.contextTypes,a=(r=r!=null)?Wu(e,i):us),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function bS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qg.enqueueReplaceState(t,t.state,null)}function M1(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},gb(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Oi(a):(a=Br(t)?dl:br.current,i.context=Wu(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(L1(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qg.enqueueReplaceState(i,i.state,null),Cm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qu(e,t){try{var n="",r=t;do n+=H_(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function uy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function D1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vL=typeof WeakMap=="function"?WeakMap:Map;function dC(e,t,n){n=no(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_m||(_m=!0,G1=r),D1(e,t)},n}function fC(e,t,n){n=no(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){D1(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){D1(e,t),typeof r!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function wS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kL.bind(null,e,t,n),t.then(e,e))}function SS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NS(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=no(-1,1),t.tag=2,ts(n,t,1))),n.lanes|=1),e)}var yL=mo.ReactCurrentOwner,Ir=!1;function Ar(e,t,n,r){t.child=e===null?WP(t,null,n,r):zu(t,e.child,n,r)}function jS(e,t,n,r,i){n=n.render;var a=t.ref;return Mu(t,i),r=wb(e,t,n,r,a,i),n=Sb(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uo(e,t,i)):(nn&&n&&ub(t),t.flags|=1,Ar(e,t,r,i),t.child)}function AS(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!_b(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,hC(e,t,a,r,i)):(e=cm(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:hf,n(o,r)&&e.ref===t.ref)return uo(e,t,i)}return t.flags|=1,e=is(a,r),e.ref=t.ref,e.return=t,t.child=e}function hC(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(hf(a,r)&&e.ref===t.ref)if(Ir=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ir=!0);else return t.lanes=e.lanes,uo(e,t,i)}return I1(e,t,n,r,i)}function pC(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Cu,ei),ei|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(Cu,ei),ei|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Xt(Cu,ei),ei|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Xt(Cu,ei),ei|=r;return Ar(e,t,i,n),t.child}function mC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function I1(e,t,n,r,i){var a=Br(n)?dl:br.current;return a=Wu(t,a),Mu(t,i),n=wb(e,t,n,r,a,i),r=Sb(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uo(e,t,i)):(nn&&r&&ub(t),t.flags|=1,Ar(e,t,n,i),t.child)}function PS(e,t,n,r,i){if(Br(n)){var a=!0;Sm(t)}else a=!1;if(Mu(t,i),t.stateNode===null)sm(e,t),cC(t,n,r),M1(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Oi(c):(c=Br(n)?dl:br.current,c=Wu(t,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&bS(t,o,r,c),Bo=!1;var p=t.memoizedState;o.state=p,Cm(t,r,o,i),l=t.memoizedState,s!==r||p!==l||Rr.current||Bo?(typeof h=="function"&&(L1(t,n,h,r),l=t.memoizedState),(s=Bo||xS(t,n,s,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zP(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ki(t.type,s),o.props=c,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Oi(l):(l=Br(n)?dl:br.current,l=Wu(t,l));var d=n.getDerivedStateFromProps;(h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&bS(t,o,r,l),Bo=!1,p=t.memoizedState,o.state=p,Cm(t,r,o,i);var m=t.memoizedState;s!==f||p!==m||Rr.current||Bo?(typeof d=="function"&&(L1(t,n,d,r),m=t.memoizedState),(c=Bo||xS(t,n,c,r,p,m,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return $1(e,t,n,r,a,i)}function $1(e,t,n,r,i,a){mC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&dS(t,n,!1),uo(e,t,a);r=t.stateNode,yL.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zu(t,e.child,null,a),t.child=zu(t,null,s,a)):Ar(e,t,s,a),t.memoizedState=r.state,i&&dS(t,n,!0),t.child}function gC(e){var t=e.stateNode;t.pendingContext?cS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cS(e,t.context,!1),vb(e,t.containerInfo)}function CS(e,t,n,r,i){return Uu(),db(i),t.flags|=256,Ar(e,t,n,r),t.child}var R1={dehydrated:null,treeContext:null,retryLane:0};function B1(e){return{baseLanes:e,cachePool:null,transitions:null}}function vC(e,t,n){var r=t.pendingProps,i=on.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Xt(on,i&1),e===null)return _1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Kg(o,r,0,null),e=tl(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=B1(n),t.memoizedState=R1,e):Ab(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return xL(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=is(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=is(s,a):(a=tl(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?B1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=R1,r}return a=e.child,e=a.sibling,r=is(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ab(e,t){return t=Kg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Op(e,t,n,r){return r!==null&&db(r),zu(t,e.child,null,n),e=Ab(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xL(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=uy(Error(We(422))),Op(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Kg({mode:"visible",children:r.children},i,0,null),a=tl(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&zu(t,e.child,null,o),t.child.memoizedState=B1(o),t.memoizedState=R1,a);if(!(t.mode&1))return Op(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(We(419)),r=uy(a,r,void 0),Op(e,t,o,r)}if(s=(o&e.childLanes)!==0,Ir||s){if(r=Kn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,lo(e,i),oa(r,e,i,-1))}return kb(),r=uy(Error(We(421))),Op(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_L.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ri=es(i.nextSibling),ai=t,nn=!0,ea=null,e!==null&&(wi[Si++]=Ja,wi[Si++]=Qa,wi[Si++]=fl,Ja=e.id,Qa=e.overflow,fl=t),t=Ab(t,r.children),t.flags|=4096,t)}function OS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),E1(e.return,t,n)}function cy(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function yC(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ar(e,t,r.children,n),r=on.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&OS(e,n,t);else if(e.tag===19)OS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xt(on,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Om(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cy(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Om(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cy(t,!0,n,null,a);break;case"together":cy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function uo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,n=is(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=is(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bL(e,t,n){switch(t.tag){case 3:gC(t),Uu();break;case 5:HP(t);break;case 1:Br(t.type)&&Sm(t);break;case 4:vb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Xt(Am,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xt(on,on.current&1),t.flags|=128,null):n&t.child.childLanes?vC(e,t,n):(Xt(on,on.current&1),e=uo(e,t,n),e!==null?e.sibling:null);Xt(on,on.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt(on,on.current),r)break;return null;case 22:case 23:return t.lanes=0,pC(e,t,n)}return uo(e,t,n)}var xC,W1,bC,wC;xC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};W1=function(){};bC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vs(Ta.current);var a=null;switch(n){case"input":i=u1(e,i),r=u1(e,r),a=[];break;case"select":i=ln({},i,{value:void 0}),r=ln({},r,{value:void 0}),a=[];break;case"textarea":i=f1(e,i),r=f1(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bm)}p1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(of.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(of.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Jt("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};wC=function(e,t,n,r){n!==r&&(t.flags|=4)};function gd(e,t){if(!nn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wL(e,t,n){var r=t.pendingProps;switch(cb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(t),null;case 1:return Br(t.type)&&wm(),lr(t),null;case 3:return r=t.stateNode,Hu(),tn(Rr),tn(br),xb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ea!==null&&(Y1(ea),ea=null))),W1(e,t),lr(t),null;case 5:yb(t);var i=Vs(yf.current);if(n=t.type,e!==null&&t.stateNode!=null)bC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(We(166));return lr(t),null}if(e=Vs(Ta.current),Pp(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Aa]=t,r[gf]=a,e=(t.mode&1)!==0,n){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(i=0;i<Id.length;i++)Jt(Id[i],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":I5(r,a),Jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Jt("invalid",r);break;case"textarea":R5(r,a),Jt("invalid",r)}p1(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Ap(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Ap(r.textContent,s,e),i=["children",""+s]):of.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Jt("scroll",r)}switch(n){case"input":vp(r),$5(r,a,!0);break;case"textarea":vp(r),B5(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Aa]=t,e[gf]=r,xC(e,t,!1,!1),t.stateNode=e;e:{switch(o=m1(n,r),n){case"dialog":Jt("cancel",e),Jt("close",e),i=r;break;case"iframe":case"object":case"embed":Jt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Id.length;i++)Jt(Id[i],e);i=r;break;case"source":Jt("error",e),i=r;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),i=r;break;case"details":Jt("toggle",e),i=r;break;case"input":I5(e,r),i=u1(e,r),Jt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ln({},r,{value:void 0}),Jt("invalid",e);break;case"textarea":R5(e,r),i=f1(e,r),Jt("invalid",e);break;default:i=r}p1(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?QA(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XA(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sf(e,l):typeof l=="number"&&sf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(of.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Jt("scroll",e):l!=null&&Y2(e,a,l,o))}switch(n){case"input":vp(e),$5(e,r,!1);break;case"textarea":vp(e),B5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ls(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ku(e,!!r.multiple,a,!1):r.defaultValue!=null&&ku(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lr(t),null;case 6:if(e&&t.stateNode!=null)wC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(We(166));if(n=Vs(yf.current),Vs(Ta.current),Pp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Aa]=t,(a=r.nodeValue!==n)&&(e=ai,e!==null))switch(e.tag){case 3:Ap(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ap(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Aa]=t,t.stateNode=r}return lr(t),null;case 13:if(tn(on),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nn&&ri!==null&&t.mode&1&&!(t.flags&128))RP(),Uu(),t.flags|=98560,a=!1;else if(a=Pp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(We(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(We(317));a[Aa]=t}else Uu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lr(t),a=!1}else ea!==null&&(Y1(ea),ea=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||on.current&1?$n===0&&($n=3):kb())),t.updateQueue!==null&&(t.flags|=4),lr(t),null);case 4:return Hu(),W1(e,t),e===null&&pf(t.stateNode.containerInfo),lr(t),null;case 10:return pb(t.type._context),lr(t),null;case 17:return Br(t.type)&&wm(),lr(t),null;case 19:if(tn(on),a=t.memoizedState,a===null)return lr(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)gd(a,!1);else{if($n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Om(e),o!==null){for(t.flags|=128,gd(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xt(on,on.current&1|2),t.child}e=e.sibling}a.tail!==null&&xn()>Gu&&(t.flags|=128,r=!0,gd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Om(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!nn)return lr(t),null}else 2*xn()-a.renderingStartTime>Gu&&n!==1073741824&&(t.flags|=128,r=!0,gd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xn(),t.sibling=null,n=on.current,Xt(on,r?n&1|2:n&1),t):(lr(t),null);case 22:case 23:return Fb(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ei&1073741824&&(lr(t),t.subtreeFlags&6&&(t.flags|=8192)):lr(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function SL(e,t){switch(cb(t),t.tag){case 1:return Br(t.type)&&wm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hu(),tn(Rr),tn(br),xb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yb(t),null;case 13:if(tn(on),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));Uu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tn(on),null;case 4:return Hu(),null;case 10:return pb(t.type._context),null;case 22:case 23:return Fb(),null;case 24:return null;default:return null}}var Tp=!1,gr=!1,NL=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Pu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pn(e,t,r)}else n.current=null}function U1(e,t,n){try{n()}catch(r){pn(e,t,r)}}var TS=!1;function jL(e,t){if(A1=vm,e=PP(),lb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,h=0,f=e,p=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)p=f,f=d;for(;;){if(f===e)break t;if(p===n&&++c===i&&(s=o),p===a&&++h===r&&(l=o),(d=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=d}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P1={focusedElem:e,selectionRange:n},vm=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){t=Je;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,w=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ki(t.type,g),w);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(A){pn(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}return m=TS,TS=!1,m}function qd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&U1(t,n,a)}i=i.next}while(i!==r)}}function Gg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function z1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function SC(e){var t=e.alternate;t!==null&&(e.alternate=null,SC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Aa],delete t[gf],delete t[T1],delete t[oL],delete t[sL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NC(e){return e.tag===5||e.tag===3||e.tag===4}function FS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function H1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bm));else if(r!==4&&(e=e.child,e!==null))for(H1(e,t,n),e=e.sibling;e!==null;)H1(e,t,n),e=e.sibling}function q1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(q1(e,t,n),e=e.sibling;e!==null;)q1(e,t,n),e=e.sibling}var er=null,Ji=!1;function Eo(e,t,n){for(n=n.child;n!==null;)jC(e,t,n),n=n.sibling}function jC(e,t,n){if(Oa&&typeof Oa.onCommitFiberUnmount=="function")try{Oa.onCommitFiberUnmount($g,n)}catch{}switch(n.tag){case 5:gr||Pu(n,t);case 6:var r=er,i=Ji;er=null,Eo(e,t,n),er=r,Ji=i,er!==null&&(Ji?(e=er,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):er.removeChild(n.stateNode));break;case 18:er!==null&&(Ji?(e=er,n=n.stateNode,e.nodeType===8?ry(e.parentNode,n):e.nodeType===1&&ry(e,n),df(e)):ry(er,n.stateNode));break;case 4:r=er,i=Ji,er=n.stateNode.containerInfo,Ji=!0,Eo(e,t,n),er=r,Ji=i;break;case 0:case 11:case 14:case 15:if(!gr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&U1(n,t,o),i=i.next}while(i!==r)}Eo(e,t,n);break;case 1:if(!gr&&(Pu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){pn(n,t,s)}Eo(e,t,n);break;case 21:Eo(e,t,n);break;case 22:n.mode&1?(gr=(r=gr)||n.memoizedState!==null,Eo(e,t,n),gr=r):Eo(e,t,n);break;default:Eo(e,t,n)}}function kS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new NL),t.forEach(function(r){var i=EL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:er=s.stateNode,Ji=!1;break e;case 3:er=s.stateNode.containerInfo,Ji=!0;break e;case 4:er=s.stateNode.containerInfo,Ji=!0;break e}s=s.return}if(er===null)throw Error(We(160));jC(a,o,i),er=null,Ji=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){pn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)AC(t,e),t=t.sibling}function AC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hi(t,e),ba(e),r&4){try{qd(3,e,e.return),Gg(3,e)}catch(g){pn(e,e.return,g)}try{qd(5,e,e.return)}catch(g){pn(e,e.return,g)}}break;case 1:Hi(t,e),ba(e),r&512&&n!==null&&Pu(n,n.return);break;case 5:if(Hi(t,e),ba(e),r&512&&n!==null&&Pu(n,n.return),e.flags&32){var i=e.stateNode;try{sf(i,"")}catch(g){pn(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&VA(i,a),m1(s,o);var c=m1(s,a);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?QA(i,f):h==="dangerouslySetInnerHTML"?XA(i,f):h==="children"?sf(i,f):Y2(i,h,f,c)}switch(s){case"input":c1(i,a);break;case"textarea":KA(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?ku(i,!!a.multiple,d,!1):p!==!!a.multiple&&(a.defaultValue!=null?ku(i,!!a.multiple,a.defaultValue,!0):ku(i,!!a.multiple,a.multiple?[]:"",!1))}i[gf]=a}catch(g){pn(e,e.return,g)}}break;case 6:if(Hi(t,e),ba(e),r&4){if(e.stateNode===null)throw Error(We(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){pn(e,e.return,g)}}break;case 3:if(Hi(t,e),ba(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{df(t.containerInfo)}catch(g){pn(e,e.return,g)}break;case 4:Hi(t,e),ba(e);break;case 13:Hi(t,e),ba(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ob=xn())),r&4&&kS(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(gr=(c=gr)||h,Hi(t,e),gr=c):Hi(t,e),ba(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(Je=e,h=e.child;h!==null;){for(f=Je=h;Je!==null;){switch(p=Je,d=p.child,p.tag){case 0:case 11:case 14:case 15:qd(4,p,p.return);break;case 1:Pu(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){pn(r,n,g)}}break;case 5:Pu(p,p.return);break;case 22:if(p.memoizedState!==null){ES(f);continue}}d!==null?(d.return=p,Je=d):ES(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=JA("display",o))}catch(g){pn(e,e.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){pn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hi(t,e),ba(e),r&4&&kS(e);break;case 21:break;default:Hi(t,e),ba(e)}}function ba(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(NC(n)){var r=n;break e}n=n.return}throw Error(We(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sf(i,""),r.flags&=-33);var a=FS(e);q1(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=FS(e);H1(e,s,o);break;default:throw Error(We(161))}}catch(l){pn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AL(e,t,n){Je=e,PC(e)}function PC(e,t,n){for(var r=(e.mode&1)!==0;Je!==null;){var i=Je,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Tp;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||gr;s=Tp;var c=gr;if(Tp=o,(gr=l)&&!c)for(Je=i;Je!==null;)o=Je,l=o.child,o.tag===22&&o.memoizedState!==null?LS(i):l!==null?(l.return=o,Je=l):LS(i);for(;a!==null;)Je=a,PC(a),a=a.sibling;Je=i,Tp=s,gr=c}_S(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Je=a):_S(e)}}function _S(e){for(;Je!==null;){var t=Je;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gr||Gg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gS(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gS(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&df(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}gr||t.flags&512&&z1(t)}catch(p){pn(t,t.return,p)}}if(t===e){Je=null;break}if(n=t.sibling,n!==null){n.return=t.return,Je=n;break}Je=t.return}}function ES(e){for(;Je!==null;){var t=Je;if(t===e){Je=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Je=n;break}Je=t.return}}function LS(e){for(;Je!==null;){var t=Je;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gg(4,t)}catch(l){pn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){pn(t,i,l)}}var a=t.return;try{z1(t)}catch(l){pn(t,a,l)}break;case 5:var o=t.return;try{z1(t)}catch(l){pn(t,o,l)}}}catch(l){pn(t,t.return,l)}if(t===e){Je=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Je=s;break}Je=t.return}}var PL=Math.ceil,km=mo.ReactCurrentDispatcher,Pb=mo.ReactCurrentOwner,Ai=mo.ReactCurrentBatchConfig,Ct=0,Kn=null,Fn=null,nr=0,ei=0,Cu=ps(0),$n=0,Sf=null,pl=0,Vg=0,Cb=0,Gd=null,Dr=null,Ob=0,Gu=1/0,Ya=null,_m=!1,G1=null,ns=null,Fp=!1,Vo=null,Em=0,Vd=0,V1=null,lm=-1,um=0;function Cr(){return Ct&6?xn():lm!==-1?lm:lm=xn()}function rs(e){return e.mode&1?Ct&2&&nr!==0?nr&-nr:uL.transition!==null?(um===0&&(um=cP()),um):(e=$t,e!==0||(e=window.event,e=e===void 0?16:vP(e.type)),e):1}function oa(e,t,n,r){if(50<Vd)throw Vd=0,V1=null,Error(We(185));dh(e,n,r),(!(Ct&2)||e!==Kn)&&(e===Kn&&(!(Ct&2)&&(Vg|=n),$n===4&&zo(e,nr)),Wr(e,r),n===1&&Ct===0&&!(t.mode&1)&&(Gu=xn()+500,zg&&ms()))}function Wr(e,t){var n=e.callbackNode;uE(e,t);var r=gm(e,e===Kn?nr:0);if(r===0)n!==null&&z5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&z5(n),t===1)e.tag===0?lL(MS.bind(null,e)):DP(MS.bind(null,e)),iL(function(){!(Ct&6)&&ms()}),n=null;else{switch(dP(r)){case 1:n=eb;break;case 4:n=lP;break;case 16:n=mm;break;case 536870912:n=uP;break;default:n=mm}n=LC(n,CC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function CC(e,t){if(lm=-1,um=0,Ct&6)throw Error(We(327));var n=e.callbackNode;if(Du()&&e.callbackNode!==n)return null;var r=gm(e,e===Kn?nr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lm(e,r);else{t=r;var i=Ct;Ct|=2;var a=TC();(Kn!==e||nr!==t)&&(Ya=null,Gu=xn()+500,el(e,t));do try{TL();break}catch(s){OC(e,s)}while(!0);hb(),km.current=a,Ct=i,Fn!==null?t=0:(Kn=null,nr=0,t=$n)}if(t!==0){if(t===2&&(i=b1(e),i!==0&&(r=i,t=K1(e,i))),t===1)throw n=Sf,el(e,0),zo(e,r),Wr(e,xn()),n;if(t===6)zo(e,r);else{if(i=e.current.alternate,!(r&30)&&!CL(i)&&(t=Lm(e,r),t===2&&(a=b1(e),a!==0&&(r=a,t=K1(e,a))),t===1))throw n=Sf,el(e,0),zo(e,r),Wr(e,xn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(We(345));case 2:Is(e,Dr,Ya);break;case 3:if(zo(e,r),(r&130023424)===r&&(t=Ob+500-xn(),10<t)){if(gm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Cr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=O1(Is.bind(null,e,Dr,Ya),t);break}Is(e,Dr,Ya);break;case 4:if(zo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-aa(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PL(r/1960))-r,10<r){e.timeoutHandle=O1(Is.bind(null,e,Dr,Ya),r);break}Is(e,Dr,Ya);break;case 5:Is(e,Dr,Ya);break;default:throw Error(We(329))}}}return Wr(e,xn()),e.callbackNode===n?CC.bind(null,e):null}function K1(e,t){var n=Gd;return e.current.memoizedState.isDehydrated&&(el(e,t).flags|=256),e=Lm(e,t),e!==2&&(t=Dr,Dr=n,t!==null&&Y1(t)),e}function Y1(e){Dr===null?Dr=e:Dr.push.apply(Dr,e)}function CL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sa(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zo(e,t){for(t&=~Cb,t&=~Vg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-aa(t),r=1<<n;e[n]=-1,t&=~r}}function MS(e){if(Ct&6)throw Error(We(327));Du();var t=gm(e,0);if(!(t&1))return Wr(e,xn()),null;var n=Lm(e,t);if(e.tag!==0&&n===2){var r=b1(e);r!==0&&(t=r,n=K1(e,r))}if(n===1)throw n=Sf,el(e,0),zo(e,t),Wr(e,xn()),n;if(n===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e,Dr,Ya),Wr(e,xn()),null}function Tb(e,t){var n=Ct;Ct|=1;try{return e(t)}finally{Ct=n,Ct===0&&(Gu=xn()+500,zg&&ms())}}function ml(e){Vo!==null&&Vo.tag===0&&!(Ct&6)&&Du();var t=Ct;Ct|=1;var n=Ai.transition,r=$t;try{if(Ai.transition=null,$t=1,e)return e()}finally{$t=r,Ai.transition=n,Ct=t,!(Ct&6)&&ms()}}function Fb(){ei=Cu.current,tn(Cu)}function el(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rL(n)),Fn!==null)for(n=Fn.return;n!==null;){var r=n;switch(cb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wm();break;case 3:Hu(),tn(Rr),tn(br),xb();break;case 5:yb(r);break;case 4:Hu();break;case 13:tn(on);break;case 19:tn(on);break;case 10:pb(r.type._context);break;case 22:case 23:Fb()}n=n.return}if(Kn=e,Fn=e=is(e.current,null),nr=ei=t,$n=0,Sf=null,Cb=Vg=pl=0,Dr=Gd=null,Gs!==null){for(t=0;t<Gs.length;t++)if(n=Gs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Gs=null}return e}function OC(e,t){do{var n=Fn;try{if(hb(),am.current=Fm,Tm){for(var r=sn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tm=!1}if(hl=0,Vn=Dn=sn=null,Hd=!1,xf=0,Pb.current=null,n===null||n.return===null){$n=1,Sf=t,Fn=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=nr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=s,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=SS(o);if(d!==null){d.flags&=-257,NS(d,o,s,a,t),d.mode&1&&wS(a,c,t),t=d,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){wS(a,c,t),kb();break e}l=Error(We(426))}}else if(nn&&s.mode&1){var w=SS(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),NS(w,o,s,a,t),db(qu(l,s));break e}}a=l=qu(l,s),$n!==4&&($n=2),Gd===null?Gd=[a]:Gd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=dC(a,l,t);mS(a,b);break e;case 1:s=l;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ns===null||!ns.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var A=fC(a,s,t);mS(a,A);break e}}a=a.return}while(a!==null)}kC(n)}catch(N){t=N,Fn===n&&n!==null&&(Fn=n=n.return);continue}break}while(!0)}function TC(){var e=km.current;return km.current=Fm,e===null?Fm:e}function kb(){($n===0||$n===3||$n===2)&&($n=4),Kn===null||!(pl&268435455)&&!(Vg&268435455)||zo(Kn,nr)}function Lm(e,t){var n=Ct;Ct|=2;var r=TC();(Kn!==e||nr!==t)&&(Ya=null,el(e,t));do try{OL();break}catch(i){OC(e,i)}while(!0);if(hb(),Ct=n,km.current=r,Fn!==null)throw Error(We(261));return Kn=null,nr=0,$n}function OL(){for(;Fn!==null;)FC(Fn)}function TL(){for(;Fn!==null&&!eE();)FC(Fn)}function FC(e){var t=EC(e.alternate,e,ei);e.memoizedProps=e.pendingProps,t===null?kC(e):Fn=t,Pb.current=null}function kC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=SL(n,t),n!==null){n.flags&=32767,Fn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$n=6,Fn=null;return}}else if(n=wL(n,t,ei),n!==null){Fn=n;return}if(t=t.sibling,t!==null){Fn=t;return}Fn=t=e}while(t!==null);$n===0&&($n=5)}function Is(e,t,n){var r=$t,i=Ai.transition;try{Ai.transition=null,$t=1,FL(e,t,n,r)}finally{Ai.transition=i,$t=r}return null}function FL(e,t,n,r){do Du();while(Vo!==null);if(Ct&6)throw Error(We(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(cE(e,a),e===Kn&&(Fn=Kn=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fp||(Fp=!0,LC(mm,function(){return Du(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ai.transition,Ai.transition=null;var o=$t;$t=1;var s=Ct;Ct|=4,Pb.current=null,jL(e,n),AC(n,e),XE(P1),vm=!!A1,P1=A1=null,e.current=n,AL(n),tE(),Ct=s,$t=o,Ai.transition=a}else e.current=n;if(Fp&&(Fp=!1,Vo=e,Em=i),a=e.pendingLanes,a===0&&(ns=null),iE(n.stateNode),Wr(e,xn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_m)throw _m=!1,e=G1,G1=null,e;return Em&1&&e.tag!==0&&Du(),a=e.pendingLanes,a&1?e===V1?Vd++:(Vd=0,V1=e):Vd=0,ms(),null}function Du(){if(Vo!==null){var e=dP(Em),t=Ai.transition,n=$t;try{if(Ai.transition=null,$t=16>e?16:e,Vo===null)var r=!1;else{if(e=Vo,Vo=null,Em=0,Ct&6)throw Error(We(331));var i=Ct;for(Ct|=4,Je=e.current;Je!==null;){var a=Je,o=a.child;if(Je.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Je=c;Je!==null;){var h=Je;switch(h.tag){case 0:case 11:case 15:qd(8,h,a)}var f=h.child;if(f!==null)f.return=h,Je=f;else for(;Je!==null;){h=Je;var p=h.sibling,d=h.return;if(SC(h),h===c){Je=null;break}if(p!==null){p.return=d,Je=p;break}Je=d}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Je=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Je=o;else e:for(;Je!==null;){if(a=Je,a.flags&2048)switch(a.tag){case 0:case 11:case 15:qd(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Je=b;break e}Je=a.return}}var y=e.current;for(Je=y;Je!==null;){o=Je;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Je=x;else e:for(o=y;Je!==null;){if(s=Je,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Gg(9,s)}}catch(N){pn(s,s.return,N)}if(s===o){Je=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,Je=A;break e}Je=s.return}}if(Ct=i,ms(),Oa&&typeof Oa.onPostCommitFiberRoot=="function")try{Oa.onPostCommitFiberRoot($g,e)}catch{}r=!0}return r}finally{$t=n,Ai.transition=t}}return!1}function DS(e,t,n){t=qu(n,t),t=dC(e,t,1),e=ts(e,t,1),t=Cr(),e!==null&&(dh(e,1,t),Wr(e,t))}function pn(e,t,n){if(e.tag===3)DS(e,e,n);else for(;t!==null;){if(t.tag===3){DS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))){e=qu(n,e),e=fC(t,e,1),t=ts(t,e,1),e=Cr(),t!==null&&(dh(t,1,e),Wr(t,e));break}}t=t.return}}function kL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Cr(),e.pingedLanes|=e.suspendedLanes&n,Kn===e&&(nr&n)===n&&($n===4||$n===3&&(nr&130023424)===nr&&500>xn()-Ob?el(e,0):Cb|=n),Wr(e,t)}function _C(e,t){t===0&&(e.mode&1?(t=bp,bp<<=1,!(bp&130023424)&&(bp=4194304)):t=1);var n=Cr();e=lo(e,t),e!==null&&(dh(e,t,n),Wr(e,n))}function _L(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_C(e,n)}function EL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(We(314))}r!==null&&r.delete(t),_C(e,n)}var EC;EC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rr.current)Ir=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ir=!1,bL(e,t,n);Ir=!!(e.flags&131072)}else Ir=!1,nn&&t.flags&1048576&&IP(t,jm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sm(e,t),e=t.pendingProps;var i=Wu(t,br.current);Mu(t,n),i=wb(null,t,r,e,i,n);var a=Sb();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Br(r)?(a=!0,Sm(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gb(t),i.updater=qg,t.stateNode=i,i._reactInternals=t,M1(t,r,e,n),t=$1(null,t,r,!0,a,n)):(t.tag=0,nn&&a&&ub(t),Ar(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sm(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ML(r),e=Ki(r,e),i){case 0:t=I1(null,t,r,e,n);break e;case 1:t=PS(null,t,r,e,n);break e;case 11:t=jS(null,t,r,e,n);break e;case 14:t=AS(null,t,r,Ki(r.type,e),n);break e}throw Error(We(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),I1(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),PS(e,t,r,i,n);case 3:e:{if(gC(t),e===null)throw Error(We(387));r=t.pendingProps,a=t.memoizedState,i=a.element,zP(e,t),Cm(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=qu(Error(We(423)),t),t=CS(e,t,r,n,i);break e}else if(r!==i){i=qu(Error(We(424)),t),t=CS(e,t,r,n,i);break e}else for(ri=es(t.stateNode.containerInfo.firstChild),ai=t,nn=!0,ea=null,n=WP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uu(),r===i){t=uo(e,t,n);break e}Ar(e,t,r,n)}t=t.child}return t;case 5:return HP(t),e===null&&_1(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,C1(r,i)?o=null:a!==null&&C1(r,a)&&(t.flags|=32),mC(e,t),Ar(e,t,o,n),t.child;case 6:return e===null&&_1(t),null;case 13:return vC(e,t,n);case 4:return vb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zu(t,null,r,n):Ar(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),jS(e,t,r,i,n);case 7:return Ar(e,t,t.pendingProps,n),t.child;case 8:return Ar(e,t,t.pendingProps.children,n),t.child;case 12:return Ar(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Xt(Am,r._currentValue),r._currentValue=o,a!==null)if(sa(a.value,o)){if(a.children===i.children&&!Rr.current){t=uo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=no(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),E1(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(We(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),E1(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ar(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Mu(t,n),i=Oi(i),r=r(i),t.flags|=1,Ar(e,t,r,n),t.child;case 14:return r=t.type,i=Ki(r,t.pendingProps),i=Ki(r.type,i),AS(e,t,r,i,n);case 15:return hC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),sm(e,t),t.tag=1,Br(r)?(e=!0,Sm(t)):e=!1,Mu(t,n),cC(t,r,i),M1(t,r,i,n),$1(null,t,r,!0,e,n);case 19:return yC(e,t,n);case 22:return pC(e,t,n)}throw Error(We(156,t.tag))};function LC(e,t){return sP(e,t)}function LL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(e,t,n,r){return new LL(e,t,n,r)}function _b(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ML(e){if(typeof e=="function")return _b(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J2)return 11;if(e===Q2)return 14}return 2}function is(e,t){var n=e.alternate;return n===null?(n=Ni(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cm(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")_b(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vu:return tl(n.children,i,a,t);case X2:o=8,i|=8;break;case a1:return e=Ni(12,n,t,i|2),e.elementType=a1,e.lanes=a,e;case o1:return e=Ni(13,n,t,i),e.elementType=o1,e.lanes=a,e;case s1:return e=Ni(19,n,t,i),e.elementType=s1,e.lanes=a,e;case HA:return Kg(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UA:o=10;break e;case zA:o=9;break e;case J2:o=11;break e;case Q2:o=14;break e;case Ro:o=16,r=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Ni(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function tl(e,t,n,r){return e=Ni(7,e,r,t),e.lanes=n,e}function Kg(e,t,n,r){return e=Ni(22,e,r,t),e.elementType=HA,e.lanes=n,e.stateNode={isHidden:!1},e}function dy(e,t,n){return e=Ni(6,e,null,t),e.lanes=n,e}function fy(e,t,n){return t=Ni(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DL(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gv(0),this.expirationTimes=Gv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Eb(e,t,n,r,i,a,o,s,l){return e=new DL(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ni(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gb(a),e}function IL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function MC(e){if(!e)return us;e=e._reactInternals;e:{if(Nl(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var n=e.type;if(Br(n))return MP(e,n,t)}return t}function DC(e,t,n,r,i,a,o,s,l){return e=Eb(n,r,!0,e,i,a,o,s,l),e.context=MC(null),n=e.current,r=Cr(),i=rs(n),a=no(r,i),a.callback=t??null,ts(n,a,i),e.current.lanes=i,dh(e,i,r),Wr(e,r),e}function Yg(e,t,n,r){var i=t.current,a=Cr(),o=rs(i);return n=MC(n),t.context===null?t.context=n:t.pendingContext=n,t=no(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ts(i,t,o),e!==null&&(oa(e,i,o,a),im(e,i,o)),o}function Mm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function IS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lb(e,t){IS(e,t),(e=e.alternate)&&IS(e,t)}function $L(){return null}var IC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mb(e){this._internalRoot=e}Xg.prototype.render=Mb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));Yg(e,t,null,null)};Xg.prototype.unmount=Mb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ml(function(){Yg(null,e,null,null)}),t[so]=null}};function Xg(e){this._internalRoot=e}Xg.prototype.unstable_scheduleHydration=function(e){if(e){var t=pP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Uo.length&&t!==0&&t<Uo[n].priority;n++);Uo.splice(n,0,e),n===0&&gP(e)}};function Db(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $S(){}function RL(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Mm(o);a.call(c)}}var o=DC(t,r,e,0,null,!1,!1,"",$S);return e._reactRootContainer=o,e[so]=o.current,pf(e.nodeType===8?e.parentNode:e),ml(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Mm(l);s.call(c)}}var l=Eb(e,0,!1,null,null,!1,!1,"",$S);return e._reactRootContainer=l,e[so]=l.current,pf(e.nodeType===8?e.parentNode:e),ml(function(){Yg(t,l,n,r)}),l}function Qg(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Mm(o);s.call(l)}}Yg(t,o,e,i)}else o=RL(n,t,e,i,r);return Mm(o)}fP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dd(t.pendingLanes);n!==0&&(tb(t,n|1),Wr(t,xn()),!(Ct&6)&&(Gu=xn()+500,ms()))}break;case 13:ml(function(){var r=lo(e,1);if(r!==null){var i=Cr();oa(r,e,1,i)}}),Lb(e,1)}};nb=function(e){if(e.tag===13){var t=lo(e,134217728);if(t!==null){var n=Cr();oa(t,e,134217728,n)}Lb(e,134217728)}};hP=function(e){if(e.tag===13){var t=rs(e),n=lo(e,t);if(n!==null){var r=Cr();oa(n,e,t,r)}Lb(e,t)}};pP=function(){return $t};mP=function(e,t){var n=$t;try{return $t=e,t()}finally{$t=n}};v1=function(e,t,n){switch(t){case"input":if(c1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ug(r);if(!i)throw Error(We(90));GA(r),c1(r,i)}}}break;case"textarea":KA(e,n);break;case"select":t=n.value,t!=null&&ku(e,!!n.multiple,t,!1)}};tP=Tb;nP=ml;var BL={usingClientEntryPoint:!1,Events:[hh,wu,Ug,ZA,eP,Tb]},vd={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WL={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aP(e),e===null?null:e.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||$L,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{$g=kp.inject(WL),Oa=kp}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BL;li.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Db(t))throw Error(We(200));return IL(e,t,null,n)};li.createRoot=function(e,t){if(!Db(e))throw Error(We(299));var n=!1,r="",i=IC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Eb(e,1,!1,null,null,n,!1,r,i),e[so]=t.current,pf(e.nodeType===8?e.parentNode:e),new Mb(t)};li.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=aP(t),e=e===null?null:e.stateNode,e};li.flushSync=function(e){return ml(e)};li.hydrate=function(e,t,n){if(!Jg(t))throw Error(We(200));return Qg(null,e,t,!0,n)};li.hydrateRoot=function(e,t,n){if(!Db(e))throw Error(We(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=IC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=DC(t,null,e,1,n??null,i,!1,a,o),e[so]=t.current,pf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xg(t)};li.render=function(e,t,n){if(!Jg(t))throw Error(We(200));return Qg(null,e,t,!1,n)};li.unmountComponentAtNode=function(e){if(!Jg(e))throw Error(We(40));return e._reactRootContainer?(ml(function(){Qg(null,null,e,!1,function(){e._reactRootContainer=null,e[so]=null})}),!0):!1};li.unstable_batchedUpdates=Tb;li.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jg(n))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return Qg(e,t,n,!1,r)};li.version="18.3.1-next-f1338f8080-20240426";function $C(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($C)}catch(e){console.error(e)}}$C(),$A.exports=li;var UL=$A.exports,RS=UL;r1.createRoot=RS.createRoot,r1.hydrateRoot=RS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(this,arguments)}var Ko;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ko||(Ko={}));const BS="popstate";function zL(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return X1("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:BC(i)}return qL(t,n,null,e)}function Bn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HL(){return Math.random().toString(36).substr(2,8)}function WS(e,t){return{usr:e.state,key:e.key,idx:t}}function X1(e,t,n,r){return n===void 0&&(n=null),Nf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xc(t):t,{state:n,key:t&&t.key||r||HL()})}function BC(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function qL(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Ko.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Nf({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){s=Ko.Pop;let w=h(),b=w==null?null:w-c;c=w,l&&l({action:s,location:g.location,delta:b})}function p(w,b){s=Ko.Push;let y=X1(g.location,w,b);c=h()+1;let x=WS(y,c),A=g.createHref(y);try{o.pushState(x,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(A)}a&&l&&l({action:s,location:g.location,delta:1})}function d(w,b){s=Ko.Replace;let y=X1(g.location,w,b);c=h();let x=WS(y,c),A=g.createHref(y);o.replaceState(x,"",A),a&&l&&l({action:s,location:g.location,delta:0})}function m(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:BC(w);return y=y.replace(/ $/,"%20"),Bn(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let g={get action(){return s},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(BS,f),l=w,()=>{i.removeEventListener(BS,f),l=null}},createHref(w){return t(i,w)},createURL:m,encodeLocation(w){let b=m(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:d,go(w){return o.go(w)}};return g}var US;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(US||(US={}));function GL(e,t,n){return n===void 0&&(n="/"),VL(e,t,n)}function VL(e,t,n,r){let i=typeof t=="string"?xc(t):t,a=zC(i.pathname||"/",n);if(a==null)return null;let o=WC(e);KL(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=oM(a);s=rM(o[l],c)}return s}function WC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Bn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=nl([r,l.relativePath]),h=n.concat(l);a.children&&a.children.length>0&&(Bn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),WC(a.children,t,h,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:tM(c,a.index),routesMeta:h})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of UC(a.path))i(a,o,l)}),t}function UC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=UC(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function KL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YL=/^:[\w-]+$/,XL=3,JL=2,QL=1,ZL=10,eM=-2,zS=e=>e==="*";function tM(e,t){let n=e.split("/"),r=n.length;return n.some(zS)&&(r+=eM),t&&(r+=JL),n.filter(i=>!zS(i)).reduce((i,a)=>i+(YL.test(a)?XL:a===""?QL:ZL),r)}function nM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rM(e,t,n){let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",f=iM({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:nl([a,f.pathname]),pathnameBase:fM(nl([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=nl([a,f.pathnameBase]))}return o}function iM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=aM(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:d}=h;if(p==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return d&&!m?c[p]=void 0:c[p]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function aM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),RC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function oM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return RC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xc(e):e;return{pathname:n?n.startsWith("/")?n:lM(n,t):t,search:hM(r),hash:pM(i)}}function lM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hy(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cM(e,t){let n=uM(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dM(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=xc(e):(i=Nf({},e),Bn(!i.pathname||!i.pathname.includes("?"),hy("?","pathname","search",i)),Bn(!i.pathname||!i.pathname.includes("#"),hy("#","pathname","hash",i)),Bn(!i.search||!i.search.includes("#"),hy("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}s=f>=0?t[f]:"/"}let l=sM(i,s),c=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const nl=e=>e.join("/").replace(/\/\/+/g,"/"),fM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const HC=["post","put","patch","delete"];new Set(HC);const gM=["get",...HC];new Set(gM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jf.apply(this,arguments)}const Ib=se.createContext(null),vM=se.createContext(null),Zg=se.createContext(null),e0=se.createContext(null),bc=se.createContext({outlet:null,matches:[],isDataRoute:!1}),qC=se.createContext(null);function t0(){return se.useContext(e0)!=null}function GC(){return t0()||Bn(!1),se.useContext(e0).location}function VC(e){se.useContext(Zg).static||se.useLayoutEffect(e)}function KC(){let{isDataRoute:e}=se.useContext(bc);return e?FM():yM()}function yM(){t0()||Bn(!1);let e=se.useContext(Ib),{basename:t,future:n,navigator:r}=se.useContext(Zg),{matches:i}=se.useContext(bc),{pathname:a}=GC(),o=JSON.stringify(cM(i,n.v7_relativeSplatPath)),s=se.useRef(!1);return VC(()=>{s.current=!0}),se.useCallback(function(c,h){if(h===void 0&&(h={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=dM(c,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:nl([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,o,a,e])}function xM(e,t){return bM(e,t)}function bM(e,t,n,r){t0()||Bn(!1);let{navigator:i}=se.useContext(Zg),{matches:a}=se.useContext(bc),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=GC(),h;if(t){var f;let w=typeof t=="string"?xc(t):t;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Bn(!1),h=w}else h=c;let p=h.pathname||"/",d=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");d="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=GL(e,{pathname:d}),g=AM(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:nl([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:nl([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return t&&g?se.createElement(e0.Provider,{value:{location:jf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ko.Pop}},g):g}function wM(){let e=TM(),t=mM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},t),n?se.createElement("pre",{style:i},n):null,null)}const SM=se.createElement(wM,null);class NM extends se.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?se.createElement(bc.Provider,{value:this.props.routeContext},se.createElement(qC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jM(e){let{routeContext:t,match:n,children:r}=e,i=se.useContext(Ib);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),se.createElement(bc.Provider,{value:t},r)}function AM(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let h=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);h>=0||Bn(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:d}=n,m=f.route.loader&&p[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let d,m=!1,g=null,w=null;n&&(d=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||SM,l&&(c<0&&p===0?(kM("route-fallback"),m=!0,w=null):c===p&&(m=!0,w=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,p+1)),y=()=>{let x;return d?x=g:m?x=w:f.route.Component?x=se.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,se.createElement(jM,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?se.createElement(NM,{location:n.location,revalidation:n.revalidation,component:g,error:d,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var YC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(YC||{}),XC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(XC||{});function PM(e){let t=se.useContext(Ib);return t||Bn(!1),t}function CM(e){let t=se.useContext(vM);return t||Bn(!1),t}function OM(e){let t=se.useContext(bc);return t||Bn(!1),t}function JC(e){let t=OM(),n=t.matches[t.matches.length-1];return n.route.id||Bn(!1),n.route.id}function TM(){var e;let t=se.useContext(qC),n=CM(),r=JC();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function FM(){let{router:e}=PM(YC.UseNavigateStable),t=JC(XC.UseNavigateStable),n=se.useRef(!1);return VC(()=>{n.current=!0}),se.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,jf({fromRouteId:t},a)))},[e,t])}const HS={};function kM(e,t,n){HS[e]||(HS[e]=!0)}function _M(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function J1(e){Bn(!1)}function EM(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ko.Pop,navigator:a,static:o=!1,future:s}=e;t0()&&Bn(!1);let l=t.replace(/^\/*/,"/"),c=se.useMemo(()=>({basename:l,navigator:a,static:o,future:jf({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=xc(r));let{pathname:h="/",search:f="",hash:p="",state:d=null,key:m="default"}=r,g=se.useMemo(()=>{let w=zC(h,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:d,key:m},navigationType:i}},[l,h,f,p,d,m,i]);return g==null?null:se.createElement(Zg.Provider,{value:c},se.createElement(e0.Provider,{children:n,value:g}))}function LM(e){let{children:t,location:n}=e;return xM(Q1(t),n)}new Promise(()=>{});function Q1(e,t){t===void 0&&(t=[]);let n=[];return se.Children.forEach(e,(r,i)=>{if(!se.isValidElement(r))return;let a=[...t,i];if(r.type===se.Fragment){n.push.apply(n,Q1(r.props.children,a));return}r.type!==J1&&Bn(!1),!r.props.index||!r.props.children||Bn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Q1(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const MM="6";try{window.__reactRouterVersion=MM}catch{}const DM="startTransition",qS=k_[DM];function IM(e){let{basename:t,children:n,future:r,window:i}=e,a=se.useRef();a.current==null&&(a.current=zL({window:i,v5Compat:!0}));let o=a.current,[s,l]=se.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=se.useCallback(f=>{c&&qS?qS(()=>l(f)):l(f)},[l,c]);return se.useLayoutEffect(()=>o.listen(h),[o,h]),se.useEffect(()=>_M(r),[r]),se.createElement(EM,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}var GS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(GS||(GS={}));var VS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(VS||(VS={}));const $M={},KS=e=>{let t;const n=new Set,r=(h,f)=>{const p=typeof h=="function"?h(t):h;if(!Object.is(p,t)){const d=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(m=>m(t,d))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{($M?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},RM=e=>e?KS(e):KS;var QC={exports:{}},ZC={},e6={exports:{}},t6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=se;function BM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WM=typeof Object.is=="function"?Object.is:BM,UM=Vu.useState,zM=Vu.useEffect,HM=Vu.useLayoutEffect,qM=Vu.useDebugValue;function GM(e,t){var n=t(),r=UM({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return HM(function(){i.value=n,i.getSnapshot=t,py(i)&&a({inst:i})},[e,n,t]),zM(function(){return py(i)&&a({inst:i}),e(function(){py(i)&&a({inst:i})})},[e]),qM(n),n}function py(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!WM(e,n)}catch{return!0}}function VM(e,t){return t()}var KM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VM:GM;t6.useSyncExternalStore=Vu.useSyncExternalStore!==void 0?Vu.useSyncExternalStore:KM;e6.exports=t6;var YM=e6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=se,XM=YM;function JM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QM=typeof Object.is=="function"?Object.is:JM,ZM=XM.useSyncExternalStore,e8=n0.useRef,t8=n0.useEffect,n8=n0.useMemo,r8=n0.useDebugValue;ZC.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=e8(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=n8(function(){function l(d){if(!c){if(c=!0,h=d,d=r(d),i!==void 0&&o.hasValue){var m=o.value;if(i(m,d))return f=m}return f=d}if(m=f,QM(h,d))return m;var g=r(d);return i!==void 0&&i(m,g)?(h=d,m):(h=d,f=g)}var c=!1,h,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var s=ZM(e,a[0],a[1]);return t8(function(){o.hasValue=!0,o.value=s},[s]),r8(s),s};QC.exports=ZC;var i8=QC.exports;const a8=Rt(i8),n6={},{useDebugValue:o8}=ge,{useSyncExternalStoreWithSelector:s8}=a8;let YS=!1;const l8=e=>e;function u8(e,t=l8,n){(n6?"production":void 0)!=="production"&&n&&!YS&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),YS=!0);const r=s8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return o8(r),r}const c8=e=>{(n6?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?RM(e):e,n=(r,i)=>u8(t,r,i);return Object.assign(n,t),n},$b=e=>c8,d8={};function f8(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=n.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const Af=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Af(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Af(r)(n)}}}},h8=(e,t)=>(n,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,b)=>({...b,...w}),...t},o=!1;const s=new Set,l=new Set;let c;try{c=a.getStorage()}catch{}if(!c)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=Af(a.serialize),f=()=>{const w=a.partialize({...r()});let b;const y=h({state:w,version:a.version}).then(x=>c.setItem(a.name,x)).catch(x=>{b=x});if(b)throw b;return y},p=i.setState;i.setState=(w,b)=>{p(w,b),f()};const d=e((...w)=>{n(...w),f()},r,i);let m;const g=()=>{var w;if(!c)return;o=!1,s.forEach(y=>y(r()));const b=((w=a.onRehydrateStorage)==null?void 0:w.call(a,r()))||void 0;return Af(c.getItem.bind(c))(a.name).then(y=>{if(y)return a.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return a.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var x;return m=a.merge(y,(x=r())!=null?x:d),n(m,!0),f()}).then(()=>{b==null||b(m,void 0),o=!0,l.forEach(y=>y(m))}).catch(y=>{b==null||b(void 0,y)})};return i.persist={setOptions:w=>{a={...a,...w},w.getStorage&&(c=w.getStorage())},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:w=>(s.add(w),()=>{s.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},g(),m||d},p8=(e,t)=>(n,r,i)=>{let a={storage:f8(()=>localStorage),partialize:g=>g,version:0,merge:(g,w)=>({...w,...g}),...t},o=!1;const s=new Set,l=new Set;let c=a.storage;if(!c)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...g)},r,i);const h=()=>{const g=a.partialize({...r()});return c.setItem(a.name,{state:g,version:a.version})},f=i.setState;i.setState=(g,w)=>{f(g,w),h()};const p=e((...g)=>{n(...g),h()},r,i);i.getInitialState=()=>p;let d;const m=()=>{var g,w;if(!c)return;o=!1,s.forEach(y=>{var x;return y((x=r())!=null?x:p)});const b=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(g=r())!=null?g:p))||void 0;return Af(c.getItem.bind(c))(a.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return[!0,a.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var x;const[A,N]=y;if(d=a.merge(N,(x=r())!=null?x:p),n(d,!0),A)return h()}).then(()=>{b==null||b(d,void 0),d=r(),o=!0,l.forEach(y=>y(d))}).catch(y=>{b==null||b(void 0,y)})};return i.persist={setOptions:g=>{a={...a,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(s.add(g),()=>{s.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},a.skipHydration||m(),d||p},m8=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((d8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),h8(e,t)):p8(e,t),Rb=m8,Ur=$b()(Rb(e=>({appFlow:{type:"welcome"},setAppFlow:t=>e({appFlow:t}),error:null,setError:t=>e({error:t}),isLoading:!1,setIsLoading:t=>e({isLoading:t}),foreFlightApiKey:localStorage.getItem("foreflight_api_key")||"X5MAN7e1gSjNVqfP7TnJdA8hQuOE9z",setForeFlightApiKey:t=>{t?localStorage.setItem("foreflight_api_key",t):localStorage.removeItem("foreflight_api_key"),e({foreFlightApiKey:t})}}),{name:"app-store",partialize:e=>({appFlow:e.appFlow,foreFlightApiKey:e.foreFlightApiKey})}));function r6(e){switch(e){case"withPods":return 60;case"withoutPods":return 40;case"drag102":return 20;default:const t=parseFloat(e);return isNaN(t)?40:t}}function mr(e){return e.no1+e.no2+e.no3+e.no4+e.lhAUX+e.rhAUX+e.lhEXT+e.rhEXT+(e.additionalTanks||0)}function g8(e){switch(e){case"taxi":return"Taxi";case"lrc970":return"LRC 970";case"lrc950":return"LRC 950 (3.5 Engine)";case"lrc1010":return"LRC 1010";case"lowNavigation":return"Low Navigation";case"shield":return"Shield";case"holding":return"Holding";case"airRefueling":return"Air Refueling";case"anchor":return"Anchor";default:return e}}var i6=(e=>(e.PLANNING="planning",e.READY="ready",e.COMPLETE="complete",e))(i6||{});function Kd(e){const t={tripFuel:0,finalHour:0,tripFuel10Percent:0,holding:3,unusable:1,total:0,spareFuel:0};t.tripFuel=e.legs.reduce((r,i)=>r+(i.fuelConsumed||0),0);const n=e.legs[e.legs.length-1];if(n&&n.segments.length>0){const i=(n.segments[n.segments.length-1].fuelConsumptionPerHour||0)/1e3;t.finalHour=i>=4?i:4}else t.finalHour=4;return e.configuration.landingInNegev?t.tripFuel10Percent=t.tripFuel*.1:t.tripFuel10Percent=(t.tripFuel+t.finalHour)*.1,t.total=t.tripFuel+t.finalHour+t.tripFuel10Percent+t.holding+t.unusable,t.spareFuel=e.configuration.fuelOnBoard-t.total,t}function XS(e){return{id:e,name:e,isActual:!1,note:"",coordinate:{latitude:0,longitude:0},heading:0,distance:0,distanceRemain:0,totalDistance:0,eet:0,toEET:0,eta:null,fob:0,fuelOnBoard:0,altitude:0,groundSpeed:0,trueAirSpeed:0,ias:0,wind:0,windVelocity:0,headTail:0,isa:0,temp:0,magDec:0,magHDG:0,velPlan:0}}function Bb(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function v8(){return{id:Bb(),tailNumber:void 0,zeroFuelWeight:85,fuelOnBoard:30,drag:"withoutPods",oddEven:"even",startTime:new Date,landingInNegev:!1}}function Z1(e="lrc970"){const t={id:Bb(),type:e,waitingMinutes:0,fuelChange:0,altitude:0,altitudeMode:"cc",wind:0,zfwChange:0,distance:0,isa:0,totalDistance:0,initialWeight:0,initialFuel:0,fuelConsumed:0,fuelRemaining:0,endOfFlightWeight:0,legDuration:0,totalDuration:0,tripFuel:0,segments:[],waypoints:[],fuelReads:[],requiredFinalHour:0,previousLegAltitude:0,previousLegSpeed:0,firstClimbLeg:!1,specialCondition:"normal"};return e==="lrc950"&&(t.fuelEfficiencyPercent=9),t}function JS(e){return{metadata:{id:Bb(),name:e,state:i6.PLANNING,createdAt:new Date,updatedAt:new Date},configuration:v8(),legs:[]}}function r0(e){let t=0,n=0,r=0,i=0;for(const s of e)r+=s.temp*s.distance,t+=s.distance,i+=s.headTail*s.distance,n+=s.distance;const a=t>0?r/t:0,o=n>0?i/n:0;return{isa:a,wind:o}}function y8(e,t,n){const r=e*Math.PI/180,i=n*Math.PI/180,o=r+Math.PI-i;return t*Math.cos(o)}function x8(e,t){const n=new Map;if(console.log(`
Mapping waypoints to segment [${e.startDistance}-${e.endDistance}]:`),console.log(`Total waypoints: ${t.length}`),t.length===1){const i=t[0];if(console.log(`  Single waypoint ${i.name}: covers entire leg, distance: ${i.distance}, ISA: ${i.temp}, Wind: ${i.headTail}`),e.endDistance>0){const a=e.endDistance-e.startDistance;console.log(`    -> Single waypoint covers entire segment: ${a} nm`),n.set(i,a)}return n}let r=0;for(let i=0;i<t.length;i++){const a=t[i],o=r,s=r+a.distance;console.log(`  Waypoint ${a.name}: range [${o}-${s}], distance: ${a.distance}, ISA: ${a.temp}, Wind: ${a.headTail}`);const l=e.startDistance,c=e.endDistance;if(s>l&&o<c){const h=Math.max(o,l),p=Math.min(s,c)-h;p>0&&(console.log(`    -> Overlaps with segment: ${p} nm`),n.set(a,p))}r+=a.distance}return console.log(`  Total waypoints overlapping: ${n.size}`),n}function b8(e,t){const n=x8(e,t),r=e.endDistance-e.startDistance;console.log(`
Calculating weighted averages for segment distance: ${r} nm`);let i=0,a=0;n.forEach((l,c)=>{const h=(c.temp||0)*l,f=(c.headTail||0)*l;console.log(`  ${c.name}: distance=${l}, temp=${c.temp}, wind=${c.headTail}`),console.log(`    -> temp contribution: ${h}, wind contribution: ${f}`),i+=h,a+=f});const o=r>0?i/r:0,s=r>0?a/r:0;return console.log(`  Weighted sums: temp=${i}, wind=${a}`),console.log(`  Final averages: ISA=${o}, Wind=${s}`),{isa:Math.round(o*1e4)/1e4,wind:Math.round(s*1e4)/1e4}}function w8(e,t){if(console.log(`
=== updateSegmentsWithWaypointData called ===`),console.log(`Segments: ${e.length}, Waypoints: ${t.length}`),t.length===0)return console.log("No waypoints, returning segments unchanged"),e;console.log("Waypoints:"),t.forEach((r,i)=>{console.log(`  [${i}] ${r.name}: distance=${r.distance}, ISA=${r.temp}, Wind=${r.headTail}, windDir=${r.wind}, windVel=${r.windVelocity}`)});const n=e.map((r,i)=>{console.log(`
--- Processing segment ${i} ---`);const a=b8(r,t),o={...r,isa:a.isa,projectedWind:a.wind};return console.log(`Segment ${i} updated: ISA ${r.isa} -> ${o.isa}, Wind ${r.projectedWind} -> ${o.projectedWind}`),o});return console.log(`
=== updateSegmentsWithWaypointData complete ===
`),n}const Ls={ISA:[-10,-5,0,5,10,15,17,20,25],altitude:[1e4,12e3,14e3,16e3,18e3,2e4,22e3,24e3,26e3,28e3,3e4],data:[[1.302,1.361,1.423,1.489,1.558,1.631,1.707,1.787,1.872,1.96,2.053],[1.318,1.378,1.441,1.508,1.578,1.652,1.729,1.811,1.896,1.986,2.08],[1.335,1.395,1.459,1.527,1.598,1.673,1.752,1.835,1.921,2.012,2.108],[1.351,1.413,1.478,1.546,1.618,1.694,1.774,1.858,1.946,2.039,2.136],[1.368,1.43,1.496,1.566,1.639,1.716,1.797,1.882,1.972,2.066,2.164],[1.385,1.448,1.515,1.585,1.66,1.738,1.82,1.907,1.997,2.093,2.193],[1.391,1.455,1.522,1.593,1.668,1.746,1.829,1.916,2.008,2.104,2.205],[1.402,1.466,1.534,1.605,1.681,1.76,1.844,1.932,2.024,2.121,2.222],[1.419,1.484,1.553,1.625,1.702,1.783,1.867,1.956,2.05,2.148,2.251]]},S8={weight:[95,105,115,125,135,145,155,165,175],altitude:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],data:[[2.7,2.44,2.24,2.08,1.97,1.9,1.83,1.8,1.79,1.81,1.86,1.92,2.01,2.11,2.23,2.36],[3.04,2.72,2.47,2.28,2.14,2.05,1.96,1.92,1.9,1.92,1.96,2.02,2.11,2.21,2.33,2.47],[3.44,3.04,2.73,2.5,2.33,2.21,2.11,2.05,2.02,2.03,2.07,2.13,2.21,2.32,2.44,2.58],[3.91,3.41,3.03,2.75,2.54,2.39,2.27,2.19,2.15,2.15,2.18,2.24,2.33,2.43,2.56,2.7],[4.47,3.85,3.38,3.03,2.78,2.59,2.44,2.35,2.3,2.29,2.31,2.37,2.45,2.56,2.68,2.83],[5.13,4.36,3.78,3.35,3.04,2.82,2.64,2.53,2.46,2.44,2.45,2.5,2.58,2.69,2.81,2.96],[5.92,4.96,4.24,3.72,3.35,3.07,2.86,2.72,2.64,2.6,2.61,2.65,2.73,2.83,2.96,3.11],[6.84,5.65,4.77,4.14,3.69,3.36,3.11,2.94,2.83,2.78,2.78,2.81,2.89,2.99,3.11,3.26],[7.94,6.46,5.37,4.61,4.07,3.68,3.38,3.18,3.05,2.98,2.97,2.99,3.06,3.15,3.28,3.42]]},my=S8;function a6(e,t,n,r,i){let a=0,o=e.length-1,s=0,l=t.length-1;for(let x=0;x<e.length-1;x++)if(r>=e[x]&&r<=e[x+1]){a=x,o=x+1;break}for(let x=0;x<t.length-1;x++)if(i>=t[x]&&i<=t[x+1]){s=x,l=x+1;break}if(r<=e[0]&&(a=o=0),r>=e[e.length-1]&&(a=o=e.length-1),i<=t[0]&&(s=l=0),i>=t[t.length-1]&&(s=l=t.length-1),a===o&&s===l)return n[s][a];const c=n[s][a],h=n[l][a],f=n[s][o],p=n[l][o],d=e[a],m=e[o],g=t[s],w=t[l];if(d===m&&g===w)return c;if(d===m)return c+(i-g)/(w-g)*(h-c);if(g===w)return c+(r-d)/(m-d)*(f-c);const b=c*(m-r)/(m-d)+f*(r-d)/(m-d),y=h*(m-r)/(m-d)+p*(r-d)/(m-d);return b*(w-i)/(w-g)+y*(i-g)/(w-g)}function Wb(e,t,n){if(n==="normal"||e.type==="taxi")return[];const r=e.distance||0,i=k8(e);console.log("calculateSpecialConditionSegments input:",{specialCondition:n,legDistance:e.distance,totalDistance:r,legType:e.type,legId:e.id});const a=t.zeroFuelWeight||85,o=a*1e3;console.log("Special condition weight check:",{configZfw:a,zfwLbs:o,configFuelOnBoard:t.fuelOnBoard});const s=_8(t.drag),l=t.oddEven==="even",c=e.isa||0;let h=0;if(e.waypoints&&e.waypoints.length>0){const{wind:p}=r0(e.waypoints);h=p,console.log(`Special condition ${n}: Using waypoint average wind: ${h.toFixed(1)} kts`)}let f=[];switch(n){case"minimum3Engines":console.log("Calculating 3 engines segments..."),f=j8(r,i,o,s,l,c,h,e,t);break;case"minimum4Engines":console.log("Calculating 4 engines segments...");try{f=C8(r,i,o,s,l,c,h,e,t)}catch(p){console.error("4 Engines calculation failed:",p),f=[]}break;case"lossOfPressure":console.log("Calculating loss of pressure segments...");try{f=O8(r,i,o,s,l,c,h,e,t)}catch(p){console.error("Loss of pressure calculation failed:",p),f=[]}break;case"tenPercent":console.log("Calculating 10% addition segments...");try{f=F8(r,i,o,s,l,c,h,e,t)}catch(p){console.error("10% addition calculation failed:",p),f=[]}break;default:f=[]}return f.length>0&&e.waypoints&&e.waypoints.length>0&&(f=w8(f,e.waypoints),console.log(`Updated ${n} segments with waypoint wind/ISA data`)),console.log(`calculateSpecialConditionSegments result for ${n}:`,f.length,"segments"),f}function N8(e,t,n){const i=((t/2-40)*(3e-4*e+.0076)+(6e-4*e*e-.0421*e+1.395)-n*n*2e-5+.0012*n+.0011+.02)*4*1.2;return Math.max(i,1)}function j8(e,t,n,r,i,a,o,s,l){if(!s)return console.error("3 Engines: No leg provided"),[];if(console.log("3 Engines calculation inputs:",{totalDistance:e,totalDurationMinutes:t,zfwLbs:n.toFixed(2),totalWeightLbs:(n+(s.initialFuel||26.7)).toFixed(2),dragValue:r,isEven:i,isa:a,initialFuelLbs:s.initialFuel,unitsInKlb:!0}),!e||e===0)return console.log("3 Engines: No distance, returning empty segments"),[];const c=[],h=s.initialFuel&&s.initialFuel>10?s.initialFuel:l.fuelOnBoard||0,f=h*1e3,p=8e3;console.log("3 Engines - Fuel check:",{initialFuelFromLeg:s.initialFuel,initialFuelConfig:h,unitsInKlb:!0,totalFuelLbs:f,minimumFuelLbs:p,totalWeightLbs:n+f});const d=[];let m=p,g=0;const b=e/252*60,y=Math.ceil(b/60);for(console.log(`3 Engines: Estimated ${y} segments for ${e}nm`);g<e&&m<f;){const A=n+m,N=A8(A,a,r,i),P=P8(N,A,a,r),j=i0(P,N,a),C=j+o,_=N8(N,A,a),M=e-g;let O;M<=C?O=M:O=C;const T=O/C*60,I=_*(T/60),L=m+I,U=n+L;console.log(`3 Engines segment ${d.length+1}:`,{altitudeFt:N*1e3,altitudeThousands:N,endWeightLbs:A.toFixed(1),startWeightLbs:U.toFixed(1),ias:Math.round(P),tas:Math.round(j),fuelRateLbsHr:_.toFixed(1),fuelConsumedLbs:I.toFixed(1),endFuelLbs:m.toFixed(1),startFuelLbs:L.toFixed(1)}),d.push({altitude:N*1e3,ias:Math.round(P),tas:Math.round(j),groundSpeed:Math.round(C),distance:O,duration:Math.round(T),fuelRate:_,fuelConsumed:I,startFuel:L,endFuel:m,startWeight:U,endWeight:A}),m=L,g+=O}let x=0;return d.reverse().forEach((A,N)=>{let P=A.distance;const j={id:`3eng-${N}`,startDistance:x,endDistance:x+P,startAltitude:A.altitude,endAltitude:A.altitude,duration:A.duration,fuelConsumed:A.fuelConsumed,fuelConsumptionPerHour:A.fuelRate,groundSpeed:A.groundSpeed,trueAirSpeed:A.tas,indicatedAirSpeed:A.ias,initialFuel:A.startFuel,remainingFuel:A.endFuel,cumulativeDistance:x+P,isa:a,projectedWind:o,initialWeight:A.startWeight};c.push(j),x+=P}),console.log("3 Engines final segments vs CSV:"),console.log("CSV expected: 5 segments with altitudes 16,16,18,18,20k and remaining fuel ending at 8.0"),console.log(`Calculated: ${c.length} segments`),console.log("Total distance calculated:",x,"vs expected:",e),console.log("Is using direct lbs:",n<1e3),c.forEach((A,N)=>{const P=n<1e3?A.fuelConsumptionPerHour.toFixed(1):(A.fuelConsumptionPerHour/1e3).toFixed(1),j=n<1e3?A.remainingFuel.toFixed(1):(A.remainingFuel/1e3).toFixed(1);console.log(`Segment ${N+1}:`,{distance:A.endDistance-A.startDistance,cumulative:A.endDistance,altitude:A.startAltitude/1e3,ias:A.indicatedAirSpeed,fuelRate:P,remaining:j})}),c}function A8(e,t,n,r){const i=e<1e3?e:e/1e3,a=i-80+t*(i*i*57e-5-.0486*i+4.99)/10+n/6;let o=Math.round(6e-4*a*a-.317*a+33.943);console.log("3 Engines altitude calc:",{weightLbs:e.toFixed(1),weightKlb:i.toFixed(1),square:a.toFixed(2),rawR:(6e-4*a*a-.317*a+33.943).toFixed(2),roundedR:o,isa:t,drag:n,isEven:r});const s=r?28:29;return o=Math.min(o,s),o=Math.max(o,10),r&&o%2===1?o=Math.max(o-1,10):!r&&o%2===0&&o<s&&(o=o+1),console.log(`3 Engines altitude final: ${o}k ft (even=${r})`),o}function P8(e,t,n,r){const i=t<1e3?t:t/1e3;if(e<=25){const a=(5e-5*e*e+.0186*e+.6014)*(i-80)/2+.0261*e*e-2.8854*e+225.43-.16*n-r*.19;return Math.max(a,140)}else{const o=1.09765*(i-80)/2+169.6-.16*n-8*(e-25)/5-r*.19;return Math.max(o,140)}}function i0(e,t,n){const r=t*1e3,i=Math.min(...Ls.altitude),a=Math.max(...Ls.altitude),o=Math.min(...Ls.ISA),s=Math.max(...Ls.ISA),l=Math.max(i,Math.min(a,r)),c=Math.max(o,Math.min(s,n));try{const h=a6(Ls.altitude,Ls.ISA,Ls.data,l,c);return e*Math.sqrt(h)}catch(h){return console.error("Special condition SMOE TAS calculation failed, falling back:",h),e*(1+t*.02)}}function C8(e,t,n,r,i,a,o,s,l){if(!s)return console.error("4 Engines: No leg provided"),[];if(console.log("4 Engines calculation inputs:",{totalDistance:e,zfwLbs:n.toFixed(2),dragValue:r,isEven:i,isa:a,unitsInKlb:!0}),!e||e===0)return console.log("4 Engines: No distance, returning empty segments"),[];const c=[],h=8e3,f=s.initialFuel&&s.initialFuel>10?s.initialFuel:l.fuelOnBoard||0,p=f*1e3;console.log("4 Engines - Fuel check:",{initialFuelFromLeg:s.initialFuel,initialFuelConfig:f,totalFuelLbs:p,minimumFuelLbs:h,totalWeightLbs:n+p});const d=[];let m=h,g=0;const b=e/275*60,y=Math.ceil(b/60);for(console.log(`4 Engines: Estimated ${y} segments for ${e}nm`),console.log("Starting fuel available:",p-h,"lbs");g<e&&m<p;){const A=n+m,N=o6(A,a,r,i),P=s6(N,A,a,r),j=i0(P,N,a),C=j+o,_=Ub(N,A,a,r),M=e-g;let O;M<=C?O=M:O=C;const T=O/C*60,I=_*(T/60),L=m+I,U=n+L;console.log(`4 Engines segment ${d.length+1}:`,{altitudeFt:N*1e3,endWeightLbs:A.toFixed(1),startWeightLbs:U.toFixed(1),ias:Math.round(P),tas:Math.round(j),fuelRateLbsHr:_.toFixed(1),fuelConsumedLbs:I.toFixed(1),endFuelLbs:m.toFixed(1),startFuelLbs:L.toFixed(1)}),d.push({altitude:N*1e3,ias:Math.round(P),tas:Math.round(j),groundSpeed:Math.round(C),distance:O,duration:Math.round(T),fuelRate:_,fuelConsumed:I,startFuel:L,endFuel:m,startWeight:U,endWeight:A}),m=L,g+=O}let x=0;return d.reverse().forEach((A,N)=>{let P=A.distance;const j={id:`4eng-${N}`,startDistance:x,endDistance:x+P,startAltitude:A.altitude,endAltitude:A.altitude,duration:A.duration,fuelConsumed:A.fuelConsumed,fuelConsumptionPerHour:A.fuelRate,groundSpeed:A.groundSpeed,trueAirSpeed:A.tas,indicatedAirSpeed:A.ias,initialFuel:A.startFuel,remainingFuel:A.endFuel,cumulativeDistance:x+P,isa:a,projectedWind:o,initialWeight:A.startWeight};c.push(j),x+=P}),console.log("4 Engines final segments vs CSV:"),console.log("CSV expected: 5 segments with altitudes 24,26,26,28,28k and remaining fuel ending at 8.0"),console.log(`Calculated: ${c.length} segments`),console.log("Total distance calculated:",x,"vs expected:",e),c.forEach((A,N)=>{console.log(`Segment ${N+1}:`,{distance:A.endDistance-A.startDistance,cumulative:A.endDistance,altitude:A.startAltitude/1e3,ias:A.indicatedAirSpeed,fuelRate:(A.fuelConsumptionPerHour/1e3).toFixed(1),remaining:(A.remainingFuel/1e3).toFixed(1)})}),c}function o6(e,t,n,r){const i=e/1e3,a=i-80+t*(i*.0075-.07)+n/6;let o=Math.round(a*a*3e-4-.2569*a+40.57);const s=r?28:29;return o=Math.min(o,s),o=Math.max(o,10),r&&o%2===1?o=Math.max(o-1,10):!r&&o%2===0&&o<s&&(o=o+1),console.log(`4 Engines altitude: ${o}k ft (weight: ${i} klb)`),o}function s6(e,t,n,r){const a=(t/1e3-80)/2;if(e<=25){const o=a*(5e-5*e*e+.0186*e+.6014)+.0261*e*e-2.8854*e+225.43-.16*n-r*.19;return Math.max(o,140)}else{const s=a*1.09765+169.6-.16*n-8*(e-25)/5-r*.19;return Math.max(s,140)}}function Ub(e,t,n,r=40){const a=((t/1e3/2-40)*(3e-4*e+.0076)+(6e-4*e*e-.0421*e+1.395)-n*n*2e-5+.0012*n+.0011+r/20*.01)*4;return Math.max(a*1e3,1e3)}function O8(e,t,n,r,i,a,o,s,l){if(!s)return console.error("Loss of Pressure: No leg provided"),[];console.log("Loss of Pressure calculation inputs:",{totalDistance:e,zfwLbs:n.toFixed(2),pressureAltitudeLimit:s.pressureAltitudeLimit,unitsInKlb:!0});const c=[],h=8e3,f=s.initialFuel&&s.initialFuel>10?s.initialFuel:(l==null?void 0:l.fuelOnBoard)||0,p=f*1e3,d=s.pressureAltitudeLimit||1e4,m=d/1e3;console.log("Loss of Pressure - Fuel check:",{initialFuelFromLeg:s.initialFuel,initialFuelConfig:f,unitsInKlb:!0,totalFuelLbs:p,minimumFuelLbs:h,totalWeightLbs:n+p});const g=[];let w=h,b=0;const x=e/200*60,A=Math.ceil(x/60);for(console.log(`Loss of Pressure: Estimated ${A} segments for ${e}nm`);b<e&&w<p;){const P=n+w,j=T8(m,P,a,r),C=i0(j,m,a),_=C+o,M=Ub(m,P,a,r),O=e-b;let T;O<=_?T=O:T=_;const I=T/_*60,L=M*(I/60),U=w+L,D=n+U;console.log(`Loss of Pressure segment ${g.length+1}:`,{altitudeFt:d,endWeightLbs:P.toFixed(1),startWeightLbs:D.toFixed(1),ias:Math.round(j),tas:Math.round(C),fuelRateLbsHr:M.toFixed(1),fuelConsumedLbs:L.toFixed(1),endFuelLbs:w.toFixed(1),startFuelLbs:U.toFixed(1)}),g.push({altitude:d,ias:Math.round(j),tas:Math.round(C),groundSpeed:Math.round(_),distance:T,duration:Math.round(I),fuelRate:M,fuelConsumed:L,startFuel:U,endFuel:w,startWeight:D,endWeight:P}),w=U,b+=T}let N=0;return g.reverse().forEach((P,j)=>{let C=P.distance;const _={id:`lop-${j}`,startDistance:N,endDistance:N+C,startAltitude:P.altitude,endAltitude:P.altitude,duration:P.duration,fuelConsumed:P.fuelConsumed,fuelConsumptionPerHour:P.fuelRate,groundSpeed:P.groundSpeed,trueAirSpeed:P.tas,indicatedAirSpeed:P.ias,initialFuel:P.startFuel,remainingFuel:P.endFuel,cumulativeDistance:N+C,isa:a,projectedWind:o,initialWeight:P.startWeight};c.push(_),N+=C}),console.log("Loss of Pressure calculation complete:",{altitude:d,totalDistance:e,calculatedDistance:N,numSegments:c.length,minimumFuel:h}),c}function T8(e,t,n,r){const i=t<1e3?t:t/1e3,a=1.09765*(i-80)/2+169.6-.16*n;let o;return e<25?o=(5e-5*e*e+.0186*e+.6014)*(i-80)/2+.0261*e*e-2.8854*e+225.43-.16*n-r*.19:o=a-8*(e-25)/5-r*.19,Math.round(Math.max(o,140))}function F8(e,t,n,r,i,a,o,s,l){var N;if(!s)return console.error("10% Addition: No leg provided"),[];if(console.log("10% Addition calculation inputs:",{totalDistance:e,zfwLbs:n.toFixed(2),dragValue:r,isEven:i,isa:a,unitsInKlb:!0}),!e||e===0)return console.log("10% Addition: No distance, returning empty segments"),[];const c=[],h=s.initialFuel&&s.initialFuel>10?s.initialFuel:(l==null?void 0:l.fuelOnBoard)||0,f=h*1e3,p=8e3;console.log("10% Addition - Fuel check:",{initialFuelFromLeg:s.initialFuel,initialFuelConfig:h,unitsInKlb:!0,totalFuelLbs:f,minimumFuelLbs:p,totalWeightLbs:n+f});const d=[];let m=p,g=0;const w=1.1,y=e/260*60,x=Math.ceil(y/60);for(console.log(`10% Addition: Estimated ${x} segments for ${e}nm`);g<e&&m<f;){const P=n+m,j=o6(P,a,r,i),C=s6(j,P,a,r),_=i0(C,j,a),M=_+o,O=Ub(j,P,a,r),T=O*w,I=e-g;let L;I<=M?L=I:L=M;const U=L/M*60,D=T*(U/60),$=m+D,W=n+$;console.log(`10% Addition segment ${d.length+1}:`,{altitudeFt:j*1e3,endWeightLbs:P.toFixed(1),startWeightLbs:W.toFixed(1),ias:Math.round(C),tas:Math.round(_),baseFuelRateLbsHr:O.toFixed(1),fuelRateLbsHr:T.toFixed(1),fuelConsumedLbs:D.toFixed(1),endFuelLbs:m.toFixed(1),startFuelLbs:$.toFixed(1)}),d.push({altitude:j*1e3,ias:Math.round(C),tas:Math.round(_),groundSpeed:Math.round(M),distance:L,duration:Math.round(U),fuelRate:T,fuelConsumed:D,startFuel:$,endFuel:m,startWeight:W,endWeight:P}),m=$,g+=L}let A=0;return d.reverse().forEach((P,j)=>{let C=P.distance;const _={id:`10pct-${j}`,startDistance:A,endDistance:A+C,startAltitude:P.altitude,endAltitude:P.altitude,duration:P.duration,fuelConsumed:P.fuelConsumed,fuelConsumptionPerHour:P.fuelRate,remainingFuel:P.endFuel,initialFuel:P.startFuel,initialWeight:P.startWeight,endWeight:P.endWeight,ias:P.ias,tas:P.tas,groundSpeed:P.groundSpeed,isa:a,wind:o,point:j===0?"climb":"cruise"};c.push(_),A+=C}),console.log("10% Addition calculation complete:",{segmentCount:c.length,totalDistance:A,totalFuelUsed:c.reduce((P,j)=>P+j.fuelConsumed,0),finalRemainingFuel:(N=c[c.length-1])==null?void 0:N.remainingFuel}),c}function k8(e,t){return e.duration&&e.duration>0?e.duration:(e.distance||0)/250*60}function _8(e){if(typeof e=="number")return e;switch(e){case"withPods":return 60;case"withoutPods":return 40;default:return 40}}function ex(e){switch(e){case"normal":return"Normal State";case"minimum4Engines":return"4 Engines";case"minimum3Engines":return"3 Engines";case"lossOfPressure":return"Loss of Pressure";case"tenPercent":return"10% Addition";default:return e}}function a0(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function E8(e,t){if(console.log("calculateHoldingSegments called for:",{legId:e.id,waitingMinutes:e.waitingMinutes,altitude:e.altitude,initialWeight:e.initialWeight}),!e.waitingMinutes||e.waitingMinutes<=0)return console.log("No waiting time specified for holding leg"),[];const n=[],r=e.altitude||1e4,i=e.waitingMinutes/60,a=e.initialWeight||150,o=r/1e3,s=a6(my.weight,my.altitude,my.data,a,o),l=s*1e3,c=l*i,h=(e.initialFuel||0)*1e3,f=h-c,p={id:a0(),point:"cruise",altitude:r,initialWeight:a,distance:0,accumulatedDistance:0,ias:180,trueAirSpeed:200,groundSpeed:0,duration:e.waitingMinutes,cumulativeTime:0,initialFuel:h,fuelConsumptionPerHour:l,fuelConsumptionPerSegment:c,cumulativeFuelConsumed:0,remainingFuel:f,isa:e.isa||0,altitude25Factor:r>25e3?1:0,projectedWind:0,startDistance:0,endDistance:0,startAltitude:r,endAltitude:r,fuelConsumed:c};return n.push(p),console.log("Holding segment created:",{duration:e.waitingMinutes,fuelConsumed:c,fuelRateKlbPerHour:s,fuelRateLbsPerHour:l,altitude:r,weight:a}),n}function L8(e,t){if(console.log("calculateAnchorSegments called for:",{legId:e.id,waitingMinutes:e.waitingMinutes,altitude:e.altitude}),!e.waitingMinutes||e.waitingMinutes<=0)return console.log("No waiting time specified for anchor leg"),[];const n=[],r=e.altitude||1e4,i=4200,a=e.waitingMinutes/60,o=i*a,s=(e.initialFuel||0)*1e3,l=s-o,c={id:a0(),point:"cruise",altitude:r,initialWeight:0,distance:0,accumulatedDistance:0,ias:180,trueAirSpeed:200,groundSpeed:0,duration:e.waitingMinutes,cumulativeTime:0,initialFuel:s,fuelConsumptionPerHour:i,fuelConsumptionPerSegment:o,cumulativeFuelConsumed:0,remainingFuel:l,isa:e.isa||0,altitude25Factor:r>25e3?1:0,projectedWind:e.wind||0,startDistance:0,endDistance:0,startAltitude:r,endAltitude:r,fuelConsumed:o};return n.push(c),console.log("Anchor segment created:",{duration:e.waitingMinutes,fuelConsumed:o,fuelRate:i,altitude:r}),n}function Fi(e,t){var b;if(console.log("calculateSegmentsFixed called for:",{legId:e.id,legType:e.type,legDistance:e.distance,waypoints:((b=e.waypoints)==null?void 0:b.length)||0,specialCondition:e.specialCondition,legISA:e.isa,previousLegAltitude:e.previousLegAltitude,currentLegAltitude:e.altitude,altitudeMode:e.altitudeMode}),e.type==="taxi")return[];if(e.type==="anchor")return L8(e);if(e.type==="holding")return E8(e);if(e.distance===0)return[];if(e.specialCondition&&e.specialCondition!=="normal")return Wb(e,t||{},e.specialCondition);const n=[],r=r6((t==null?void 0:t.drag)||"withoutPods"),i=((t==null?void 0:t.zeroFuelWeight)||85)*1e3,a=(t==null?void 0:t.oddEven)||"odd",o=e.isa||0;o===30&&console.log(" CALCULATING NORMAL SEGMENTS WITH ISA +30 ");let s=e.wind||0,l=e.isa||0;if(e.waypoints&&e.waypoints.length>0){const y=r0(e.waypoints);l=y.isa,s=y.wind,console.log("Using weighted averages from waypoints:",{avgIsa:l,avgWind:s}),console.log("Using leg ISA for altitude calculation:",{isaForAltitude:o})}const c=e.initialFuel||(t==null?void 0:t.fuelOnBoard)||0;c===0&&console.error("No fuel available! Check leg.initialFuel and configuration.fuelOnBoard");let h=c*1e3;console.log("Initial fuel setup:",{legInitialFuel:e.initialFuel,configFuelOnBoard:t==null?void 0:t.fuelOnBoard,fuelInKlb:c,remainingFuelLbs:h,zfw:i,totalInitialWeight:i+h});let f=0,p=i+h,d=e.altitude;e.altitudeMode==="cc"&&(d=QS(p,o,r,a,e.type));const m=e.previousLegAltitude||0;let g=0;if(d>m&&(g=R8(d,m,p,o)),console.log(" CLIMB SEGMENT DECISION:",{legId:e.id,legType:e.type,previousLegAltitude:e.previousLegAltitude,startAltitude:m,cruiseAltitude:d,altitudeDifference:d-m,needsClimb:d>m,climbDistance:g,totalLegDistance:e.distance,willCreateClimbSegment:g>0&&g<e.distance&&d>m}),g>0&&g<e.distance&&d>m){const y=I8(0,g,d,h,o,s,e.type,r,i,m);n.push(y),f=g,h=y.remainingFuel,p=i+h}let w=e.distance-f;for(;w>.1;){e.altitudeMode==="cc"&&(d=QS(p,o,r,a,e.type));const y=l6(d,p,r,e.type,o),x=u6(y,d,o),N=Math.max(x+s,50),P=Math.min(N,w);console.log(`Creating cruise segment ${n.length+1}:`,{remainingFuelBefore:h/1e3,segmentDistance:P,legType:e.type,fuelEfficiencyPercent:e.fuelEfficiencyPercent});const j=$8(f,P,d,h,o,s,e.type,r,i,e.fuelEfficiencyPercent);n.push(j),f+=P,console.log(`Segment ${n.length}:`,{initialFuel:(j.initialFuel/1e3).toFixed(1),fuelConsumed:j.fuelConsumed,remainingFuel:(j.remainingFuel/1e3).toFixed(1)}),h=j.remainingFuel,p=i+h,w-=P}return e.waypoints&&e.waypoints.length>0&&M8(n,e.waypoints),console.log(`Created ${n.length} segments:`,n.map((y,x)=>({index:x,distance:y.endDistance-y.startDistance,altitude:y.endAltitude,initialFuelKlb:(y.initialFuel/1e3).toFixed(3),fuelConsumedLbs:y.fuelConsumed,remainingFuelKlb:(y.remainingFuel/1e3).toFixed(3)}))),n}function M8(e,t){const n=[];let r=0;for(const i of t)r+=i.distance,n.push(r);for(const i of e){const a=i.startDistance,o=i.endDistance,s=o-a;if(s===0)continue;let l=0,c=0,h=0,f=0;for(let p=0;p<t.length;p++){const d=t[p],m=n[p];if(m>a&&f<o){const g=Math.max(f,a),b=Math.min(m,o)-g;if(b>0){const y=b/s;l+=d.temp*y,c+=d.headTail*y,h+=y}}f=m}h>0&&(i.projectedWind=c,D8(i))}}function D8(e){if(!e.initialWeight)return;e.endAltitude;const t=e.projectedWind;if(e.startAltitude<e.endAltitude)return;const n=e.trueAirSpeed,r=Math.max(n+t,50),a=(e.endDistance-e.startDistance)/r*60;if(e.fuelConsumptionPerHour){const o=e.fuelConsumptionPerHour*(a/60);e.fuelConsumed=Math.round(o*10)/10,e.remainingFuel=e.initialFuel-o}e.duration=Math.round(a),e.groundSpeed=Math.round(r)}function I8(e,t,n,r,i,a,o,s,l,c=0){const h=l+r;console.log("[CLIMB] Weight calculation:",{zfw:l,zfwInThousands:l/1e3,initialFuelLbs:r,totalWeightLbs:h,totalWeightThousands:h/1e3,startAltitude:c,targetAltitude:n});const f=n/1e3,p=c/1e3,d=h/1e3,m=43e-5*Math.pow(f,3)-.0155*Math.pow(f,2)+.4814*f-.9915,g=(d+i*(d*.01-.3)-80)/2,w=(227e-7*Math.pow(f,2)+.0222)*g,b=m*Math.pow(Math.E,w)+s/12,y=43e-5*Math.pow(p,3)-.0155*Math.pow(p,2)+.4814*p-.9915,x=(d+i*(d*.01-.3)-80)/2,A=(227e-7*Math.pow(p,2)+.0222)*x,N=y*Math.pow(Math.E,A)+s/12,P=Math.max(0,b-N),j=.021*Math.pow(f,3)-.9036*Math.pow(f,2)+46.384*f-37.85,C=(d+i*(d*.0085-.3)-80)/2,_=(Math.pow(f,2)*2e-5-f*4e-6+.023)*C,M=j*Math.pow(Math.E,_)/1e3+.00833333*s,O=.021*Math.pow(p,3)-.9036*Math.pow(p,2)+46.384*p-37.85,T=(d+i*(d*.0085-.3)-80)/2,I=(Math.pow(p,2)*2e-5-p*4e-6+.023)*T,L=O*Math.pow(Math.E,I)/1e3+.00833333*s,U=Math.max(0,M-L),D=U*1e3;return console.log("Climb segment creation:",{zfw:l,initialFuelLbs:r,initialFuelKlb:r/1e3,initialWeight:h,initialWeightStored:h/1e3,startAltitude:c,targetAltitude:n,altitudeClimb:n-c,startAltInThousands:p,targetAltInThousands:f,weightInThousands:d,duration:P,fuelConsumedLbs:D,fuelConsumedKlb:U,remainingFuelLbs:r-D,remainingFuelKlb:(r-D)/1e3}),{id:a0(),point:"climb",altitude:n,startDistance:e,endDistance:e+t,startAltitude:c,endAltitude:n,distance:t,accumulatedDistance:e+t,ias:0,trueAirSpeed:0,groundSpeed:0,duration:Math.round(P),cumulativeTime:0,initialFuel:r,fuelConsumptionPerHour:0,fuelConsumptionPerSegment:Math.round(D*10)/10,cumulativeFuelConsumed:0,remainingFuel:Math.max(r-D,0),isa:i,altitude25Factor:n>25e3?1:0,projectedWind:a,initialWeight:parseFloat((h/1e3).toFixed(1)),fuelConsumed:Math.round(D*10)/10,indicatedAirSpeed:0}}function $8(e,t,n,r,i,a,o,s,l,c){const h=l+r;console.log("[CRUISE] Weight calculation:",{zfw:l,zfwInThousands:l/1e3,initialFuelLbs:r,totalWeightLbs:h,totalWeightThousands:h/1e3}),console.log("Cruise segment weight calc:",{zfw:l,initialFuel:r,initialWeight:h,storedWeight:parseFloat((h/1e3).toFixed(1))});const f=l6(n,h,s,o,i),p=u6(f,n,i),d=Math.max(p+a,50),m=t/d*60;let g=W8(n,h,i,s,o);if(o==="lrc950"){const b=c||9,y=g;g=g*(1-b/100),console.log(`LRC 950 fuel efficiency: ${b}% reduction, original: ${y.toFixed(1)} lbs/hr, new: ${g.toFixed(1)} lbs/hr`)}const w=g*(m/60);return{id:a0(),point:"cruise",altitude:n,startDistance:e,endDistance:e+t,startAltitude:n,endAltitude:n,distance:t,accumulatedDistance:e+t,ias:Math.round(f),trueAirSpeed:Math.round(p),groundSpeed:Math.round(d),duration:Math.round(m),cumulativeTime:0,initialFuel:r,fuelConsumptionPerHour:Math.round(g*10)/10,fuelConsumptionPerSegment:Math.round(w*10)/10,cumulativeFuelConsumed:0,remainingFuel:Math.max(r-w,0),isa:i,altitude25Factor:n>25e3?1:0,projectedWind:a,initialWeight:parseFloat((h/1e3).toFixed(1)),fuelConsumed:Math.round(w*10)/10,indicatedAirSpeed:Math.round(f)}}function R8(e,t,n,r,i){const a=n/1e3,o=e/1e3,s=t/1e3,l=.00145*Math.pow(o,3)-.0445*Math.pow(o,2)+1.2121*o-1.5798,c=(a+r*(.0083*a-.253)-80)/2,h=(3e-5*Math.pow(o,2)-2e-4*o+.0295)*c,f=l*Math.pow(2.71828,h),p=.00145*Math.pow(s,3)-.0445*Math.pow(s,2)+1.2121*s-1.5798,d=(a+r*(.0083*a-.253)-80)/2,m=(3e-5*Math.pow(s,2)-2e-4*s+.0295)*d,g=p*Math.pow(2.71828,m);return Math.max(0,f-g)}function QS(e,t,n,r,i){const a=e/1e3;let o;i==="lrc1010"?o=a-80+t*(a*.0075-.07)+n/6:o=a-80+t*(a*.0075-.07)+a*.0413+.7+n/6;const s=(o*o*3e-4-.2569*o+40.57)*1e3;let l=Math.round(s/1e3)*1e3;const c=l/1e3;return(r==="odd"&&c%2===0||r==="even"&&c%2===1)&&(l=l<s?l+1e3:l-1e3),Math.max(Math.min(l,r==="odd"?29e3:28e3),1e4)}function l6(e,t,n,r,i){const a=e/1e3,o=t/1e3;if(r==="lrc970"||r==="lrc950"||r==="lrc1010"){if(o>154.999)return a<20?Math.round(a*a*.03-2.6*a+246):Math.round(.2*a+202);if(a<25.01){const s=(5e-5*a*a+.0186*a+.6014)*(o-80)/2+.0261*a*a-2.8854*a+225.43-.16*i-n*.19;return Math.round(s)}else{const l=1.09765*(o-80)/2+169.60000000000002-.16*i-8*(a-25)/5-n*.19;return Math.round(l)}}switch(r){case"lowNavigation":return 240;case"shield":return 220;default:return 180}}function B8(e,t,n){const l=t*.3048,c=288.15-.0065*l,h=c+n,f=Math.pow(1-.0065*l/288.15,9.80665/(287.053*.0065)),p=101325*f,d=101325/(287.053*288.15),m=p/(287.053*h),g=d/m,w=e*Math.sqrt(g);return n===20&&t===2e4&&e===189&&console.log("ISA +20 Test Case (Physics-based):",{expected:277,calculated:w.toFixed(1),densityRatio:g.toFixed(4),sqrtDensityRatio:Math.sqrt(g).toFixed(4),temperatureISA:c.toFixed(1),actualTemperature:h.toFixed(1)}),n===30&&t===2e4&&e===189&&console.log("ISA +30 Test Case (Physics-based):",{expected:276,calculated:w.toFixed(1),densityRatio:g.toFixed(4),sqrtDensityRatio:Math.sqrt(g).toFixed(4),temperatureISA:c.toFixed(1),actualTemperature:h.toFixed(1)}),console.log("TAS Physics calculation:",{altitude:t,altitudeMeters:l,isa:n,ias:e,temperatureISA:c.toFixed(1),actualTemperature:h.toFixed(1),pressureRatio:f.toFixed(4),densityRatio:g.toFixed(4),tas:w.toFixed(1)}),w}function u6(e,t,n){return console.log("TAS calculation inputs:",{ias:e,altitude:t,isa:n,method:"Mathematical formula (Excel-based)"}),B8(e,t,n)}function W8(e,t,n,r,i){const a=e/1e3,o=t/1e3;if(i==="lrc970"||i==="lrc950"||i==="lrc1010"){const s=((o/2-40)*(3e-4*a+.0076)+(6e-4*a*a-.0421*a+1.395)-Math.pow(n,2)*2e-5+.0012*n+.0011+r/20*.01)*4;return Math.max(s*1e3,150)}switch(i){case"lowNavigation":const s=((o/2-40)*(3e-4*a+.0076)+(6e-4*a*a-.0421*a+1.395)-Math.pow(n,2)*2e-5+.0012*n+.0011+r/20*.01)*4;return Math.max(s*1.03*1e3,150);case"shield":const l=7.5,c=o/150,h=1+a/50;return l*c*h*4*1e3;case"holding":return(4.5+n*.1+r*.02)*4*1e3;case"airRefueling":const p=8,d=o/140;return(p*d+n*.1+r*.02)*4*1e3;default:return 4e3}}function zr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function cs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function U8(e,t){const n=+zr(e);return cs(e,n+t)}const c6=6048e5,z8=864e5,d6=6e4;let H8={};function o0(){return H8}function Pf(e,t){var s,l,c,h;const n=o0(),r=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,i=zr(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Dm(e){return Pf(e,{weekStartsOn:1})}function f6(e){const t=zr(e),n=t.getFullYear(),r=cs(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Dm(r),a=cs(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Dm(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function ZS(e){const t=zr(e);return t.setHours(0,0,0,0),t}function e3(e){const t=zr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function q8(e,t){const n=ZS(e),r=ZS(t),i=+n-e3(n),a=+r-e3(r);return Math.round((i-a)/z8)}function G8(e){const t=f6(e),n=cs(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Dm(n)}function tx(e,t){return U8(e,t*d6)}function V8(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function K8(e){if(!V8(e)&&typeof e!="number")return!1;const t=zr(e);return!isNaN(Number(t))}function Y8(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function X8(e,t){return+zr(e)-+zr(t)}function h6(e,t,n){const r=X8(e,t)/d6;return Y8(n==null?void 0:n.roundingMethod)(r)}function J8(e){const t=zr(e),n=cs(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Q8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Z8=(e,t,n)=>{let r;const i=Q8[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const eD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rD={date:gy({formats:eD,defaultWidth:"full"}),time:gy({formats:tD,defaultWidth:"full"}),dateTime:gy({formats:nD,defaultWidth:"full"})},iD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aD=(e,t,n,r)=>iD[e];function yd(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const oD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fD=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hD={ordinalNumber:fD,era:yd({values:oD,defaultWidth:"wide"}),quarter:yd({values:sD,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yd({values:lD,defaultWidth:"wide"}),day:yd({values:uD,defaultWidth:"wide"}),dayPeriod:yd({values:cD,defaultWidth:"wide",formattingValues:dD,defaultFormattingWidth:"wide"})};function xd(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?mD(s,f=>f.test(o)):pD(s,f=>f.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=t.slice(o.length);return{value:c,rest:h}}}function pD(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function mD(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function gD(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const vD=/^(\d+)(th|st|nd|rd)?/i,yD=/\d+/i,xD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bD={any:[/^b/i,/^(a|c)/i]},wD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SD={any:[/1/i,/2/i,/3/i,/4/i]},ND={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TD={ordinalNumber:gD({matchPattern:vD,parsePattern:yD,valueCallback:e=>parseInt(e,10)}),era:xd({matchPatterns:xD,defaultMatchWidth:"wide",parsePatterns:bD,defaultParseWidth:"any"}),quarter:xd({matchPatterns:wD,defaultMatchWidth:"wide",parsePatterns:SD,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xd({matchPatterns:ND,defaultMatchWidth:"wide",parsePatterns:jD,defaultParseWidth:"any"}),day:xd({matchPatterns:AD,defaultMatchWidth:"wide",parsePatterns:PD,defaultParseWidth:"any"}),dayPeriod:xd({matchPatterns:CD,defaultMatchWidth:"any",parsePatterns:OD,defaultParseWidth:"any"})},FD={code:"en-US",formatDistance:Z8,formatLong:rD,formatRelative:aD,localize:hD,match:TD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kD(e){const t=zr(e);return q8(t,J8(t))+1}function _D(e){const t=zr(e),n=+Dm(t)-+G8(t);return Math.round(n/c6)+1}function p6(e,t){var h,f,p,d;const n=zr(e),r=n.getFullYear(),i=o0(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(p=i.locale)==null?void 0:p.options)==null?void 0:d.firstWeekContainsDate)??1,o=cs(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=Pf(o,t),l=cs(e,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=Pf(l,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function ED(e,t){var s,l,c,h;const n=o0(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,i=p6(e,t),a=cs(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Pf(a,t)}function LD(e,t){const n=zr(e),r=+Pf(n,t)-+ED(n,t);return Math.round(r/c6)+1}function Dt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Lo={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Dt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Dt(n+1,2)},d(e,t){return Dt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Dt(e.getHours()%12||12,t.length)},H(e,t){return Dt(e.getHours(),t.length)},m(e,t){return Dt(e.getMinutes(),t.length)},s(e,t){return Dt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Dt(i,t.length)}},au={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},t3={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Lo.y(e,t)},Y:function(e,t,n,r){const i=p6(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Dt(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Dt(a,t.length)},R:function(e,t){const n=f6(e);return Dt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Dt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Dt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Dt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Lo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Dt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=LD(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Dt(i,t.length)},I:function(e,t,n){const r=_D(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Dt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Lo.d(e,t)},D:function(e,t,n){const r=kD(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Dt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Dt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Dt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Dt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=au.noon:r===0?i=au.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=au.evening:r>=12?i=au.afternoon:r>=4?i=au.morning:i=au.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Lo.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Lo.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Dt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Dt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lo.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Lo.s(e,t)},S:function(e,t){return Lo.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return r3(r);case"XXXX":case"XX":return $s(r);case"XXXXX":case"XXX":default:return $s(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return r3(r);case"xxxx":case"xx":return $s(r);case"xxxxx":case"xxx":default:return $s(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+n3(r,":");case"OOOO":default:return"GMT"+$s(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+n3(r,":");case"zzzz":default:return"GMT"+$s(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Dt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Dt(r,t.length)}};function n3(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Dt(a,2)}function r3(e,t){return e%60===0?(e>0?"-":"+")+Dt(Math.abs(e)/60,2):$s(e,t)}function $s(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Dt(Math.trunc(r/60),2),a=Dt(r%60,2);return n+i+t+a}const i3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},m6=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},MD=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return i3(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",i3(r,t)).replace("{{time}}",m6(i,t))},DD={p:m6,P:MD},ID=/^D+$/,$D=/^Y+$/,RD=["D","DD","YY","YYYY"];function BD(e){return ID.test(e)}function WD(e){return $D.test(e)}function UD(e,t,n){const r=zD(e,t,n);if(console.warn(r),RD.includes(e))throw new RangeError(r)}function zD(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GD=/^'([^]*?)'?$/,VD=/''/g,KD=/[a-zA-Z]/;function at(e,t,n){var h,f,p,d;const r=o0(),i=r.locale??FD,a=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((d=(p=r.locale)==null?void 0:p.options)==null?void 0:d.weekStartsOn)??0,s=zr(e);if(!K8(s))throw new RangeError("Invalid time value");let l=t.match(qD).map(m=>{const g=m[0];if(g==="p"||g==="P"){const w=DD[g];return w(m,i.formatLong)}return m}).join("").match(HD).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:YD(m)};if(t3[g])return{isToken:!0,value:m};if(g.match(KD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(WD(g)||BD(g))&&UD(g,t,String(e));const w=t3[g[0]];return w(s,g,i.localize,c)}).join("")}function YD(e){const t=e.match(GD);return t?t[1].replace(VD,"'"):e}function rl(e){var t,n,r,i,a,o,s,l,c,h;if(!e||!e.configuration||!e.legs)return console.error("Invalid plan structure for fuel calculation"),e;console.log(" Starting waypoint fuel calculation with segment-based approach"),console.log("Initial plan data:",{fuelOnBoard:e.configuration.fuelOnBoard,legs:e.legs.map((f,p)=>{var d;return{index:p,type:f.type,initialFuel:f.initialFuel,fuelRemaining:f.fuelRemaining,fuelConsumed:f.fuelConsumed,segments:(d=f.segments)==null?void 0:d.map(m=>({point:m.point,remainingFuel:m.remainingFuel,remainingFuelKlb:m.remainingFuel/1e3}))}})});try{const f={...e};let p=null;for(let g=0;g<e.legs.length;g++){const w=e.legs[g];if(w.segments&&w.segments.length>0&&w.segments[0].initialFuel){w.segments[0].initialFuel<100?(p=w.segments[0].initialFuel,console.log(`Found initial fuel in leg ${g} (${w.type}) - already in klbs:`,{segmentInitialFuel:w.segments[0].initialFuel})):(p=w.segments[0].initialFuel/1e3,console.log(`Found initial fuel in leg ${g} (${w.type}) - converting from lbs:`,{segmentInitialFuel:w.segments[0].initialFuel,segmentInitialFuelKlb:p}));break}}let d=p||e.configuration.fuelOnBoard||30;p&&e.configuration.fuelOnBoard&&Math.abs(p-e.configuration.fuelOnBoard)>5&&(console.warn(" Large discrepancy between config fuel and segment fuel, using segment fuel:",{configFuel:e.configuration.fuelOnBoard,segmentFuel:p,difference:Math.abs(p-e.configuration.fuelOnBoard)}),d=p);let m=e.configuration.startTime||new Date;return console.log(" Starting fuel calculation with:",{configFuelOnBoard:e.configuration.fuelOnBoard,initialFuelFromSegments:p,currentFuel:d,firstLegType:(t=e.legs[0])==null?void 0:t.type,firstSegmentInitialFuel:(i=(r=(n=e.legs[0])==null?void 0:n.segments)==null?void 0:r[0])==null?void 0:i.initialFuel,firstSegmentInitialFuelKlb:(s=(o=(a=e.legs[0])==null?void 0:a.segments)==null?void 0:o[0])!=null&&s.initialFuel?e.legs[0].segments[0].initialFuel/1e3:"N/A",secondLegType:(l=e.legs[1])==null?void 0:l.type,secondLegSegments:(h=(c=e.legs[1])==null?void 0:c.segments)==null?void 0:h.map(g=>({point:g.point,initialFuel:g.initialFuel,initialFuelIfKlbs:g.initialFuel<100?g.initialFuel:"N/A",initialFuelIfLbs:g.initialFuel>=100?g.initialFuel/1e3:"N/A"}))}),f.legs=e.legs.map((g,w)=>{var M,O,T,I,L,U,D,$,W,z,Y,re,E;const b={...g};if(console.log(`
 Processing leg ${w} - ${g.type}:`,{legType:g.type,hasSegments:!!g.segments&&g.segments.length>0,segmentCount:((M=g.segments)==null?void 0:M.length)||0,waypointCount:((O=g.waypoints)==null?void 0:O.length)||0,legInitialFuel:g.initialFuel,legFuelRemaining:g.fuelRemaining,currentFuel:d,firstSegmentInitialFuel:(I=(T=g.segments)==null?void 0:T[0])==null?void 0:I.initialFuel,firstSegmentInitialFuelKlb:(U=(L=g.segments)==null?void 0:L[0])!=null&&U.initialFuel?g.segments[0].initialFuel/1e3:"N/A",allSegmentData:(D=g.segments)==null?void 0:D.map((R,q)=>({index:q,point:R.point,initialFuelRaw:R.initialFuel,initialFuelKlb:R.initialFuel>1e3?R.initialFuel/1e3:R.initialFuel,remainingFuelRaw:R.remainingFuel,remainingFuelKlb:R.remainingFuel>1e3?R.remainingFuel/1e3:R.remainingFuel,unitsLikelyKlbs:R.initialFuel<1e3}))}),!b.waypoints||b.waypoints.length===0)return b;let y=d;if(g.segments&&g.segments.length>0&&g.segments[0].initialFuel?g.segments[0].initialFuel>1e3?(y=g.segments[0].initialFuel/1e3,console.log(` Using segment initial fuel for leg ${w} (converting from lbs):`,{segmentInitialFuel:g.segments[0].initialFuel,segmentInitialFuelKlb:y,legInitialFuel:g.initialFuel,currentFuel:d})):(y=g.segments[0].initialFuel,console.log(` Using segment initial fuel for leg ${w} (already in klbs):`,{segmentInitialFuel:g.segments[0].initialFuel,legInitialFuel:g.initialFuel,currentFuel:d})):g.initialFuel&&(y=g.initialFuel),g.type==="taxi"&&w===0&&(!g.segments||g.segments.length===0)&&e.legs.length>1&&e.legs[1].segments&&e.legs[1].segments.length>0){const R=e.legs[1].segments[0].initialFuel,q=R>1e3?R/1e3:R,ee=g.fuelConsumed||1,H=(ee>100,ee/1e3);y=q+H,console.log(" Calculated taxi leg initial fuel from next leg:",{nextSegmentFuel:R,nextLegInitialFuel:q,taxiFuelConsumed:H,calculatedTaxiInitialFuel:y})}if(($=b.waypoints)!=null&&$.some(R=>R.name==="-TOC-"||R.name==="TOC")){console.log(` Leg ${w} with TOC - DETAILED fuel analysis:`,{legIndex:w,legType:g.type,configFuelOnBoard:e.configuration.fuelOnBoard,currentFuel:d,legInitialFuel:g.initialFuel,legStartFuel:y,legInitialFuelKlb:g.initialFuel/1e3,segments:(W=g.segments)==null?void 0:W.map(q=>({point:q.point,initialFuel:q.initialFuel,initialFuelKlb:q.initialFuel/1e3,remainingFuel:q.remainingFuel,remainingFuelKlb:q.remainingFuel/1e3,fuelConsumed:q.fuelConsumed||q.fuelConsumptionPerSegment,fuelConsumedKlb:(q.fuelConsumed||q.fuelConsumptionPerSegment)/1e3,startDist:q.startDistance,endDist:q.endDistance,startAlt:q.startAltitude,endAlt:q.endAltitude,isClimbByAltitude:q.startAltitude<q.endAltitude})),hasClimbSegment:(z=g.segments)==null?void 0:z.some(q=>q.point==="climb"),tocWaypoint:g.waypoints.find(q=>q.name==="-TOC-"||q.name==="TOC")});const R=g.waypoints.find(q=>q.name==="-TOC-"||q.name==="TOC");R&&console.log(" RAW TOC waypoint data:",{name:R.name,id:R.id,fob:R.fob,fuelOnBoard:R.fuelOnBoard,distance:R.distance,totalDistance:R.totalDistance,altitude:R.altitude})}g.initialFuel&&Math.abs(g.initialFuel-d)>.1&&console.warn(` Fuel mismatch in leg ${w}:`,{currentFuel:d,legInitialFuel:g.initialFuel,difference:g.initialFuel-d,usingValue:y});const x=y-(g.fuelRemaining||y),A=g.distance||0;console.log(` Processing leg ${w} - ${g.id}:`,{legStartFuel:y,legInitialFuel:g.initialFuel,legFuelRemaining:g.fuelRemaining,legFuelConsumed:x,legDistance:A,segmentCount:((Y=g.segments)==null?void 0:Y.length)||0,hasSegments:!!g.segments&&g.segments.length>0,waypointCount:((re=g.waypoints)==null?void 0:re.length)||0,hasTOC:(E=g.waypoints)==null?void 0:E.some(R=>{var q;return R.name==="-TOC-"||((q=R.name)==null?void 0:q.includes("TOC"))})});const N=x>0&&A>0?x/A:0,P=g.waypoints.reduce((R,q)=>R+(q.distance||0),0);b.distance=P;let j=0,C=0;for(let R=0;R<w;R++)C+=f.legs[R].distance||0;const _=f.legs.reduce((R,q,ee)=>ee===w?R+P:R+(q.distance||0),0);if(b.waypoints=g.waypoints.map((R,q)=>{var ee;(R.name==="-TOC-"||R.id==="-TOC-")&&console.log(` BEFORE processing TOC waypoint at index ${q}:`,{name:R.name,id:R.id,fob:R.fob,fuelOnBoard:R.fuelOnBoard,originalObjectRef:R});try{(q<5||(ee=R.name)!=null&&ee.includes("TOC")||R.id==="-TOC-"||R.name==="-TOC-")&&console.log(` Processing Waypoint ${q}: name="${R.name}", id="${R.id}", hasFob=${R.fob!==void 0}`);let H=0;for(let ke=0;ke<q;ke++)H+=g.waypoints[ke].distance||0;const te=H;(R.name==="-TOC-"||R.name==="TOC"||R.id==="-TOC-")&&console.log(" TOC distance calculation:",{waypointIndex:q,cumulativeDistance:H,distanceTraveled:te,waypointDistances:g.waypoints.slice(0,q+1).map((ke,De)=>({index:De,name:ke.name,id:ke.id,distance:ke.distance})),normalSegmentsCount:ce.length,normalSegmentsDistances:ce.map(ke=>({point:ke.point,startDist:ke.startDistance,endDist:ke.endDistance}))});let X=y;const G={...g,specialCondition:"normal"},ce=Fi(G,e.configuration);if((R.name==="-TOC-"||R.id==="-TOC-")&&console.log(" Normal segments for TOC waypoint calculation:",{segmentCount:(ce==null?void 0:ce.length)||0,segments:ce==null?void 0:ce.map(ke=>({point:ke.point,initialFuel:ke.initialFuel,remainingFuel:ke.remainingFuel,initialFuelKlb:ke.initialFuel/1e3,remainingFuelKlb:ke.remainingFuel/1e3,startDist:ke.startDistance,endDist:ke.endDistance}))}),ce&&ce.length>0){let ke=0,De=ce[0];for(let Le=0;Le<ce.length;Le++){const Ge=ce[Le];if(Ge.startDistance!==void 0&&Ge.endDistance!==void 0){if(te>=Ge.startDistance&&te<=Ge.endDistance){ke=Le,De=Ge;break}else if(te<Ge.startDistance){ke=Math.max(0,Le-1),De=ce[ke];break}}}if((R.name==="-TOC-"||R.name==="TOC"||R.id==="-TOC-")&&console.log(" TOC segment search:",{distanceTraveled:te,segmentIndex:ke,segmentForWaypoint:De?{point:De.point,startDist:De.startDistance,endDist:De.endDistance,initialFuelKlb:(De.initialFuel||0)/1e3,remainingFuelKlb:(De.remainingFuel||0)/1e3}:null,allSegmentDistances:g.segments.map(Le=>({point:Le.point,startDist:Le.startDistance,endDist:Le.endDistance}))}),te>ce[ce.length-1].endDistance&&(ke=ce.length-1,De=ce[ke]),De){if(Math.abs(te-De.startDistance)<.1){let Le=De.initialFuel||0;X=Le>1e3?Le/1e3:Le}else if(Math.abs(te-De.endDistance)<.1){let Le=De.remainingFuel||0;X=Le>1e3?Le/1e3:Le}else{const Le=De.endDistance-De.startDistance,Ge=te-De.startDistance,Ue=Le>0?Ge/Le:0;let mt=De.fuelConsumed||De.fuelConsumptionPerSegment||0,et=De.initialFuel||0;et>1e3&&(et=et/1e3,mt=mt/1e3),X=et-mt*Ue}console.log(` Waypoint ${R.name} segment-based fuel:`,{waypointDistance:te,segmentIndex:ke,segmentStartDist:De.startDistance,segmentEndDist:De.endDistance,segmentInitialFuelRaw:De.initialFuel,segmentRemainingFuelRaw:De.remainingFuel,segmentInitialFuelKlb:De.initialFuel>1e3?De.initialFuel/1e3:De.initialFuel,segmentRemainingFuelKlb:De.remainingFuel>1e3?De.remainingFuel/1e3:De.remainingFuel,calculatedFuel:X}),(R.name==="-TOC-"||R.name==="TOC"||R.id==="-TOC-")&&console.log(" TOC FUEL CHECK:",{segmentRawValues:{initialFuel:De.initialFuel,remainingFuel:De.remainingFuel,fuelConsumed:De.fuelConsumed||De.fuelConsumptionPerSegment},segmentKlbValues:{initialFuelKlb:(De.initialFuel||0)/1e3,remainingFuelKlb:(De.remainingFuel||0)/1e3,fuelConsumedKlb:(De.fuelConsumed||De.fuelConsumptionPerSegment||0)/1e3},calculatedValue:X,expectedValue:26.9,actualDisplayValue:28,difference:X-26.9})}if(R.name&&(R.name.includes("TOC")||R.name.includes("Top of Climb")||R.name==="-TOC-")||R.id==="-TOC-"){console.log(` Waypoint ${R.name} fuel calculation:`,{waypointIndex:q,waypointId:R.id,distanceTraveled:te,segmentFuelConsumedLbs:segmentFuelConsumed,segmentFuelConsumedKlb:segmentFuelConsumed/1e3,legStartFuel:y,calculatedRemainingFuel:X,originalWaypointFob:R.fob,legIndex:w,legType:g.type,legInitialFuel:g.initialFuel,legFuelRemaining:g.fuelRemaining,segmentDetails:ce==null?void 0:ce.map((Ue,mt)=>({index:mt,point:Ue.point,startDist:Ue.startDistance,endDist:Ue.endDistance,fuelConsumed:Ue.fuelConsumed||Ue.fuelConsumptionPerSegment,fuelConsumedKlb:(Ue.fuelConsumed||Ue.fuelConsumptionPerSegment)/1e3,remainingFuel:Ue.remainingFuel,remainingFuelKlb:Ue.remainingFuel/1e3,isClimb:Ue.point==="climb"||Ue.startAltitude<Ue.endAltitude,startAlt:Ue.startAltitude,endAlt:Ue.endAltitude}))});const Le=ce.find(Ue=>Ue.point==="climb"),Ge=ce.find(Ue=>Ue.startDistance!==void 0&&Ue.endDistance!==void 0&&te>=Ue.startDistance&&te<=Ue.endDistance);console.log(` Looking for segments at distance ${te}:`,{allSegments:ce.map(Ue=>({point:Ue.point,startDist:Ue.startDistance,endDist:Ue.endDistance,initialFuel:Ue.initialFuel,remainingFuel:Ue.remainingFuel,initialFuelKlb:Ue.initialFuel/1e3,remainingFuelKlb:Ue.remainingFuel/1e3,fuelConsumed:Ue.fuelConsumed||Ue.fuelConsumptionPerSegment,fuelConsumedKlb:(Ue.fuelConsumed||Ue.fuelConsumptionPerSegment)/1e3})),climbSegment:Le?{point:Le.point,initialFuel:Le.initialFuel,remainingFuel:Le.remainingFuel,initialFuelKlb:Le.initialFuel/1e3,remainingFuelKlb:Le.remainingFuel/1e3,fuelConsumed:Le.fuelConsumed||Le.fuelConsumptionPerSegment,fuelConsumedKlb:(Le.fuelConsumed||Le.fuelConsumptionPerSegment)/1e3}:null}),Ge&&(console.log(" TOC Segment details:",{segmentPoint:Ge.point,segmentRemainingFuel:Ge.remainingFuel,segmentRemainingFuelKlb:Ge.remainingFuel/1e3,segmentFuelConsumed:Ge.fuelConsumed||Ge.fuelConsumptionPerSegment,startAlt:Ge.startAltitude,endAlt:Ge.endAltitude,distanceCheck:{waypointDistance:te,segmentStart:Ge.startDistance,segmentEnd:Ge.endDistance,isAtEnd:Math.abs(te-Ge.endDistance)<1}}),Ge.point==="climb"&&Math.abs(te-Ge.endDistance)<2?(console.log(` This is the exact TOC position! Segment shows remaining fuel: ${(Ge.remainingFuel/1e3).toFixed(1)} klb`),X=Ge.remainingFuel/1e3,console.log(` Using climb segment's remaining fuel value: ${X.toFixed(1)} klb`)):Le&&(R.name==="-TOC-"||R.name==="TOC"||R.id==="-TOC-")&&(console.log(" TOC not exactly at climb segment end, using climb segment remaining fuel anyway"),X=Le.remainingFuel/1e3,console.log(` Using climb segment's remaining fuel: ${X.toFixed(1)} klb`)))}}else{const ke=N*te;X=Math.max(0,y-ke),(R.name==="-TOC-"||R.name==="TOC"||R.id==="-TOC-")&&console.warn(" No segments available for TOC waypoint, using linear interpolation")}if((R.name==="-TOC-"||R.name==="TOC"||R.id==="-TOC-")&&ce&&ce.length>0){const ke=ce.find(De=>De.point==="climb");if(ke&&ke.remainingFuel!==void 0){const De=ke.remainingFuel;X=De>1e3?De/1e3:De,console.log(" CRITICAL OVERRIDE: Using climb segment remaining fuel for TOC:",{waypointName:R.name,waypointId:R.id,rawValue:De,convertedValue:X,isConverted:De>1e3,previousValue:y-N*te})}}let ae=null;if(ce&&ce.length>0){for(const ke of ce)if(ke.startDistance!==void 0&&ke.endDistance!==void 0&&te>=ke.startDistance&&te<=ke.endDistance){ae=ke;break}}const le=R.groundSpeed||(ae==null?void 0:ae.groundSpeed)||250,xe=R.trueAirSpeed||(ae==null?void 0:ae.trueAirSpeed)||0,be=R.ias||(ae==null?void 0:ae.ias)||0,de=R.altitude||(ae==null?void 0:ae.endAltitude)||0,ie=R.isa||R.temp||(ae==null?void 0:ae.isa)||0,Ce=(R.distance||0)/le*60;j+=Ce;const Fe=tx(m,j);let Ae=0;for(let ke=q+1;ke<g.waypoints.length;ke++){const De=g.waypoints[ke],Le=De.groundSpeed||le;Le>0&&De.distance>0&&(Ae+=De.distance/Le*60)}const Te=C+H+(R.distance||0),Re=_-Te;(R.name==="-TOC-"||R.name==="TOC"||R.id==="-TOC-")&&(console.log(" FINAL TOC waypoint fuel assignment:",{waypointName:R.name,remainingFuelCalculated:X,legStartFuel:y,distanceTraveled:te,segmentPoint:ae==null?void 0:ae.point,segmentRemainingFuel:ae==null?void 0:ae.remainingFuel,segmentRemainingFuelKlb:ae?ae.remainingFuel/1e3:"N/A",expectedValue:26.9,willDisplay:X.toFixed(1)}),Math.abs(X-28)<.1&&console.warn(" TOC waypoint about to be set to 28.0 klb! This is incorrect.")),(R.name==="-TOC-"||R.id==="-TOC-")&&console.log(` RETURNING TOC waypoint with fob=${X.toFixed(1)} klb`);const Ie={...R,fob:X,fuelOnBoard:X*1e3,eta:R.eta instanceof Date?R.eta:Fe,eet:Ce,toEET:Ae,groundSpeed:le,trueAirSpeed:xe,ias:be,altitude:de,isa:ie,temp:ie,totalDistance:H,distanceRemain:Re,magHDG:R.magHDG||R.heading||0,magDec:R.magDec||0,wind:R.wind||0,windVelocity:R.windVelocity||0,headTail:R.headTail||0};return(R.name==="-TOC-"||R.id==="-TOC-")&&console.log(" TOC waypoint object being returned:",{id:Ie.id,name:Ie.name,fob:Ie.fob,fuelOnBoard:Ie.fuelOnBoard,remainingFuel:X}),Ie}catch(H){return console.error(`Error calculating fuel for waypoint ${R.name}:`,H),R}}),g.segments&&g.segments.length>0){const R=g.segments[g.segments.length-1];if(R.remainingFuel!==void 0){const q=R.remainingFuel;d=q>1e3?q/1e3:q,console.log(" Using last segment remaining fuel for next leg:",{lastSegmentRemainingFuel:q,lastSegmentRemainingFuelKlb:d,isConverted:q>1e3,legFuelRemaining:g.fuelRemaining})}else g.fuelRemaining!==void 0&&(d=g.fuelRemaining)}else g.fuelRemaining!==void 0?d=g.fuelRemaining:d=y-x;return m=tx(m,g.legDuration*60||0),b}),f.legs.forEach((g,w)=>{var y;const b=(y=g.waypoints)==null?void 0:y.find(x=>x.name==="-TOC-"||x.name==="TOC"||x.id==="-TOC-");b&&console.log(` FINAL TOC waypoint in returned plan - leg ${w}:`,{name:b.name,id:b.id,fob:b.fob,fuelOnBoard:b.fuelOnBoard,hasFob:b.fob!==void 0,hasFuelOnBoard:b.fuelOnBoard!==void 0})}),f}catch(f){return console.error("Error calculating waypoint fuel values:",f),e}}function a3(e){console.log("Starting plan calculation");const t={...e};let n=0,r=0;const i=e.configuration.fuelOnBoard;let a=e.configuration.zeroFuelWeight*1e3+i*1e3,o=i,s=0,l=0,c=!0;t.legs=e.legs.map((f,p)=>{const d={...f};if(console.log("planCalculation processing leg:",{id:f.id,type:f.type,specialCondition:f.specialCondition,index:p}),d.totalDistance=n+d.distance,d.initialWeight=a/1e3,d.initialFuel=o,d.previousLegAltitude=s,d.previousLegSpeed=l,d.firstClimbLeg=c&&d.type!=="taxi",console.log(` PLAN CALC - Setting leg ${p} previousLegAltitude:`,{legId:d.id,legType:d.type,previousLegAltitude:s,currentLegAltitude:d.altitude,altitudeMode:d.altitudeMode,isFirstClimbLeg:d.firstClimbLeg}),console.log(`planCalculation - Setting leg ${p} initialFuel:`,{legId:d.id,currentFuel:o,initialFuel:e.configuration.fuelOnBoard,fuelOnBoard:e.configuration.fuelOnBoard}),d.waypoints&&d.waypoints.length>0){const{isa:m,wind:g}=r0(d.waypoints);d.isa=m,d.wind=g}if(d.type==="taxi")d.fuelConsumed=1,d.legDuration=.25,d.segments=[],s=d.altitude||0,console.log(` PLAN CALC - Taxi leg ${p} setting altitude:`,{legId:d.id,taxiAltitude:d.altitude,newPreviousLegAltitude:s});else if(console.log(` Calculating segments for leg ${p}:`,{legId:d.id,type:d.type,isa:d.isa,specialCondition:d.specialCondition,hasManualAltitudes:!!d.manualSegmentAltitudes}),d.segments=Fi(d,e.configuration),d.manualSegmentAltitudes&&d.segments&&(console.log("Applying manual altitude overrides to segments"),d.segments=XD(d.segments,d.manualSegmentAltitudes,e.configuration)),d.segments.length>0){d.fuelConsumed=d.segments.reduce((g,w)=>g+(w.fuelConsumptionPerSegment||w.fuelConsumed||0),0)/1e3,d.legDuration=d.segments.reduce((g,w)=>g+(w.duration||0),0)/60;const m=d.segments[d.segments.length-1];s=m.altitude||m.endAltitude||d.altitude,l=m.groundSpeed||0,console.log(` PLAN CALC - Updating previousLegAltitude from leg ${p}:`,{legId:d.id,lastSegmentAltitude:m.altitude,lastSegmentEndAltitude:m.endAltitude,legAltitude:d.altitude,newPreviousLegAltitude:s})}return d.type==="shield"&&d.fuelReceived?o+=d.fuelReceived*2204.62:d.type==="airRefueling"&&d.fuelOffload&&(o-=d.fuelOffload*2204.62),o-=d.fuelConsumed,d.fuelRemaining=o,a=e.configuration.zeroFuelWeight*1e3+o*1e3,a+=d.zfwChange*1e3,d.endOfFlightWeight=a/1e3,n+=d.distance,r+=d.legDuration,d.totalDuration=r,c&&d.type!=="taxi"&&(c=!1),d}),t.fuel=Kd(t);const h=rl(t);return console.log("Plan calculation complete, waypoint fuels calculated"),h}function XD(e,t,n){var c,h,f;const r=((c=e[e.length-1])==null?void 0:c.endDistance)||0;let i=0,a=((h=e[0])==null?void 0:h.initialFuel)||0,o=((f=e[0])==null?void 0:f.startAltitude)||0,s=[];for(let p=0;p<e.length&&!(i>=r);p++){const d=e[p],m=t[p],g={...d};if(g.startAltitude=o,m===void 0){const N=r-i;if(g.point!=="climb"&&g.duration<60){g.duration;const P=60,j=g.groundSpeed||200,C=P/60*j;if(C<=N){g.duration=P,g.distance=C,g.startDistance=i,g.endDistance=i+C,g.accumulatedDistance=g.endDistance;const _=P/60,M=(g.fuelConsumptionPerHour||0)*_;g.fuelConsumptionPerSegment=Math.round(M*10)/10,g.fuelConsumed=g.fuelConsumptionPerSegment}else{const _=N;g.startDistance=i,g.endDistance=i+_,g.accumulatedDistance=g.endDistance,g.distance=_,g.duration=Math.round(_/j*60);const M=g.duration/60,O=(g.fuelConsumptionPerHour||0)*M;g.fuelConsumptionPerSegment=Math.round(O*10)/10,g.fuelConsumed=g.fuelConsumptionPerSegment}}else{const P=(d.endDistance||0)-(d.startDistance||0),j=Math.min(P,N);if(g.startDistance=i,g.endDistance=i+j,g.accumulatedDistance=g.endDistance,g.distance=j,j<P&&g.groundSpeed>0){g.duration=Math.round(j/g.groundSpeed*60);const C=g.duration/60,_=(g.fuelConsumptionPerHour||0)*C;g.fuelConsumptionPerSegment=Math.round(_*10)/10,g.fuelConsumed=g.fuelConsumptionPerSegment}}g.initialFuel=a,g.remainingFuel=Math.max(a-(g.fuelConsumed||0),0),i=g.endDistance,a=g.remainingFuel,o=g.endAltitude||o,s.push(g);continue}const w=d.point==="climb"||p===0;g.endAltitude=m,g.altitude=m;const b=d.initialWeight||100,y=r6(n.drag),x=d.isa||0,A=d.projectedWind||0;if(w&&m!==g.startAltitude){if(m-g.startAltitude>0){const P=m/1e3,j=g.startAltitude/1e3,C=.00145*Math.pow(P,3)-.0445*Math.pow(P,2)+1.2121*P-1.5798,_=(b+x*(.0083*b-.253)-80)/2,M=(3e-5*Math.pow(P,2)-2e-4*P+.0295)*_,O=C*Math.pow(2.71828,M),T=.00145*Math.pow(j,3)-.0445*Math.pow(j,2)+1.2121*j-1.5798,I=(b+x*(.0083*b-.253)-80)/2,L=(3e-5*Math.pow(j,2)-2e-4*j+.0295)*I,U=T*Math.pow(2.71828,L),D=Math.max(0,O-U),$=43e-5*Math.pow(P,3)-.0155*Math.pow(P,2)+.4814*P-.9915,W=(b+x*(b*.01-.3)-80)/2,z=(227e-7*Math.pow(P,2)+3e-5*j+.0222)*W,Y=$*Math.pow(2.71828,z)-(j>0?(43e-5*Math.pow(j,3)-.0155*Math.pow(j,2)+.4814*j-.9915)*Math.pow(2.71828,(227e-7*Math.pow(j,2)+3e-5*0+.0222)*W):0);g.distance=D,g.startDistance=i,g.endDistance=i+D,g.accumulatedDistance=g.endDistance,g.duration=Math.round(Y*60);const re=D/Y;g.groundSpeed=Math.round(re),g.trueAirSpeed=Math.round(re-A);const E=.021*Math.pow(P,3)-.9036*Math.pow(P,2)+46.384*P-37.85,R=(b+x*(b*.0085-.3)-80)/2,q=(Math.pow(P,2)*2e-5-P*4e-6+.023)*R,ee=E*Math.pow(Math.E,q)/1e3+.00833333*y,H=.021*Math.pow(j,3)-.9036*Math.pow(j,2)+46.384*j-37.85,te=(b+x*(b*.0085-.3)-80)/2,X=(Math.pow(j,2)*2e-5-j*4e-6+.023)*te,G=H*Math.pow(Math.E,X)/1e3+.00833333*y,ae=Math.max(0,ee-G)*1e3,le=Y>0?ae/Y:0;g.fuelConsumptionPerHour=Math.round(le),g.fuelConsumptionPerSegment=Math.round(ae*10)/10,g.fuelConsumed=g.fuelConsumptionPerSegment}}else{const N=m/1e3;let P;if(d.point,b>154.999)N<20?P=Math.round(N*N*.03-2.6*N+246):P=Math.round(.2*N+202);else if(N<25.01){const E=(5e-5*N*N+.0186*N+.6014)*(b-80)/2+.0261*N*N-2.8854*N+225.43-.16*x-y*.19;P=Math.round(E)}else{const E=1.09765*(b-80)/2+169.60000000000002-.16*x;P=Math.round(E-8*(N-25)/5-y*.19)}g.ias=P,g.indicatedAirSpeed=P;const _=(15-1.98*N+x+273.15)/288.15,O=Math.pow(1-.0065*(m*.3048)/288.15,5.2561)/_,T=P/Math.sqrt(O);g.trueAirSpeed=Math.round(T),g.groundSpeed=Math.round(T+A);const I=p===e.length-1,L=d.duration||60,U=I&&L<60?L:60;g.duration=U;const D=U/60,$=g.groundSpeed*D;if(I&&U<60){const E=r-i,R=g.groundSpeed;console.log("Last segment adjustment:",{isLastSegment:I,durationMinutes:U,remainingDistance:E,maxDistanceFor60Min:R,cumulativeDistance:i,totalLegDistance:r,groundSpeed:g.groundSpeed}),E<=R?(g.distance=E,g.duration=Math.round(E/g.groundSpeed*60),console.log("Extended last segment to cover remaining distance")):g.distance=$}else g.distance=$;g.startDistance=i,g.endDistance=i+g.distance,g.accumulatedDistance=g.endDistance;const W=((b/2-40)*(3e-4*N+.0076)+(6e-4*N*N-.0421*N+1.395)-Math.pow(x,2)*2e-5+.0012*x+.0011+y/20*.01)*4,z=Math.max(W*1e3,150);g.fuelConsumptionPerHour=Math.round(z*10)/10;const Y=g.duration/60,re=z*Y;g.fuelConsumptionPerSegment=Math.round(re*10)/10,g.fuelConsumed=g.fuelConsumptionPerSegment}g.initialFuel=a,g.remainingFuel=Math.max(a-(g.fuelConsumed||0),0),i=g.endDistance||i,a=g.remainingFuel,o=g.endAltitude||o,s.push(g)}if(!(Object.keys(t).length>0)&&i<r&&s.length>0){let p=r-i;const d=s[s.length-1],m=d.groundSpeed||200,g=m;if(p<1){d.endDistance=r,d.distance=d.endDistance-d.startDistance,d.accumulatedDistance=d.endDistance;const b=d.distance/m*60;d.duration=Math.round(b);const y=d.duration/60,x=(d.fuelConsumptionPerHour||0)*y;return d.fuelConsumptionPerSegment=Math.round(x*10)/10,d.fuelConsumed=d.fuelConsumptionPerSegment,d.remainingFuel=Math.max((d.initialFuel||0)-x,0),s}if(d.duration<60&&d.point!=="climb"){const b=d.duration,x=(60-b)/60*m;if(x<=p){console.log(`Extending last segment from ${b} to 60 minutes`),d.duration=60,d.distance=(d.distance||0)+x,d.endDistance=d.startDistance+d.distance,d.accumulatedDistance=d.endDistance;const A=60/60,N=(d.fuelConsumptionPerHour||0)*A;d.fuelConsumptionPerSegment=Math.round(N*10)/10,d.fuelConsumed=d.fuelConsumptionPerSegment,d.remainingFuel=Math.max((d.initialFuel||0)-N,0),i=d.endDistance,a=d.remainingFuel,p-=x}}const w=Math.ceil(p/g);for(let b=0;b<w;b++){const y=b===w-1?p-b*g:g,x={...d,id:JD(),point:"cruise",startDistance:i,endDistance:i+y,distance:y,accumulatedDistance:i+y,duration:Math.round(y/m*60),startAltitude:o,endAltitude:o,altitude:o,initialFuel:a},A=x.duration/60,N=(d.fuelConsumptionPerHour||0)*A;x.fuelConsumptionPerSegment=Math.round(N*10)/10,x.fuelConsumed=x.fuelConsumptionPerSegment,x.remainingFuel=Math.max(a-N,0),s.push(x),i=x.endDistance,a=x.remainingFuel}}return s}function JD(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const qt=$b()(Rb((e,t)=>({plans:[],currentPlanId:null,addPlan:n=>(console.log("=== PLAN STORE - addPlan ==="),console.log("Plan ID:",n.metadata.id),console.log("Plan name:",n.metadata.name),console.log("Has navlogUrl:",n.metadata.navlogUrl?"YES":"NO"),n.metadata.navlogUrl&&console.log("NavlogUrl preview:",n.metadata.navlogUrl.substring(0,100)+"..."),e(r=>({plans:[...r.plans,n],currentPlanId:n.metadata.id}))),updatePlan:(n,r)=>{var i;return console.log("=== PLAN STORE - updatePlan ==="),console.log("Plan ID:",n),console.log("Updates:",r),(i=r.metadata)!=null&&i.navlogUrl&&console.log("NavlogUrl being updated:",r.metadata.navlogUrl.substring(0,100)+"..."),e(a=>({plans:a.plans.map(o=>{if(o.metadata.id!==n)return o;const s={...o,...r,metadata:{...o.metadata,...r.metadata||{},updatedAt:new Date}};if(r.legs)s.legs=r.legs.map(l=>({...l,segments:l.segments&&l.segments.length>0?l.segments:Fi(l,s.configuration)})),s.fuel=Kd(s);else if(r.configuration){console.log("Configuration updated, recalculating entire plan");const l=a3(s);s.legs=l.legs,s.fuel=l.fuel}return s})}))},updateLeg:(n,r,i)=>e(a=>({plans:a.plans.map(o=>{var p,d;if(o.metadata.id!==n)return o;let s=[...o.legs];const l=s[r];console.log("UpdateLeg called:",{planId:n,legIndex:r,updates:i}),console.log("Current leg before update:",{id:l.id,specialCondition:l.specialCondition,type:l.type}),s[r]={...l,...i},console.log("Updated leg after applying updates:",{id:s[r].id,specialCondition:s[r].specialCondition,type:s[r].type,hasSpecialConditionUpdate:"specialCondition"in i});let c=0;if(i.waypoints&&i.waypoints.length>0&&(console.log("Processing waypoints update..."),console.log("All waypoints with distances:",i.waypoints.map(m=>({name:m.name,distance:m.distance}))),i.waypoints[0]&&i.waypoints[0].distance>0)){c=i.waypoints[0].distance,console.log(`Using first waypoint distance: ${i.waypoints[0].name} = ${c} nm`),console.log("Current leg distance:",l.distance),console.log("Updating leg distance to:",c),s[r].distance=c;const{isa:m}=r0(i.waypoints);console.log("Calculated ISA:",m),s[r].isa=m}console.log("Updated leg after changes:",s[r]);const h=i.distance!==void 0||i.altitude!==void 0||i.altitudeMode!==void 0||i.isa!==void 0||i.wind!==void 0||i.type!==void 0||i.fuelOffload!==void 0||i.fuelReceived!==void 0||i.specialCondition!==void 0||i.pressureAltitudeLimit!==void 0||i.waitingMinutes!==void 0||i.fuelChange!==void 0||i.zfwChange!==void 0||i.manualSegmentAltitudes!==void 0||i.waypoints&&c>0&&c!==l.distance||!s[r].segments||s[r].segments.length===0;if(console.log(" Checking if should recalculate:",{hasSegments:((p=s[r].segments)==null?void 0:p.length)>0,isaChanged:i.isa!==void 0,isaValue:i.isa,currentISA:l.isa,updatedISA:s[r].isa,shouldRecalculate:h,allChecks:{distance:i.distance!==void 0,altitude:i.altitude!==void 0,altitudeMode:i.altitudeMode!==void 0,isa:i.isa!==void 0,wind:i.wind!==void 0,type:i.type!==void 0,specialCondition:i.specialCondition!==void 0,noSegments:!s[r].segments||s[r].segments.length===0}}),h){console.log("Recalculating plan due to leg update"),console.log("Special condition:",s[r].specialCondition),console.log("ISA update triggered recalc:",i.isa!==void 0?`${l.isa} -> ${i.isa}`:"No ISA change");const m={...o,legs:s};s=a3(m).legs,console.log("After calculatePlan, leg special condition:",{id:s[r].id,specialCondition:s[r].specialCondition,type:s[r].type,segmentsCount:(d=s[r].segments)==null?void 0:d.length})}const f={...o,legs:s,metadata:{...o.metadata,updatedAt:new Date}};return f.fuel=Kd(f),f})})),deletePlan:n=>e(r=>({plans:r.plans.filter(i=>i.metadata.id!==n),currentPlanId:r.currentPlanId===n?null:r.currentPlanId})),setCurrentPlan:n=>e({currentPlanId:n}),getCurrentPlan:()=>{const n=t();return n.plans.find(r=>r.metadata.id===n.currentPlanId)},getPlanById:n=>t().plans.find(i=>i.metadata.id===n)}),{name:"plan-store",storage:{getItem:e=>{const t=localStorage.getItem(e);if(!t)return null;const{state:n}=JSON.parse(t);return n.plans&&n.plans.forEach(r=>{var i;r.metadata&&(r.metadata.createdAt=new Date(r.metadata.createdAt),r.metadata.updatedAt=new Date(r.metadata.updatedAt)),r.configuration&&(r.configuration.startTime=new Date(r.configuration.startTime)),(i=r.legs)==null||i.forEach(a=>{var o,s;(o=a.waypoints)==null||o.forEach(l=>{l.eta&&(l.eta=new Date(l.eta)),l.actualTime&&(l.actualTime=new Date(l.actualTime))}),(s=a.fuelReads)==null||s.forEach(l=>{l.time&&(l.time=new Date(l.time))})}),r.fuel=Kd(r)}),{state:n}},setItem:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},removeItem:e=>{localStorage.removeItem(e)}}}));async function g6(e){try{const t=await e.text(),n=JSON.parse(t);return n&&n.metadata&&n.legs?n:null}catch(t){return console.error("Error reading flight file:",t),null}}function QD(e,t){const n=JSON.stringify(e,null,2),r=new Blob([n],{type:"application/json"}),i=document.createElement("a");i.href=URL.createObjectURL(r),i.download=`${e.metadata.name.replace(/[^a-z0-9]/gi,"_")}.json`,i.click(),URL.revokeObjectURL(i.href)}function ZD(){const e=Ur(l=>l.setAppFlow),t=qt(l=>l.addPlan),n=qt(l=>l.setCurrentPlan),r=se.useRef(null),i=()=>{e({type:"planning"})},a=()=>{e({type:"navEmpty"})},o=()=>{var l;(l=r.current)==null||l.click()},s=async l=>{var f;const c=(f=l.target.files)==null?void 0:f[0];if(!c)return;const h=await g6(c);h?(t(h),n(h.metadata.id),e({type:"planning"})):alert("Failed to import flight. Please check the file format."),r.current&&(r.current.value="")};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-blue-900 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-700 rounded-full opacity-20 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-700 rounded-full opacity-20 blur-3xl"})]}),u.jsxs("div",{className:"relative z-10 max-w-md w-full text-center",children:[u.jsxs("div",{className:"bg-gray-900/30 backdrop-blur-md rounded-3xl p-8 mb-12 shadow-2xl",children:[u.jsx("div",{className:"bg-white rounded-3xl p-6 mb-6 inline-block",children:u.jsx("img",{src:"/images/chubby-unicorn-logo.png",alt:"Chubby Unicorn",className:"w-32 h-32"})}),u.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"Chubby Unicorn"}),u.jsx("p",{className:"text-xl text-gray-300 mb-2",children:"Flight Planning Excellence"}),u.jsx("p",{className:"text-sm text-gray-400",children:"By Maor Boker"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:i,className:"w-full py-4 px-6 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-full transition-all transform hover:scale-105 shadow-lg",children:"Planning Mode"}),u.jsx("button",{onClick:a,className:"w-full py-4 px-6 bg-transparent border-2 border-white text-white font-semibold rounded-full hover:bg-white/10 transition-all transform hover:scale-105",children:"Join Flight"})]}),u.jsxs("button",{onClick:o,className:"mt-8 text-white/70 hover:text-white flex items-center justify-center gap-2 mx-auto transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Import Flight"]})]}),u.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 opacity-10",children:u.jsx("img",{src:"/images/chubby-unicorn-logo.png",alt:"",className:"w-full h-full"})}),u.jsx("div",{className:"absolute bottom-20 right-20 w-32 h-32 opacity-10",children:u.jsx("img",{src:"/images/chubby-unicorn-logo.png",alt:"",className:"w-full h-full"})}),u.jsx("input",{ref:r,type:"file",accept:".json",onChange:s,className:"hidden"})]})}function eI(){const e=Ur(r=>r.setAppFlow);qt(r=>r.addPlan);const t=()=>{e({type:"planning"})},n=()=>{e({type:"pilotEmpty"})};return u.jsxs("div",{className:"min-h-screen bg-gray-900 relative flex items-center justify-center overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/50 to-blue-900/50"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse",style:{animationDuration:"3s"}}),u.jsx("img",{src:"/images/chubby-unicorn-logo.png",className:"absolute top-20 left-20 w-32 h-32 opacity-10 animate-float",style:{animationDelay:"0s"},alt:""}),u.jsx("img",{src:"/images/chubby-unicorn-logo.png",className:"absolute bottom-20 right-20 w-32 h-32 opacity-10 animate-float",style:{animationDelay:"1.5s"},alt:""}),u.jsx("img",{src:"/images/chubby-unicorn-logo.png",className:"absolute top-40 right-40 w-24 h-24 opacity-10 animate-float",style:{animationDelay:"0.7s"},alt:""}),u.jsxs("div",{className:"relative z-10 text-center",children:[u.jsxs("div",{className:"mb-12 bg-black/30 backdrop-blur-md rounded-2xl px-8 py-6 inline-block animate-scaleIn transform hover:scale-105 transition-transform duration-300",children:[u.jsx("img",{src:"/images/chubby-unicorn-logo.png",alt:"Chubby Unicorn",className:"w-32 h-32 mx-auto mb-4 animate-float"}),u.jsx("h1",{className:"text-6xl font-bold text-white animate-fadeIn",style:{animationDelay:"0.2s"},children:"Chubby Unicorn"}),u.jsx("p",{className:"text-white/70 mt-2 animate-fadeIn",style:{animationDelay:"0.4s"},children:"Flight Planning Excellence"}),u.jsx("p",{className:"text-white/50 mt-3 text-sm animate-fadeIn",style:{animationDelay:"0.5s"},children:"By Maor Boker"})]}),u.jsxs("div",{className:"space-y-6 stagger-children",children:[u.jsx("button",{onClick:t,className:"primary-button mx-auto hover-lift transform transition-all duration-300 hover:scale-110 hover:shadow-xl opacity-0 animate-slideInRight",style:{animationDelay:"0.5s",animationFillMode:"forwards"},children:"Planning Mode"}),u.jsx("button",{onClick:n,className:"secondary-button mx-auto bg-black/30 backdrop-blur-md border-white text-white hover:bg-black/40 hover-lift transform transition-all duration-300 hover:scale-110 hover:shadow-xl opacity-0 animate-slideInLeft",style:{animationDelay:"0.7s",animationFillMode:"forwards"},children:"Join Flight"})]}),u.jsx("button",{className:"mt-12 text-white/70 hover:text-white transition-all duration-300 opacity-0 animate-fadeIn hover:scale-110 transform",style:{animationDelay:"0.9s",animationFillMode:"forwards"},children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),u.jsx("span",{children:"Import Flight"})]})})]})]})}function v6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=v6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=v6(e))&&(r&&(r+=" "),r+=t);return r}const Jr={WAYPOINT:"waypoint",ALTITUDE:"altitude",HEADING:"heading",DISTANCE:"distance",DISTANCE_REMAINING:"distanceRemaining",FUEL:"fuel",FUEL_REMAINING:"fuelRemaining",EST_TIME_ENROUTE:"estimatedTimeEnroute",GROUND_SPEED:"groundSpeed",TRUE_AIRSPEED:"trueAirspeed",ISA:"isa"};function y6(e,t){var n,r,i,a;console.log("Starting parseFFTable with HTML length:",e.length);try{const s=new DOMParser().parseFromString(e,"text/html"),l=s.querySelector("parsererror");if(l)throw console.error("HTML parse error:",l.textContent),new Error("Failed to parse HTML: "+l.textContent);console.log("Document title:",s.title),console.log("Document body:",s.body?"exists":"missing");const c=new Map,h=s.querySelectorAll("script");console.log("Found scripts:",h.length);for(const L of h){const U=L.textContent||"";if(U.includes("waypoints")||U.includes("navlog")||U.includes("flight")){console.log("Found potential data script:",U.substring(0,200));try{const D=U.match(/\{[\s\S]*\}/);if(D){const $=JSON.parse(D[0]);if(console.log("Parsed JSON data:",$),$.waypoints)return vy($.waypoints);if((n=$.navlog)!=null&&n.waypoints)return vy($.navlog.waypoints);if((r=$.flightPlan)!=null&&r.waypoints)return vy($.flightPlan.waypoints)}}catch(D){console.log("Failed to parse as JSON:",D)}}}const f=s.querySelectorAll("[data-waypoint], [data-navlog], [data-flight]");console.log("Elements with data attributes:",f.length);const p=s.querySelectorAll('.waypoint, .navlog-row, .flight-leg, .nav-point, [class*="waypoint"], [class*="navlog"]');console.log("Potential waypoint containers:",p.length),p.length>0&&p.forEach((L,U)=>{var D;console.log(`Container ${U}:`,(D=L.textContent)==null?void 0:D.substring(0,100))});const d=((i=s.body)==null?void 0:i.textContent)||"";console.log("Document text preview:",d.substring(0,1e3));const m=/([A-Z]{3,5})\s+(\d{3})?\s+(\d+\.?\d*)\s*(nm|NM)/g,g=Array.from(d.matchAll(m));console.log("Waypoint text pattern matches:",g.length),g.length>0&&g.forEach((L,U)=>{console.log(`Text match ${U}:`,L[0])});const w=s.querySelectorAll("table");console.log("Found tables:",w.length),w.length===0&&p.length===0&&h.length===0&&(console.log("No recognizable data structures found"),console.log("Body HTML preview:",(a=s.body)==null?void 0:a.innerHTML.substring(0,1e3)));let b=null,y=null;if(w.forEach((L,U)=>{const D=Array.from(L.querySelectorAll("th")).map($=>{var W;return((W=$.textContent)==null?void 0:W.trim())||""});if(console.log(`Table ${U} headers:`,D),D.some($=>$.toLowerCase().includes("waypoint summary"))){console.log("Found waypoint summary table at index:",U);const $=Array.from(L.querySelectorAll("tr"));console.log(`Waypoint summary table has ${$.length} rows`),$.slice(0,5).forEach((W,z)=>{const Y=Array.from(W.querySelectorAll("td, th"));console.log(`Row ${z}:`,Y.map(re=>{var E;return(E=re.textContent)==null?void 0:E.trim()}).slice(0,5))})}(D.some($=>$.toLowerCase().includes("waypoint"))||D.some($=>$.toLowerCase().includes("ident")))&&(D.some($=>$.toLowerCase().includes("hdg"))||D.some($=>$.toLowerCase().includes("heading"))||D.some($=>$.toLowerCase().includes("crs")))&&(b=L,console.log("Found navigation table at index:",U),console.log("Navigation table columns:",D)),(D.some($=>$.toLowerCase().includes("lat"))||D.some($=>$.toLowerCase().includes("lon"))||D.some($=>$.toLowerCase().includes("airport")))&&(y=L,console.log("Found coordinates/airport table at index:",U),Array.from(L.querySelectorAll("tr")).slice(0,5).forEach((W,z)=>{const Y=Array.from(W.querySelectorAll("td, th"));console.log(`Coord table row ${z}:`,Y.map(re=>{var E;return(E=re.textContent)==null?void 0:E.trim()}).slice(0,5))}))}),!b)throw console.error("No navigation table found. Available tables:",w.length),w.forEach((L,U)=>{const D=Array.from(L.querySelectorAll("th")).map(W=>{var z;return((z=W.textContent)==null?void 0:z.trim())||""}),$=L.querySelectorAll("tr").length;if(console.log(`Table ${U}: ${$} rows, headers:`,D),D.length===0&&$>0){const W=L.querySelector("tr");if(W){const z=Array.from(W.querySelectorAll("td")).map(Y=>{var re;return((re=Y.textContent)==null?void 0:re.trim())||""});console.log(`Table ${U} first row:`,z)}}}),new Error("Navigation table not found in HTML. Check console for table details.");const x=Array.from(w).find(L=>Array.from(L.querySelectorAll("th")).map(D=>{var $;return(($=D.textContent)==null?void 0:$.trim())||""}).some(D=>D.toLowerCase().includes("waypoint summary"))),A=new Map;x&&(console.log("Processing waypoint summary table for coordinates..."),Array.from(x.querySelectorAll("tr")).forEach((U,D)=>{var W,z;if(D===0)return;const $=Array.from(U.querySelectorAll("td"));for(let Y=0;Y<$.length;Y+=2){const re=$[Y],E=$[Y+1];if(re&&E){const R=((W=re.textContent)==null?void 0:W.trim())||"",ee=(((z=E.textContent)==null?void 0:z.trim())||"").match(/([NS])(\d{2})(\d{2}\.\d+)\/([EW])(\d{3})(\d{2}\.\d+)/);if(ee&&R){const H=parseFloat(ee[2]),te=parseFloat(ee[3]);let X=H+te/60;ee[1]==="S"&&(X=-X);const G=parseFloat(ee[5]),ce=parseFloat(ee[6]);let ae=G+ce/60;ee[4]==="W"&&(ae=-ae),A.set(R,{latitude:X,longitude:ae}),console.log(`Parsed coordinates for ${R}: ${X.toFixed(6)}, ${ae.toFixed(6)}`)}}}}),console.log(`Total coordinates parsed: ${A.size}`)),y&&A.size===0&&y.querySelectorAll("tr").forEach((U,D)=>{var W,z,Y;if(D===0)return;const $=U.querySelectorAll("td");if($.length>=3){const re=((W=$[0].textContent)==null?void 0:W.trim())||"",E=((z=$[1].textContent)==null?void 0:z.trim())||"",R=((Y=$[2].textContent)==null?void 0:Y.trim())||"",q=rI(E,R);q&&re&&A.set(re,q)}});const N=Array.from(b.querySelectorAll("th")).map(L=>{var U;return((U=L.textContent)==null?void 0:U.trim())||""});console.log("Navigation table headers:",N),console.log("Headers with content:",N.filter(L=>L.length>0));const P=b.querySelectorAll("thead tr");console.log("Header rows:",P.length);const j=P[P.length-1];if(j){const L=Array.from(j.querySelectorAll("th")).map(U=>{var D;return((D=U.textContent)==null?void 0:D.trim())||""});console.log("Last header row headers:",L)}const C=Array.from(b.querySelectorAll("tr")),_=C.filter(L=>!(L.closest("thead")||L.querySelector("th")||L.style.display==="none"));if(console.log("Total rows:",C.length,"Data rows:",_.length),_.length>0){const L=_[0],U=Array.from(L.querySelectorAll("td"));console.log("First data row cells:",U.length),console.log("First 5 cell values:",U.slice(0,5).map(D=>{var $;return($=D.textContent)==null?void 0:$.trim()}))}const M=_.length>0?Array.from(_[0].querySelectorAll("td")).length:0,O=tI(N,M);_.forEach((L,U)=>{var z,Y,re,E,R,q,ee,H,te,X,G,ce,ae,le,xe,be,de,ie,Ce,Fe,Ae,Te,Re,Ie,ke,De;const D=Array.from(L.querySelectorAll("td"));if(D.length===0)return;console.log(`Data row ${U}: ${D.length} cells`),U<3&&(console.log(`Row ${U} all values:`,D.map((Le,Ge)=>{var Ue;return`[${Ge}]: ${(Ue=Le.textContent)==null?void 0:Ue.trim()}`})),console.log(`Row ${U} - Looking for wind data:`),D.forEach((Le,Ge)=>{var mt;const Ue=((mt=Le.textContent)==null?void 0:mt.trim())||"";(Ue.match(/\d+\/\d+/)||Ue.toLowerCase().includes("wind")||Ue.includes("/"))&&console.log(`  Cell [${Ge}]: "${Ue}" - potential wind data`)}));const $=((Y=(z=D[0])==null?void 0:z.textContent)==null?void 0:Y.trim())||"";if(!$||$===""){console.log(`Row ${U} has no waypoint name, skipping`);return}const W={waypoint:$};if(D.length>2&&(W.heading=wa((E=(re=D[2])==null?void 0:re.textContent)==null?void 0:E.trim())),D.length>4&&(W.altitude=o3((q=(R=D[4])==null?void 0:R.textContent)==null?void 0:q.trim())),D.length>9&&(W.groundSpeed=wa((H=(ee=D[9])==null?void 0:ee.textContent)==null?void 0:H.trim())),D.length>10){const Le=wa((X=(te=D[10])==null?void 0:te.textContent)==null?void 0:X.trim());W.distance=Le,console.log(`Row ${U} - Waypoint: ${$}, Distance cell [10]: "${(ce=(G=D[10])==null?void 0:G.textContent)==null?void 0:ce.trim()}", Parsed distance: ${Le}`)}if(D.length>11&&(W.distanceRemaining=wa((le=(ae=D[11])==null?void 0:ae.textContent)==null?void 0:le.trim())),D.length>12&&(W.fuel=wa((be=(xe=D[12])==null?void 0:xe.textContent)==null?void 0:be.trim())),D.length>13&&(W.fuelRemaining=wa((ie=(de=D[13])==null?void 0:de.textContent)==null?void 0:ie.trim())),D.length>8&&(W.trueAirspeed=wa((Fe=(Ce=D[8])==null?void 0:Ce.textContent)==null?void 0:Fe.trim())),D.length>6){const Le=((Te=(Ae=D[6])==null?void 0:Ae.textContent)==null?void 0:Te.trim())||"";console.log(`Row ${U} - Wind cell [6] raw value: "${Le}"`);const Ge=Le.match(/(\d+)\/(\d+)/);Ge?(W.windDirection=parseInt(Ge[1]),W.windVelocity=parseInt(Ge[2]),console.log(`Row ${U} - Wind parsed: Dir: ${W.windDirection}, Vel: ${W.windVelocity} kts`)):(console.log(`Row ${U} - Wind NOT parsed from: "${Le}"`),W.windDirection=0,W.windVelocity=0)}else console.log(`Row ${U} - No wind cell (only ${D.length} cells)`);D.length>7&&(W.isa=nI((Ie=(Re=D[7])==null?void 0:Re.textContent)==null?void 0:Ie.trim()),console.log(`Row ${U} - ISA cell [7]: "${(De=(ke=D[7])==null?void 0:ke.textContent)==null?void 0:De.trim()}", Parsed ISA: ${W.isa}`)),A.has($)&&(W.coordinates=A.get($)),console.log(`Processed waypoint: ${$}`,{...W,windInfo:`${W.windDirection||0}/${W.windVelocity||0}kts`}),c.set($,W)}),console.log("Total waypoints found:",c.size),console.log("Waypoints:",Array.from(c.entries()));const T=Array.from(c.entries());if(T.length>=2){const[L,U]=T[0],[D,$]=T[1];!U.windDirection&&!U.windVelocity&&$.windDirection&&$.windVelocity&&(console.log(`First waypoint ${L} has no wind, using wind from ${D}`),U.windDirection=$.windDirection,U.windVelocity=$.windVelocity,c.set(L,U))}const I=Array.from(c.values()).reduce((L,U)=>L+(U.distance||0),0);return console.log("=== PARSER DISTANCE DEBUG ==="),console.log("Total parsed distance:",I,"nm"),Array.from(c.entries()).forEach(([L,U])=>{console.log(`${L}: ${U.distance} nm, wind: ${U.windDirection}/${U.windVelocity}kts`)}),console.log("=== END PARSER DEBUG ==="),c.size===0&&(console.log("No waypoints found with standard parsing. Trying alternative methods..."),w.forEach((L,U)=>{Array.from(L.querySelectorAll("tr")).forEach(($,W)=>{var Y,re,E,R,q,ee,H,te,X;const z=Array.from($.querySelectorAll("td"));if(z.length>=3){const G=((Y=z[0].textContent)==null?void 0:Y.trim())||"";if(/^[A-Z0-9]{3,5}$/.test(G)){console.log(`Found potential waypoint in table ${U}, row ${W}: ${G}`);const ce={waypoint:G,distance:wa((E=(re=z[1])==null?void 0:re.textContent)==null?void 0:E.trim()),altitude:o3((q=(R=z[2])==null?void 0:R.textContent)==null?void 0:q.trim())};z.length>3&&(ce.heading=wa((H=(ee=z[3])==null?void 0:ee.textContent)==null?void 0:H.trim())),z.length>4&&(ce.groundSpeed=wa((X=(te=z[4])==null?void 0:te.textContent)==null?void 0:X.trim())),c.set(G,ce)}}})}),console.log("Alternative parsing found waypoints:",c.size)),{waypoints:c,originalUrl:t,importedAt:new Date}}catch(o){throw console.error("Error in parseFFTable:",o),o}}function tI(e,t){const n=new Map,r=[];return e.forEach((i,a)=>{i.trim()&&r.push({text:i,index:a})}),console.log("Non-empty headers:",r),console.log("Data cell count:",t),r.length<=t&&r.forEach((i,a)=>{const o=i.text.toLowerCase().trim();console.log(`Mapping header "${i.text}" at position ${a}`),o==="waypoint"||o.includes("waypoint")?n.set(Jr.WAYPOINT,a):o==="alt"?n.set(Jr.ALTITUDE,a):o==="hdg"||o==="crs"?n.set(Jr.HEADING,a):o==="leg"?n.set(Jr.DISTANCE,a):o==="rem"&&!n.has(Jr.DISTANCE_REMAINING)?n.set(Jr.DISTANCE_REMAINING,a):o==="used"?n.set(Jr.FUEL,a):o==="rem"&&a>10?n.set(Jr.FUEL_REMAINING,a):o==="ete"?n.set(Jr.EST_TIME_ENROUTE,a):o==="gs"?n.set(Jr.GROUND_SPEED,a):o==="tas"?n.set(Jr.TRUE_AIRSPEED,a):o==="dir/spd"?n.set("WIND_DIR_SPD",a):o==="isa"&&n.set(Jr.ISA,a)}),console.log("Column mapping:",Object.fromEntries(n)),n}function vy(e){const t=new Map;return Array.isArray(e)&&e.forEach((n,r)=>{var a,o,s,l,c,h,f,p;const i={waypoint:n.name||n.ident||n.waypoint||`WPT${r+1}`,coordinates:n.coordinates||n.location||n.position?{latitude:((a=n.coordinates)==null?void 0:a.latitude)||((o=n.location)==null?void 0:o.lat)||((s=n.position)==null?void 0:s.lat)||0,longitude:((l=n.coordinates)==null?void 0:l.longitude)||((c=n.location)==null?void 0:c.lon)||((h=n.position)==null?void 0:h.lon)||0}:void 0,altitude:n.altitude||n.alt||void 0,distance:n.distance||n.dist||void 0,heading:n.heading||n.course||void 0,groundSpeed:n.groundSpeed||n.gs||void 0,fuel:n.fuel||void 0,windDirection:((f=n.wind)==null?void 0:f.direction)||n.windDir||void 0,windVelocity:((p=n.wind)==null?void 0:p.velocity)||n.windSpeed||void 0};i.waypoint&&t.set(i.waypoint,i)}),{waypoints:t,originalUrl:void 0,importedAt:new Date}}function nI(e){if(!e)return 0;const t=e.trim(),n=parseFloat(t);return isNaN(n)?0:n}function rI(e,t){try{const n=e.match(/([NS])(\d+)(\d+\.\d+)'/);if(!n)return null;const r=parseFloat(n[2]),i=parseFloat(n[3]);let a=r+i/60;n[1]==="S"&&(a=-a);const o=t.match(/([EW])(\d+)(\d+\.\d+)'/);if(!o)return null;const s=parseFloat(o[2]),l=parseFloat(o[3]);let c=s+l/60;return o[1]==="W"&&(c=-c),{latitude:a,longitude:c}}catch{return null}}function o3(e){if(!e)return;if(e.startsWith("FL"))return parseInt(e.substring(2))*100;const t=e.replace(/,/g,""),n=parseFloat(t);return isNaN(n)?void 0:n}function wa(e){if(!e)return;const t=e.replace(/,/g,""),n=parseFloat(t);return isNaN(n)?void 0:n}function Yi(e,t){return e>=29&&e<=34&&t>=34&&t<=36?4.5:e>=35&&e<=42&&t>=19&&t<=29?3.5:e>=30&&e<=45&&t>=0&&t<=40?2+t/40*3:0}const iI="/api/foreflight",s3="https://chubby-unicorn-proxy.YOUR-SUBDOMAIN.workers.dev";class aI{constructor(){qn(this,"apiKey",null);qn(this,"DEFAULT_API_KEY","X5MAN7e1gSjNVqfP7TnJdA8hQuOE9z");this.apiKey=localStorage.getItem("foreflight_api_key")||this.DEFAULT_API_KEY}setApiKey(t){this.apiKey=t,localStorage.setItem("foreflight_api_key",t)}getApiKey(){return this.apiKey}clearApiKey(){this.apiKey=null,localStorage.removeItem("foreflight_api_key")}async checkProxyAvailable(t){try{const n=await fetch(t+"/health",{method:"GET",mode:"cors",signal:AbortSignal.timeout(1e3)}).catch(()=>null);return(n==null?void 0:n.ok)||!1}catch{return!1}}async fetchWithProxy(t,n){console.log("Checking local proxy server...");const r=`${iI}${t}`;try{const i=await fetch(r,{method:"GET",headers:n,mode:"cors"});return console.log(" Using local proxy server"),i}catch{console.log("Local proxy not available")}if(!s3.includes("YOUR-SUBDOMAIN")){console.log("Trying Cloudflare Worker...");const i=`${s3}/api/foreflight${t}`;try{const a=await fetch(i,{method:"GET",headers:n,mode:"cors"});return console.log(" Using Cloudflare Worker"),a}catch{console.log("Cloudflare Worker not available")}}throw console.warn("No proxy server available"),new Error("MANUAL_IMPORT_REQUIRED")}async fetchAllFlights(t,n){if(!this.apiKey)throw new Error("ForeFlight API key not set");const r=t.toISOString(),i=n.toISOString(),a=`/flights?fromDate=${r}&toDate=${i}`;console.log("Fetching ForeFlight flights"),console.log("API Key:",this.apiKey?"Set":"Not set");try{const o=await this.fetchWithProxy(a,{"x-api-key":this.apiKey,Accept:"application/json"});if(console.log("Response status:",o.status),console.log("Response headers:",o.headers),!o.ok){const c=await o.text();if(console.error("Error response:",c),o.status===401)throw new Error("Invalid API key");if(o.status===403){const h=new Error("ForeFlight API access denied");throw h.response=o,h}throw new Error(`Failed to fetch flights: ${o.status} ${o.statusText}`)}const s=await o.json();console.log("Received data:",s);const l=s.flights||s;if(!Array.isArray(l))throw console.error("Unexpected response format:",s),new Error("Invalid response format from ForeFlight API");return l.map(c=>({...c,departureTime:new Date(c.departureTime),arrivalTime:new Date(c.arrivalTime),etd:c.etd?new Date(c.etd):void 0,eta:c.eta?new Date(c.eta):void 0}))}catch(o){throw console.error("ForeFlight API error:",o),o}}async fetchNavlog(t){if(!this.apiKey)throw new Error("ForeFlight API key not set");const n=`/${t}/navlog`;console.log("Fetching navlog for flight:",t);try{const r=await this.fetchWithProxy(n,{"x-api-key":this.apiKey,Accept:"application/json"});if(console.log("Navlog response status:",r.status),!r.ok){const a=await r.text();throw console.error("Navlog error response:",a),new Error(`Failed to fetch navlog: ${r.status} ${r.statusText}`)}const i=await r.json();return console.log("Navlog data:",i),{url:i.url,generatedAt:new Date(i.generatedAt)}}catch(r){throw console.error("Navlog fetch error:",r),r}}async parseTable(t){try{console.log("Fetching navigation log HTML from:",t);let n;const r=[async()=>{console.log("Trying simple fetch (works with CORS extensions)");const o=await fetch(t);if(console.log("Simple fetch response:",{status:o.status,statusText:o.statusText,headers:Object.fromEntries(o.headers.entries())}),!o.ok){const s=await o.text();throw console.error("Response error body:",s),new Error(`Fetch failed: ${o.status} ${o.statusText}`)}return await o.text()}];let i=null;for(const o of r)try{n=await o(),console.log("Successfully fetched HTML with method");break}catch(s){console.warn("Fetch method failed:",s),i=s;continue}if(!n&&i)throw console.error("All fetch methods failed. Last error:",i),i.message.includes("Failed to fetch")||i.message.includes("NetworkError")?new Error(`CORS Error: Unable to fetch ForeFlight navigation log.

To fix this, you need to:
1. Make sure CORS Unblock extension is ACTIVATED (not just installed)
2. Click on the CORS Unblock icon in your browser toolbar
3. Make sure it shows as "ON" or "Enabled"
4. Refresh this page (F5) after enabling
5. Try the import again

Alternative: Use a different CORS extension like "Allow CORS" or "CORS Everywhere"`):new Error("Failed to fetch navigation log: "+i.message+`

This might be a temporary issue with ForeFlight's servers.`);if(console.log("Received HTML length:",n.length),console.log("HTML preview:",n.substring(0,1e3)),!n.includes("<")||!n.includes(">"))throw new Error("Response does not appear to be HTML");console.log("Calling parseFFTable...");let a;try{a=y6(n,t)}catch(o){console.error("Parse error:",o),a={waypoints:new Map,originalUrl:t,importedAt:new Date}}if(console.log("Parse result:",a),console.log("Waypoints in result:",a.waypoints.size),a.waypoints.size===0){console.log("No waypoints found with table parser. Trying alternative parsing...");const o=/([A-Z]{3,5})\s+(\d{3})?\s+(\d+\.?\d*)\s+nm/gi,s=n.matchAll(o);for(const l of s)console.log("Found potential waypoint text:",l[0])}return a}catch(n){throw console.error("Error parsing navigation table:",n),n}}convertToWaypoint(t,n,r){const i=t.waypoint||`WPT${n+1}`;console.log(`Converting waypoint ${i}:`,{distance:t.distance,fuel:t.fuel,fuelRemaining:t.fuelRemaining,windDirection:t.windDirection,windVelocity:t.windVelocity,isa:t.isa,groundSpeed:t.groundSpeed,heading:t.heading});const a=t.windDirection||0,o=t.windVelocity||0,s=t.heading||0,l=y8(a,o,s);console.log(`Waypoint ${i} wind calculation:`,{windDirection:a,windVelocity:o,heading:s,headTailWind:l.toFixed(1),ffWptWind:`${t.windDirection||0}/${t.windVelocity||0}kts`});let c=0;return t.coordinates&&(c=Yi(t.coordinates.latitude,t.coordinates.longitude),console.log(`Waypoint ${i} magnetic declination: ${c.toFixed(1)} at ${t.coordinates.latitude.toFixed(4)}, ${t.coordinates.longitude.toFixed(4)}`)),{id:i,name:i,isActual:!1,note:"",coordinate:t.coordinates||{latitude:0,longitude:0},heading:s,distance:t.distance||0,distanceRemain:t.distanceRemaining||0,totalDistance:0,eet:0,toEET:0,eta:null,fob:t.fuelRemaining||0,fuelOnBoard:t.fuelRemaining||0,altitude:r,groundSpeed:t.groundSpeed||0,trueAirSpeed:t.trueAirspeed||0,ias:0,wind:a,windVelocity:o,headTail:l,isa:0,temp:t.isa||0,magDec:c,magHDG:s,velPlan:0}}}const hu=new aI,Ke=se.forwardRef(({className:e,variant:t="primary",size:n="md",fullWidth:r=!1,disabled:i,children:a,onClick:o,...s},l)=>{const[c,h]=se.useState(!1),f=d=>{h(!0),d.preventDefault()},p=d=>{c&&o&&!i&&o(d),h(!1),d.preventDefault()};return u.jsx("button",{ref:l,className:tt("font-semibold transition-all duration-300 flex items-center justify-center","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","transform hover:scale-110 active:scale-95 hover:shadow-lg","touch-manipulation",c&&"scale-95 shadow-lg",{"bg-primary text-white hover:bg-primary-hover focus-visible:ring-primary":t==="primary","bg-white text-primary border-2 border-primary hover:bg-purple-50 focus-visible:ring-primary":t==="secondary","hover:bg-gray-100 text-gray-700 hover:text-black":t==="ghost","bg-danger text-white hover:bg-red-600 focus-visible:ring-danger":t==="danger","bg-green-500 text-white hover:bg-green-600 focus-visible:ring-green-500":t==="success"},{"h-10 sm:h-button-sm px-3 sm:px-4 text-sm rounded-lg":n==="sm","h-button-mobile sm:h-button px-4 sm:px-6 rounded-button text-sm sm:text-base":n==="md","h-14 sm:h-16 px-6 sm:px-8 text-base sm:text-lg rounded-button":n==="lg","h-button-mobile sm:h-button rounded-button px-4 sm:px-6 text-sm sm:text-base":n==="full"},{"w-full sm:w-button max-w-xs sm:max-w-none mx-auto sm:mx-0":n==="md"&&!r,"w-full":r||n==="full"},e),disabled:i,onClick:o,onTouchStart:f,onTouchEnd:p,...s,children:a})});Ke.displayName="Button";function oI({onImport:e,onClose:t,legAltitude:n=1e4}){const[r,i]=se.useState(null),[a,o]=se.useState(""),[s,l]=se.useState(!1),c=d=>{var w;const m=(w=d.target.files)==null?void 0:w[0];if(!m)return;const g=new FileReader;g.onload=b=>{var x;const y=(x=b.target)==null?void 0:x.result;o(y),p(y)},g.readAsText(m)},h=()=>{const d=document.getElementById("html-paste");d!=null&&d.value&&(o(d.value),p(d.value))},f=()=>{if(a){const d=window.open("","_blank");d&&(d.document.open(),d.document.write(a),d.document.close(),d.document.title="ForeFlight NavLog")}},p=d=>{try{console.log("Processing HTML, length:",d.length);const m=y6(d);if(console.log("Parse result:",m),m.waypoints.size===0){i("No waypoints found in the HTML. The format may have changed.");const y=new DOMParser().parseFromString(d,"text/html").querySelectorAll("table");console.log("Tables found:",y.length),y.forEach((x,A)=>{console.log(`Table ${A}:`,x.innerHTML.substring(0,200))});return}const g=Array.from(m.waypoints.values()).map((w,b)=>hu.convertToWaypoint(w,b,n));console.log("Manual import - storing HTML content directly"),e(g,d),l(!0)}catch(m){console.error("Error processing HTML:",m),i(m instanceof Error?m.message:"Failed to parse HTML")}};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Manual ForeFlight HTML Import"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s?u.jsxs("div",{className:"text-center py-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Import Successful!"}),u.jsx("p",{className:"text-gray-600",children:"Your flight plan has been imported from ForeFlight."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Ke,{onClick:f,variant:"secondary",className:"w-full max-w-xs mx-auto",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Original NavLog"]}),u.jsx(Ke,{onClick:t,className:"w-full max-w-xs mx-auto",children:"Continue to Flight Plan"})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Option 1: Upload HTML File"}),u.jsx("input",{type:"file",accept:".html,.htm",onChange:c,className:`block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-full file:border-0
                  file:text-sm file:font-semibold
                  file:bg-primary file:text-white
                  hover:file:bg-primary-hover`})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-gray-500",children:"OR"})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Option 2: Paste HTML"}),u.jsx("textarea",{id:"html-paste",className:"w-full h-32 px-3 py-2 border rounded-lg font-mono text-xs",placeholder:"Paste ForeFlight HTML here..."}),u.jsx(Ke,{onClick:h,className:"mt-2",children:"Process HTML"})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"How to get ForeFlight HTML:"}),u.jsxs("ol",{className:"list-decimal list-inside text-sm text-blue-800 space-y-1",children:[u.jsx("li",{children:"In your browser, go to the ForeFlight navigation log URL"}),u.jsx("li",{children:'Right-click and select "Save Page As" or press Ctrl+S (Cmd+S on Mac)'}),u.jsx("li",{children:'Save as "Web Page, Complete" or "HTML Only"'}),u.jsx("li",{children:"Upload the saved HTML file here"})]})]}),r&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:u.jsx("p",{className:"text-red-800",children:r})})]})})]})})}function zb(e){if(!e){console.error("No navlog content to display");return}try{if(e.startsWith("data:")||e.startsWith("http://")||e.startsWith("https://"))window.open(e,"_blank");else{const t=window.open("","_blank");if(t)t.document.open(),t.document.write(e),t.document.close(),t.document.title="ForeFlight NavLog";else{console.error("Failed to open new window - popup may be blocked");const n=new Blob([e],{type:"text/html"}),r=URL.createObjectURL(n);window.open(r,"_blank"),setTimeout(()=>URL.revokeObjectURL(r),1e3)}}}catch(t){console.error("Error opening navlog:",t);try{const r=`data:text/html;base64,${btoa(unescape(encodeURIComponent(e)))}`;window.open(r,"_blank")}catch(n){console.error("Fallback also failed:",n),alert("Unable to open navlog. The content may be too large or contain invalid characters.")}}}function nx({onImport:e,onClose:t,legAltitude:n=1e4}){const r=Ur(D=>D.foreFlightApiKey),i=Ur(D=>D.setForeFlightApiKey),[a,o]=se.useState(r||"X5MAN7e1gSjNVqfP7TnJdA8hQuOE9z"),[s,l]=se.useState(!1),[c,h]=se.useState([]),[f,p]=se.useState(null),[d,m]=se.useState("idle"),[g,w]=se.useState(null),[b,y]=se.useState(!1),[x,A]=se.useState(null),N=new Date;N.setDate(N.getDate()-30);const P=new Date,[j,C]=se.useState(N),[_,M]=se.useState(P),[O,T]=se.useState(!1);se.useEffect(()=>{console.log("ForeFlightImport mounted",{hasApiKey:!!a,showApiKeyInput:s,fromDate:at(j,"yyyy-MM-dd"),toDate:at(_,"yyyy-MM-dd")}),L()},[]);const I=()=>{a.trim()&&(i(a.trim()),hu.setApiKey(a.trim()),l(!1),L())},L=async()=>{console.log("Loading flights with date range:",{from:at(j,"yyyy-MM-dd"),to:at(_,"yyyy-MM-dd")}),m("loading"),w(null);try{const D=await hu.fetchAllFlights(j,_);console.log("Fetched flights:",D.length),h(D),m("success")}catch(D){console.error("ForeFlight API error:",D);let $="Failed to load flights";if(D instanceof Error){if(D.message==="MANUAL_IMPORT_REQUIRED"){w('Automatic import requires a proxy server. Run "start-with-proxy" to enable automatic import, or use Manual Import below.'),m("error"),setTimeout(()=>{y(!0),m("idle")},3e3);return}$=D.message,D.message.includes("Invalid API key")||D.message.includes("401")?($="Invalid API key. Please check your ForeFlight API key.",l(!0)):D.message.includes("Unable to connect")?$=D.message:D.message.includes("Failed to fetch")||D.message.includes("NetworkError")?$="Unable to connect to ForeFlight. Please check your internet connection and try again.":(D.message.includes("ForeFlight API access denied")||D.message.includes("403"))&&($="ForeFlight API access denied. The automatic import feature may be temporarily unavailable. Please use Manual Import instead.",y(!0))}w($),m("error")}},U=async()=>{var D;if(f){m("loading"),w(null);try{console.log("Starting import for flight:",f);const $=await hu.fetchNavlog(f);if(console.log("Received navLog:",$),!$||!$.url)throw new Error("No navigation log URL received from ForeFlight");console.log("Parsing navlog from URL:",$.url);const W=await hu.parseTable($.url);if(console.log("Parsed table:",W),!W||!W.waypoints||W.waypoints.size===0)throw new Error("No waypoints found in navigation log");console.log("About to convert waypoints, ffTable.waypoints:",W.waypoints),console.log("ffTable.waypoints size:",(D=W.waypoints)==null?void 0:D.size);let z=Array.from(W.waypoints.values()).map((Y,re)=>{console.log(`Converting waypoint ${re}:`,Y);try{return hu.convertToWaypoint(Y,re,n)}catch(E){throw console.error(`Error converting waypoint ${re}:`,E),E}});if(console.log("Converted waypoints:",z),console.log("Waypoints length:",z==null?void 0:z.length),z&&z.length>0&&console.log("First waypoint detail:",z[0]),console.log("Total distance from all waypoints:",z.reduce((Y,re)=>Y+(re.distance||0),0)),z.length===0)throw new Error("No waypoints could be converted");console.log("Setting imported navlog URL:",$.url),A($.url),m("idle"),e(z,$.url)}catch($){console.error("Import flight error:",$);let W="Failed to import flight";$ instanceof Error&&(W=$.message,$.message.includes("Failed to fetch")?W="Network error while fetching navigation log. Check console for details.":$.message.includes("Navigation table not found")&&(W="Could not parse ForeFlight navigation log. The format may have changed.")),w(W),m("error")}}};return s?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"ForeFlight API Key"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your ForeFlight API key to import flight plans."}),u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:"Note:"})," ForeFlight API requires a proxy server due to CORS restrictions. In development, Vite's proxy is configured. For production, you'll need to set up your own proxy server."]})}),u.jsx("input",{type:"password",value:a,onChange:D=>o(D.target.value),placeholder:"Enter API key",className:"w-full px-4 py-2 border rounded-lg mb-4"}),g&&u.jsx("div",{className:"text-red-600 text-sm mb-4",children:g}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ke,{onClick:I,disabled:!a.trim(),children:"Save Key"}),u.jsx(Ke,{variant:"ghost",onClick:t,children:"Cancel"})]})]})}):b?u.jsx(oI,{onImport:(D,$)=>{console.log("ForeFlightImport - passing through from manual import"),console.log("Waypoints:",D.length),console.log("NavlogUrl:",$?"YES":"NO"),e(D,$)},onClose:()=>y(!1)}):(console.log("ForeFlightImport render state:",{loadingState:d,importedNavlogUrl:!!x,showDatePicker:O,flightsCount:c.length}),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 animate-fadeIn",onClick:t}),u.jsxs("div",{className:`fixed z-50 bg-white rounded-t-2xl sm:rounded-2xl shadow-xl flex flex-col animate-scaleIn overflow-hidden
                   top-0 sm:top-[5vh] left-0 sm:left-[5vw] right-0 sm:right-[5vw] 
                   h-full sm:h-[90vh] w-full sm:w-[90vw] sm:max-w-3xl sm:mx-auto`,style:{animationDelay:"0.1s"},children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Import from ForeFlight"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"mt-3 p-3 bg-yellow-100 border border-yellow-300 rounded-lg",children:[u.jsxs("div",{className:"text-sm font-semibold text-yellow-900",children:[" Date Range: ",at(j,"MMM d, yyyy")," - ",at(_,"MMM d, yyyy")]}),u.jsx("button",{onClick:()=>T(!O),className:"mt-1 text-xs text-yellow-700 underline hover:text-yellow-900 transition-all duration-300 hover:scale-110",children:"Click here to change dates"})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[O&&!x&&u.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-400 rounded-lg shadow-lg animate-slideInRight",style:{animationDuration:"0.3s"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-bold text-blue-900 animate-fadeIn",style:{animationDelay:"0.1s"},children:"Change Date Range"}),u.jsx(Ke,{size:"sm",variant:"ghost",onClick:()=>T(!1),className:"text-blue-700 hover:text-blue-900",children:"Close"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),u.jsx("input",{type:"date",value:at(j,"yyyy-MM-dd"),onChange:D=>C(new Date(D.target.value)),max:at(_,"yyyy-MM-dd"),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),u.jsx("input",{type:"date",value:at(_,"yyyy-MM-dd"),onChange:D=>M(new Date(D.target.value)),min:at(j,"yyyy-MM-dd"),max:at(new Date,"yyyy-MM-dd"),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>{const D=new Date;C(D),M(D)},className:"text-xs px-2 py-1 text-gray-600 hover:bg-gray-200 rounded",children:"Today"}),u.jsx("button",{onClick:()=>{const D=new Date,$=new Date;$.setDate(D.getDate()-7),C($),M(D)},className:"text-xs px-2 py-1 text-gray-600 hover:bg-gray-200 rounded",children:"Last 7 days"}),u.jsx("button",{onClick:()=>{const D=new Date,$=new Date;$.setDate(D.getDate()-30),C($),M(D)},className:"text-xs px-2 py-1 text-gray-600 hover:bg-gray-200 rounded",children:"Last 30 days"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Ke,{size:"sm",onClick:()=>{L(),T(!1)},children:"Apply"})})]})]})]}),d==="loading"&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx("img",{src:"/images/chubby-unicorn-logo.png",alt:"Loading",className:"w-24 h-24 mx-auto mb-4 animate-unicornSpin",style:{animationDuration:"1.5s"}}),u.jsx("p",{className:"text-gray-600 animate-pulse",style:{animationDuration:"1s"},children:"Loading flights..."})]}),d==="error"&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-red-600 mb-4 font-semibold",children:"Connection Error"}),u.jsx("div",{className:"text-gray-600 mb-6 text-sm max-w-md mx-auto",children:g||"Unable to connect to ForeFlight. Please try again or use Manual Import."}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Ke,{onClick:L,variant:"primary",className:"w-full max-w-xs mx-auto",children:" Try Again"}),u.jsx(Ke,{onClick:()=>y(!0),variant:"secondary",className:"w-full max-w-xs mx-auto",children:" Use Manual Import"})]})]}),d==="success"&&c.length===0&&!x&&u.jsxs("div",{className:"text-center py-8",children:[u.jsxs("div",{className:"text-gray-600 mb-4",children:["No flights found from ",at(j,"MMM d, yyyy")," to ",at(_,"MMM d, yyyy")]}),u.jsx(Ke,{size:"sm",variant:"secondary",onClick:()=>T(!0),children:"Try Different Dates"})]}),d==="success"&&c.length>0&&!x&&u.jsx("div",{className:"space-y-3",children:c.map((D,$)=>u.jsx("div",{onClick:()=>p(D.flightId),className:tt("p-4 rounded-lg border cursor-pointer transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg opacity-0 animate-slideInRight",f===D.flightId?"border-primary bg-primary/5 shadow-md scale-105":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),style:{animationDelay:`${$*.15}s`,animationFillMode:"forwards"},children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:D.route}),u.jsxs("p",{className:"text-sm text-gray-600",children:[D.departure,"  ",D.destination]}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:at(D.departureTime,"MMM d, yyyy HH:mm")})]}),u.jsxs("div",{className:"text-right",children:[D.aircraftRegistration&&u.jsx("p",{className:"text-sm font-medium",children:D.aircraftRegistration}),u.jsx("p",{className:"text-sm text-gray-500",children:D.recallNumber})]})]})},D.flightId))}),x&&u.jsxs("div",{className:"text-center py-8 animate-scaleIn",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4 animate-scaleIn",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",className:"animate-checkmark"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 animate-fadeIn",style:{animationDelay:"0.3s"},children:"Import Successful!"}),u.jsx("p",{className:"text-gray-600 animate-fadeIn",style:{animationDelay:"0.4s"},children:"Your flight plan has been imported from ForeFlight."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Ke,{onClick:()=>zb(x),variant:"secondary",className:"w-full max-w-xs mx-auto",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Original NavLog"]}),u.jsx(Ke,{onClick:t,className:"w-full max-w-xs mx-auto",children:"Continue to Flight Plan"})]})]})]}),u.jsx("div",{className:"shrink-0 px-6 py-3 border-t border-gray-200",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:justify-between",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>{l(!0),o("")},children:"Change API Key"}),u.jsx(Ke,{variant:"primary",size:"sm",onClick:()=>y(!0),className:"font-semibold",children:" Manual Import"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{variant:"ghost",size:"sm",onClick:t,children:"Cancel"}),u.jsx(Ke,{size:"sm",onClick:U,disabled:!f||d!=="success",children:"Import Selected"})]})]})})]})]}))}function sI(){console.log("FlightListView rendering");const e=qt(H=>H.plans),t=qt(H=>H.addPlan),n=qt(H=>H.deletePlan),r=qt(H=>H.setCurrentPlan),i=Ur(H=>H.setAppFlow);if(console.log("FlightListView - plans:",e),!Array.isArray(e))return console.error("FlightListView - plans is not an array:",e),u.jsx("div",{className:"p-4",children:"Error: Unable to load flight plans"});const[a,o]=se.useState("all");se.useEffect(()=>{e.filter(te=>{var X;return((X=te==null?void 0:te.metadata)==null?void 0:X.state)==="ready"}).length>0&&a==="all"&&o("ready")},[e]);const[s,l]=se.useState(!1),[c,h]=se.useState(!1),[f,p]=se.useState(""),[d,m]=se.useState(""),[g,w]=se.useState(new Date(new Date().getTime()+60*60*1e3).toISOString().slice(0,16)),[b,y]=se.useState(!1),[x,A]=se.useState(null),[N,P]=se.useState(""),[j,C]=se.useState(!1),[_,M]=se.useState(null),O=(e||[]).filter(H=>!H||!H.metadata?!1:a==="all"?!0:H.metadata.state===a),T=()=>{const H=JS(f||`Flight ${e.length+1}`);H.configuration.tailNumber=d,H.configuration.startTime=new Date(g),t(H),r(H.metadata.id),l(!1),p(""),m(""),w(new Date(new Date().getTime()+60*60*1e3).toISOString().slice(0,16))},I=H=>{r(H.metadata.id)},L=(H,te)=>{console.log("=== FLIGHT LIST VIEW - handleForeFlightImport ==="),console.log("Waypoints received:",H.length),console.log("NavlogUrl received:",te?"YES":"NO"),te&&console.log("NavlogUrl preview:",te.substring(0,200)+"..."),H.length>0&&(console.log("First waypoint:",H[0]),console.log("Last waypoint:",H[H.length-1]),console.log("First waypoint name:",H[0].name),console.log("Last waypoint name:",H[H.length-1].name));const X=H.length>0&&H[0].name?`FF: ${H[0].name} - ${H[H.length-1].name}`:`ForeFlight Import ${e.length+1}`,G=JS(X);console.log("Created new plan:",G.metadata.id),te?(console.log("Setting navlogUrl on plan metadata"),G.metadata.navlogUrl=te,console.log("Plan metadata after setting navlogUrl:",G.metadata)):console.log("WARNING: No navlogUrl provided to store!");const ce=Z1();if(ce.waypoints=H,H.length>1){let ae=0;for(let le=1;le<H.length;le++)H[le].distance&&(ae+=H[le].distance);ce.distance=ae}if(ce.segments=Fi(ce,G.configuration),G.legs=[ce],G.fuel=Kd(G),t(G),h(!1),H.length>0){let ae="",le="";if(H[0].name&&(ae=H[0].name),H[H.length-1].name&&(le=H[H.length-1].name),!ae||!le){const xe=X.match(/FF: (.+) - (.+)/);xe&&(ae=ae||xe[1],le=le||xe[2])}if(ae&&le){console.log("Offering rename dialog:",ae,"->",le),P(`${ae} - ${le}`),A(G.metadata.id),console.log("Setting states - importedPlanId:",G.metadata.id),console.log("Setting showRenameDialog to true in 100ms..."),setTimeout(()=>{console.log("TIMEOUT FIRED - Setting showRenameDialog to true"),y(!0)},100);return}}console.log("No origin/destination found, navigating directly to edit"),r(G.metadata.id)},U=(H,te)=>{if(H.metadata.state==="ready")switch(te){case"engineer":i({type:"confirmEng",planId:H.metadata.id});break;case"navigator":i({type:"confirmNav",planId:H.metadata.id});break;case"pilot":i({type:"confirmPilot",planId:H.metadata.id});break}},D=H=>{const te=qt.getState().updatePlan;te(H.metadata.id,{metadata:{...H.metadata,state:"planning"}})},$=(H,te)=>{te.stopPropagation(),QD(H)},W=async H=>{const te=await g6(H);te?(t(te),C(!1)):alert("Failed to import flight. Please check the file format.")},z=H=>{var X;const te=(X=H.target.files)==null?void 0:X[0];te&&W(te)},Y=(H,te)=>{te.stopPropagation(),M(H)},re=()=>{_&&(n(_.metadata.id),M(null))},E=()=>{if(console.log("Rename confirmed for plan:",x),x){const H=e.find(te=>te.metadata.id===x);if(H){const te={...H,metadata:{...H.metadata,name:N}};qt.getState().updatePlan(x,te)}y(!1),A(null),r(x)}},R=()=>{console.log("Rename cancelled for plan:",x),y(!1);const H=x;A(null),H&&r(H)},q=H=>{switch(H){case"planning":return"";case"ready":return"";case"complete":return"";default:return""}},ee=H=>{switch(H){case"planning":return"text-warning";case"ready":return"text-success";case"complete":return"text-gray-500";default:return"text-gray-400"}};return u.jsxs("div",{className:"min-h-screen bg-background",onClick:()=>C(!1),children:[u.jsxs("div",{className:"bg-nav-bar px-6 py-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"w-10"}),u.jsx("h1",{className:"text-2xl font-bold text-black-1 animate-fadeIn",children:"Flight Plans"}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:H=>{H.stopPropagation(),C(!j)},className:"text-primary hover:text-primary-dark transition-all duration-300 transform hover:scale-110",title:"Import Flight",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}),j&&u.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 py-2 w-48 z-10",children:[u.jsx("button",{onClick:H=>{H.stopPropagation(),h(!0),C(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-gray-700 text-sm",children:"Import from ForeFlight"}),u.jsx("button",{onClick:H=>{var te;H.stopPropagation(),(te=document.getElementById("file-import"))==null||te.click(),C(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-gray-700 text-sm",children:"Import Flight (.json)"})]}),u.jsx("input",{id:"file-import",type:"file",accept:".json",onChange:z,className:"hidden"})]})]}),u.jsx("div",{className:"mt-4 flex bg-white rounded-lg p-1",children:["all","planning","ready","complete"].map(H=>u.jsx("button",{onClick:()=>o(H),className:tt("flex-1 py-2 px-4 rounded-md font-medium capitalize transition-all duration-300 transform hover:scale-105",a===H?"bg-yellow-400 text-black shadow-lg scale-105":"text-gray-600 hover:text-black hover:shadow-md"),children:H},H))})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[s?u.jsxs("div",{className:"bg-white rounded-panel p-4 space-y-3 animate-fadeIn overflow-hidden",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Flight Name"}),u.jsx("input",{type:"text",value:f,onChange:H=>p(H.target.value),placeholder:`Flight ${e.length+1}`,className:"w-full px-3 py-2 border rounded-lg",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tail Number"}),u.jsx("input",{type:"text",value:d,onChange:H=>m(H.target.value),placeholder:"e.g. N12345",className:"w-full px-3 py-2 border rounded-lg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Takeoff Time"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"datetime-local",value:g,onChange:H=>w(H.target.value),className:"w-full pl-10 pr-3 py-2 border rounded-lg text-sm",style:{colorScheme:"light"}})})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx("button",{onClick:T,className:"flex-1 bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary-dark transition-colors",children:"Create"}),u.jsx("button",{onClick:()=>{l(!1),p(""),m(""),w(new Date(new Date().getTime()+60*60*1e3).toISOString().slice(0,16))},className:"flex-1 bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>l(!0),className:"w-full bg-white rounded-panel p-4 flex items-center justify-center gap-2 hover:bg-gray-50 transition-all duration-300 transform hover:scale-105 hover:shadow-lg animate-fadeIn",children:[u.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),u.jsx("span",{className:"text-primary font-semibold",children:"Add New Flight"})]}),O.map((H,te)=>{var X;return u.jsxs("div",{className:"bg-white rounded-panel overflow-hidden cursor-pointer transition-all duration-300 transform hover:scale-105 hover:shadow-xl opacity-0 animate-slideInRight",onClick:()=>I(H),style:{animationDelay:`${te*.1}s`,animationFillMode:"forwards"},children:[u.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:tt("text-2xl",ee(H.metadata.state)),children:q(H.metadata.state)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-black-1",children:H.metadata.name}),u.jsx("p",{className:"text-sm text-label-gray",children:at(H.metadata.updatedAt,"MMM d, yyyy  HH:mm")}),u.jsxs("div",{className:"flex gap-4 mt-1 text-xs text-gray-600",children:[u.jsxs("span",{children:["Time: ",(()=>{const G=H.legs.reduce((le,xe)=>le+(xe.legDuration||0),0),ce=Math.floor(G),ae=Math.round((G-ce)*60);return`${ce}h ${ae}m`})()]}),u.jsxs("span",{children:["Avg ISA: ",(()=>{const G=H.legs.reduce((ae,le,xe)=>{const be=le.distance||0;return ae+(le.isa||0)*be},0),ce=H.legs.reduce((ae,le)=>ae+(le.distance||0),0);return ce>0?(G/ce).toFixed(0):"0"})(),"C"]}),u.jsxs("span",{children:["Avg Wind: ",(()=>{const G=H.legs.reduce((le,xe,be)=>{const de=xe.distance||0;return le+(xe.wind||0)*de},0),ce=H.legs.reduce((le,xe)=>le+(xe.distance||0),0),ae=ce>0?G/ce:0;return ae>=0?`+${ae.toFixed(0)}`:ae.toFixed(0)})(),"kt"]})]})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm text-label-gray",children:[H.legs.reduce((G,ce)=>G+ce.distance,0).toFixed(0)," nm"]}),u.jsxs("p",{className:"text-xs text-label-gray",children:["Fuel: ",(X=H.fuel)!=null&&X.total?`${H.fuel.total.toFixed(1)} klbs`:"N/A"]}),u.jsxs("p",{className:"text-xs text-success",children:["Rem: ",H.fuel?`${(H.configuration.fuelOnBoard-H.fuel.total).toFixed(1)} klbs`:"N/A"]})]}),u.jsx("button",{onClick:G=>$(H,G),className:"text-gray-400 hover:text-primary transition-colors p-1",title:"Export Flight",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"})})}),u.jsx("button",{onClick:G=>Y(H,G),className:"text-gray-400 hover:text-red-500 transition-colors p-1",title:"Delete Flight",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),H.metadata.state==="ready"&&u.jsxs("div",{className:"border-t border-gray-100 p-2",onClick:G=>G.stopPropagation(),children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>U(H,"engineer"),className:"flex-1 py-2 text-sm font-medium text-primary hover:bg-purple-50 rounded-lg transition-all duration-300 transform hover:scale-105",children:"Engineer"}),u.jsx("button",{onClick:()=>U(H,"navigator"),className:"flex-1 py-2 text-sm font-medium text-primary hover:bg-purple-50 rounded-lg transition-colors",children:"Navigator"}),u.jsx("button",{onClick:()=>U(H,"pilot"),className:"flex-1 py-2 text-sm font-medium text-primary hover:bg-purple-50 rounded-lg transition-colors",children:"Pilot"})]}),u.jsx("button",{onClick:()=>D(H),className:"w-full mt-2 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:"Move to Planning"})]}),H.metadata.state==="complete"&&u.jsx("div",{className:"border-t border-gray-100 p-2",onClick:G=>G.stopPropagation(),children:u.jsx("button",{onClick:()=>D(H),className:"w-full py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:"Move to Planning"})})]},H.metadata.id)}),O.length===0&&u.jsxs("div",{className:"text-center py-12 text-label-gray",children:["No ",a!=="all"?a:""," flights"]})]}),c&&u.jsx(nx,{onImport:L,onClose:()=>h(!1)}),b&&u.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:[console.log("RENAME DIALOG RENDERING - showRenameDialog:",b,"suggestedName:",N),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 animate-scaleIn",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Name Your Flight Plan"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Would you like to rename your flight plan to use the origin-destination format?"}),u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Suggested name:"}),u.jsx("p",{className:"font-semibold text-lg",children:N})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ke,{onClick:E,className:"flex-1",children:"Use This Name"}),u.jsx(Ke,{variant:"ghost",onClick:R,className:"flex-1",children:"Keep Original"})]})]})]}),_&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 animate-scaleIn",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-red-600",children:"Delete Flight Plan"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',u.jsx("strong",{children:_.metadata.name}),'"? This action cannot be undone.']}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ke,{onClick:()=>M(null),variant:"ghost",className:"flex-1",children:"Cancel"}),u.jsx(Ke,{onClick:re,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}const gl=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,children:a,confirmText:o="OK",cancelText:s="Cancel",variant:l="info",size:c="normal"})=>{if(se.useEffect(()=>{const d=m=>{m.key==="Escape"&&e&&t()};return e&&(document.addEventListener("keydown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",d),document.body.style.overflow="unset"}},[e,t]),!e)return null;const h=d=>{d.target===d.currentTarget&&t()},f=()=>{switch(l){case"warning":return"text-yellow-500";case"danger":return"text-red-500";default:return"text-blue-500"}},p=()=>{switch(l){case"warning":return"";case"danger":return"";default:return""}};return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:h,children:[u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity"}),u.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full mx-4 transform transition-all ${c==="minimal"?"max-w-xs":c==="compact"?"max-w-sm":c==="normal"?"max-w-md":c==="large"?"max-w-2xl":"max-w-4xl"}`,children:[u.jsxs("div",{className:`flex items-center gap-3 ${c==="minimal"?"p-3 pb-1":c==="compact"?"p-4 pb-2":c==="normal"||c==="large"?"p-6 pb-4":"p-8 pb-6"}`,children:[u.jsx("span",{className:`${c==="minimal"?"text-lg":c==="compact"?"text-xl":c==="normal"?"text-2xl":"text-3xl"} ${f()}`,children:p()}),u.jsx("h3",{className:`${c==="minimal"?"text-sm":c==="compact"?"text-base":c==="normal"?"text-lg":"text-xl"} font-semibold text-gray-900`,children:r})]}),u.jsxs("div",{className:c==="minimal"?"px-3 pb-1":c==="compact"?"px-4 pb-2":c==="normal"||c==="large"?"px-6 pb-4":"px-8 pb-6",children:[u.jsx("p",{className:`text-gray-700 ${c==="minimal"?"text-xs leading-snug":c==="compact"?"text-sm leading-normal":"leading-relaxed"}`,children:i}),a&&u.jsx("div",{className:c==="minimal"?"mt-1":c==="compact"?"mt-2":"mt-4",children:a})]}),u.jsxs("div",{className:`flex gap-2 border-t border-gray-200 ${c==="minimal"?"p-2 pt-2":c==="compact"?"p-3 pt-3":c==="normal"||c==="large"?"p-6 pt-4":"p-8 pt-6"}`,children:[u.jsx(Ke,{variant:"secondary",size:"sm",fullWidth:!0,onClick:t,className:c==="minimal"?"text-xs h-8":"",children:s}),n&&u.jsx(Ke,{variant:l==="danger"?"danger":"primary",size:"sm",fullWidth:!0,onClick:()=>{n(),t()},className:c==="minimal"?"text-xs h-8":"",children:o})]})]})]})};var lI=Array.isArray,Hr=lI,uI=typeof Hs=="object"&&Hs&&Hs.Object===Object&&Hs,x6=uI,cI=x6,dI=typeof self=="object"&&self&&self.Object===Object&&self,fI=cI||dI||Function("return this")(),La=fI,hI=La,pI=hI.Symbol,mh=pI,l3=mh,b6=Object.prototype,mI=b6.hasOwnProperty,gI=b6.toString,bd=l3?l3.toStringTag:void 0;function vI(e){var t=mI.call(e,bd),n=e[bd];try{e[bd]=void 0;var r=!0}catch{}var i=gI.call(e);return r&&(t?e[bd]=n:delete e[bd]),i}var yI=vI,xI=Object.prototype,bI=xI.toString;function wI(e){return bI.call(e)}var SI=wI,u3=mh,NI=yI,jI=SI,AI="[object Null]",PI="[object Undefined]",c3=u3?u3.toStringTag:void 0;function CI(e){return e==null?e===void 0?PI:AI:c3&&c3 in Object(e)?NI(e):jI(e)}var go=CI;function OI(e){return e!=null&&typeof e=="object"}var vo=OI,TI=go,FI=vo,kI="[object Symbol]";function _I(e){return typeof e=="symbol"||FI(e)&&TI(e)==kI}var wc=_I,EI=Hr,LI=wc,MI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DI=/^\w*$/;function II(e,t){if(EI(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||LI(e)?!0:DI.test(e)||!MI.test(e)||t!=null&&e in Object(t)}var Hb=II;function $I(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gs=$I;const Sc=Rt(gs);var RI=go,BI=gs,WI="[object AsyncFunction]",UI="[object Function]",zI="[object GeneratorFunction]",HI="[object Proxy]";function qI(e){if(!BI(e))return!1;var t=RI(e);return t==UI||t==zI||t==WI||t==HI}var qb=qI;const xt=Rt(qb);var GI=La,VI=GI["__core-js_shared__"],KI=VI,yy=KI,d3=function(){var e=/[^.]+$/.exec(yy&&yy.keys&&yy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function YI(e){return!!d3&&d3 in e}var XI=YI,JI=Function.prototype,QI=JI.toString;function ZI(e){if(e!=null){try{return QI.call(e)}catch{}try{return e+""}catch{}}return""}var w6=ZI,e7=qb,t7=XI,n7=gs,r7=w6,i7=/[\\^$.*+?()[\]{}|]/g,a7=/^\[object .+?Constructor\]$/,o7=Function.prototype,s7=Object.prototype,l7=o7.toString,u7=s7.hasOwnProperty,c7=RegExp("^"+l7.call(u7).replace(i7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d7(e){if(!n7(e)||t7(e))return!1;var t=e7(e)?c7:a7;return t.test(r7(e))}var f7=d7;function h7(e,t){return e==null?void 0:e[t]}var p7=h7,m7=f7,g7=p7;function v7(e,t){var n=g7(e,t);return m7(n)?n:void 0}var jl=v7,y7=jl,x7=y7(Object,"create"),s0=x7,f3=s0;function b7(){this.__data__=f3?f3(null):{},this.size=0}var w7=b7;function S7(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var N7=S7,j7=s0,A7="__lodash_hash_undefined__",P7=Object.prototype,C7=P7.hasOwnProperty;function O7(e){var t=this.__data__;if(j7){var n=t[e];return n===A7?void 0:n}return C7.call(t,e)?t[e]:void 0}var T7=O7,F7=s0,k7=Object.prototype,_7=k7.hasOwnProperty;function E7(e){var t=this.__data__;return F7?t[e]!==void 0:_7.call(t,e)}var L7=E7,M7=s0,D7="__lodash_hash_undefined__";function I7(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=M7&&t===void 0?D7:t,this}var $7=I7,R7=w7,B7=N7,W7=T7,U7=L7,z7=$7;function Nc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Nc.prototype.clear=R7;Nc.prototype.delete=B7;Nc.prototype.get=W7;Nc.prototype.has=U7;Nc.prototype.set=z7;var H7=Nc;function q7(){this.__data__=[],this.size=0}var G7=q7;function V7(e,t){return e===t||e!==e&&t!==t}var Gb=V7,K7=Gb;function Y7(e,t){for(var n=e.length;n--;)if(K7(e[n][0],t))return n;return-1}var l0=Y7,X7=l0,J7=Array.prototype,Q7=J7.splice;function Z7(e){var t=this.__data__,n=X7(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Q7.call(t,n,1),--this.size,!0}var e$=Z7,t$=l0;function n$(e){var t=this.__data__,n=t$(t,e);return n<0?void 0:t[n][1]}var r$=n$,i$=l0;function a$(e){return i$(this.__data__,e)>-1}var o$=a$,s$=l0;function l$(e,t){var n=this.__data__,r=s$(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var u$=l$,c$=G7,d$=e$,f$=r$,h$=o$,p$=u$;function jc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jc.prototype.clear=c$;jc.prototype.delete=d$;jc.prototype.get=f$;jc.prototype.has=h$;jc.prototype.set=p$;var u0=jc,m$=jl,g$=La,v$=m$(g$,"Map"),Vb=v$,h3=H7,y$=u0,x$=Vb;function b$(){this.size=0,this.__data__={hash:new h3,map:new(x$||y$),string:new h3}}var w$=b$;function S$(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var N$=S$,j$=N$;function A$(e,t){var n=e.__data__;return j$(t)?n[typeof t=="string"?"string":"hash"]:n.map}var c0=A$,P$=c0;function C$(e){var t=P$(this,e).delete(e);return this.size-=t?1:0,t}var O$=C$,T$=c0;function F$(e){return T$(this,e).get(e)}var k$=F$,_$=c0;function E$(e){return _$(this,e).has(e)}var L$=E$,M$=c0;function D$(e,t){var n=M$(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var I$=D$,$$=w$,R$=O$,B$=k$,W$=L$,U$=I$;function Ac(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ac.prototype.clear=$$;Ac.prototype.delete=R$;Ac.prototype.get=B$;Ac.prototype.has=W$;Ac.prototype.set=U$;var Kb=Ac,S6=Kb,z$="Expected a function";function Yb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(z$);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Yb.Cache||S6),n}Yb.Cache=S6;var N6=Yb;const H$=Rt(N6);var q$=N6,G$=500;function V$(e){var t=q$(e,function(r){return n.size===G$&&n.clear(),r}),n=t.cache;return t}var K$=V$,Y$=K$,X$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J$=/\\(\\)?/g,Q$=Y$(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(X$,function(n,r,i,a){t.push(i?a.replace(J$,"$1"):r||n)}),t}),Z$=Q$;function eR(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Xb=eR,p3=mh,tR=Xb,nR=Hr,rR=wc,m3=p3?p3.prototype:void 0,g3=m3?m3.toString:void 0;function j6(e){if(typeof e=="string")return e;if(nR(e))return tR(e,j6)+"";if(rR(e))return g3?g3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var iR=j6,aR=iR;function oR(e){return e==null?"":aR(e)}var A6=oR,sR=Hr,lR=Hb,uR=Z$,cR=A6;function dR(e,t){return sR(e)?e:lR(e,t)?[e]:uR(cR(e))}var P6=dR,fR=wc;function hR(e){if(typeof e=="string"||fR(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var d0=hR,pR=P6,mR=d0;function gR(e,t){t=pR(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[mR(t[n++])];return n&&n==r?e:void 0}var Jb=gR,vR=Jb;function yR(e,t,n){var r=e==null?void 0:vR(e,t);return r===void 0?n:r}var C6=yR;const Pi=Rt(C6);function xR(e){return e==null}var bR=xR;const wt=Rt(bR);var wR=go,SR=Hr,NR=vo,jR="[object String]";function AR(e){return typeof e=="string"||!SR(e)&&NR(e)&&wR(e)==jR}var PR=AR;const vl=Rt(PR);var O6={exports:{}},Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb=Symbol.for("react.element"),Zb=Symbol.for("react.portal"),f0=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),p0=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),g0=Symbol.for("react.context"),CR=Symbol.for("react.server_context"),v0=Symbol.for("react.forward_ref"),y0=Symbol.for("react.suspense"),x0=Symbol.for("react.suspense_list"),b0=Symbol.for("react.memo"),w0=Symbol.for("react.lazy"),OR=Symbol.for("react.offscreen"),T6;T6=Symbol.for("react.module.reference");function _i(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Qb:switch(e=e.type,e){case f0:case p0:case h0:case y0:case x0:return e;default:switch(e=e&&e.$$typeof,e){case CR:case g0:case v0:case w0:case b0:case m0:return e;default:return t}}case Zb:return t}}}Bt.ContextConsumer=g0;Bt.ContextProvider=m0;Bt.Element=Qb;Bt.ForwardRef=v0;Bt.Fragment=f0;Bt.Lazy=w0;Bt.Memo=b0;Bt.Portal=Zb;Bt.Profiler=p0;Bt.StrictMode=h0;Bt.Suspense=y0;Bt.SuspenseList=x0;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(e){return _i(e)===g0};Bt.isContextProvider=function(e){return _i(e)===m0};Bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qb};Bt.isForwardRef=function(e){return _i(e)===v0};Bt.isFragment=function(e){return _i(e)===f0};Bt.isLazy=function(e){return _i(e)===w0};Bt.isMemo=function(e){return _i(e)===b0};Bt.isPortal=function(e){return _i(e)===Zb};Bt.isProfiler=function(e){return _i(e)===p0};Bt.isStrictMode=function(e){return _i(e)===h0};Bt.isSuspense=function(e){return _i(e)===y0};Bt.isSuspenseList=function(e){return _i(e)===x0};Bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===f0||e===p0||e===h0||e===y0||e===x0||e===OR||typeof e=="object"&&e!==null&&(e.$$typeof===w0||e.$$typeof===b0||e.$$typeof===m0||e.$$typeof===g0||e.$$typeof===v0||e.$$typeof===T6||e.getModuleId!==void 0)};Bt.typeOf=_i;O6.exports=Bt;var TR=O6.exports,FR=go,kR=vo,_R="[object Number]";function ER(e){return typeof e=="number"||kR(e)&&FR(e)==_R}var F6=ER;const LR=Rt(F6);var MR=F6;function DR(e){return MR(e)&&e!=+e}var IR=DR;const gh=Rt(IR);var ra=function(t){return t===0?0:t>0?1:-1},Ks=function(t){return vl(t)&&t.indexOf("%")===t.length-1},ze=function(t){return LR(t)&&!gh(t)},$R=function(t){return wt(t)},Rn=function(t){return ze(t)||vl(t)},RR=0,vh=function(t){var n=++RR;return"".concat(t||"").concat(n)},yl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(t)&&!vl(t))return r;var a;if(Ks(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return gh(a)&&(a=r),i&&a>n&&(a=n),a},Ho=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},BR=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},ta=function(t,n){return ze(t)&&ze(n)?function(r){return t+r*(n-t)}:function(){return n}};function Im(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Pi(r,t))===n})}var WR=function(t,n){return ze(t)&&ze(n)?t-n:vl(t)&&vl(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Iu(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function rx(e){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rx(e)}var UR=["viewBox","children"],zR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],v3=["points","pathLength"],xy={svg:UR,polygon:v3,polyline:v3},ew=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$m=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(se.isValidElement(t)&&(r=t.props),!Sc(r))return null;var i={};return Object.keys(r).forEach(function(a){ew.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},HR=function(t,n,r){return function(i){return t(n,r,i),null}},Rm=function(t,n,r){if(!Sc(t)||rx(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];ew.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=HR(o,n,r))}),i},qR=["children"],GR=["children"];function y3(e,t){if(e==null)return{};var n=VR(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VR(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ix(e){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(e)}var x3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ro=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},b3=null,by=null,tw=function e(t){if(t===b3&&Array.isArray(by))return by;var n=[];return se.Children.forEach(t,function(r){wt(r)||(TR.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),by=n,b3=t,n};function Ci(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return ro(i)}):r=[ro(t)],tw(e).forEach(function(i){var a=Pi(i,"type.displayName")||Pi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function ti(e,t){var n=Ci(e,t);return n&&n[0]}var w3=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!ze(r)||r<=0||!ze(i)||i<=0)},KR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],YR=function(t){return t&&t.type&&vl(t.type)&&KR.indexOf(t.type)>=0},XR=function(t){return t&&ix(t)==="object"&&"clipDot"in t},JR=function(t,n,r,i){var a,o=(a=xy==null?void 0:xy[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!xt(t)&&(i&&o.includes(n)||zR.includes(n))||r&&ew.includes(n)},jt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(se.isValidElement(t)&&(i=t.props),!Sc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;JR((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},ax=function e(t,n){if(t===n)return!0;var r=se.Children.count(t);if(r!==se.Children.count(n))return!1;if(r===0)return!0;if(r===1)return S3(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!S3(a,o))return!1}return!0},S3=function(t,n){if(wt(t)&&wt(n))return!0;if(!wt(t)&&!wt(n)){var r=t.props||{},i=r.children,a=y3(r,qR),o=n.props||{},s=o.children,l=y3(o,GR);return i&&s?Iu(a,l)&&ax(i,s):!i&&!s?Iu(a,l):!1}return!1},N3=function(t,n){var r=[],i={};return tw(t).forEach(function(a,o){if(YR(a))r.push(a);else if(a){var s=ro(a.type),l=n[s]||{},c=l.handler,h=l.once;if(c&&(!h||!i[s])){var f=c(a,s,o);r.push(f),i[s]=!0}}}),r},QR=function(t){var n=t&&t.type;return n&&x3[n]?x3[n]:null},ZR=function(t,n){return tw(n).indexOf(t)},e9=["children","width","height","viewBox","className","style","title","desc"];function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ox.apply(this,arguments)}function t9(e,t){if(e==null)return{};var n=n9(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function n9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sx(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,c=t9(e,e9),h=i||{width:n,height:r,x:0,y:0},f=tt("recharts-surface",a);return ge.createElement("svg",ox({},jt(c,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),ge.createElement("title",null,s),ge.createElement("desc",null,l),t)}var r9=["children","className"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lx.apply(this,arguments)}function i9(e,t){if(e==null)return{};var n=a9(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Nn=ge.forwardRef(function(e,t){var n=e.children,r=e.className,i=i9(e,r9),a=tt("recharts-layer",r);return ge.createElement("g",lx({className:a},jt(i,!0),{ref:t}),n)}),io=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function o9(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var s9=o9,l9=s9;function u9(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:l9(e,t,n)}var c9=u9,d9="\\ud800-\\udfff",f9="\\u0300-\\u036f",h9="\\ufe20-\\ufe2f",p9="\\u20d0-\\u20ff",m9=f9+h9+p9,g9="\\ufe0e\\ufe0f",v9="\\u200d",y9=RegExp("["+v9+d9+m9+g9+"]");function x9(e){return y9.test(e)}var k6=x9;function b9(e){return e.split("")}var w9=b9,_6="\\ud800-\\udfff",S9="\\u0300-\\u036f",N9="\\ufe20-\\ufe2f",j9="\\u20d0-\\u20ff",A9=S9+N9+j9,P9="\\ufe0e\\ufe0f",C9="["+_6+"]",ux="["+A9+"]",cx="\\ud83c[\\udffb-\\udfff]",O9="(?:"+ux+"|"+cx+")",E6="[^"+_6+"]",L6="(?:\\ud83c[\\udde6-\\uddff]){2}",M6="[\\ud800-\\udbff][\\udc00-\\udfff]",T9="\\u200d",D6=O9+"?",I6="["+P9+"]?",F9="(?:"+T9+"(?:"+[E6,L6,M6].join("|")+")"+I6+D6+")*",k9=I6+D6+F9,_9="(?:"+[E6+ux+"?",ux,L6,M6,C9].join("|")+")",E9=RegExp(cx+"(?="+cx+")|"+_9+k9,"g");function L9(e){return e.match(E9)||[]}var M9=L9,D9=w9,I9=k6,$9=M9;function R9(e){return I9(e)?$9(e):D9(e)}var B9=R9,W9=c9,U9=k6,z9=B9,H9=A6;function q9(e){return function(t){t=H9(t);var n=U9(t)?z9(t):void 0,r=n?n[0]:t.charAt(0),i=n?W9(n,1).join(""):t.slice(1);return r[e]()+i}}var G9=q9,V9=G9,K9=V9("toUpperCase"),Y9=K9;const S0=Rt(Y9);function Yt(e){return function(){return e}}const $6=Math.cos,Bm=Math.sin,la=Math.sqrt,Wm=Math.PI,N0=2*Wm,dx=Math.PI,fx=2*dx,Rs=1e-6,X9=fx-Rs;function R6(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function J9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return R6;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Q9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?R6:J9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,c=i-n,h=o-t,f=s-n,p=h*h+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Rs)if(!(Math.abs(f*l-c*h)>Rs)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-o,m=i-s,g=l*l+c*c,w=d*d+m*m,b=Math.sqrt(g),y=Math.sqrt(p),x=a*Math.tan((dx-Math.acos((g+p-w)/(2*b*y)))/2),A=x/y,N=x/b;Math.abs(A-1)>Rs&&this._append`L${t+A*h},${n+A*f}`,this._append`A${a},${a},0,0,${+(f*d>h*m)},${this._x1=t+N*l},${this._y1=n+N*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,h=n+l,f=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Rs||Math.abs(this._y1-h)>Rs)&&this._append`L${c},${h}`,r&&(p<0&&(p=p%fx+fx),p>X9?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=h}`:p>Rs&&this._append`A${r},${r},0,${+(p>=dx)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function nw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Q9(t)}function rw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function B6(e){this._context=e}B6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function j0(e){return new B6(e)}function W6(e){return e[0]}function U6(e){return e[1]}function z6(e,t){var n=Yt(!0),r=null,i=j0,a=null,o=nw(s);e=typeof e=="function"?e:e===void 0?W6:Yt(e),t=typeof t=="function"?t:t===void 0?U6:Yt(t);function s(l){var c,h=(l=rw(l)).length,f,p=!1,d;for(r==null&&(a=i(d=o())),c=0;c<=h;++c)!(c<h&&n(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,c,l),+t(f,c,l));if(d)return a=null,d+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Yt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Yt(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Yt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function _p(e,t,n){var r=null,i=Yt(!0),a=null,o=j0,s=null,l=nw(c);e=typeof e=="function"?e:e===void 0?W6:Yt(+e),t=typeof t=="function"?t:Yt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?U6:Yt(+n);function c(f){var p,d,m,g=(f=rw(f)).length,w,b=!1,y,x=new Array(g),A=new Array(g);for(a==null&&(s=o(y=l())),p=0;p<=g;++p){if(!(p<g&&i(w=f[p],p,f))===b)if(b=!b)d=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=p-1;m>=d;--m)s.point(x[m],A[m]);s.lineEnd(),s.areaEnd()}b&&(x[p]=+e(w,p,f),A[p]=+t(w,p,f),s.point(r?+r(w,p,f):x[p],n?+n(w,p,f):A[p]))}if(y)return s=null,y+""||null}function h(){return z6().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yt(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yt(+f),c):n},c.lineX0=c.lineY0=function(){return h().x(e).y(t)},c.lineY1=function(){return h().x(e).y(n)},c.lineX1=function(){return h().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Yt(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class H6{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Z9(e){return new H6(e,!0)}function eB(e){return new H6(e,!1)}const iw={draw(e,t){const n=la(t/Wm);e.moveTo(n,0),e.arc(0,0,n,0,N0)}},tB={draw(e,t){const n=la(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},q6=la(1/3),nB=q6*2,rB={draw(e,t){const n=la(t/nB),r=n*q6;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},iB={draw(e,t){const n=la(t),r=-n/2;e.rect(r,r,n,n)}},aB=.8908130915292852,G6=Bm(Wm/10)/Bm(7*Wm/10),oB=Bm(N0/10)*G6,sB=-$6(N0/10)*G6,lB={draw(e,t){const n=la(t*aB),r=oB*n,i=sB*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=N0*a/5,s=$6(o),l=Bm(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},wy=la(3),uB={draw(e,t){const n=-la(t/(wy*3));e.moveTo(0,n*2),e.lineTo(-wy*n,-n),e.lineTo(wy*n,-n),e.closePath()}},yi=-.5,xi=la(3)/2,hx=1/la(12),cB=(hx/2+1)*3,dB={draw(e,t){const n=la(t/cB),r=n/2,i=n*hx,a=r,o=n*hx+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(yi*r-xi*i,xi*r+yi*i),e.lineTo(yi*a-xi*o,xi*a+yi*o),e.lineTo(yi*s-xi*l,xi*s+yi*l),e.lineTo(yi*r+xi*i,yi*i-xi*r),e.lineTo(yi*a+xi*o,yi*o-xi*a),e.lineTo(yi*s+xi*l,yi*l-xi*s),e.closePath()}};function fB(e,t){let n=null,r=nw(i);e=typeof e=="function"?e:Yt(e||iw),t=typeof t=="function"?t:Yt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Yt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Yt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Um(){}function zm(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function V6(e){this._context=e}V6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hB(e){return new V6(e)}function K6(e){this._context=e}K6.prototype={areaStart:Um,areaEnd:Um,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pB(e){return new K6(e)}function Y6(e){this._context=e}Y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mB(e){return new Y6(e)}function X6(e){this._context=e}X6.prototype={areaStart:Um,areaEnd:Um,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function gB(e){return new X6(e)}function j3(e){return e<0?-1:1}function A3(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(j3(a)+j3(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function P3(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Sy(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Hm(e){this._context=e}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sy(this,this._t0,P3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Sy(this,P3(this,n=A3(this,e,t)),n);break;default:Sy(this,this._t0,n=A3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function J6(e){this._context=new Q6(e)}(J6.prototype=Object.create(Hm.prototype)).point=function(e,t){Hm.prototype.point.call(this,t,e)};function Q6(e){this._context=e}Q6.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function vB(e){return new Hm(e)}function yB(e){return new J6(e)}function Z6(e){this._context=e}Z6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=C3(e),i=C3(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function C3(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function xB(e){return new Z6(e)}function A0(e,t){this._context=e,this._t=t}A0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function bB(e){return new A0(e,.5)}function wB(e){return new A0(e,0)}function SB(e){return new A0(e,1)}function Ku(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function px(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function NB(e,t){return e[t]}function jB(e){const t=[];return t.key=e,t}function AB(){var e=Yt([]),t=px,n=Ku,r=NB;function i(a){var o=Array.from(e.apply(this,arguments),jB),s,l=o.length,c=-1,h;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,a)]).data=f;for(s=0,h=rw(t(o));s<l;++s)o[h[s]].index=s;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Yt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Yt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?px:typeof a=="function"?a:Yt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Ku,i):n},i}function PB(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Ku(e,t)}}function CB(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ku(e,t)}}function OB(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var h=e[t[s]],f=h[r][1]||0,p=h[r-1][1]||0,d=(f-p)/2,m=0;m<s;++m){var g=e[t[m]],w=g[r][1]||0,b=g[r-1][1]||0;d+=w-b}l+=f,c+=d*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Ku(e,t)}}function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}var TB=["type","size","sizeType"];function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mx.apply(this,arguments)}function O3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(n),!0).forEach(function(r){FB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FB(e,t,n){return t=kB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kB(e){var t=_B(e,"string");return Cf(t)=="symbol"?t:t+""}function _B(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EB(e,t){if(e==null)return{};var n=LB(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LB(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var eO={symbolCircle:iw,symbolCross:tB,symbolDiamond:rB,symbolSquare:iB,symbolStar:lB,symbolTriangle:uB,symbolWye:dB},MB=Math.PI/180,DB=function(t){var n="symbol".concat(S0(t));return eO[n]||iw},IB=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*MB;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$B=function(t,n){eO["symbol".concat(S0(t))]=n},aw=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=EB(t,TB),c=T3(T3({},l),{},{type:r,size:a,sizeType:s}),h=function(){var w=DB(r),b=fB().type(w).size(IB(a,s,r));return b()},f=c.className,p=c.cx,d=c.cy,m=jt(c,!0);return p===+p&&d===+d&&a===+a?ge.createElement("path",mx({},m,{className:tt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(d,")"),d:h()})):null};aw.registerSymbol=$B;function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gx.apply(this,arguments)}function F3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(n),!0).forEach(function(r){Of(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nO(r.key),r)}}function UB(e,t,n){return t&&WB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zB(e,t,n){return t=qm(t),HB(e,tO()?Reflect.construct(t,n||[],qm(e).constructor):t.apply(e,n))}function HB(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qB(e)}function qB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!e})()}function qm(e){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qm(e)}function GB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vx(e,t)}function vx(e,t){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vx(e,t)}function Of(e,t,n){return t=nO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nO(e){var t=VB(e,"string");return Yu(t)=="symbol"?t:t+""}function VB(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bi=32,ow=function(e){function t(){return BB(this,t),zB(this,t,arguments)}return GB(t,e),UB(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=bi/2,o=bi/6,s=bi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ge.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:bi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ge.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(bi,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ge.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(bi/8,"h").concat(bi,"v").concat(bi*3/4,"h").concat(-bi,"z"),className:"recharts-legend-icon"});if(ge.isValidElement(r.legendIcon)){var c=RB({},r);return delete c.legendIcon,ge.cloneElement(r.legendIcon,c)}return ge.createElement(aw,{fill:l,cx:a,cy:a,size:bi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,h={x:0,y:0,width:bi,height:bi},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(d,m){var g=d.formatter||l,w=tt(Of(Of({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",d.inactive));if(d.type==="none")return null;var b=xt(d.value)?null:d.value;io(!xt(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=d.inactive?c:d.color;return ge.createElement("li",gx({className:w,style:f,key:"legend-item-".concat(m)},Rm(r.props,d,m)),ge.createElement(sx,{width:o,height:o,viewBox:h,style:p},r.renderIcon(d)),ge.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(b,d,m):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ge.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(se.PureComponent);Of(ow,"displayName","Legend");Of(ow,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var KB=u0;function YB(){this.__data__=new KB,this.size=0}var XB=YB;function JB(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var QB=JB;function ZB(e){return this.__data__.get(e)}var eW=ZB;function tW(e){return this.__data__.has(e)}var nW=tW,rW=u0,iW=Vb,aW=Kb,oW=200;function sW(e,t){var n=this.__data__;if(n instanceof rW){var r=n.__data__;if(!iW||r.length<oW-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new aW(r)}return n.set(e,t),this.size=n.size,this}var lW=sW,uW=u0,cW=XB,dW=QB,fW=eW,hW=nW,pW=lW;function Pc(e){var t=this.__data__=new uW(e);this.size=t.size}Pc.prototype.clear=cW;Pc.prototype.delete=dW;Pc.prototype.get=fW;Pc.prototype.has=hW;Pc.prototype.set=pW;var rO=Pc,mW="__lodash_hash_undefined__";function gW(e){return this.__data__.set(e,mW),this}var vW=gW;function yW(e){return this.__data__.has(e)}var xW=yW,bW=Kb,wW=vW,SW=xW;function Gm(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new bW;++t<n;)this.add(e[t])}Gm.prototype.add=Gm.prototype.push=wW;Gm.prototype.has=SW;var iO=Gm;function NW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var aO=NW;function jW(e,t){return e.has(t)}var oO=jW,AW=iO,PW=aO,CW=oO,OW=1,TW=2;function FW(e,t,n,r,i,a){var o=n&OW,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),h=a.get(t);if(c&&h)return c==t&&h==e;var f=-1,p=!0,d=n&TW?new AW:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var m=e[f],g=t[f];if(r)var w=o?r(g,m,f,t,e,a):r(m,g,f,e,t,a);if(w!==void 0){if(w)continue;p=!1;break}if(d){if(!PW(t,function(b,y){if(!CW(d,y)&&(m===b||i(m,b,n,r,a)))return d.push(y)})){p=!1;break}}else if(!(m===g||i(m,g,n,r,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var sO=FW,kW=La,_W=kW.Uint8Array,EW=_W;function LW(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var MW=LW;function DW(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var sw=DW,k3=mh,_3=EW,IW=Gb,$W=sO,RW=MW,BW=sw,WW=1,UW=2,zW="[object Boolean]",HW="[object Date]",qW="[object Error]",GW="[object Map]",VW="[object Number]",KW="[object RegExp]",YW="[object Set]",XW="[object String]",JW="[object Symbol]",QW="[object ArrayBuffer]",ZW="[object DataView]",E3=k3?k3.prototype:void 0,Ny=E3?E3.valueOf:void 0;function eU(e,t,n,r,i,a,o){switch(n){case ZW:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case QW:return!(e.byteLength!=t.byteLength||!a(new _3(e),new _3(t)));case zW:case HW:case VW:return IW(+e,+t);case qW:return e.name==t.name&&e.message==t.message;case KW:case XW:return e==t+"";case GW:var s=RW;case YW:var l=r&WW;if(s||(s=BW),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=UW,o.set(e,t);var h=$W(s(e),s(t),r,i,a,o);return o.delete(e),h;case JW:if(Ny)return Ny.call(e)==Ny.call(t)}return!1}var tU=eU;function nU(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var lO=nU,rU=lO,iU=Hr;function aU(e,t,n){var r=t(e);return iU(e)?r:rU(r,n(e))}var oU=aU;function sU(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var lU=sU;function uU(){return[]}var cU=uU,dU=lU,fU=cU,hU=Object.prototype,pU=hU.propertyIsEnumerable,L3=Object.getOwnPropertySymbols,mU=L3?function(e){return e==null?[]:(e=Object(e),dU(L3(e),function(t){return pU.call(e,t)}))}:fU,gU=mU;function vU(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var yU=vU,xU=go,bU=vo,wU="[object Arguments]";function SU(e){return bU(e)&&xU(e)==wU}var NU=SU,M3=NU,jU=vo,uO=Object.prototype,AU=uO.hasOwnProperty,PU=uO.propertyIsEnumerable,CU=M3(function(){return arguments}())?M3:function(e){return jU(e)&&AU.call(e,"callee")&&!PU.call(e,"callee")},lw=CU,Vm={exports:{}};function OU(){return!1}var TU=OU;Vm.exports;(function(e,t){var n=La,r=TU,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(Vm,Vm.exports);var cO=Vm.exports,FU=9007199254740991,kU=/^(?:0|[1-9]\d*)$/;function _U(e,t){var n=typeof e;return t=t??FU,!!t&&(n=="number"||n!="symbol"&&kU.test(e))&&e>-1&&e%1==0&&e<t}var uw=_U,EU=9007199254740991;function LU(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=EU}var cw=LU,MU=go,DU=cw,IU=vo,$U="[object Arguments]",RU="[object Array]",BU="[object Boolean]",WU="[object Date]",UU="[object Error]",zU="[object Function]",HU="[object Map]",qU="[object Number]",GU="[object Object]",VU="[object RegExp]",KU="[object Set]",YU="[object String]",XU="[object WeakMap]",JU="[object ArrayBuffer]",QU="[object DataView]",ZU="[object Float32Array]",ez="[object Float64Array]",tz="[object Int8Array]",nz="[object Int16Array]",rz="[object Int32Array]",iz="[object Uint8Array]",az="[object Uint8ClampedArray]",oz="[object Uint16Array]",sz="[object Uint32Array]",Qt={};Qt[ZU]=Qt[ez]=Qt[tz]=Qt[nz]=Qt[rz]=Qt[iz]=Qt[az]=Qt[oz]=Qt[sz]=!0;Qt[$U]=Qt[RU]=Qt[JU]=Qt[BU]=Qt[QU]=Qt[WU]=Qt[UU]=Qt[zU]=Qt[HU]=Qt[qU]=Qt[GU]=Qt[VU]=Qt[KU]=Qt[YU]=Qt[XU]=!1;function lz(e){return IU(e)&&DU(e.length)&&!!Qt[MU(e)]}var uz=lz;function cz(e){return function(t){return e(t)}}var dO=cz,Km={exports:{}};Km.exports;(function(e,t){var n=x6,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Km,Km.exports);var dz=Km.exports,fz=uz,hz=dO,D3=dz,I3=D3&&D3.isTypedArray,pz=I3?hz(I3):fz,fO=pz,mz=yU,gz=lw,vz=Hr,yz=cO,xz=uw,bz=fO,wz=Object.prototype,Sz=wz.hasOwnProperty;function Nz(e,t){var n=vz(e),r=!n&&gz(e),i=!n&&!r&&yz(e),a=!n&&!r&&!i&&bz(e),o=n||r||i||a,s=o?mz(e.length,String):[],l=s.length;for(var c in e)(t||Sz.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||xz(c,l)))&&s.push(c);return s}var jz=Nz,Az=Object.prototype;function Pz(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Az;return e===n}var Cz=Pz;function Oz(e,t){return function(n){return e(t(n))}}var hO=Oz,Tz=hO,Fz=Tz(Object.keys,Object),kz=Fz,_z=Cz,Ez=kz,Lz=Object.prototype,Mz=Lz.hasOwnProperty;function Dz(e){if(!_z(e))return Ez(e);var t=[];for(var n in Object(e))Mz.call(e,n)&&n!="constructor"&&t.push(n);return t}var Iz=Dz,$z=qb,Rz=cw;function Bz(e){return e!=null&&Rz(e.length)&&!$z(e)}var yh=Bz,Wz=jz,Uz=Iz,zz=yh;function Hz(e){return zz(e)?Wz(e):Uz(e)}var P0=Hz,qz=oU,Gz=gU,Vz=P0;function Kz(e){return qz(e,Vz,Gz)}var Yz=Kz,$3=Yz,Xz=1,Jz=Object.prototype,Qz=Jz.hasOwnProperty;function Zz(e,t,n,r,i,a){var o=n&Xz,s=$3(e),l=s.length,c=$3(t),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var p=s[f];if(!(o?p in t:Qz.call(t,p)))return!1}var d=a.get(e),m=a.get(t);if(d&&m)return d==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);for(var w=o;++f<l;){p=s[f];var b=e[p],y=t[p];if(r)var x=o?r(y,b,p,t,e,a):r(b,y,p,e,t,a);if(!(x===void 0?b===y||i(b,y,n,r,a):x)){g=!1;break}w||(w=p=="constructor")}if(g&&!w){var A=e.constructor,N=t.constructor;A!=N&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof N=="function"&&N instanceof N)&&(g=!1)}return a.delete(e),a.delete(t),g}var eH=Zz,tH=jl,nH=La,rH=tH(nH,"DataView"),iH=rH,aH=jl,oH=La,sH=aH(oH,"Promise"),lH=sH,uH=jl,cH=La,dH=uH(cH,"Set"),pO=dH,fH=jl,hH=La,pH=fH(hH,"WeakMap"),mH=pH,yx=iH,xx=Vb,bx=lH,wx=pO,Sx=mH,mO=go,Cc=w6,R3="[object Map]",gH="[object Object]",B3="[object Promise]",W3="[object Set]",U3="[object WeakMap]",z3="[object DataView]",vH=Cc(yx),yH=Cc(xx),xH=Cc(bx),bH=Cc(wx),wH=Cc(Sx),Bs=mO;(yx&&Bs(new yx(new ArrayBuffer(1)))!=z3||xx&&Bs(new xx)!=R3||bx&&Bs(bx.resolve())!=B3||wx&&Bs(new wx)!=W3||Sx&&Bs(new Sx)!=U3)&&(Bs=function(e){var t=mO(e),n=t==gH?e.constructor:void 0,r=n?Cc(n):"";if(r)switch(r){case vH:return z3;case yH:return R3;case xH:return B3;case bH:return W3;case wH:return U3}return t});var SH=Bs,jy=rO,NH=sO,jH=tU,AH=eH,H3=SH,q3=Hr,G3=cO,PH=fO,CH=1,V3="[object Arguments]",K3="[object Array]",Ep="[object Object]",OH=Object.prototype,Y3=OH.hasOwnProperty;function TH(e,t,n,r,i,a){var o=q3(e),s=q3(t),l=o?K3:H3(e),c=s?K3:H3(t);l=l==V3?Ep:l,c=c==V3?Ep:c;var h=l==Ep,f=c==Ep,p=l==c;if(p&&G3(e)){if(!G3(t))return!1;o=!0,h=!1}if(p&&!h)return a||(a=new jy),o||PH(e)?NH(e,t,n,r,i,a):jH(e,t,l,n,r,i,a);if(!(n&CH)){var d=h&&Y3.call(e,"__wrapped__"),m=f&&Y3.call(t,"__wrapped__");if(d||m){var g=d?e.value():e,w=m?t.value():t;return a||(a=new jy),i(g,w,n,r,a)}}return p?(a||(a=new jy),AH(e,t,n,r,i,a)):!1}var FH=TH,kH=FH,X3=vo;function gO(e,t,n,r,i){return e===t?!0:e==null||t==null||!X3(e)&&!X3(t)?e!==e&&t!==t:kH(e,t,n,r,gO,i)}var dw=gO,_H=rO,EH=dw,LH=1,MH=2;function DH(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var l=s[0],c=e[l],h=s[1];if(o&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new _H;if(r)var p=r(c,h,l,e,t,f);if(!(p===void 0?EH(h,c,LH|MH,r,f):p))return!1}}return!0}var IH=DH,$H=gs;function RH(e){return e===e&&!$H(e)}var vO=RH,BH=vO,WH=P0;function UH(e){for(var t=WH(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,BH(i)]}return t}var zH=UH;function HH(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var yO=HH,qH=IH,GH=zH,VH=yO;function KH(e){var t=GH(e);return t.length==1&&t[0][2]?VH(t[0][0],t[0][1]):function(n){return n===e||qH(n,e,t)}}var YH=KH;function XH(e,t){return e!=null&&t in Object(e)}var JH=XH,QH=P6,ZH=lw,eq=Hr,tq=uw,nq=cw,rq=d0;function iq(e,t,n){t=QH(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=rq(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&nq(i)&&tq(o,i)&&(eq(e)||ZH(e)))}var aq=iq,oq=JH,sq=aq;function lq(e,t){return e!=null&&sq(e,t,oq)}var uq=lq,cq=dw,dq=C6,fq=uq,hq=Hb,pq=vO,mq=yO,gq=d0,vq=1,yq=2;function xq(e,t){return hq(e)&&pq(t)?mq(gq(e),t):function(n){var r=dq(n,e);return r===void 0&&r===t?fq(n,e):cq(t,r,vq|yq)}}var bq=xq;function wq(e){return e}var Oc=wq;function Sq(e){return function(t){return t==null?void 0:t[e]}}var Nq=Sq,jq=Jb;function Aq(e){return function(t){return jq(t,e)}}var Pq=Aq,Cq=Nq,Oq=Pq,Tq=Hb,Fq=d0;function kq(e){return Tq(e)?Cq(Fq(e)):Oq(e)}var _q=kq,Eq=YH,Lq=bq,Mq=Oc,Dq=Hr,Iq=_q;function $q(e){return typeof e=="function"?e:e==null?Mq:typeof e=="object"?Dq(e)?Lq(e[0],e[1]):Eq(e):Iq(e)}var vs=$q;function Rq(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var xO=Rq;function Bq(e){return e!==e}var Wq=Bq;function Uq(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var zq=Uq,Hq=xO,qq=Wq,Gq=zq;function Vq(e,t,n){return t===t?Gq(e,t,n):Hq(e,qq,n)}var Kq=Vq,Yq=Kq;function Xq(e,t){var n=e==null?0:e.length;return!!n&&Yq(e,t,0)>-1}var Jq=Xq;function Qq(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Zq=Qq;function eG(){}var tG=eG,Ay=pO,nG=tG,rG=sw,iG=1/0,aG=Ay&&1/rG(new Ay([,-0]))[1]==iG?function(e){return new Ay(e)}:nG,oG=aG,sG=iO,lG=Jq,uG=Zq,cG=oO,dG=oG,fG=sw,hG=200;function pG(e,t,n){var r=-1,i=lG,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=uG;else if(a>=hG){var c=t?null:dG(e);if(c)return fG(c);o=!1,i=cG,l=new sG}else l=t?[]:s;e:for(;++r<a;){var h=e[r],f=t?t(h):h;if(h=n||h!==0?h:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),s.push(h)}else i(l,f,n)||(l!==s&&l.push(f),s.push(h))}return s}var mG=pG,gG=vs,vG=mG;function yG(e,t){return e&&e.length?vG(e,gG(t)):[]}var xG=yG;const J3=Rt(xG);function bO(e,t,n){return t===!0?J3(e,n):xt(t)?J3(e,t):e}function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}var bG=["ref"];function Q3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(n),!0).forEach(function(r){C0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SO(r.key),r)}}function SG(e,t,n){return t&&Z3(e.prototype,t),n&&Z3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function NG(e,t,n){return t=Ym(t),jG(e,wO()?Reflect.construct(t,n||[],Ym(e).constructor):t.apply(e,n))}function jG(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AG(e)}function AG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wO=function(){return!!e})()}function Ym(e){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ym(e)}function PG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nx(e,t)}function Nx(e,t){return Nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nx(e,t)}function C0(e,t,n){return t=SO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SO(e){var t=CG(e,"string");return Xu(t)=="symbol"?t:t+""}function CG(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function OG(e,t){if(e==null)return{};var n=TG(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function FG(e){return e.value}function kG(e,t){if(ge.isValidElement(e))return ge.cloneElement(e,t);if(typeof e=="function")return ge.createElement(e,t);t.ref;var n=OG(t,bG);return ge.createElement(ow,n)}var eN=1,il=function(e){function t(){var n;wG(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=NG(this,t,[].concat(i)),C0(n,"lastBoundingBox",{width:-1,height:-1}),n}return PG(t,e),SG(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>eN||Math.abs(i.height-this.lastBoundingBox.height)>eN)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Va({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,h=i.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();p={top:((h||0)-m.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Va(Va({},f),p)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,h=i.payload,f=Va(Va({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return ge.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){r.wrapperNode=d}},kG(a,Va(Va({},this.props),{},{payload:bO(h,c,FG)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Va(Va({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&ze(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(se.PureComponent);C0(il,"displayName","Legend");C0(il,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var tN=mh,_G=lw,EG=Hr,nN=tN?tN.isConcatSpreadable:void 0;function LG(e){return EG(e)||_G(e)||!!(nN&&e&&e[nN])}var MG=LG,DG=lO,IG=MG;function NO(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=IG),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?NO(s,t-1,n,r,i):DG(i,s):r||(i[i.length]=s)}return i}var jO=NO;function $G(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(n(a[l],l,a)===!1)break}return t}}var RG=$G,BG=RG,WG=BG(),UG=WG,zG=UG,HG=P0;function qG(e,t){return e&&zG(e,t,HG)}var AO=qG,GG=yh;function VG(e,t){return function(n,r){if(n==null)return n;if(!GG(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var KG=VG,YG=AO,XG=KG,JG=XG(YG),fw=JG,QG=fw,ZG=yh;function eV(e,t){var n=-1,r=ZG(e)?Array(e.length):[];return QG(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var PO=eV;function tV(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var nV=tV,rN=wc;function rV(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=rN(e),o=t!==void 0,s=t===null,l=t===t,c=rN(t);if(!s&&!c&&!a&&e>t||a&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var iV=rV,aV=iV;function oV(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=aV(i[r],a[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}var sV=oV,Py=Xb,lV=Jb,uV=vs,cV=PO,dV=nV,fV=dO,hV=sV,pV=Oc,mV=Hr;function gV(e,t,n){t.length?t=Py(t,function(a){return mV(a)?function(o){return lV(o,a.length===1?a[0]:a)}:a}):t=[pV];var r=-1;t=Py(t,fV(uV));var i=cV(e,function(a,o,s){var l=Py(t,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return dV(i,function(a,o){return hV(a,o,n)})}var vV=gV;function yV(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var xV=yV,bV=xV,iN=Math.max;function wV(e,t,n){return t=iN(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=iN(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),bV(e,this,s)}}var SV=wV;function NV(e){return function(){return e}}var jV=NV,AV=jl,PV=function(){try{var e=AV(Object,"defineProperty");return e({},"",{}),e}catch{}}(),CO=PV,CV=jV,aN=CO,OV=Oc,TV=aN?function(e,t){return aN(e,"toString",{configurable:!0,enumerable:!1,value:CV(t),writable:!0})}:OV,FV=TV,kV=800,_V=16,EV=Date.now;function LV(e){var t=0,n=0;return function(){var r=EV(),i=_V-(r-n);if(n=r,i>0){if(++t>=kV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var MV=LV,DV=FV,IV=MV,$V=IV(DV),RV=$V,BV=Oc,WV=SV,UV=RV;function zV(e,t){return UV(WV(e,t,BV),e+"")}var HV=zV,qV=Gb,GV=yh,VV=uw,KV=gs;function YV(e,t,n){if(!KV(n))return!1;var r=typeof t;return(r=="number"?GV(n)&&VV(t,n.length):r=="string"&&t in n)?qV(n[t],e):!1}var O0=YV,XV=jO,JV=vV,QV=HV,oN=O0,ZV=QV(function(e,t){if(e==null)return[];var n=t.length;return n>1&&oN(e,t[0],t[1])?t=[]:n>2&&oN(t[0],t[1],t[2])&&(t=[t[0]]),JV(e,XV(t,1),[])}),eK=ZV;const hw=Rt(eK);function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(this,arguments)}function tK(e,t){return aK(e)||iK(e,t)||rK(e,t)||nK()}function nK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rK(e,t){if(e){if(typeof e=="string")return sN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sN(e,t)}}function sN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function aK(e){if(Array.isArray(e))return e}function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(r){oK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oK(e,t,n){return t=sK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sK(e){var t=lK(e,"string");return Tf(t)=="symbol"?t:t+""}function lK(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uK(e){return Array.isArray(e)&&Rn(e[0])&&Rn(e[1])?e.join(" ~ "):e}var cK=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,h=t.payload,f=t.formatter,p=t.itemSorter,d=t.wrapperClassName,m=t.labelClassName,g=t.label,w=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,x=function(){if(h&&h.length){var T={padding:0,margin:0},I=(p?hw(h,p):h).map(function(L,U){if(L.type==="none")return null;var D=Cy({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),$=L.formatter||f||uK,W=L.value,z=L.name,Y=W,re=z;if($&&Y!=null&&re!=null){var E=$(W,z,L,U,h);if(Array.isArray(E)){var R=tK(E,2);Y=R[0],re=R[1]}else Y=E}return ge.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:D},Rn(re)?ge.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Rn(re)?ge.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ge.createElement("span",{className:"recharts-tooltip-item-value"},Y),ge.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return ge.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},A=Cy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=Cy({margin:0},c),P=!wt(g),j=P?g:"",C=tt("recharts-default-tooltip",d),_=tt("recharts-tooltip-label",m);P&&w&&h!==void 0&&h!==null&&(j=w(g,h));var M=y?{role:"status","aria-live":"assertive"}:{};return ge.createElement("div",jx({className:C,style:A},M),ge.createElement("p",{className:_,style:N},ge.isValidElement(j)?j:"".concat(j)),x())};function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function Lp(e,t,n){return t=dK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(e){var t=fK(e,"string");return Ff(t)=="symbol"?t:t+""}function fK(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wd="recharts-tooltip-wrapper",hK={visibility:"hidden"};function pK(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return tt(wd,Lp(Lp(Lp(Lp({},"".concat(wd,"-right"),ze(n)&&t&&ze(t.x)&&n>=t.x),"".concat(wd,"-left"),ze(n)&&t&&ze(t.x)&&n<t.x),"".concat(wd,"-bottom"),ze(r)&&t&&ze(t.y)&&r>=t.y),"".concat(wd,"-top"),ze(r)&&t&&ze(t.y)&&r<t.y))}function uN(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&ze(a[r]))return a[r];var h=n[r]-s-i,f=n[r]+i;if(t[r])return o[r]?h:f;if(o[r]){var p=h,d=l[r];return p<d?Math.max(f,l[r]):Math.max(h,l[r])}var m=f+s,g=l[r]+c;return m>g?Math.max(h,l[r]):Math.max(f,l[r])}function mK(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function gK(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,h,f;return o.height>0&&o.width>0&&n?(h=uN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=uN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=mK({translateX:h,translateY:f,useTranslate3d:s})):c=hK,{cssProperties:c,cssClasses:pK({translateX:h,translateY:f,coordinate:n})}}function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){Px(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TO(r.key),r)}}function xK(e,t,n){return t&&yK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bK(e,t,n){return t=Xm(t),wK(e,OO()?Reflect.construct(t,n||[],Xm(e).constructor):t.apply(e,n))}function wK(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SK(e)}function SK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OO=function(){return!!e})()}function Xm(e){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(e)}function NK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ax(e,t)}function Ax(e,t){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ax(e,t)}function Px(e,t,n){return t=TO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TO(e){var t=jK(e,"string");return Ju(t)=="symbol"?t:t+""}function jK(e,t){if(Ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fN=1,AK=function(e){function t(){var n;vK(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=bK(this,t,[].concat(i)),Px(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Px(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&c!==void 0?c:0}})}}),n}return NK(t,e),xK(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>fN||Math.abs(r.height-this.state.lastBoundingBox.height)>fN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,h=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,d=i.offset,m=i.position,g=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,x=gK({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:d,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:b}),A=x.cssClasses,N=x.cssProperties,P=dN(dN({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return ge.createElement("div",{tabIndex:-1,className:A,style:P,ref:function(C){r.wrapperNode=C}},c)}}])}(se.PureComponent),PK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Tc={isSsr:PK()};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){pw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kO(r.key),r)}}function TK(e,t,n){return t&&OK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FK(e,t,n){return t=Jm(t),kK(e,FO()?Reflect.construct(t,n||[],Jm(e).constructor):t.apply(e,n))}function kK(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _K(e)}function _K(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function Jm(e){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jm(e)}function EK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cx(e,t)}function pw(e,t,n){return t=kO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kO(e){var t=LK(e,"string");return Qu(t)=="symbol"?t:t+""}function LK(e,t){if(Qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function MK(e){return e.dataKey}function DK(e,t){return ge.isValidElement(e)?ge.cloneElement(e,t):typeof e=="function"?ge.createElement(e,t):ge.createElement(cK,t)}var ja=function(e){function t(){return CK(this,t),FK(this,t,arguments)}return EK(t,e),TK(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,h=i.coordinate,f=i.filterNull,p=i.isAnimationActive,d=i.offset,m=i.payload,g=i.payloadUniqBy,w=i.position,b=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,A=i.wrapperStyle,N=m??[];f&&N.length&&(N=bO(m.filter(function(j){return j.value!=null&&(j.hide!==!0||r.props.includeHidden)}),g,MK));var P=N.length>0;return ge.createElement(AK,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:h,hasPayload:P,offset:d,position:w,reverseDirection:b,useTranslate3d:y,viewBox:x,wrapperStyle:A},DK(c,pN(pN({},this.props),{},{payload:N})))}}])}(se.PureComponent);pw(ja,"displayName","Tooltip");pw(ja,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Tc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var IK=La,$K=function(){return IK.Date.now()},RK=$K,BK=/\s/;function WK(e){for(var t=e.length;t--&&BK.test(e.charAt(t)););return t}var UK=WK,zK=UK,HK=/^\s+/;function qK(e){return e&&e.slice(0,zK(e)+1).replace(HK,"")}var GK=qK,VK=GK,mN=gs,KK=wc,gN=NaN,YK=/^[-+]0x[0-9a-f]+$/i,XK=/^0b[01]+$/i,JK=/^0o[0-7]+$/i,QK=parseInt;function ZK(e){if(typeof e=="number")return e;if(KK(e))return gN;if(mN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=mN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=VK(e);var n=XK.test(e);return n||JK.test(e)?QK(e.slice(2),n?2:8):YK.test(e)?gN:+e}var _O=ZK,eY=gs,Oy=RK,vN=_O,tY="Expected a function",nY=Math.max,rY=Math.min;function iY(e,t,n){var r,i,a,o,s,l,c=0,h=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(tY);t=vN(t)||0,eY(n)&&(h=!!n.leading,f="maxWait"in n,a=f?nY(vN(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function d(P){var j=r,C=i;return r=i=void 0,c=P,o=e.apply(C,j),o}function m(P){return c=P,s=setTimeout(b,t),h?d(P):o}function g(P){var j=P-l,C=P-c,_=t-j;return f?rY(_,a-C):_}function w(P){var j=P-l,C=P-c;return l===void 0||j>=t||j<0||f&&C>=a}function b(){var P=Oy();if(w(P))return y(P);s=setTimeout(b,g(P))}function y(P){return s=void 0,p&&r?d(P):(r=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function A(){return s===void 0?o:y(Oy())}function N(){var P=Oy(),j=w(P);if(r=arguments,i=this,l=P,j){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(b,t),d(l)}return s===void 0&&(s=setTimeout(b,t)),o}return N.cancel=x,N.flush=A,N}var aY=iY,oY=aY,sY=gs,lY="Expected a function";function uY(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(lY);return sY(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),oY(e,t,{leading:r,maxWait:t,trailing:i})}var cY=uY;const EO=Rt(cY);function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){dY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dY(e,t,n){return t=fY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fY(e){var t=hY(e,"string");return kf(t)=="symbol"?t:t+""}function hY(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pY(e,t){return yY(e)||vY(e,t)||gY(e,t)||mY()}function mY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gY(e,t){if(e){if(typeof e=="string")return xN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(e,t)}}function xN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function yY(e){if(Array.isArray(e))return e}var xY=se.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,h=c===void 0?0:c,f=e.minHeight,p=e.maxHeight,d=e.children,m=e.debounce,g=m===void 0?0:m,w=e.id,b=e.className,y=e.onResize,x=e.style,A=x===void 0?{}:x,N=se.useRef(null),P=se.useRef();P.current=y,se.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var j=se.useState({containerWidth:i.width,containerHeight:i.height}),C=pY(j,2),_=C[0],M=C[1],O=se.useCallback(function(I,L){M(function(U){var D=Math.round(I),$=Math.round(L);return U.containerWidth===D&&U.containerHeight===$?U:{containerWidth:D,containerHeight:$}})},[]);se.useEffect(function(){var I=function(z){var Y,re=z[0].contentRect,E=re.width,R=re.height;O(E,R),(Y=P.current)===null||Y===void 0||Y.call(P,E,R)};g>0&&(I=EO(I,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(I),U=N.current.getBoundingClientRect(),D=U.width,$=U.height;return O(D,$),L.observe(N.current),function(){L.disconnect()}},[O,g]);var T=se.useMemo(function(){var I=_.containerWidth,L=_.containerHeight;if(I<0||L<0)return null;io(Ks(o)||Ks(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),io(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Ks(o)?I:o,D=Ks(l)?L:l;n&&n>0&&(U?D=U/n:D&&(U=D*n),p&&D>p&&(D=p)),io(U>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,D,o,l,h,f,n);var $=!Array.isArray(d)&&ro(d.type).endsWith("Chart");return ge.Children.map(d,function(W){return ge.isValidElement(W)?se.cloneElement(W,Mp({width:U,height:D},$?{style:Mp({height:"100%",width:"100%",maxHeight:D,maxWidth:U},W.props.style)}:{})):W})},[n,d,l,p,f,h,_,o]);return ge.createElement("div",{id:w?"".concat(w):void 0,className:tt("recharts-responsive-container",b),style:Mp(Mp({},A),{},{width:o,height:l,minWidth:h,minHeight:f,maxHeight:p}),ref:N},T)}),LO=function(t){return null};LO.displayName="Cell";function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ox(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){bY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bY(e,t,n){return t=wY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wY(e){var t=SY(e,"string");return _f(t)=="symbol"?t:t+""}function SY(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ou={widthCache:{},cacheCount:0},NY=2e3,jY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wN="recharts_measurement_span";function AY(e){var t=Ox({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Yd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Tc.isSsr)return{width:0,height:0};var r=AY(n),i=JSON.stringify({text:t,copyStyle:r});if(ou.widthCache[i])return ou.widthCache[i];try{var a=document.getElementById(wN);a||(a=document.createElement("span"),a.setAttribute("id",wN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Ox(Ox({},jY),r);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return ou.widthCache[i]=l,++ou.cacheCount>NY&&(ou.cacheCount=0,ou.widthCache={}),l}catch{return{width:0,height:0}}},PY=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function Qm(e,t){return FY(e)||TY(e,t)||OY(e,t)||CY()}function CY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(e,t){if(e){if(typeof e=="string")return SN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SN(e,t)}}function SN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function FY(e){if(Array.isArray(e))return e}function kY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EY(r.key),r)}}function _Y(e,t,n){return t&&NN(e.prototype,t),n&&NN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EY(e){var t=LY(e,"string");return Ef(t)=="symbol"?t:t+""}function LY(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},IY=Object.keys(MO),Ou="NaN";function $Y(e,t){return e*MO[t]}var Dp=function(){function e(t,n){kY(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!MY.test(n)&&(this.num=NaN,this.unit=""),IY.includes(n)&&(this.num=$Y(t,n),this.unit="px")}return _Y(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=DY.exec(n))!==null&&r!==void 0?r:[],a=Qm(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])}();function DO(e){if(e.includes(Ou))return Ou;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=jN.exec(t))!==null&&n!==void 0?n:[],i=Qm(r,4),a=i[1],o=i[2],s=i[3],l=Dp.parse(a??""),c=Dp.parse(s??""),h=o==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return Ou;t=t.replace(jN,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=AN.exec(t))!==null&&f!==void 0?f:[],d=Qm(p,4),m=d[1],g=d[2],w=d[3],b=Dp.parse(m??""),y=Dp.parse(w??""),x=g==="+"?b.add(y):b.subtract(y);if(x.isNaN())return Ou;t=t.replace(AN,x.toString())}return t}var PN=/\(([^()]*)\)/;function RY(e){for(var t=e;t.includes("(");){var n=PN.exec(t),r=Qm(n,2),i=r[1];t=t.replace(PN,DO(i))}return t}function BY(e){var t=e.replace(/\s+/g,"");return t=RY(t),t=DO(t),t}function WY(e){try{return BY(e)}catch{return Ou}}function Ty(e){var t=WY(e.slice(5,-1));return t===Ou?"":t}var UY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zY=["dx","dy","angle","className","breakAll"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tx.apply(this,arguments)}function CN(e,t){if(e==null)return{};var n=HY(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ON(e,t){return KY(e)||VY(e,t)||GY(e,t)||qY()}function qY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GY(e,t){if(e){if(typeof e=="string")return TN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(e,t)}}function TN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function KY(e){if(Array.isArray(e))return e}var IO=/[ \f\n\r\t\v\u2028\u2029]+/,$O=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];wt(n)||(r?a=n.toString().split(""):a=n.toString().split(IO));var o=a.map(function(l){return{word:l,width:Yd(l,i).width}}),s=r?0:Yd("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},YY=function(t,n,r,i,a){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,h=ze(o),f=s,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(D,$){var W=$.word,z=$.width,Y=D[D.length-1];if(Y&&(i==null||a||Y.width+z+r<Number(i)))Y.words.push(W),Y.width+=z+r;else{var re={words:[W],width:z};D.push(re)}return D},[])},d=p(n),m=function(U){return U.reduce(function(D,$){return D.width>$.width?D:$})};if(!h)return d;for(var g="",w=function(U){var D=f.slice(0,U),$=$O({breakAll:c,style:l,children:D+g}).wordsWithComputedWidth,W=p($),z=W.length>o||m(W).width>Number(i);return[z,W]},b=0,y=f.length-1,x=0,A;b<=y&&x<=f.length-1;){var N=Math.floor((b+y)/2),P=N-1,j=w(P),C=ON(j,2),_=C[0],M=C[1],O=w(N),T=ON(O,1),I=T[0];if(!_&&!I&&(b=N+1),_&&I&&(y=N-1),!_&&I){A=M;break}x++}return A||d},FN=function(t){var n=wt(t)?[]:t.toString().split(IO);return[{words:n}]},XY=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((n||r)&&!Tc.isSsr){var l,c,h=$O({breakAll:o,children:i,style:a});if(h){var f=h.wordsWithComputedWidth,p=h.spaceWidth;l=f,c=p}else return FN(i);return YY({breakAll:o,children:i,maxLines:s,style:a},l,c,n,r)}return FN(i)},kN="#808080",Zm=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,h=t.scaleToFit,f=h===void 0?!1:h,p=t.textAnchor,d=p===void 0?"start":p,m=t.verticalAnchor,g=m===void 0?"end":m,w=t.fill,b=w===void 0?kN:w,y=CN(t,UY),x=se.useMemo(function(){return XY({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),A=y.dx,N=y.dy,P=y.angle,j=y.className,C=y.breakAll,_=CN(y,zY);if(!Rn(r)||!Rn(a))return null;var M=r+(ze(A)?A:0),O=a+(ze(N)?N:0),T;switch(g){case"start":T=Ty("calc(".concat(c,")"));break;case"middle":T=Ty("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:T=Ty("calc(".concat(x.length-1," * -").concat(s,")"));break}var I=[];if(f){var L=x[0].width,U=y.width;I.push("scale(".concat((ze(U)?U/L:1)/L,")"))}return P&&I.push("rotate(".concat(P,", ").concat(M,", ").concat(O,")")),I.length&&(_.transform=I.join(" ")),ge.createElement("text",Tx({},jt(_,!0),{x:M,y:O,className:tt("recharts-text",j),textAnchor:d,fill:b.includes("url")?kN:b}),x.map(function(D,$){var W=D.words.join(C?"":" ");return ge.createElement("tspan",{x:M,dy:$===0?T:s,key:"".concat(W,"-").concat($)},W)}))};function as(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mw(e){let t,n,r;e.length!==2?(t=as,n=(s,l)=>as(e(s),l),r=(s,l)=>e(s)-l):(t=e===as||e===JY?e:QY,n=e,r=e);function i(s,l,c=0,h=s.length){if(c<h){if(t(l,l)!==0)return h;do{const f=c+h>>>1;n(s[f],l)<0?c=f+1:h=f}while(c<h)}return c}function a(s,l,c=0,h=s.length){if(c<h){if(t(l,l)!==0)return h;do{const f=c+h>>>1;n(s[f],l)<=0?c=f+1:h=f}while(c<h)}return c}function o(s,l,c=0,h=s.length){const f=i(s,l,c,h-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function QY(){return 0}function RO(e){return e===null?NaN:+e}function*ZY(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const eX=mw(as),xh=eX.right;mw(RO).center;class _N extends Map{constructor(t,n=rX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(EN(this,t))}has(t){return super.has(EN(this,t))}set(t,n){return super.set(tX(this,t),n)}delete(t){return super.delete(nX(this,t))}}function EN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function tX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function nX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function rX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function iX(e=as){if(e===as)return BO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function BO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const aX=Math.sqrt(50),oX=Math.sqrt(10),sX=Math.sqrt(2);function eg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=aX?10:a>=oX?5:a>=sX?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?eg(e,t,n*2):[s,l,c]}function Fx(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?eg(t,e,n):eg(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function kx(e,t,n){return t=+t,e=+e,n=+n,eg(e,t,n)[2]}function _x(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?kx(t,e,n):kx(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function LN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function MN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function WO(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?BO:iX(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,h=Math.log(l),f=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(n,Math.floor(t-c*f/l+p)),m=Math.min(r,Math.floor(t+(l-c)*f/l+p));WO(e,t,d,m,i)}const a=e[t];let o=n,s=r;for(Sd(e,n,t),i(e[r],a)>0&&Sd(e,n,r);o<s;){for(Sd(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Sd(e,n,s):(++s,Sd(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Sd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function lX(e,t,n){if(e=Float64Array.from(ZY(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return MN(e);if(t>=1)return LN(e);var r,i=(r-1)*t,a=Math.floor(i),o=LN(WO(e,a).subarray(0,a+1)),s=MN(e.subarray(a+1));return o+(s-o)*(i-a)}}function uX(e,t,n=RO){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function cX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ei(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ex=Symbol("implicit");function gw(){var e=new _N,t=[],n=[],r=Ex;function i(a){let o=e.get(a);if(o===void 0){if(r!==Ex)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new _N;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return gw(t,n).unknown(r)},Ei.apply(i,arguments),i}function Lf(){var e=gw().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,c=0,h=.5;delete e.unknown;function f(){var p=t().length,d=i<r,m=d?i:r,g=d?r:i;a=(g-m)/Math.max(1,p-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(p-l))*h,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var w=cX(p).map(function(b){return m+a*b});return n(d?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),f()):h},e.copy=function(){return Lf(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(h)},Ei.apply(f(),arguments)}function UO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return UO(t())},e}function Xd(){return UO(Lf.apply(null,arguments).paddingInner(1))}function vw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bh(){}var Mf=.7,tg=1/Mf,$u="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dX=/^#([0-9a-f]{3,8})$/,fX=new RegExp(`^rgb\\(${$u},${$u},${$u}\\)$`),hX=new RegExp(`^rgb\\(${Fa},${Fa},${Fa}\\)$`),pX=new RegExp(`^rgba\\(${$u},${$u},${$u},${Df}\\)$`),mX=new RegExp(`^rgba\\(${Fa},${Fa},${Fa},${Df}\\)$`),gX=new RegExp(`^hsl\\(${Df},${Fa},${Fa}\\)$`),vX=new RegExp(`^hsla\\(${Df},${Fa},${Fa},${Df}\\)$`),DN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vw(bh,If,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IN,formatHex:IN,formatHex8:yX,formatHsl:xX,formatRgb:$N,toString:$N});function IN(){return this.rgb().formatHex()}function yX(){return this.rgb().formatHex8()}function xX(){return HO(this).formatHsl()}function $N(){return this.rgb().formatRgb()}function If(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=dX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?RN(t):n===3?new $r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ip(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ip(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fX.exec(e))?new $r(t[1],t[2],t[3],1):(t=hX.exec(e))?new $r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pX.exec(e))?Ip(t[1],t[2],t[3],t[4]):(t=mX.exec(e))?Ip(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gX.exec(e))?UN(t[1],t[2]/100,t[3]/100,1):(t=vX.exec(e))?UN(t[1],t[2]/100,t[3]/100,t[4]):DN.hasOwnProperty(e)?RN(DN[e]):e==="transparent"?new $r(NaN,NaN,NaN,0):null}function RN(e){return new $r(e>>16&255,e>>8&255,e&255,1)}function Ip(e,t,n,r){return r<=0&&(e=t=n=NaN),new $r(e,t,n,r)}function bX(e){return e instanceof bh||(e=If(e)),e?(e=e.rgb(),new $r(e.r,e.g,e.b,e.opacity)):new $r}function Lx(e,t,n,r){return arguments.length===1?bX(e):new $r(e,t,n,r??1)}function $r(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vw($r,Lx,zO(bh,{brighter(e){return e=e==null?tg:Math.pow(tg,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mf:Math.pow(Mf,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $r(al(this.r),al(this.g),al(this.b),ng(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BN,formatHex:BN,formatHex8:wX,formatRgb:WN,toString:WN}));function BN(){return`#${Ys(this.r)}${Ys(this.g)}${Ys(this.b)}`}function wX(){return`#${Ys(this.r)}${Ys(this.g)}${Ys(this.b)}${Ys((isNaN(this.opacity)?1:this.opacity)*255)}`}function WN(){const e=ng(this.opacity);return`${e===1?"rgb(":"rgba("}${al(this.r)}, ${al(this.g)}, ${al(this.b)}${e===1?")":`, ${e})`}`}function ng(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function al(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ys(e){return e=al(e),(e<16?"0":"")+e.toString(16)}function UN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new na(e,t,n,r)}function HO(e){if(e instanceof na)return new na(e.h,e.s,e.l,e.opacity);if(e instanceof bh||(e=If(e)),!e)return new na;if(e instanceof na)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new na(o,s,l,e.opacity)}function SX(e,t,n,r){return arguments.length===1?HO(e):new na(e,t,n,r??1)}function na(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vw(na,SX,zO(bh,{brighter(e){return e=e==null?tg:Math.pow(tg,e),new na(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mf:Math.pow(Mf,e),new na(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new $r(Fy(e>=240?e-240:e+120,i,r),Fy(e,i,r),Fy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new na(zN(this.h),$p(this.s),$p(this.l),ng(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ng(this.opacity);return`${e===1?"hsl(":"hsla("}${zN(this.h)}, ${$p(this.s)*100}%, ${$p(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zN(e){return e=(e||0)%360,e<0?e+360:e}function $p(e){return Math.max(0,Math.min(1,e||0))}function Fy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yw=e=>()=>e;function NX(e,t){return function(n){return e+n*t}}function jX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function AX(e){return(e=+e)==1?qO:function(t,n){return n-t?jX(t,n,e):yw(isNaN(t)?n:t)}}function qO(e,t){var n=t-e;return n?NX(e,n):yw(isNaN(e)?t:e)}const HN=function e(t){var n=AX(t);function r(i,a){var o=n((i=Lx(i)).r,(a=Lx(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=qO(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=s(h),i.b=l(h),i.opacity=c(h),i+""}}return r.gamma=e,r}(1);function PX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function CX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function OX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Fc(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function TX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function rg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function FX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Fc(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Mx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ky=new RegExp(Mx.source,"g");function kX(e){return function(){return e}}function _X(e){return function(t){return e(t)+""}}function EX(e,t){var n=Mx.lastIndex=ky.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Mx.exec(e))&&(i=ky.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:rg(r,i)})),n=ky.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?_X(l[0].x):kX(t):(t=l.length,function(c){for(var h=0,f;h<t;++h)s[(f=l[h]).i]=f.x(c);return s.join("")})}function Fc(e,t){var n=typeof t,r;return t==null||n==="boolean"?yw(t):(n==="number"?rg:n==="string"?(r=If(t))?(t=r,HN):EX:t instanceof If?HN:t instanceof Date?TX:CX(t)?PX:Array.isArray(t)?OX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FX:rg)(e,t)}function xw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function LX(e,t){t===void 0&&(t=e,e=Fc);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function MX(e){return function(){return e}}function ig(e){return+e}var qN=[0,1];function Pr(e){return e}function Dx(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:MX(isNaN(t)?NaN:.5)}function DX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function IX(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Dx(i,r),a=n(o,a)):(r=Dx(r,i),a=n(a,o)),function(s){return a(r(s))}}function $X(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Dx(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=xh(e,s,1,r)-1;return a[l](i[l](s))}}function wh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function T0(){var e=qN,t=qN,n=Fc,r,i,a,o=Pr,s,l,c;function h(){var p=Math.min(e.length,t.length);return o!==Pr&&(o=DX(e[0],e[p-1])),s=p>2?$X:IX,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(i((c||(c=s(t,e.map(r),rg)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,ig),h()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=xw,h()},f.clamp=function(p){return arguments.length?(o=p?!0:Pr,h()):o!==Pr},f.interpolate=function(p){return arguments.length?(n=p,h()):n},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,d){return r=p,i=d,h()}}function bw(){return T0()(Pr,Pr)}function RX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ag(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Zu(e){return e=ag(Math.abs(e)),e?e[1]:NaN}function BX(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function WX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var UX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(e){if(!(t=UX.exec(e)))throw new Error("invalid format: "+e);var t;return new ww({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$f.prototype=ww.prototype;function ww(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ww.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zX(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var GO;function HX(e,t){var n=ag(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(GO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ag(e,Math.max(0,t+a-1))[0]}function GN(e,t){var n=ag(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const VN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:RX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GN(e*100,t),r:GN,s:HX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KN(e){return e}var YN=Array.prototype.map,XN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qX(e){var t=e.grouping===void 0||e.thousands===void 0?KN:BX(YN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?KN:WX(YN.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=$f(f);var p=f.fill,d=f.align,m=f.sign,g=f.symbol,w=f.zero,b=f.width,y=f.comma,x=f.precision,A=f.trim,N=f.type;N==="n"?(y=!0,N="g"):VN[N]||(x===void 0&&(x=12),A=!0,N="g"),(w||p==="0"&&d==="=")&&(w=!0,p="0",d="=");var P=g==="$"?n:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",j=g==="$"?r:/[%p]/.test(N)?o:"",C=VN[N],_=/[defgprs%]/.test(N);x=x===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function M(O){var T=P,I=j,L,U,D;if(N==="c")I=C(O)+I,O="";else{O=+O;var $=O<0||1/O<0;if(O=isNaN(O)?l:C(Math.abs(O),x),A&&(O=zX(O)),$&&+O==0&&m!=="+"&&($=!1),T=($?m==="("?m:s:m==="-"||m==="("?"":m)+T,I=(N==="s"?XN[8+GO/3]:"")+I+($&&m==="("?")":""),_){for(L=-1,U=O.length;++L<U;)if(D=O.charCodeAt(L),48>D||D>57){I=(D===46?i+O.slice(L+1):O.slice(L))+I,O=O.slice(0,L);break}}}y&&!w&&(O=t(O,1/0));var W=T.length+O.length+I.length,z=W<b?new Array(b-W+1).join(p):"";switch(y&&w&&(O=t(z+O,z.length?b-I.length:1/0),z=""),d){case"<":O=T+O+I+z;break;case"=":O=T+z+O+I;break;case"^":O=z.slice(0,W=z.length>>1)+T+O+I+z.slice(W);break;default:O=z+T+O+I;break}return a(O)}return M.toString=function(){return f+""},M}function h(f,p){var d=c((f=$f(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Zu(p)/3)))*3,g=Math.pow(10,-m),w=XN[8+m/3];return function(b){return d(g*b)+w}}return{format:c,formatPrefix:h}}var Rp,Sw,VO;GX({thousands:",",grouping:[3],currency:["$",""]});function GX(e){return Rp=qX(e),Sw=Rp.format,VO=Rp.formatPrefix,Rp}function VX(e){return Math.max(0,-Zu(Math.abs(e)))}function KX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zu(t)/3)))*3-Zu(Math.abs(e)))}function YX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zu(t)-Zu(e))+1}function KO(e,t,n,r){var i=_x(e,t,n),a;switch(r=$f(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=KX(i,o))&&(r.precision=a),VO(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=YX(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=VX(i))&&(r.precision=a-(r.type==="%")*2);break}}return Sw(r)}function ys(e){var t=e.domain;return e.ticks=function(n){var r=t();return Fx(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return KO(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,h=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);h-- >0;){if(c=kx(o,s,n),c===l)return r[i]=o,r[a]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function og(){var e=bw();return e.copy=function(){return wh(e,og())},Ei.apply(e,arguments),ys(e)}function YO(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ig),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return YO(e).unknown(t)},e=arguments.length?Array.from(e,ig):[0,1],ys(n)}function XO(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function JN(e){return Math.log(e)}function QN(e){return Math.exp(e)}function XX(e){return-Math.log(-e)}function JX(e){return-Math.exp(-e)}function QX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ZX(e){return e===10?QX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ZN(e){return(t,n)=>-e(-t,n)}function Nw(e){const t=e(JN,QN),n=t.domain;let r=10,i,a;function o(){return i=eJ(r),a=ZX(r),n()[0]<0?(i=ZN(i),a=ZN(a),e(XX,JX)):e(JN,QN),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],h=l[l.length-1];const f=h<c;f&&([c,h]=[h,c]);let p=i(c),d=i(h),m,g;const w=s==null?10:+s;let b=[];if(!(r%1)&&d-p<w){if(p=Math.floor(p),d=Math.ceil(d),c>0){for(;p<=d;++p)for(m=1;m<r;++m)if(g=p<0?m/a(-p):m*a(p),!(g<c)){if(g>h)break;b.push(g)}}else for(;p<=d;++p)for(m=r-1;m>=1;--m)if(g=p>0?m/a(-p):m*a(p),!(g<c)){if(g>h)break;b.push(g)}b.length*2<w&&(b=Fx(c,h,w))}else b=Fx(p,d,Math.min(d-p,w)).map(a);return f?b.reverse():b},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=$f(l)).precision==null&&(l.trim=!0),l=Sw(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return h=>{let f=h/a(Math.round(i(h)));return f*r<r-.5&&(f*=r),f<=c?l(h):""}},t.nice=()=>n(XO(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function JO(){const e=Nw(T0()).domain([1,10]);return e.copy=()=>wh(e,JO()).base(e.base()),Ei.apply(e,arguments),e}function ej(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jw(e){var t=1,n=e(ej(t),tj(t));return n.constant=function(r){return arguments.length?e(ej(t=+r),tj(t)):t},ys(n)}function QO(){var e=jw(T0());return e.copy=function(){return wh(e,QO()).constant(e.constant())},Ei.apply(e,arguments)}function nj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nJ(e){return e<0?-e*e:e*e}function Aw(e){var t=e(Pr,Pr),n=1;function r(){return n===1?e(Pr,Pr):n===.5?e(tJ,nJ):e(nj(n),nj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ys(t)}function Pw(){var e=Aw(T0());return e.copy=function(){return wh(e,Pw()).exponent(e.exponent())},Ei.apply(e,arguments),e}function rJ(){return Pw.apply(null,arguments).exponent(.5)}function rj(e){return Math.sign(e)*e*e}function iJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ZO(){var e=bw(),t=[0,1],n=!1,r;function i(a){var o=iJ(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(rj(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,ig)).map(rj)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ZO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ei.apply(i,arguments),ys(i)}function eT(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=uX(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[xh(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(as),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return eT().domain(e).range(t).unknown(r)},Ei.apply(a,arguments)}function tT(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[xh(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return tT().domain([e,t]).range(i).unknown(a)},Ei.apply(ys(o),arguments)}function nT(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[xh(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nT().domain(e).range(t).unknown(n)},Ei.apply(i,arguments)}const _y=new Date,Ey=new Date;function Wn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>Wn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(_y.setTime(+a),Ey.setTime(+o),e(_y),e(Ey),Math.floor(n(_y,Ey))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const sg=Wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sg);sg.range;const Za=1e3,ji=Za*60,eo=ji*60,co=eo*24,Cw=co*7,ij=co*30,Ly=co*365,Xs=Wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getUTCSeconds());Xs.range;const Ow=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Za)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getMinutes());Ow.range;const Tw=Wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCMinutes());Tw.range;const Fw=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Za-e.getMinutes()*ji)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getHours());Fw.range;const kw=Wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getUTCHours());kw.range;const Sh=Wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ji)/co,e=>e.getDate()-1);Sh.range;const F0=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/co,e=>e.getUTCDate()-1);F0.range;const rT=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/co,e=>Math.floor(e/co));rT.range;function Al(e){return Wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ji)/Cw)}const k0=Al(0),lg=Al(1),aJ=Al(2),oJ=Al(3),ec=Al(4),sJ=Al(5),lJ=Al(6);k0.range;lg.range;aJ.range;oJ.range;ec.range;sJ.range;lJ.range;function Pl(e){return Wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Cw)}const _0=Pl(0),ug=Pl(1),uJ=Pl(2),cJ=Pl(3),tc=Pl(4),dJ=Pl(5),fJ=Pl(6);_0.range;ug.range;uJ.range;cJ.range;tc.range;dJ.range;fJ.range;const _w=Wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_w.range;const Ew=Wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ew.range;const fo=Wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});fo.range;const ho=Wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ho.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ho.range;function iT(e,t,n,r,i,a){const o=[[Xs,1,Za],[Xs,5,5*Za],[Xs,15,15*Za],[Xs,30,30*Za],[a,1,ji],[a,5,5*ji],[a,15,15*ji],[a,30,30*ji],[i,1,eo],[i,3,3*eo],[i,6,6*eo],[i,12,12*eo],[r,1,co],[r,2,2*co],[n,1,Cw],[t,1,ij],[t,3,3*ij],[e,1,Ly]];function s(c,h,f){const p=h<c;p&&([c,h]=[h,c]);const d=f&&typeof f.range=="function"?f:l(c,h,f),m=d?d.range(c,+h+1):[];return p?m.reverse():m}function l(c,h,f){const p=Math.abs(h-c)/f,d=mw(([,,w])=>w).right(o,p);if(d===o.length)return e.every(_x(c/Ly,h/Ly,f));if(d===0)return sg.every(Math.max(_x(c,h,f),1));const[m,g]=o[p/o[d-1][2]<o[d][2]/p?d-1:d];return m.every(g)}return[s,l]}const[hJ,pJ]=iT(ho,Ew,_0,rT,kw,Tw),[mJ,gJ]=iT(fo,_w,k0,Sh,Fw,Ow);function My(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function vJ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=jd(i),h=Ad(i),f=jd(a),p=Ad(a),d=jd(o),m=Ad(o),g=jd(s),w=Ad(s),b=jd(l),y=Ad(l),x={a:$,A:W,b:z,B:Y,c:null,d:cj,e:cj,f:BJ,g:XJ,G:QJ,H:IJ,I:$J,j:RJ,L:aT,m:WJ,M:UJ,p:re,q:E,Q:hj,s:pj,S:zJ,u:HJ,U:qJ,V:GJ,w:VJ,W:KJ,x:null,X:null,y:YJ,Y:JJ,Z:ZJ,"%":fj},A={a:R,A:q,b:ee,B:H,c:null,d:dj,e:dj,f:rQ,g:hQ,G:mQ,H:eQ,I:tQ,j:nQ,L:sT,m:iQ,M:aQ,p:te,q:X,Q:hj,s:pj,S:oQ,u:sQ,U:lQ,V:uQ,w:cQ,W:dQ,x:null,X:null,y:fQ,Y:pQ,Z:gQ,"%":fj},N={a:M,A:O,b:T,B:I,c:L,d:lj,e:lj,f:EJ,g:sj,G:oj,H:uj,I:uj,j:TJ,L:_J,m:OJ,M:FJ,p:_,q:CJ,Q:MJ,s:DJ,S:kJ,u:SJ,U:NJ,V:jJ,w:wJ,W:AJ,x:U,X:D,y:sj,Y:oj,Z:PJ,"%":LJ};x.x=P(n,x),x.X=P(r,x),x.c=P(t,x),A.x=P(n,A),A.X=P(r,A),A.c=P(t,A);function P(G,ce){return function(ae){var le=[],xe=-1,be=0,de=G.length,ie,Ce,Fe;for(ae instanceof Date||(ae=new Date(+ae));++xe<de;)G.charCodeAt(xe)===37&&(le.push(G.slice(be,xe)),(Ce=aj[ie=G.charAt(++xe)])!=null?ie=G.charAt(++xe):Ce=ie==="e"?" ":"0",(Fe=ce[ie])&&(ie=Fe(ae,Ce)),le.push(ie),be=xe+1);return le.push(G.slice(be,xe)),le.join("")}}function j(G,ce){return function(ae){var le=Nd(1900,void 0,1),xe=C(le,G,ae+="",0),be,de;if(xe!=ae.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ce&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(be=Dy(Nd(le.y,0,1)),de=be.getUTCDay(),be=de>4||de===0?ug.ceil(be):ug(be),be=F0.offset(be,(le.V-1)*7),le.y=be.getUTCFullYear(),le.m=be.getUTCMonth(),le.d=be.getUTCDate()+(le.w+6)%7):(be=My(Nd(le.y,0,1)),de=be.getDay(),be=de>4||de===0?lg.ceil(be):lg(be),be=Sh.offset(be,(le.V-1)*7),le.y=be.getFullYear(),le.m=be.getMonth(),le.d=be.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),de="Z"in le?Dy(Nd(le.y,0,1)).getUTCDay():My(Nd(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(de+5)%7:le.w+le.U*7-(de+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,Dy(le)):My(le)}}function C(G,ce,ae,le){for(var xe=0,be=ce.length,de=ae.length,ie,Ce;xe<be;){if(le>=de)return-1;if(ie=ce.charCodeAt(xe++),ie===37){if(ie=ce.charAt(xe++),Ce=N[ie in aj?ce.charAt(xe++):ie],!Ce||(le=Ce(G,ae,le))<0)return-1}else if(ie!=ae.charCodeAt(le++))return-1}return le}function _(G,ce,ae){var le=c.exec(ce.slice(ae));return le?(G.p=h.get(le[0].toLowerCase()),ae+le[0].length):-1}function M(G,ce,ae){var le=d.exec(ce.slice(ae));return le?(G.w=m.get(le[0].toLowerCase()),ae+le[0].length):-1}function O(G,ce,ae){var le=f.exec(ce.slice(ae));return le?(G.w=p.get(le[0].toLowerCase()),ae+le[0].length):-1}function T(G,ce,ae){var le=b.exec(ce.slice(ae));return le?(G.m=y.get(le[0].toLowerCase()),ae+le[0].length):-1}function I(G,ce,ae){var le=g.exec(ce.slice(ae));return le?(G.m=w.get(le[0].toLowerCase()),ae+le[0].length):-1}function L(G,ce,ae){return C(G,t,ce,ae)}function U(G,ce,ae){return C(G,n,ce,ae)}function D(G,ce,ae){return C(G,r,ce,ae)}function $(G){return o[G.getDay()]}function W(G){return a[G.getDay()]}function z(G){return l[G.getMonth()]}function Y(G){return s[G.getMonth()]}function re(G){return i[+(G.getHours()>=12)]}function E(G){return 1+~~(G.getMonth()/3)}function R(G){return o[G.getUTCDay()]}function q(G){return a[G.getUTCDay()]}function ee(G){return l[G.getUTCMonth()]}function H(G){return s[G.getUTCMonth()]}function te(G){return i[+(G.getUTCHours()>=12)]}function X(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ce=P(G+="",x);return ce.toString=function(){return G},ce},parse:function(G){var ce=j(G+="",!1);return ce.toString=function(){return G},ce},utcFormat:function(G){var ce=P(G+="",A);return ce.toString=function(){return G},ce},utcParse:function(G){var ce=j(G+="",!0);return ce.toString=function(){return G},ce}}}var aj={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,yJ=/^%/,xJ=/[\\^$*+?|[\]().{}]/g;function Ft(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function bJ(e){return e.replace(xJ,"\\$&")}function jd(e){return new RegExp("^(?:"+e.map(bJ).join("|")+")","i")}function Ad(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function wJ(e,t,n){var r=Yn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function SJ(e,t,n){var r=Yn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function NJ(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function jJ(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function AJ(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function oj(e,t,n){var r=Yn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sj(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function PJ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function CJ(e,t,n){var r=Yn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function OJ(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function lj(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function TJ(e,t,n){var r=Yn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function uj(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function FJ(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kJ(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function _J(e,t,n){var r=Yn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function EJ(e,t,n){var r=Yn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function LJ(e,t,n){var r=yJ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function MJ(e,t,n){var r=Yn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function DJ(e,t,n){var r=Yn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function cj(e,t){return Ft(e.getDate(),t,2)}function IJ(e,t){return Ft(e.getHours(),t,2)}function $J(e,t){return Ft(e.getHours()%12||12,t,2)}function RJ(e,t){return Ft(1+Sh.count(fo(e),e),t,3)}function aT(e,t){return Ft(e.getMilliseconds(),t,3)}function BJ(e,t){return aT(e,t)+"000"}function WJ(e,t){return Ft(e.getMonth()+1,t,2)}function UJ(e,t){return Ft(e.getMinutes(),t,2)}function zJ(e,t){return Ft(e.getSeconds(),t,2)}function HJ(e){var t=e.getDay();return t===0?7:t}function qJ(e,t){return Ft(k0.count(fo(e)-1,e),t,2)}function oT(e){var t=e.getDay();return t>=4||t===0?ec(e):ec.ceil(e)}function GJ(e,t){return e=oT(e),Ft(ec.count(fo(e),e)+(fo(e).getDay()===4),t,2)}function VJ(e){return e.getDay()}function KJ(e,t){return Ft(lg.count(fo(e)-1,e),t,2)}function YJ(e,t){return Ft(e.getFullYear()%100,t,2)}function XJ(e,t){return e=oT(e),Ft(e.getFullYear()%100,t,2)}function JJ(e,t){return Ft(e.getFullYear()%1e4,t,4)}function QJ(e,t){var n=e.getDay();return e=n>=4||n===0?ec(e):ec.ceil(e),Ft(e.getFullYear()%1e4,t,4)}function ZJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ft(t/60|0,"0",2)+Ft(t%60,"0",2)}function dj(e,t){return Ft(e.getUTCDate(),t,2)}function eQ(e,t){return Ft(e.getUTCHours(),t,2)}function tQ(e,t){return Ft(e.getUTCHours()%12||12,t,2)}function nQ(e,t){return Ft(1+F0.count(ho(e),e),t,3)}function sT(e,t){return Ft(e.getUTCMilliseconds(),t,3)}function rQ(e,t){return sT(e,t)+"000"}function iQ(e,t){return Ft(e.getUTCMonth()+1,t,2)}function aQ(e,t){return Ft(e.getUTCMinutes(),t,2)}function oQ(e,t){return Ft(e.getUTCSeconds(),t,2)}function sQ(e){var t=e.getUTCDay();return t===0?7:t}function lQ(e,t){return Ft(_0.count(ho(e)-1,e),t,2)}function lT(e){var t=e.getUTCDay();return t>=4||t===0?tc(e):tc.ceil(e)}function uQ(e,t){return e=lT(e),Ft(tc.count(ho(e),e)+(ho(e).getUTCDay()===4),t,2)}function cQ(e){return e.getUTCDay()}function dQ(e,t){return Ft(ug.count(ho(e)-1,e),t,2)}function fQ(e,t){return Ft(e.getUTCFullYear()%100,t,2)}function hQ(e,t){return e=lT(e),Ft(e.getUTCFullYear()%100,t,2)}function pQ(e,t){return Ft(e.getUTCFullYear()%1e4,t,4)}function mQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?tc(e):tc.ceil(e),Ft(e.getUTCFullYear()%1e4,t,4)}function gQ(){return"+0000"}function fj(){return"%"}function hj(e){return+e}function pj(e){return Math.floor(+e/1e3)}var su,uT,cT;vQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vQ(e){return su=vJ(e),uT=su.format,su.parse,cT=su.utcFormat,su.utcParse,su}function yQ(e){return new Date(e)}function xQ(e){return e instanceof Date?+e:+new Date(+e)}function Lw(e,t,n,r,i,a,o,s,l,c){var h=bw(),f=h.invert,p=h.domain,d=c(".%L"),m=c(":%S"),g=c("%I:%M"),w=c("%I %p"),b=c("%a %d"),y=c("%b %d"),x=c("%B"),A=c("%Y");function N(P){return(l(P)<P?d:s(P)<P?m:o(P)<P?g:a(P)<P?w:r(P)<P?i(P)<P?b:y:n(P)<P?x:A)(P)}return h.invert=function(P){return new Date(f(P))},h.domain=function(P){return arguments.length?p(Array.from(P,xQ)):p().map(yQ)},h.ticks=function(P){var j=p();return e(j[0],j[j.length-1],P??10)},h.tickFormat=function(P,j){return j==null?N:c(j)},h.nice=function(P){var j=p();return(!P||typeof P.range!="function")&&(P=t(j[0],j[j.length-1],P??10)),P?p(XO(j,P)):h},h.copy=function(){return wh(h,Lw(e,t,n,r,i,a,o,s,l,c))},h}function bQ(){return Ei.apply(Lw(mJ,gJ,fo,_w,k0,Sh,Fw,Ow,Xs,uT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wQ(){return Ei.apply(Lw(hJ,pJ,ho,Ew,_0,F0,kw,Tw,Xs,cT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E0(){var e=0,t=1,n,r,i,a,o=Pr,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function h(f){return function(p){var d,m;return arguments.length?([d,m]=p,o=f(d,m),c):[o(0),o(1)]}}return c.range=h(Fc),c.rangeRound=h(xw),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function xs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dT(){var e=ys(E0()(Pr));return e.copy=function(){return xs(e,dT())},yo.apply(e,arguments)}function fT(){var e=Nw(E0()).domain([1,10]);return e.copy=function(){return xs(e,fT()).base(e.base())},yo.apply(e,arguments)}function hT(){var e=jw(E0());return e.copy=function(){return xs(e,hT()).constant(e.constant())},yo.apply(e,arguments)}function Mw(){var e=Aw(E0());return e.copy=function(){return xs(e,Mw()).exponent(e.exponent())},yo.apply(e,arguments)}function SQ(){return Mw.apply(null,arguments).exponent(.5)}function pT(){var e=[],t=Pr;function n(r){if(r!=null&&!isNaN(r=+r))return t((xh(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(as),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>lX(e,a/r))},n.copy=function(){return pT(t).domain(e)},yo.apply(n,arguments)}function L0(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,c=Pr,h,f=!1,p;function d(g){return isNaN(g=+g)?p:(g=.5+((g=+h(g))-a)*(r*g<r*a?s:l),c(f?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([e,t,n]=g,i=h(e=+e),a=h(t=+t),o=h(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d):[e,t,n]},d.clamp=function(g){return arguments.length?(f=!!g,d):f},d.interpolator=function(g){return arguments.length?(c=g,d):c};function m(g){return function(w){var b,y,x;return arguments.length?([b,y,x]=w,c=LX(g,[b,y,x]),d):[c(0),c(.5),c(1)]}}return d.range=m(Fc),d.rangeRound=m(xw),d.unknown=function(g){return arguments.length?(p=g,d):p},function(g){return h=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d}}function mT(){var e=ys(L0()(Pr));return e.copy=function(){return xs(e,mT())},yo.apply(e,arguments)}function gT(){var e=Nw(L0()).domain([.1,1,10]);return e.copy=function(){return xs(e,gT()).base(e.base())},yo.apply(e,arguments)}function vT(){var e=jw(L0());return e.copy=function(){return xs(e,vT()).constant(e.constant())},yo.apply(e,arguments)}function Dw(){var e=Aw(L0());return e.copy=function(){return xs(e,Dw()).exponent(e.exponent())},yo.apply(e,arguments)}function NQ(){return Dw.apply(null,arguments).exponent(.5)}const mj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lf,scaleDiverging:mT,scaleDivergingLog:gT,scaleDivergingPow:Dw,scaleDivergingSqrt:NQ,scaleDivergingSymlog:vT,scaleIdentity:YO,scaleImplicit:Ex,scaleLinear:og,scaleLog:JO,scaleOrdinal:gw,scalePoint:Xd,scalePow:Pw,scaleQuantile:eT,scaleQuantize:tT,scaleRadial:ZO,scaleSequential:dT,scaleSequentialLog:fT,scaleSequentialPow:Mw,scaleSequentialQuantile:pT,scaleSequentialSqrt:SQ,scaleSequentialSymlog:hT,scaleSqrt:rJ,scaleSymlog:QO,scaleThreshold:nT,scaleTime:bQ,scaleUtc:wQ,tickFormat:KO},Symbol.toStringTag,{value:"Module"}));var jQ=wc;function AQ(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!jQ(o):n(o,s)))var s=o,l=a}return l}var yT=AQ;function PQ(e,t){return e>t}var CQ=PQ,OQ=yT,TQ=CQ,FQ=Oc;function kQ(e){return e&&e.length?OQ(e,FQ,TQ):void 0}var _Q=kQ;const M0=Rt(_Q);function EQ(e,t){return e<t}var LQ=EQ,MQ=yT,DQ=LQ,IQ=Oc;function $Q(e){return e&&e.length?MQ(e,IQ,DQ):void 0}var RQ=$Q;const D0=Rt(RQ);var BQ=Xb,WQ=vs,UQ=PO,zQ=Hr;function HQ(e,t){var n=zQ(e)?BQ:UQ;return n(e,WQ(t))}var qQ=HQ,GQ=jO,VQ=qQ;function KQ(e,t){return GQ(VQ(e,t),1)}var YQ=KQ;const XQ=Rt(YQ);var JQ=dw;function QQ(e,t){return JQ(e,t)}var ZQ=QQ;const I0=Rt(ZQ);var kc=1e9,eZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$w,rn=!0,ki="[DecimalError] ",ol=ki+"Invalid argument: ",Iw=ki+"Exponent out of range: ",_c=Math.floor,Ws=Math.pow,tZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ni,Gn=1e7,Zt=7,xT=9007199254740991,cg=_c(xT/Zt),Qe={};Qe.absoluteValue=Qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Qe.comparedTo=Qe.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Zt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Qe.dividedBy=Qe.div=function(e){return ao(this,new this.constructor(e))};Qe.dividedToIntegerBy=Qe.idiv=function(e){var t=this,n=t.constructor;return Gt(ao(t,new n(e),0,1),n.precision)};Qe.equals=Qe.eq=function(e){return!this.cmp(e)};Qe.exponent=function(){return kn(this)};Qe.greaterThan=Qe.gt=function(e){return this.cmp(e)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(e){return this.cmp(e)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(e){return this.cmp(e)<0};Qe.lessThanOrEqualTo=Qe.lte=function(e){return this.cmp(e)<1};Qe.logarithm=Qe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ni))throw Error(ki+"NaN");if(n.s<1)throw Error(ki+(n.s?"NaN":"-Infinity"));return n.eq(ni)?new r(0):(rn=!1,t=ao(Rf(n,a),Rf(e,a),a),rn=!0,Gt(t,i))};Qe.minus=Qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ST(t,e):bT(t,(e.s=-e.s,e))};Qe.modulo=Qe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ki+"NaN");return n.s?(rn=!1,t=ao(n,e,0,1).times(e),rn=!0,n.minus(t)):Gt(new r(n),i)};Qe.naturalExponential=Qe.exp=function(){return wT(this)};Qe.naturalLogarithm=Qe.ln=function(){return Rf(this)};Qe.negated=Qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Qe.plus=Qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bT(t,e):ST(t,(e.s=-e.s,e))};Qe.precision=Qe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ol+e);if(t=kn(i)+1,r=i.d.length-1,n=r*Zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Qe.squareRoot=Qe.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ki+"NaN")}for(e=kn(s),rn=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Pa(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=_c((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(ao(s,a,o+2)).times(.5),Pa(a.d).slice(0,o)===(t=Pa(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return rn=!0,Gt(r,n)};Qe.times=Qe.mul=function(e){var t,n,r,i,a,o,s,l,c,h=this,f=h.constructor,p=h.d,d=(e=new f(e)).d;if(!h.s||!e.s)return new f(0);for(e.s*=h.s,n=h.e+e.e,l=p.length,c=d.length,l<c&&(a=p,p=d,d=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+d[r]*p[i-r-1]+t,a[i--]=s%Gn|0,t=s/Gn|0;a[i]=(a[i]+t)%Gn|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,rn?Gt(e,f.precision):e};Qe.toDecimalPlaces=Qe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ea(e,0,kc),t===void 0?t=r.rounding:Ea(t,0,8),Gt(n,e+kn(n)+1,t))};Qe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=xl(r,!0):(Ea(e,0,kc),t===void 0?t=i.rounding:Ea(t,0,8),r=Gt(new i(r),e+1,t),n=xl(r,!0,e+1)),n};Qe.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?xl(i):(Ea(e,0,kc),t===void 0?t=a.rounding:Ea(t,0,8),r=Gt(new a(i),e+kn(i)+1,t),n=xl(r.abs(),!1,e+kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Qe.toInteger=Qe.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),kn(e)+1,t.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,c=12,h=+(e=new l(e));if(!e.s)return new l(ni);if(s=new l(s),!s.s){if(e.s<1)throw Error(ki+"Infinity");return s}if(s.eq(ni))return s;if(r=l.precision,e.eq(ni))return Gt(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=h<0?-h:h)<=xT){for(i=new l(ni),t=Math.ceil(r/Zt+4),rn=!1;n%2&&(i=i.times(s),vj(i.d,t)),n=_c(n/2),n!==0;)s=s.times(s),vj(s.d,t);return rn=!0,e.s<0?new l(ni).div(i):Gt(i,r)}}else if(a<0)throw Error(ki+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,rn=!1,i=e.times(Rf(s,r+c)),rn=!0,i=wT(i),i.s=a,i};Qe.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=kn(i),r=xl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ea(e,1,kc),t===void 0?t=a.rounding:Ea(t,0,8),i=Gt(new a(i),e,t),n=kn(i),r=xl(i,e<=n||n<=a.toExpNeg,e)),r};Qe.toSignificantDigits=Qe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ea(e,1,kc),t===void 0?t=r.rounding:Ea(t,0,8)),Gt(new r(n),e,t)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kn(e),n=e.constructor;return xl(e,t<=n.toExpNeg||t>=n.toExpPos)};function bT(e,t){var n,r,i,a,o,s,l,c,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),rn?Gt(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(f/Zt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Gn|0,l[a]%=Gn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,rn?Gt(t,f):t}function Ea(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ol+e)}function Pa(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Zt-r.length,n&&(a+=Wo(n)),a+=r;o=e[t],r=o+"",n=Zt-r.length,n&&(a+=Wo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ao=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Gn|0,o=a/Gn|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Gn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,h,f,p,d,m,g,w,b,y,x,A,N,P,j,C,_=r.constructor,M=r.s==i.s?1:-1,O=r.d,T=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(ki+"Division by zero");for(l=r.e-i.e,j=T.length,N=O.length,d=new _(M),m=d.d=[],c=0;T[c]==(O[c]||0);)++c;if(T[c]>(O[c]||0)&&--l,a==null?y=a=_.precision:o?y=a+(kn(r)-kn(i))+1:y=a,y<0)return new _(0);if(y=y/Zt+2|0,c=0,j==1)for(h=0,T=T[0],y++;(c<N||h)&&y--;c++)x=h*Gn+(O[c]||0),m[c]=x/T|0,h=x%T|0;else{for(h=Gn/(T[0]+1)|0,h>1&&(T=e(T,h),O=e(O,h),j=T.length,N=O.length),A=j,g=O.slice(0,j),w=g.length;w<j;)g[w++]=0;C=T.slice(),C.unshift(0),P=T[0],T[1]>=Gn/2&&++P;do h=0,s=t(T,g,j,w),s<0?(b=g[0],j!=w&&(b=b*Gn+(g[1]||0)),h=b/P|0,h>1?(h>=Gn&&(h=Gn-1),f=e(T,h),p=f.length,w=g.length,s=t(f,g,p,w),s==1&&(h--,n(f,j<p?C:T,p))):(h==0&&(s=h=1),f=T.slice()),p=f.length,p<w&&f.unshift(0),n(g,f,w),s==-1&&(w=g.length,s=t(T,g,j,w),s<1&&(h++,n(g,j<w?C:T,w))),w=g.length):s===0&&(h++,g=[0]),m[c++]=h,s&&g[0]?g[w++]=O[A]||0:(g=[O[A]],w=1);while((A++<N||g[0]!==void 0)&&y--)}return m[0]||m.shift(),d.e=l,Gt(d,o?a+kn(d)+1:a)}}();function wT(e,t){var n,r,i,a,o,s,l=0,c=0,h=e.constructor,f=h.precision;if(kn(e)>16)throw Error(Iw+kn(e));if(!e.s)return new h(ni);for(rn=!1,s=f,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Ws(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new h(ni),h.precision=s;;){if(i=Gt(i.times(e),s),n=n.times(++l),o=a.plus(ao(i,n,s)),Pa(o.d).slice(0,s)===Pa(a.d).slice(0,s)){for(;c--;)a=Gt(a.times(a),s);return h.precision=f,t==null?(rn=!0,Gt(a,f)):a}a=o}}function kn(e){for(var t=e.e*Zt,n=e.d[0];n>=10;n/=10)t++;return t}function Iy(e,t,n){if(t>e.LN10.sd())throw rn=!0,n&&(e.precision=n),Error(ki+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function Wo(e){for(var t="";e--;)t+="0";return t}function Rf(e,t){var n,r,i,a,o,s,l,c,h,f=1,p=10,d=e,m=d.d,g=d.constructor,w=g.precision;if(d.s<1)throw Error(ki+(d.s?"NaN":"-Infinity"));if(d.eq(ni))return new g(0);if(t==null?(rn=!1,c=w):c=t,d.eq(10))return t==null&&(rn=!0),Iy(g,c);if(c+=p,g.precision=c,n=Pa(m),r=n.charAt(0),a=kn(d),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(e),n=Pa(d.d),r=n.charAt(0),f++;a=kn(d),r>1?(d=new g("0."+n),a++):d=new g(r+"."+n.slice(1))}else return l=Iy(g,c+2,w).times(a+""),d=Rf(new g(r+"."+n.slice(1)),c-p).plus(l),g.precision=w,t==null?(rn=!0,Gt(d,w)):d;for(s=o=d=ao(d.minus(ni),d.plus(ni),c),h=Gt(d.times(d),c),i=3;;){if(o=Gt(o.times(h),c),l=s.plus(ao(o,new g(i),c)),Pa(l.d).slice(0,c)===Pa(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Iy(g,c+2,w).times(a+""))),s=ao(s,new g(f),c),g.precision=w,t==null?(rn=!0,Gt(s,w)):s;s=l,i+=2}}function gj(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=_c(n/Zt),e.d=[],r=(n+1)%Zt,n<0&&(r+=Zt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Zt;r<i;)e.d.push(+t.slice(r,r+=Zt));t=t.slice(r),r=Zt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),rn&&(e.e>cg||e.e<-cg))throw Error(Iw+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,i,a,o,s,l,c,h,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Zt,i=t,c=f[h=0];else{if(h=Math.ceil((r+1)/Zt),a=f.length,h>=a)return e;for(c=a=f[h],o=1;a>=10;a/=10)o++;r%=Zt,i=r-Zt+o}if(n!==void 0&&(a=Ws(10,o-i-1),s=c/a%10|0,l=t<0||f[h+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Ws(10,o-i):0:f[h-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=kn(e),f.length=1,t=t-a-1,f[0]=Ws(10,(Zt-t%Zt)%Zt),e.e=_c(-t/Zt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=h,a=1,h--):(f.length=h+1,a=Ws(10,Zt-r),f[h]=i>0?(c/Ws(10,o-i)%Ws(10,i)|0)*a:0),l)for(;;)if(h==0){(f[0]+=a)==Gn&&(f[0]=1,++e.e);break}else{if(f[h]+=a,f[h]!=Gn)break;f[h--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(rn&&(e.e>cg||e.e<-cg))throw Error(Iw+kn(e));return e}function ST(e,t){var n,r,i,a,o,s,l,c,h,f,p=e.constructor,d=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),rn?Gt(t,d):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(h=o<0,h?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(d/Zt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,h=i<s,h&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){h=l[i]<f[i];break}o=0}for(h&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Gn-1;--l[a],l[i]+=Gn}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,rn?Gt(t,d):t):new p(0)}function xl(e,t,n){var r,i=kn(e),a=Pa(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Wo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Wo(-i-1)+a,n&&(r=n-o)>0&&(a+=Wo(r))):i>=o?(a+=Wo(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Wo(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Wo(r))),e.s<0?"-"+a:a}function vj(e,t){if(e.length>t)return e.length=t,!0}function NT(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ol+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return gj(o,a.toString())}else if(typeof a!="string")throw Error(ol+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,tZ.test(a))gj(o,a);else throw Error(ol+a)}if(i.prototype=Qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=NT,i.config=i.set=nZ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function nZ(e){if(!e||typeof e!="object")throw Error(ki+"Object expected");var t,n,r,i=["precision",1,kc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(_c(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ol+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ol+n+": "+r);return this}var $w=NT(eZ);ni=new $w(1);const Ut=$w;function rZ(e){return sZ(e)||oZ(e)||aZ(e)||iZ()}function iZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZ(e,t){if(e){if(typeof e=="string")return Ix(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(e,t)}}function oZ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function sZ(e){if(Array.isArray(e))return Ix(e)}function Ix(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lZ=function(t){return t},jT={},AT=function(t){return t===jT},yj=function(t){return function n(){return arguments.length===0||arguments.length===1&&AT(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},uZ=function e(t,n){return t===1?n:yj(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==jT}).length;return o>=t?n.apply(void 0,i):e(t-o,yj(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var h=i.map(function(f){return AT(f)?l.shift():f});return n.apply(void 0,rZ(h).concat(l))}))})},$0=function(t){return uZ(t.length,t)},$x=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},cZ=$0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),dZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return lZ;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Rx=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},PT=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=t.apply(void 0,a)),r}};function fZ(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function hZ(e,t,n){for(var r=new Ut(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var pZ=$0(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),mZ=$0(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),gZ=$0(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const R0={rangeStep:hZ,getDigitCount:fZ,interpolateNumber:pZ,uninterpolateNumber:mZ,uninterpolateTruncation:gZ};function Bx(e){return xZ(e)||yZ(e)||CT(e)||vZ()}function vZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yZ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xZ(e){if(Array.isArray(e))return Wx(e)}function Bf(e,t){return SZ(e)||wZ(e,t)||CT(e,t)||bZ()}function bZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CT(e,t){if(e){if(typeof e=="string")return Wx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wx(e,t)}}function Wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wZ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function SZ(e){if(Array.isArray(e))return e}function OT(e){var t=Bf(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function TT(e,t,n){if(e.lte(0))return new Ut(0);var r=R0.getDigitCount(e.toNumber()),i=new Ut(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new Ut(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?l:new Ut(Math.ceil(l))}function NZ(e,t,n){var r=1,i=new Ut(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ut(10).pow(R0.getDigitCount(e)-1),i=new Ut(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ut(Math.floor(e)))}else e===0?i=new Ut(Math.floor((t-1)/2)):n||(i=new Ut(Math.floor(e)));var o=Math.floor((t-1)/2),s=dZ(cZ(function(l){return i.add(new Ut(l-o).mul(r)).toNumber()}),$x);return s(0,t)}function FT(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var a=TT(new Ut(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new Ut(0):(o=new Ut(e).add(t).div(2),o=o.sub(new Ut(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Ut(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?FT(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new Ut(s).mul(a)),tickMax:o.add(new Ut(l).mul(a))})}function jZ(e){var t=Bf(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=OT([n,r]),l=Bf(s,2),c=l[0],h=l[1];if(c===-1/0||h===1/0){var f=h===1/0?[c].concat(Bx($x(0,i-1).map(function(){return 1/0}))):[].concat(Bx($x(0,i-1).map(function(){return-1/0})),[h]);return n>r?Rx(f):f}if(c===h)return NZ(c,i,a);var p=FT(c,h,o,a),d=p.step,m=p.tickMin,g=p.tickMax,w=R0.rangeStep(m,g.add(new Ut(.1).mul(d)),d);return n>r?Rx(w):w}function AZ(e,t){var n=Bf(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=OT([r,i]),s=Bf(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var h=Math.max(t,2),f=TT(new Ut(c).sub(l).div(h-1),a,0),p=[].concat(Bx(R0.rangeStep(new Ut(l),new Ut(c).sub(new Ut(.99).mul(f)),f)),[c]);return r>i?Rx(p):p}var PZ=PT(jZ),CZ=PT(AZ),OZ="Invariant failed";function bl(e,t){throw new Error(OZ)}var TZ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg.apply(this,arguments)}function FZ(e,t){return LZ(e)||EZ(e,t)||_Z(e,t)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Z(e,t){if(e){if(typeof e=="string")return xj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xj(e,t)}}function xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function LZ(e){if(Array.isArray(e))return e}function MZ(e,t){if(e==null)return{};var n=DZ(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DZ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function IZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ET(r.key),r)}}function RZ(e,t,n){return t&&$Z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BZ(e,t,n){return t=fg(t),WZ(e,kT()?Reflect.construct(t,n||[],fg(e).constructor):t.apply(e,n))}function WZ(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UZ(e)}function UZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kT=function(){return!!e})()}function fg(e){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fg(e)}function zZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ux(e,t)}function Ux(e,t){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ux(e,t)}function _T(e,t,n){return t=ET(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ET(e){var t=HZ(e,"string");return nc(t)=="symbol"?t:t+""}function HZ(e,t){if(nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nh=function(e){function t(){return IZ(this,t),BZ(this,t,arguments)}return zZ(t,e),RZ(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,h=r.xAxis,f=r.yAxis,p=MZ(r,TZ),d=jt(p,!1);this.props.direction==="x"&&h.type!=="number"&&bl();var m=l.map(function(g){var w=c(g,s),b=w.x,y=w.y,x=w.value,A=w.errorVal;if(!A)return null;var N=[],P,j;if(Array.isArray(A)){var C=FZ(A,2);P=C[0],j=C[1]}else P=j=A;if(a==="vertical"){var _=h.scale,M=y+i,O=M+o,T=M-o,I=_(x-P),L=_(x+j);N.push({x1:L,y1:O,x2:L,y2:T}),N.push({x1:I,y1:M,x2:L,y2:M}),N.push({x1:I,y1:O,x2:I,y2:T})}else if(a==="horizontal"){var U=f.scale,D=b+i,$=D-o,W=D+o,z=U(x-P),Y=U(x+j);N.push({x1:$,y1:Y,x2:W,y2:Y}),N.push({x1:D,y1:z,x2:D,y2:Y}),N.push({x1:$,y1:z,x2:W,y2:z})}return ge.createElement(Nn,dg({className:"recharts-errorBar",key:"bar-".concat(N.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},d),N.map(function(re){return ge.createElement("line",dg({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return ge.createElement(Nn,{className:"recharts-errorBars"},m)}}])}(ge.Component);_T(Nh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_T(Nh,"displayName","ErrorBar");function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(n),!0).forEach(function(r){qZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qZ(e,t,n){return t=GZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GZ(e){var t=VZ(e,"string");return Wf(t)=="symbol"?t:t+""}function VZ(e,t){if(Wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LT=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=ti(n,il);if(!o)return null;var s=il.defaultProps,l=s!==void 0?Ms(Ms({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(h,f){var p=f.item,d=f.props,m=d.sectors||d.data||[];return h.concat(m.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(h){var f=h.item,p=f.type.defaultProps,d=p!==void 0?Ms(Ms({},p),f.props):{},m=d.dataKey,g=d.name,w=d.legendType,b=d.hide;return{inactive:b,dataKey:m,type:l.iconType||w||"square",color:Rw(f),value:g||m,payload:d}}),Ms(Ms(Ms({},l),il.getWithHeight(o,i)),{},{payload:c,item:o})};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function wj(e){return JZ(e)||XZ(e)||YZ(e)||KZ()}function KZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YZ(e,t){if(e){if(typeof e=="string")return zx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zx(e,t)}}function XZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JZ(e){if(Array.isArray(e))return zx(e)}function zx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(r){Ru(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ru(e,t,n){return t=QZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QZ(e){var t=ZZ(e,"string");return Uf(t)=="symbol"?t:t+""}function ZZ(e,t){if(Uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function si(e,t,n){return wt(e)||wt(t)?n:Rn(t)?Pi(e,t,n):xt(t)?t(e):n}function Jd(e,t,n,r){var i=XQ(e,function(s){return si(s,t)});if(n==="number"){var a=i.filter(function(s){return ze(s)||parseFloat(s)});return a.length?[D0(a),M0(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!wt(s)}):i;return o.map(function(s){return Rn(s)||s instanceof Date?s:""})}var eee=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var h=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,d=void 0;if(ra(f-h)!==ra(p-f)){var m=[];if(ra(p-f)===ra(l[1]-l[0])){d=p;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+h)/2),m[1]=Math.max(g,(g+h)/2)}else{d=h;var w=p+l[1]-l[0];m[0]=Math.min(f,(w+f)/2),m[1]=Math.max(f,(w+f)/2)}var b=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(t>b[0]&&t<=b[1]||t>=m[0]&&t<=m[1]){o=i[c].index;break}}else{var y=Math.min(h,p),x=Math.max(h,p);if(t>(y+f)/2&&t<=(x+f)/2){o=i[c].index;break}}}else for(var A=0;A<s;A++)if(A===0&&t<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<s-1&&t>(r[A].coordinate+r[A-1].coordinate)/2&&t<=(r[A].coordinate+r[A+1].coordinate)/2||A===s-1&&t>(r[A].coordinate+r[A-1].coordinate)/2){o=r[A].index;break}return o},Rw=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mn(mn({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},tee=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var h=a[s[l]].stackGroups,f=Object.keys(h),p=0,d=f.length;p<d;p++){var m=h[f[p]],g=m.items,w=m.cateAxisId,b=g.filter(function(j){return ro(j.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,x=y!==void 0?mn(mn({},y),b[0].props):b[0].props,A=x.barSize,N=x[w];o[N]||(o[N]=[]);var P=wt(A)?n:A;o[N].push({item:b[0],stackList:b.slice(1),barSize:wt(P)?void 0:yl(P,r,0)})}}return o},nee=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=yl(n,i,0,!0),h,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,d=i/l,m=o.reduce(function(A,N){return A+N.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&d>0&&(p=!0,d*=.9,m=l*d);var g=(i-m)/2>>0,w={offset:g-c,size:0};h=o.reduce(function(A,N){var P={item:N.item,position:{offset:w.offset+w.size+c,size:p?d:N.barSize}},j=[].concat(wj(A),[P]);return w=j[j.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){j.push({item:C,position:w})}),j},f)}else{var b=yl(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var y=(i-2*b-(l-1)*c)/l;y>1&&(y>>=0);var x=s===+s?Math.min(y,s):y;h=o.reduce(function(A,N,P){var j=[].concat(wj(A),[{item:N.item,position:{offset:b+(y+c)*P+(y-x)/2,size:x}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){j.push({item:C,position:j[j.length-1].position})}),j},f)}return h},ree=function(t,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=LT({children:a,legendWidth:l});if(c){var h=i||{},f=h.width,p=h.height,d=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&d!=="center"&&ze(t[d]))return mn(mn({},t),{},Ru({},d,t[d]+(f||0)));if((g==="horizontal"||g==="vertical"&&d==="center")&&m!=="middle"&&ze(t[m]))return mn(mn({},t),{},Ru({},m,t[m]+(p||0)))}return t},iee=function(t,n,r){return wt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},MT=function(t,n,r,i,a){var o=n.props.children,s=Ci(o,Nh).filter(function(c){return iee(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,h){var f=si(h,r);if(wt(f))return c;var p=Array.isArray(f)?[D0(f),M0(f)]:[f,f],d=l.reduce(function(m,g){var w=si(h,g,0),b=p[0]-Math.abs(Array.isArray(w)?w[0]:w),y=p[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(b,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},aee=function(t,n,r,i,a){var o=n.map(function(s){return MT(t,s,r,a,i)}).filter(function(s){return!wt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},DT=function(t,n,r,i,a){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&MT(t,l,c,i)||Jd(t,c,r,a)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var h=0,f=c.length;h<f;h++)s[c[h]]||(s[c[h]]=!0,l.push(c[h]));return l},[])},IT=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},$T=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},to=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ra(s[0]-s[1])*2*c:c,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+c,value:f,offset:c}});return h.filter(function(f){return!gh(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:i(f)+c,value:f,index:p,offset:c}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,p){return{coordinate:i(f)+c,value:a?a[f]:f,index:p,offset:c}})},$y=new WeakMap,Bp=function(t,n){if(typeof n!="function")return t;$y.has(t)||$y.set(t,new WeakMap);var r=$y.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},oee=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Lf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:og(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Xd(),realScaleType:"point"}:a==="category"?{scale:Lf(),realScaleType:"band"}:{scale:og(),realScaleType:"linear"};if(vl(i)){var l="scale".concat(S0(i));return{scale:(mj[l]||Xd)(),realScaleType:mj[l]?l:"point"}}return xt(i)?{scale:i}:{scale:Xd(),realScaleType:"point"}},Nj=1e-4,see=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-Nj,o=Math.max(i[0],i[1])+Nj,s=t(n[0]),l=t(n[r-1]);(s<a||s>o||l<a||l>o)&&t.domain([n[0],n[r-1]])}},lee=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},uee=function(t,n){if(!n||n.length!==2||!ze(n[0])||!ze(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!ze(t[0])||t[0]<r)&&(a[0]=r),(!ze(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},cee=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=gh(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1])}},dee=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=gh(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},fee={sign:cee,expand:PB,none:Ku,silhouette:CB,wiggle:OB,positive:dee},hee=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),a=fee[r],o=AB().keys(i).value(function(s,l){return+si(s,l,0)}).order(px).offset(a);return o(t)},pee=function(t,n,r,i,a,o){if(!t)return null;var s=o?n.reverse():n,l={},c=s.reduce(function(f,p){var d,m=(d=p.type)!==null&&d!==void 0&&d.defaultProps?mn(mn({},p.type.defaultProps),p.props):p.props,g=m.stackId,w=m.hide;if(w)return f;var b=m[r],y=f[b]||{hasStack:!1,stackGroups:{}};if(Rn(g)){var x=y.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(p),y.hasStack=!0,y.stackGroups[g]=x}else y.stackGroups[vh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return mn(mn({},f),{},Ru({},b,y))},l),h={};return Object.keys(c).reduce(function(f,p){var d=c[p];if(d.hasStack){var m={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(g,w){var b=d.stackGroups[w];return mn(mn({},g),{},Ru({},w,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:hee(t,b.items,a)}))},m)}return mn(mn({},f),{},Ru({},p,d))},h)},mee=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var h=PZ(c,a,s);return t.domain([D0(h),M0(h)]),{niceTicks:h}}if(a&&i==="number"){var f=t.domain(),p=CZ(f,a,s);return{niceTicks:p}}return null};function jj(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!wt(i[t.dataKey])){var s=Im(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=si(i,wt(o)?t.dataKey:o);return wt(l)?null:t.scale(l)}var Aj=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=si(o,n.dataKey,n.domain[s]);return wt(l)?null:n.scale(l)-a/2+i},gee=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},vee=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mn(mn({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Rn(a)){var o=n[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},yee=function(t){return t.reduce(function(n,r){return[D0(r.concat([n[0]]).filter(ze)),M0(r.concat([n[1]]).filter(ze))]},[1/0,-1/0])},RT=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(c,h){var f=yee(h.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Pj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hx=function(t,n,r){if(xt(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(ze(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(Pj.test(t[0])){var a=+Pj.exec(t[0])[1];i[0]=n[0]-a}else xt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(ze(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(Cj.test(t[1])){var o=+Cj.exec(t[1])[1];i[1]=n[1]+o}else xt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},hg=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=hw(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],h=a[s-1];o=Math.min((c.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Oj=function(t,n,r){return!t||!t.length||I0(t,Pi(r,"type.defaultProps.domain"))?n:t},BT=function(t,n){var r=t.type.defaultProps?mn(mn({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,h=r.hide;return mn(mn({},jt(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Rw(t),value:si(n,i),type:l,payload:n,chartType:c,hide:h})};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){xee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xee(e,t,n){return t=bee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bee(e){var t=wee(e,"string");return zf(t)=="symbol"?t:t+""}function wee(e,t){if(zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pg=Math.PI/180,See=function(t){return t*180/Math.PI},tr=function(t,n,r,i){return{x:t+Math.cos(-pg*i)*r,y:n+Math.sin(-pg*i)*r}},Nee=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},jee=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,s=Nee({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:See(c),angleInRadian:c}},Aee=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Pee=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},kj=function(t,n){var r=t.x,i=t.y,a=jee({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var h=Aee(n),f=h.startAngle,p=h.endAngle,d=s,m;if(f<=p){for(;d>p;)d-=360;for(;d<f;)d+=360;m=d>=f&&d<=p}else{for(;d>f;)d-=360;for(;d<p;)d+=360;m=d>=p&&d<=f}return m?Fj(Fj({},n),{},{radius:o,angle:Pee(d,n)}):null};function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}var Cee=["offset"];function Oee(e){return _ee(e)||kee(e)||Fee(e)||Tee()}function Tee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fee(e,t){if(e){if(typeof e=="string")return qx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qx(e,t)}}function kee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _ee(e){if(Array.isArray(e))return qx(e)}function qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eee(e,t){if(e==null)return{};var n=Lee(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lee(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(n),!0).forEach(function(r){Mee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mee(e,t,n){return t=Dee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dee(e){var t=Iee(e,"string");return Hf(t)=="symbol"?t:t+""}function Iee(e,t){if(Hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qf.apply(this,arguments)}var $ee=function(t){var n=t.value,r=t.formatter,i=wt(t.children)?n:t.children;return xt(r)?r(i):i},Ree=function(t,n){var r=ra(n-t),i=Math.min(Math.abs(n-t),360);return r*i},Bee=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,c=l.cx,h=l.cy,f=l.innerRadius,p=l.outerRadius,d=l.startAngle,m=l.endAngle,g=l.clockWise,w=(f+p)/2,b=Ree(d,m),y=b>=0?1:-1,x,A;i==="insideStart"?(x=d+y*o,A=g):i==="insideEnd"?(x=m-y*o,A=!g):i==="end"&&(x=m+y*o,A=g),A=b<=0?A:!A;var N=tr(c,h,w,x),P=tr(c,h,w,x+(A?1:-1)*359),j="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),C=wt(t.id)?vh("recharts-radial-line-"):t.id;return ge.createElement("text",qf({},r,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",s)}),ge.createElement("defs",null,ge.createElement("path",{id:C,d:j})),ge.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Wee=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,h=a.startAngle,f=a.endAngle,p=(h+f)/2;if(i==="outside"){var d=tr(o,s,c+r,p),m=d.x,g=d.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,b=tr(o,s,w,p),y=b.x,x=b.y;return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Uee=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,s=o.x,l=o.y,c=o.width,h=o.height,f=h>=0?1:-1,p=f*i,d=f>0?"end":"start",m=f>0?"start":"end",g=c>=0?1:-1,w=g*i,b=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var x={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:d};return Mn(Mn({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var A={x:s+c/2,y:l+h+p,textAnchor:"middle",verticalAnchor:m};return Mn(Mn({},A),r?{height:Math.max(r.y+r.height-(l+h),0),width:c}:{})}if(a==="left"){var N={x:s-w,y:l+h/2,textAnchor:b,verticalAnchor:"middle"};return Mn(Mn({},N),r?{width:Math.max(N.x-r.x,0),height:h}:{})}if(a==="right"){var P={x:s+c+w,y:l+h/2,textAnchor:y,verticalAnchor:"middle"};return Mn(Mn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:h}:{})}var j=r?{width:c,height:h}:{};return a==="insideLeft"?Mn({x:s+w,y:l+h/2,textAnchor:y,verticalAnchor:"middle"},j):a==="insideRight"?Mn({x:s+c-w,y:l+h/2,textAnchor:b,verticalAnchor:"middle"},j):a==="insideTop"?Mn({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:m},j):a==="insideBottom"?Mn({x:s+c/2,y:l+h-p,textAnchor:"middle",verticalAnchor:d},j):a==="insideTopLeft"?Mn({x:s+w,y:l+p,textAnchor:y,verticalAnchor:m},j):a==="insideTopRight"?Mn({x:s+c-w,y:l+p,textAnchor:b,verticalAnchor:m},j):a==="insideBottomLeft"?Mn({x:s+w,y:l+h-p,textAnchor:y,verticalAnchor:d},j):a==="insideBottomRight"?Mn({x:s+c-w,y:l+h-p,textAnchor:b,verticalAnchor:d},j):Sc(a)&&(ze(a.x)||Ks(a.x))&&(ze(a.y)||Ks(a.y))?Mn({x:s+yl(a.x,c),y:l+yl(a.y,h),textAnchor:"end",verticalAnchor:"end"},j):Mn({x:s+c/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},j)},zee=function(t){return"cx"in t&&ze(t.cx)};function vr(e){var t=e.offset,n=t===void 0?5:t,r=Eee(e,Cee),i=Mn({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,h=i.className,f=h===void 0?"":h,p=i.textBreakAll;if(!a||wt(s)&&wt(l)&&!se.isValidElement(c)&&!xt(c))return null;if(se.isValidElement(c))return se.cloneElement(c,i);var d;if(xt(c)){if(d=se.createElement(c,i),se.isValidElement(d))return d}else d=$ee(i);var m=zee(a),g=jt(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Bee(i,d,g);var w=m?Wee(i):Uee(i);return ge.createElement(Zm,qf({className:tt("recharts-label",f)},g,w,{breakAll:p}),d)}vr.displayName="Label";var WT=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,h=t.outerRadius,f=t.x,p=t.y,d=t.top,m=t.left,g=t.width,w=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(ze(g)&&ze(w)){if(ze(f)&&ze(p))return{x:f,y:p,width:g,height:w};if(ze(d)&&ze(m))return{x:d,y:m,width:g,height:w}}return ze(f)&&ze(p)?{x:f,y:p,width:0,height:0}:ze(n)&&ze(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:h||l||s||0,clockWise:b}:t.viewBox?t.viewBox:{}},Hee=function(t,n){return t?t===!0?ge.createElement(vr,{key:"label-implicit",viewBox:n}):Rn(t)?ge.createElement(vr,{key:"label-implicit",viewBox:n,value:t}):se.isValidElement(t)?t.type===vr?se.cloneElement(t,{key:"label-implicit",viewBox:n}):ge.createElement(vr,{key:"label-implicit",content:t,viewBox:n}):xt(t)?ge.createElement(vr,{key:"label-implicit",content:t,viewBox:n}):Sc(t)?ge.createElement(vr,qf({viewBox:n},t,{key:"label-implicit"})):null:null},qee=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=WT(t),o=Ci(i,vr).map(function(l,c){return se.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return o;var s=Hee(t.label,n||a);return[s].concat(Oee(o))};vr.parseViewBox=WT;vr.renderCallByParent=qee;function Gee(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Vee=Gee;const Kee=Rt(Vee);function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}var Yee=["valueAccessor"],Xee=["data","dataKey","clockWise","id","textBreakAll"];function Jee(e){return tte(e)||ete(e)||Zee(e)||Qee()}function Qee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zee(e,t){if(e){if(typeof e=="string")return Gx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gx(e,t)}}function ete(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tte(e){if(Array.isArray(e))return Gx(e)}function Gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mg.apply(this,arguments)}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){nte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nte(e,t,n){return t=rte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rte(e){var t=ite(e,"string");return Gf(t)=="symbol"?t:t+""}function ite(e,t){if(Gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mj(e,t){if(e==null)return{};var n=ate(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ate(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ote=function(t){return Array.isArray(t.value)?Kee(t.value):t.value};function os(e){var t=e.valueAccessor,n=t===void 0?ote:t,r=Mj(e,Yee),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=Mj(r,Xee);return!i||!i.length?null:ge.createElement(Nn,{className:"recharts-label-list"},i.map(function(h,f){var p=wt(a)?n(h,f):si(h&&h.payload,a),d=wt(s)?{}:{id:"".concat(s,"-").concat(f)};return ge.createElement(vr,mg({},jt(h,!0),c,d,{parentViewBox:h.parentViewBox,value:p,textBreakAll:l,viewBox:vr.parseViewBox(wt(o)?h:Lj(Lj({},h),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}os.displayName="LabelList";function ste(e,t){return e?e===!0?ge.createElement(os,{key:"labelList-implicit",data:t}):ge.isValidElement(e)||xt(e)?ge.createElement(os,{key:"labelList-implicit",data:t,content:e}):Sc(e)?ge.createElement(os,mg({data:t},e,{key:"labelList-implicit"})):null:null}function lte(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ci(r,os).map(function(o,s){return se.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var a=ste(e.label,t);return[a].concat(Jee(i))}os.renderCallByParent=lte;function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(this,arguments)}function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ij(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){ute(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ute(e,t,n){return t=cte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cte(e){var t=dte(e,"string");return Vf(t)=="symbol"?t:t+""}function dte(e,t){if(Vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fte=function(t,n){var r=ra(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Wp=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,h=l*(s?1:-1)+i,f=Math.asin(l/h)/pg,p=c?a:a+o*f,d=tr(n,r,h,p),m=tr(n,r,i,p),g=c?a-o*f:a,w=tr(n,r,h*Math.cos(f*pg),g);return{center:d,circleTangency:m,lineTangency:w,theta:f}},UT=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=fte(o,s),c=o+l,h=tr(n,r,a,o),f=tr(n,r,a,c),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var d=tr(n,r,i,o),m=tr(n,r,i,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},hte=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,h=t.endAngle,f=ra(h-c),p=Wp({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),d=p.circleTangency,m=p.lineTangency,g=p.theta,w=Wp({cx:n,cy:r,radius:a,angle:h,sign:-f,cornerRadius:o,cornerIsExternal:l}),b=w.circleTangency,y=w.lineTangency,x=w.theta,A=l?Math.abs(c-h):Math.abs(c-h)-g-x;if(A<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):UT({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:h});var N="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var P=Wp({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=P.circleTangency,C=P.lineTangency,_=P.theta,M=Wp({cx:n,cy:r,radius:i,angle:h,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=M.circleTangency,T=M.lineTangency,I=M.theta,L=l?Math.abs(c-h):Math.abs(c-h)-_-I;if(L<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},pte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zT=function(t){var n=Ij(Ij({},pte),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,h=n.startAngle,f=n.endAngle,p=n.className;if(o<a||h===f)return null;var d=tt("recharts-sector",p),m=o-a,g=yl(s,m,0,!0),w;return g>0&&Math.abs(h-f)<360?w=hte({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:f}):w=UT({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:h,endAngle:f}),ge.createElement("path",Vx({},jt(n,!0),{className:d,d:w,role:"img"}))};function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx.apply(this,arguments)}function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){mte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mte(e,t,n){return t=gte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gte(e){var t=vte(e,"string");return Kf(t)=="symbol"?t:t+""}function vte(e,t){if(Kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bj={curveBasisClosed:pB,curveBasisOpen:mB,curveBasis:hB,curveBumpX:Z9,curveBumpY:eB,curveLinearClosed:gB,curveLinear:j0,curveMonotoneX:vB,curveMonotoneY:yB,curveNatural:xB,curveStep:bB,curveStepAfter:SB,curveStepBefore:wB},Up=function(t){return t.x===+t.x&&t.y===+t.y},Pd=function(t){return t.x},Cd=function(t){return t.y},yte=function(t,n){if(xt(t))return t;var r="curve".concat(S0(t));return(r==="curveMonotone"||r==="curveBump")&&n?Bj["".concat(r).concat(n==="vertical"?"Y":"X")]:Bj[r]||j0},xte=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,h=yte(r,s),f=c?a.filter(function(g){return Up(g)}):a,p;if(Array.isArray(o)){var d=c?o.filter(function(g){return Up(g)}):o,m=f.map(function(g,w){return Rj(Rj({},g),{},{base:d[w]})});return s==="vertical"?p=_p().y(Cd).x1(Pd).x0(function(g){return g.base.x}):p=_p().x(Pd).y1(Cd).y0(function(g){return g.base.y}),p.defined(Up).curve(h),p(m)}return s==="vertical"&&ze(o)?p=_p().y(Cd).x1(Pd).x0(o):ze(o)?p=_p().x(Pd).y1(Cd).y0(o):p=z6().x(Pd).y(Cd),p.defined(Up).curve(h),p(f)},Yx=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?xte(t):i;return se.createElement("path",Kx({},jt(t,!1),$m(t),{className:tt("recharts-curve",n),d:o,ref:a}))},HT={exports:{}},bte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wte=bte,Ste=wte;function qT(){}function GT(){}GT.resetWarningCache=qT;var Nte=function(){function e(r,i,a,o,s,l){if(l!==Ste){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:GT,resetWarningCache:qT};return n.PropTypes=n,n};HT.exports=Nte();var jte=HT.exports;const Et=Rt(jte);var Ate=Object.getOwnPropertyNames,Pte=Object.getOwnPropertySymbols,Cte=Object.prototype.hasOwnProperty;function Wj(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function zp(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=e(n,r,i);return a.delete(n),a.delete(r),l}}function Uj(e){return Ate(e).concat(Pte(e))}var Ote=Object.hasOwn||function(e,t){return Cte.call(e,t)};function Cl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Tte="__v",Fte="__o",kte="_owner",zj=Object.getOwnPropertyDescriptor,Hj=Object.keys;function _te(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Ete(e,t){return Cl(e.getTime(),t.getTime())}function Lte(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Mte(e,t){return e===t}function qj(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=t.entries(),h=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var p=o.value,d=s.value;if(n.equals(p[0],d[0],l,f,e,t,n)&&n.equals(p[1],d[1],p[0],d[0],e,t,n)){h=i[f]=!0;break}f++}if(!h)return!1;l++}return!0}var Dte=Cl;function Ite(e,t,n){var r=Hj(e),i=r.length;if(Hj(t).length!==i)return!1;for(;i-- >0;)if(!VT(e,t,n,r[i]))return!1;return!0}function Od(e,t,n){var r=Uj(e),i=r.length;if(Uj(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!VT(e,t,n,a)||(o=zj(e,a),s=zj(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function $te(e,t){return Cl(e.valueOf(),t.valueOf())}function Rte(e,t){return e.source===t.source&&e.flags===t.flags}function Gj(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var l=t.values(),c=!1,h=0;(s=l.next())&&!s.done;){if(!i[h]&&n.equals(o.value,s.value,o.value,s.value,e,t,n)){c=i[h]=!0;break}h++}if(!c)return!1}return!0}function Bte(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Wte(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function VT(e,t,n,r){return(r===kte||r===Fte||r===Tte)&&(e.$$typeof||t.$$typeof)?!0:Ote(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Ute="[object Arguments]",zte="[object Boolean]",Hte="[object Date]",qte="[object Error]",Gte="[object Map]",Vte="[object Number]",Kte="[object Object]",Yte="[object RegExp]",Xte="[object Set]",Jte="[object String]",Qte="[object URL]",Zte=Array.isArray,Vj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Kj=Object.assign,ene=Object.prototype.toString.call.bind(Object.prototype.toString);function tne(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,h=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(m,g,w){if(m===g)return!0;if(m==null||g==null)return!1;var b=typeof m;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(m,g,w):b==="function"?i(m,g,w):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return s(m,g,w);if(Zte(m))return t(m,g,w);if(Vj!=null&&Vj(m))return f(m,g,w);if(y===Date)return n(m,g,w);if(y===RegExp)return c(m,g,w);if(y===Map)return a(m,g,w);if(y===Set)return h(m,g,w);var x=ene(m);return x===Hte?n(m,g,w):x===Yte?c(m,g,w):x===Gte?a(m,g,w):x===Xte?h(m,g,w):x===Kte?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,w):x===Qte?p(m,g,w):x===qte?r(m,g,w):x===Ute?s(m,g,w):x===zte||x===Vte||x===Jte?l(m,g,w):!1}}function nne(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Od:_te,areDatesEqual:Ete,areErrorsEqual:Lte,areFunctionsEqual:Mte,areMapsEqual:r?Wj(qj,Od):qj,areNumbersEqual:Dte,areObjectsEqual:r?Od:Ite,arePrimitiveWrappersEqual:$te,areRegExpsEqual:Rte,areSetsEqual:r?Wj(Gj,Od):Gj,areTypedArraysEqual:r?Od:Bte,areUrlsEqual:Wte};if(n&&(i=Kj({},i,n(i))),t){var a=zp(i.areArraysEqual),o=zp(i.areMapsEqual),s=zp(i.areObjectsEqual),l=zp(i.areSetsEqual);i=Kj({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function rne(e){return function(t,n,r,i,a,o,s){return e(t,n,s)}}function ine(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(l,c){var h=r(),f=h.cache,p=f===void 0?t?new WeakMap:void 0:f,d=h.meta;return n(l,c,{cache:p,equals:i,meta:d,strict:a})};if(t)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,o)}}var ane=bs();bs({strict:!0});bs({circular:!0});bs({circular:!0,strict:!0});bs({createInternalComparator:function(){return Cl}});bs({strict:!0,createInternalComparator:function(){return Cl}});bs({circular:!0,createInternalComparator:function(){return Cl}});bs({circular:!0,createInternalComparator:function(){return Cl},strict:!0});function bs(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=nne(e),l=tne(s),c=r?r(l):rne(l);return ine({circular:n,comparator:l,createState:i,equals:c,strict:o})}function one(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Yj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):one(i)};requestAnimationFrame(r)}function Xx(e){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx(e)}function sne(e){return dne(e)||cne(e)||une(e)||lne()}function lne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function une(e,t){if(e){if(typeof e=="string")return Xj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xj(e,t)}}function Xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dne(e){if(Array.isArray(e))return e}function fne(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=sne(o),l=s[0],c=s.slice(1);if(typeof l=="number"){Yj(i.bind(null,c),l);return}i(l),Yj(i.bind(null,c));return}Xx(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(r){KT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KT(e,t,n){return t=hne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hne(e){var t=pne(e,"string");return Yf(t)==="symbol"?t:String(t)}function pne(e,t){if(Yf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mne=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},gne=function(t){return t},vne=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Qd=function(t,n){return Object.keys(n).reduce(function(r,i){return Qj(Qj({},r),{},KT({},i,t(i,n[i])))},{})},Zj=function(t,n,r){return t.map(function(i){return"".concat(vne(i)," ").concat(n,"ms ").concat(r)}).join(",")};function yne(e,t){return wne(e)||bne(e,t)||YT(e,t)||xne()}function xne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function wne(e){if(Array.isArray(e))return e}function Sne(e){return Ane(e)||jne(e)||YT(e)||Nne()}function Nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YT(e,t){if(e){if(typeof e=="string")return Jx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jx(e,t)}}function jne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ane(e){if(Array.isArray(e))return Jx(e)}function Jx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gg=1e-4,XT=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},JT=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},e4=function(t,n){return function(r){var i=XT(t,n);return JT(i,r)}},Pne=function(t,n){return function(r){var i=XT(t,n),a=[].concat(Sne(i.map(function(o,s){return o*s}).slice(1)),[0]);return JT(a,r)}},t4=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=yne(c,4);i=h[0],a=h[1],o=h[2],s=h[3]}}}var f=e4(i,o),p=e4(a,s),d=Pne(i,o),m=function(b){return b>1?1:b<0?0:b},g=function(b){for(var y=b>1?1:b,x=y,A=0;A<8;++A){var N=f(x)-y,P=d(x);if(Math.abs(N-y)<gg||P<gg)return p(x);x=m(x-N/P)}return p(x)};return g.isStepper=!1,g},Cne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(h,f,p){var d=-(h-f)*r,m=p*a,g=p+(d-m)*s/1e3,w=p*s/1e3+h;return Math.abs(w-f)<gg&&Math.abs(g)<gg?[f,0]:[w,g]};return l.isStepper=!0,l.dt=s,l},One=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return t4(i);case"spring":return Cne();default:if(i.split("(")[0]==="cubic-bezier")return t4(i)}return typeof i=="function"?i:null};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function n4(e){return kne(e)||Fne(e)||QT(e)||Tne()}function Tne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kne(e){if(Array.isArray(e))return Zx(e)}function r4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(n),!0).forEach(function(r){Qx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qx(e,t,n){return t=_ne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ne(e){var t=Ene(e,"string");return Xf(t)==="symbol"?t:String(t)}function Ene(e,t){if(Xf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lne(e,t){return Ine(e)||Dne(e,t)||QT(e,t)||Mne()}function Mne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QT(e,t){if(e){if(typeof e=="string")return Zx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zx(e,t)}}function Zx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ine(e){if(Array.isArray(e))return e}var vg=function(t,n,r){return t+(n-t)*r},e2=function(t){var n=t.from,r=t.to;return n!==r},$ne=function e(t,n,r){var i=Qd(function(a,o){if(e2(o)){var s=t(o.from,o.to,o.velocity),l=Lne(s,2),c=l[0],h=l[1];return Zn(Zn({},o),{},{from:c,velocity:h})}return o},n);return r<1?Qd(function(a,o){return e2(o)?Zn(Zn({},o),{},{velocity:vg(o.velocity,i[a].velocity,r),from:vg(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const Rne=function(e,t,n,r,i){var a=mne(e,t),o=a.reduce(function(w,b){return Zn(Zn({},w),{},Qx({},b,[e[b],t[b]]))},{}),s=a.reduce(function(w,b){return Zn(Zn({},w),{},Qx({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,c,h,f=function(){return null},p=function(){return Qd(function(b,y){return y.from},s)},d=function(){return!Object.values(s).filter(e2).length},m=function(b){c||(c=b);var y=b-c,x=y/n.dt;s=$ne(n,s,x),i(Zn(Zn(Zn({},e),t),p())),c=b,d()||(l=requestAnimationFrame(f))},g=function(b){h||(h=b);var y=(b-h)/r,x=Qd(function(N,P){return vg.apply(void 0,n4(P).concat([n(y)]))},o);if(i(Zn(Zn(Zn({},e),t),x)),y<1)l=requestAnimationFrame(f);else{var A=Qd(function(N,P){return vg.apply(void 0,n4(P).concat([n(1)]))},o);i(Zn(Zn(Zn({},e),t),A))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}var Bne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Wne(e,t){if(e==null)return{};var n=Une(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Une(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ry(e){return Gne(e)||qne(e)||Hne(e)||zne()}function zne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hne(e,t){if(e){if(typeof e=="string")return t2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t2(e,t)}}function qne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gne(e){if(Array.isArray(e))return t2(e)}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(n),!0).forEach(function(r){$d(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $d(e,t,n){return t=ZT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZT(r.key),r)}}function Yne(e,t,n){return t&&Kne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZT(e){var t=Xne(e,"string");return rc(t)==="symbol"?t:String(t)}function Xne(e,t){if(rc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n2(e,t)}function n2(e,t){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n2(e,t)}function Qne(e){var t=Zne();return function(){var r=yg(e),i;if(t){var a=yg(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return r2(this,i)}}function r2(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i2(e)}function i2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yg(e){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(e)}var po=function(e){Jne(n,e);var t=Qne(n);function n(r,i){var a;Vne(this,n),a=t.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,h=o.to,f=o.steps,p=o.children,d=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(i2(a)),a.changeStyle=a.changeStyle.bind(i2(a)),!s||d<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:h}),r2(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof p=="function")return a.state={style:c},r2(a);a.state={style:l?$d({},l,c):c}}else a.state={style:{}};return a}return Yne(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,h=a.to,f=a.from,p=this.state.style;if(s){if(!o){var d={style:l?$d({},l,h):h};this.state&&p&&(l&&p[l]!==h||!l&&p!==h)&&this.setState(d);return}if(!(ane(i.to,h)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?f:i.to;if(this.state&&p){var w={style:l?$d({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(w)}this.runAnimation(qi(qi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,h=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,d=Rne(o,s,One(c),l,this.changeStyle),m=function(){a.stopJSAnimation=d()};this.manager.start([p,h,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],h=c.style,f=c.duration,p=f===void 0?0:f,d=function(g,w,b){if(b===0)return g;var y=w.duration,x=w.easing,A=x===void 0?"ease":x,N=w.style,P=w.properties,j=w.onAnimationEnd,C=b>0?o[b-1]:w,_=P||Object.keys(N);if(typeof A=="function"||A==="spring")return[].concat(Ry(g),[a.runJSAnimation.bind(a,{from:C.style,to:N,duration:y,easing:A}),y]);var M=Zj(_,y,A),O=qi(qi(qi({},C.style),N),{},{transition:M});return[].concat(Ry(g),[O,y,j]).filter(gne)};return this.manager.start([l].concat(Ry(o.reduce(d,[h,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=fne());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,h=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,d=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=s?$d({},s,l):l,w=Zj(Object.keys(g),o,c);m.start([h,a,qi(qi({},g),{},{transition:w}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Wne(i,Bne),c=se.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!s||c===0||o<=0)return a;var f=function(d){var m=d.props,g=m.style,w=g===void 0?{}:g,b=m.className,y=se.cloneElement(d,qi(qi({},l),{},{style:qi(qi({},w),h),className:b}));return y};return c===1?f(se.Children.only(a)):ge.createElement("div",null,se.Children.map(a,function(p){return f(p)}))}}]),n}(se.PureComponent);po.displayName="Animate";po.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};po.propTypes={from:Et.oneOfType([Et.object,Et.string]),to:Et.oneOfType([Et.object,Et.string]),attributeName:Et.string,duration:Et.number,begin:Et.number,easing:Et.oneOfType([Et.string,Et.func]),steps:Et.arrayOf(Et.shape({duration:Et.number.isRequired,style:Et.object.isRequired,easing:Et.oneOfType([Et.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Et.func]),properties:Et.arrayOf("string"),onAnimationEnd:Et.func})),children:Et.oneOfType([Et.node,Et.func]),isActive:Et.bool,canBegin:Et.bool,onAnimationEnd:Et.func,shouldReAnimate:Et.bool,onAnimationStart:Et.func,onAnimationReStart:Et.func};function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xg.apply(this,arguments)}function ere(e,t){return ire(e)||rre(e,t)||nre(e,t)||tre()}function tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nre(e,t){if(e){if(typeof e=="string")return a4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a4(e,t)}}function a4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rre(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ire(e){if(Array.isArray(e))return e}function o4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(n),!0).forEach(function(r){are(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function are(e,t,n){return t=ore(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ore(e){var t=sre(e,"string");return Jf(t)=="symbol"?t:t+""}function sre(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l4=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,h;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,d=4;p<d;p++)f[p]=a[p]>o?o:a[p];h="M".concat(t,",").concat(n+s*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(n)),h+="L ".concat(t+r-l*f[1],",").concat(n),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(n+s*f[1])),h+="L ".concat(t+r,",").concat(n+i-s*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+r-l*f[2],",").concat(n+i)),h+="L ".concat(t+l*f[3],",").concat(n+i),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(n+i-s*f[3])),h+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);h="M ".concat(t,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(n,`
            L `).concat(t+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r,",").concat(n+s*m,`
            L `).concat(t+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r-l*m,",").concat(n+i,`
            L `).concat(t+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(n+i-s*m," Z")}else h="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},lre=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),h=Math.max(a,a+s),f=Math.min(o,o+l),p=Math.max(o,o+l);return r>=c&&r<=h&&i>=f&&i<=p}return!1},ure={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bw=function(t){var n=s4(s4({},ure),t),r=se.useRef(),i=se.useState(-1),a=ere(i,2),o=a[0],s=a[1];se.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,c=n.y,h=n.width,f=n.height,p=n.radius,d=n.className,m=n.animationEasing,g=n.animationDuration,w=n.animationBegin,b=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||f!==+f||h===0||f===0)return null;var x=tt("recharts-rectangle",d);return y?ge.createElement(po,{canBegin:o>0,from:{width:h,height:f,x:l,y:c},to:{width:h,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:y},function(A){var N=A.width,P=A.height,j=A.x,C=A.y;return ge.createElement(po,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:g,isActive:b,easing:m},ge.createElement("path",xg({},jt(n,!0),{className:x,d:l4(j,C,N,P,p),ref:r})))}):ge.createElement("path",xg({},jt(n,!0),{className:x,d:l4(l,c,h,f,p)}))};function a2(){return a2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a2.apply(this,arguments)}var Ww=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=tt("recharts-dot",a);return n===+n&&r===+r&&i===+i?se.createElement("circle",a2({},jt(t,!1),$m(t),{className:o,cx:n,cy:r,r:i})):null};function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}var cre=["x","y","top","left","width","height","className"];function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o2.apply(this,arguments)}function u4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(n),!0).forEach(function(r){fre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fre(e,t,n){return t=hre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hre(e){var t=pre(e,"string");return Qf(t)=="symbol"?t:t+""}function pre(e,t){if(Qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mre(e,t){if(e==null)return{};var n=gre(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gre(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var vre=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},yre=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,h=t.width,f=h===void 0?0:h,p=t.height,d=p===void 0?0:p,m=t.className,g=mre(t,cre),w=dre({x:r,y:a,top:s,left:c,width:f,height:d},g);return!ze(r)||!ze(a)||!ze(f)||!ze(d)||!ze(s)||!ze(c)?null:ge.createElement("path",o2({},jt(w,!0),{className:tt("recharts-cross",m),d:vre(r,a,f,d,s,c)}))},xre=hO,bre=xre(Object.getPrototypeOf,Object),wre=bre,Sre=go,Nre=wre,jre=vo,Are="[object Object]",Pre=Function.prototype,Cre=Object.prototype,eF=Pre.toString,Ore=Cre.hasOwnProperty,Tre=eF.call(Object);function Fre(e){if(!jre(e)||Sre(e)!=Are)return!1;var t=Nre(e);if(t===null)return!0;var n=Ore.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&eF.call(n)==Tre}var kre=Fre;const _re=Rt(kre);var Ere=go,Lre=vo,Mre="[object Boolean]";function Dre(e){return e===!0||e===!1||Lre(e)&&Ere(e)==Mre}var Ire=Dre;const $re=Rt(Ire);function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(this,arguments)}function Rre(e,t){return zre(e)||Ure(e,t)||Wre(e,t)||Bre()}function Bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wre(e,t){if(e){if(typeof e=="string")return c4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c4(e,t)}}function c4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ure(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function zre(e){if(Array.isArray(e))return e}function d4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(n),!0).forEach(function(r){Hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hre(e,t,n){return t=qre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qre(e){var t=Gre(e,"string");return Zf(t)=="symbol"?t:t+""}function Gre(e,t){if(Zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h4=function(t,n,r,i,a){var o=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-o/2,",").concat(n+a),s+="L ".concat(t+r-o/2-i,",").concat(n+a),s+="L ".concat(t,",").concat(n," Z"),s},Vre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kre=function(t){var n=f4(f4({},Vre),t),r=se.useRef(),i=se.useState(-1),a=Rre(i,2),o=a[0],s=a[1];se.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,c=n.y,h=n.upperWidth,f=n.lowerWidth,p=n.height,d=n.className,m=n.animationEasing,g=n.animationDuration,w=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||f!==+f||p!==+p||h===0&&f===0||p===0)return null;var y=tt("recharts-trapezoid",d);return b?ge.createElement(po,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:h,lowerWidth:f,height:p,x:l,y:c},duration:g,animationEasing:m,isActive:b},function(x){var A=x.upperWidth,N=x.lowerWidth,P=x.height,j=x.x,C=x.y;return ge.createElement(po,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:g,easing:m},ge.createElement("path",bg({},jt(n,!0),{className:y,d:h4(j,C,A,N,P),ref:r})))}):ge.createElement("g",null,ge.createElement("path",bg({},jt(n,!0),{className:y,d:h4(l,c,h,f,p)})))},Yre=["option","shapeType","propTransformer","activeClassName","isActive"];function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function Xre(e,t){if(e==null)return{};var n=Jre(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jre(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function p4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(n),!0).forEach(function(r){Qre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qre(e,t,n){return t=Zre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zre(e){var t=eie(e,"string");return eh(t)=="symbol"?t:t+""}function eie(e,t){if(eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tie(e,t){return wg(wg({},t),e)}function nie(e,t){return e==="symbols"}function m4(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return ge.createElement(Bw,n);case"trapezoid":return ge.createElement(Kre,n);case"sector":return ge.createElement(zT,n);case"symbols":if(nie(t))return ge.createElement(aw,n);break;default:return null}}function rie(e){return se.isValidElement(e)?e.props:e}function iie(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?tie:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=Xre(e,Yre),c;if(se.isValidElement(t))c=se.cloneElement(t,wg(wg({},l),rie(t)));else if(xt(t))c=t(l);else if(_re(t)&&!$re(t)){var h=i(t,l);c=ge.createElement(m4,{shapeType:n,elementProps:h})}else{var f=l;c=ge.createElement(m4,{shapeType:n,elementProps:f})}return s?ge.createElement(Nn,{className:o},c):c}function B0(e,t){return t!=null&&"trapezoids"in e.props}function W0(e,t){return t!=null&&"sectors"in e.props}function th(e,t){return t!=null&&"points"in e.props}function aie(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function oie(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function sie(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function lie(e,t){var n;return B0(e,t)?n=aie:W0(e,t)?n=oie:th(e,t)&&(n=sie),n}function uie(e,t){var n;return B0(e,t)?n="trapezoids":W0(e,t)?n="sectors":th(e,t)&&(n="points"),n}function cie(e,t){if(B0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(W0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return th(e,t)?t.payload:{}}function die(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=uie(n,t),a=cie(n,t),o=r.filter(function(l,c){var h=I0(a,l),f=n.props[i].filter(function(m){var g=lie(n,t);return g(m,t)}),p=n.props[i].indexOf(f[f.length-1]),d=c===p;return h&&d}),s=r.indexOf(o[o.length-1]);return s}var fie=Math.ceil,hie=Math.max;function pie(e,t,n,r){for(var i=-1,a=hie(fie((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var mie=pie,gie=_O,g4=1/0,vie=17976931348623157e292;function yie(e){if(!e)return e===0?e:0;if(e=gie(e),e===g4||e===-g4){var t=e<0?-1:1;return t*vie}return e===e?e:0}var tF=yie,xie=mie,bie=O0,By=tF;function wie(e){return function(t,n,r){return r&&typeof r!="number"&&bie(t,n,r)&&(n=r=void 0),t=By(t),n===void 0?(n=t,t=0):n=By(n),r=r===void 0?t<n?1:-1:By(r),xie(t,n,r,e)}}var Sie=wie,Nie=Sie,jie=Nie(),Aie=jie;const Sg=Rt(Aie);function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function v4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function y4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(n),!0).forEach(function(r){nF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nF(e,t,n){return t=Pie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pie(e){var t=Cie(e,"string");return nh(t)=="symbol"?t:t+""}function Cie(e,t){if(nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oie=["Webkit","Moz","O","ms"],Tie=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Oie.reduce(function(a,o){return y4(y4({},a),{},nF({},o+r,n))},{});return i[t]=n,i};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(this,arguments)}function x4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(n),!0).forEach(function(r){Zr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iF(r.key),r)}}function kie(e,t,n){return t&&b4(e.prototype,t),n&&b4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ie(e,t,n){return t=jg(t),Eie(e,rF()?Reflect.construct(t,n||[],jg(e).constructor):t.apply(e,n))}function Eie(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lie(e)}function Lie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!e})()}function jg(e){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(e)}function Mie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s2(e,t)}function s2(e,t){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s2(e,t)}function Zr(e,t,n){return t=iF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iF(e){var t=Die(e,"string");return ic(t)=="symbol"?t:t+""}function Die(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Iie=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Xd().domain(Sg(0,l)).range([a,a+o-s]),h=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:h}},w4=function(t){return t.changedTouches&&!!t.changedTouches.length},ac=function(e){function t(n){var r;return Fie(this,t),r=_ie(this,t,[n]),Zr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Zr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Zr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Zr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Zr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Zr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Zr(r,"handleSlideDragStart",function(i){var a=w4(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Mie(t,e),kie(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,h=c.length-1,f=Math.min(i,a),p=Math.max(i,a),d=t.getIndexInRange(o,f),m=t.getIndexInRange(o,p);return{startIndex:d-d%l,endIndex:m===h?h:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=si(a[r],s,r);return xt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,h=l.width,f=l.travellerWidth,p=l.startIndex,d=l.endIndex,m=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,c+h-f-s,c+h-f-o):g<0&&(g=Math.max(g,c-o,c-s));var w=this.getIndex({startX:o+g,endX:s+g});(w.startIndex!==p||w.endIndex!==d)&&m&&m(w),this.setState({startX:o+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=w4(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],h=this.props,f=h.x,p=h.width,d=h.travellerWidth,m=h.onChange,g=h.gap,w=h.data,b={startX:this.state.startX,endX:this.state.endX},y=r.pageX-a;y>0?y=Math.min(y,f+p-d-c):y<0&&(y=Math.max(y,f-c)),b[o]=c+y;var x=this.getIndex(b),A=x.startIndex,N=x.endIndex,P=function(){var C=w.length-1;return o==="startX"&&(s>l?A%g===0:N%g===0)||s<l&&N===C||o==="endX"&&(s>l?N%g===0:A%g===0)||s>l&&N===C};this.setState(Zr(Zr({},o,c+y),"brushMoveStartX",r.pageX),function(){m&&P()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,h=this.state[i],f=s.indexOf(h);if(f!==-1){var p=f+r;if(!(p===-1||p>=s.length)){var d=s[p];i==="startX"&&d>=c||i==="endX"&&d<=l||this.setState(Zr({},i,d),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return ge.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,c=r.children,h=r.padding,f=se.Children.only(c);return f?ge.cloneElement(f,{x:i,y:a,width:o,height:s,margin:h,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,c=l.y,h=l.travellerWidth,f=l.height,p=l.traveller,d=l.ariaLabel,m=l.data,g=l.startIndex,w=l.endIndex,b=Math.max(r,this.props.x),y=Wy(Wy({},jt(this.props,!1)),{},{x:b,y:c,width:h,height:f}),x=d||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[w])===null||o===void 0?void 0:o.name);return ge.createElement(Nn,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),s.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,y))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,h=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return ge.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:h,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,h=this.state,f=h.startX,p=h.endX,d=5,m={pointerEvents:"none",fill:c};return ge.createElement(Nn,{className:"recharts-brush-texts"},ge.createElement(Zm,Ng({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-d,y:o+s/2},m),this.getTextOfTick(i)),ge.createElement(Zm,Ng({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+d,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,c=r.width,h=r.height,f=r.alwaysShowText,p=this.state,d=p.startX,m=p.endX,g=p.isTextActive,w=p.isSlideMoving,b=p.isTravellerMoving,y=p.isTravellerFocused;if(!i||!i.length||!ze(s)||!ze(l)||!ze(c)||!ze(h)||c<=0||h<=0)return null;var x=tt("recharts-brush",a),A=ge.Children.count(o)===1,N=Tie("userSelect","none");return ge.createElement(Nn,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(d,m),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(m,"endX"),(g||w||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(a+s/2)-1;return ge.createElement(ge.Fragment,null,ge.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),ge.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),ge.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ge.isValidElement(r)?a=ge.cloneElement(r,i):xt(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,h=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return Wy({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Iie({data:a,width:o,x:s,travellerWidth:l,startIndex:h,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(d){return i.scale(d)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(se.PureComponent);Zr(ac,"displayName","Brush");Zr(ac,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $ie=fw;function Rie(e,t){var n;return $ie(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var Bie=Rie,Wie=aO,Uie=vs,zie=Bie,Hie=Hr,qie=O0;function Gie(e,t,n){var r=Hie(e)?Wie:zie;return n&&qie(e,t,n)&&(t=void 0),r(e,Uie(t))}var Vie=Gie;const Kie=Rt(Vie);var ka=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},S4=CO;function Yie(e,t,n){t=="__proto__"&&S4?S4(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Xie=Yie,Jie=Xie,Qie=AO,Zie=vs;function eae(e,t){var n={};return t=Zie(t),Qie(e,function(r,i,a){Jie(n,i,t(r,i,a))}),n}var tae=eae;const nae=Rt(tae);function rae(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var iae=rae,aae=fw;function oae(e,t){var n=!0;return aae(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var sae=oae,lae=iae,uae=sae,cae=vs,dae=Hr,fae=O0;function hae(e,t,n){var r=dae(e)?lae:uae;return n&&fae(e,t,n)&&(t=void 0),r(e,cae(t))}var pae=hae;const aF=Rt(pae);var mae=["x","y"];function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l2.apply(this,arguments)}function N4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(n),!0).forEach(function(r){gae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gae(e,t,n){return t=vae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vae(e){var t=yae(e,"string");return rh(t)=="symbol"?t:t+""}function yae(e,t){if(rh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xae(e,t){if(e==null)return{};var n=bae(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bae(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wae(e,t){var n=e.x,r=e.y,i=xae(e,mae),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),h=parseInt(c,10),f="".concat(t.width||i.width),p=parseInt(f,10);return Td(Td(Td(Td(Td({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:h,width:p,name:t.name,radius:t.radius})}function j4(e){return ge.createElement(iie,l2({shapeType:"rectangle",propTransformer:wae,activeClassName:"recharts-active-bar"},e))}var Sae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=ze(r)||$R(r);return a?t(r,i):(a||bl(),n)}},Nae=["value","background"],oF;function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function jae(e,t){if(e==null)return{};var n=Aae(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Aae(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ag.apply(this,arguments)}function A4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(n),!0).forEach(function(r){Yo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lF(r.key),r)}}function Cae(e,t,n){return t&&P4(e.prototype,t),n&&P4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oae(e,t,n){return t=Pg(t),Tae(e,sF()?Reflect.construct(t,n||[],Pg(e).constructor):t.apply(e,n))}function Tae(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fae(e)}function Fae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(e)}function kae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u2(e,t)}function u2(e,t){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u2(e,t)}function Yo(e,t,n){return t=lF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lF(e){var t=_ae(e,"string");return oc(t)=="symbol"?t:t+""}function _ae(e,t){if(oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jh=function(e){function t(){var n;Pae(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Oae(this,t,[].concat(i)),Yo(n,"state",{isAnimationFinished:!1}),Yo(n,"id",vh("recharts-bar-")),Yo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Yo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return kae(t,e),Cae(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,h=jt(this.props,!1);return r&&r.map(function(f,p){var d=p===l,m=d?c:o,g=Tn(Tn(Tn({},h),f),{},{isActive:d,option:m,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ge.createElement(Nn,Ag({className:"recharts-bar-rectangle"},Rm(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),ge.createElement(j4,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,h=i.animationEasing,f=i.animationId,p=this.state.prevData;return ge.createElement(po,{begin:l,duration:c,isActive:s,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var m=d.t,g=a.map(function(w,b){var y=p&&p[b];if(y){var x=ta(y.x,w.x),A=ta(y.y,w.y),N=ta(y.width,w.width),P=ta(y.height,w.height);return Tn(Tn({},w),{},{x:x(m),y:A(m),width:N(m),height:P(m)})}if(o==="horizontal"){var j=ta(0,w.height),C=j(m);return Tn(Tn({},w),{},{y:w.y+w.height-C,height:C})}var _=ta(0,w.width),M=_(m);return Tn(Tn({},w),{},{width:M})});return ge.createElement(Nn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!I0(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=jt(this.props.background,!1);return a.map(function(c,h){c.value;var f=c.background,p=jae(c,Nae);if(!f)return null;var d=Tn(Tn(Tn(Tn(Tn({},p),{},{fill:"#eee"},f),l),Rm(r.props,c,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return ge.createElement(j4,Ag({key:"background-bar-".concat(h),option:r.props.background,isActive:h===s},d))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,h=a.children,f=Ci(h,Nh);if(!f)return null;var p=c==="vertical"?o[0].height/2:o[0].width/2,d=function(w,b){var y=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:y,errorVal:si(w,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ge.createElement(Nn,m,f.map(function(g){return ge.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:d})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,h=r.top,f=r.width,p=r.height,d=r.isAnimationActive,m=r.background,g=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,b=tt("recharts-bar",o),y=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,A=y||x,N=wt(g)?this.id:g;return ge.createElement(Nn,{className:b},y||x?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(N)},ge.createElement("rect",{x:y?c:c-f/2,y:x?h:h-p/2,width:y?f:f*2,height:x?p:p*2}))):null,ge.createElement(Nn,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(N,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,N),(!d||w)&&os.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(se.PureComponent);oF=jh;Yo(jh,"displayName","Bar");Yo(jh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Tc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yo(jh,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,h=e.dataStartIndex,f=e.displayedData,p=e.offset,d=lee(r,n);if(!d)return null;var m=t.layout,g=n.type.defaultProps,w=g!==void 0?Tn(Tn({},g),n.props):n.props,b=w.dataKey,y=w.children,x=w.minPointSize,A=m==="horizontal"?o:a,N=c?A.scale.domain():null,P=gee({numericAxis:A}),j=Ci(y,LO),C=f.map(function(_,M){var O,T,I,L,U,D;c?O=uee(c[h+M],N):(O=si(_,b),Array.isArray(O)||(O=[P,O]));var $=Sae(x,oF.defaultProps.minPointSize)(O[1],M);if(m==="horizontal"){var W,z=[o.scale(O[0]),o.scale(O[1])],Y=z[0],re=z[1];T=Aj({axis:a,ticks:s,bandSize:i,offset:d.offset,entry:_,index:M}),I=(W=re??Y)!==null&&W!==void 0?W:void 0,L=d.size;var E=Y-re;if(U=Number.isNaN(E)?0:E,D={x:T,y:o.y,width:L,height:o.height},Math.abs($)>0&&Math.abs(U)<Math.abs($)){var R=ra(U||$)*(Math.abs($)-Math.abs(U));I-=R,U+=R}}else{var q=[a.scale(O[0]),a.scale(O[1])],ee=q[0],H=q[1];if(T=ee,I=Aj({axis:o,ticks:l,bandSize:i,offset:d.offset,entry:_,index:M}),L=H-ee,U=d.size,D={x:a.x,y:I,width:a.width,height:U},Math.abs($)>0&&Math.abs(L)<Math.abs($)){var te=ra(L||$)*(Math.abs($)-Math.abs(L));L+=te}}return Tn(Tn(Tn({},_),{},{x:T,y:I,width:L,height:U,value:c?O:O[1],payload:_,background:D},j&&j[M]&&j[M].props),{},{tooltipPayload:[BT(n,_)],tooltipPosition:{x:T+L/2,y:I+U/2}})});return Tn({data:C,layout:m},p)});function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function Eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uF(r.key),r)}}function Lae(e,t,n){return t&&C4(e.prototype,t),n&&C4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(n),!0).forEach(function(r){U0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U0(e,t,n){return t=uF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uF(e){var t=Mae(e,"string");return ih(t)=="symbol"?t:t+""}function Mae(e,t){if(ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dae=function(t,n,r,i,a){var o=t.width,s=t.height,l=t.layout,c=t.children,h=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!ti(c,jh);return h.reduce(function(d,m){var g=n[m],w=g.orientation,b=g.domain,y=g.padding,x=y===void 0?{}:y,A=g.mirror,N=g.reversed,P="".concat(w).concat(A?"Mirror":""),j,C,_,M,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var T=b[1]-b[0],I=1/0,L=g.categoricalDomain.sort(WR);if(L.forEach(function(q,ee){ee>0&&(I=Math.min((q||0)-(L[ee-1]||0),I))}),Number.isFinite(I)){var U=I/T,D=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(j=U*D/2),g.padding==="no-gap"){var $=yl(t.barCategoryGap,U*D),W=U*D/2;j=W-$-(W-$)/D*$}}}i==="xAxis"?C=[r.left+(x.left||0)+(j||0),r.left+r.width-(x.right||0)-(j||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(j||0),r.top+r.height-(x.bottom||0)-(j||0)]:C=g.range,N&&(C=[C[1],C[0]]);var z=oee(g,a,p),Y=z.scale,re=z.realScaleType;Y.domain(b).range(C),see(Y);var E=mee(Y,Qi(Qi({},g),{},{realScaleType:re}));i==="xAxis"?(O=w==="top"&&!A||w==="bottom"&&A,_=r.left,M=f[P]-O*g.height):i==="yAxis"&&(O=w==="left"&&!A||w==="right"&&A,_=f[P]-O*g.width,M=r.top);var R=Qi(Qi(Qi({},g),E),{},{realScaleType:re,x:_,y:M,scale:Y,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return R.bandSize=hg(R,E),!g.hide&&i==="xAxis"?f[P]+=(O?-1:1)*R.height:g.hide||(f[P]+=(O?-1:1)*R.width),Qi(Qi({},d),{},U0({},m,R))},{})},cF=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Iae=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return cF({x:n,y:r},{x:i,y:a})},dF=function(){function e(t){Eae(this,e),this.scale=t}return Lae(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();U0(dF,"EPS",1e-4);var Uw=function(t){var n=Object.keys(t).reduce(function(r,i){return Qi(Qi({},r),{},U0({},i,dF.create(t[i])))},{});return Qi(Qi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return nae(i,function(l,c){return n[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return aF(i,function(a,o){return n[o].isInRange(a)})}})};function $ae(e){return(e%180+180)%180}var Rae=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$ae(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Bae=vs,Wae=yh,Uae=P0;function zae(e){return function(t,n,r){var i=Object(t);if(!Wae(t)){var a=Bae(n);t=Uae(t),n=function(s){return a(i[s],s,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var Hae=zae,qae=tF;function Gae(e){var t=qae(e),n=t%1;return t===t?n?t-n:t:0}var Vae=Gae,Kae=xO,Yae=vs,Xae=Vae,Jae=Math.max;function Qae(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Xae(n);return i<0&&(i=Jae(r+i,0)),Kae(e,Yae(t),i)}var Zae=Qae,eoe=Hae,toe=Zae,noe=eoe(toe),roe=noe;const ioe=Rt(roe);var aoe=H$(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),zw=se.createContext(void 0),Hw=se.createContext(void 0),fF=se.createContext(void 0),hF=se.createContext({}),pF=se.createContext(void 0),mF=se.createContext(0),gF=se.createContext(0),T4=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,h=aoe(a);return ge.createElement(zw.Provider,{value:r},ge.createElement(Hw.Provider,{value:i},ge.createElement(hF.Provider,{value:a},ge.createElement(fF.Provider,{value:h},ge.createElement(pF.Provider,{value:o},ge.createElement(mF.Provider,{value:c},ge.createElement(gF.Provider,{value:l},s)))))))},ooe=function(){return se.useContext(pF)},vF=function(t){var n=se.useContext(zw);n==null&&bl();var r=n[t];return r==null&&bl(),r},soe=function(){var t=se.useContext(zw);return Ho(t)},loe=function(){var t=se.useContext(Hw),n=ioe(t,function(r){return aF(r.domain,Number.isFinite)});return n||Ho(t)},yF=function(t){var n=se.useContext(Hw);n==null&&bl();var r=n[t];return r==null&&bl(),r},uoe=function(){var t=se.useContext(fF);return t},coe=function(){return se.useContext(hF)},qw=function(){return se.useContext(gF)},Gw=function(){return se.useContext(mF)};function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function doe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function foe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bF(r.key),r)}}function hoe(e,t,n){return t&&foe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function poe(e,t,n){return t=Cg(t),moe(e,xF()?Reflect.construct(t,n||[],Cg(e).constructor):t.apply(e,n))}function moe(e,t){if(t&&(sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return goe(e)}function goe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!e})()}function Cg(e){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(e)}function voe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c2(e,t)}function c2(e,t){return c2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c2(e,t)}function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(r){Vw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vw(e,t,n){return t=bF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bF(e){var t=yoe(e,"string");return sc(t)=="symbol"?t:t+""}function yoe(e,t){if(sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xoe(e,t){return Noe(e)||Soe(e,t)||woe(e,t)||boe()}function boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function woe(e,t){if(e){if(typeof e=="string")return _4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _4(e,t)}}function _4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Soe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Noe(e){if(Array.isArray(e))return e}function d2(){return d2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d2.apply(this,arguments)}var joe=function(t,n){var r;return ge.isValidElement(t)?r=ge.cloneElement(t,n):xt(t)?r=t(n):r=ge.createElement("line",d2({},n,{className:"recharts-reference-line-line"})),r},Aoe=function(t,n,r,i,a,o,s,l,c){var h=a.x,f=a.y,p=a.width,d=a.height;if(r){var m=c.y,g=t.y.apply(m,{position:o});if(ka(c,"discard")&&!t.y.isInRange(g))return null;var w=[{x:h+p,y:g},{x:h,y:g}];return l==="left"?w.reverse():w}if(n){var b=c.x,y=t.x.apply(b,{position:o});if(ka(c,"discard")&&!t.x.isInRange(y))return null;var x=[{x:y,y:f+d},{x:y,y:f}];return s==="top"?x.reverse():x}if(i){var A=c.segment,N=A.map(function(P){return t.apply(P,{position:o})});return ka(c,"discard")&&Kie(N,function(P){return!t.isInRange(P)})?null:N}return null};function Poe(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=ooe(),h=vF(i),f=yF(a),p=uoe();if(!c||!p)return null;io(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Uw({x:h.scale,y:f.scale}),m=Rn(t),g=Rn(n),w=r&&r.length===2,b=Aoe(d,m,g,w,p,e.position,h.orientation,f.orientation,e);if(!b)return null;var y=xoe(b,2),x=y[0],A=x.x,N=x.y,P=y[1],j=P.x,C=P.y,_=ka(e,"hidden")?"url(#".concat(c,")"):void 0,M=k4(k4({clipPath:_},jt(e,!0)),{},{x1:A,y1:N,x2:j,y2:C});return ge.createElement(Nn,{className:tt("recharts-reference-line",s)},joe(o,M),vr.renderCallByParent(e,Iae({x1:A,y1:N,x2:j,y2:C})))}var Kw=function(e){function t(){return doe(this,t),poe(this,t,arguments)}return voe(t,e),hoe(t,[{key:"render",value:function(){return ge.createElement(Poe,this.props)}}])}(ge.Component);Vw(Kw,"displayName","ReferenceLine");Vw(Kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f2.apply(this,arguments)}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function E4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(n),!0).forEach(function(r){z0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Coe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ooe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SF(r.key),r)}}function Toe(e,t,n){return t&&Ooe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Foe(e,t,n){return t=Og(t),koe(e,wF()?Reflect.construct(t,n||[],Og(e).constructor):t.apply(e,n))}function koe(e,t){if(t&&(lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _oe(e)}function _oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!e})()}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(e)}function Eoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h2(e,t)}function h2(e,t){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h2(e,t)}function z0(e,t,n){return t=SF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SF(e){var t=Loe(e,"string");return lc(t)=="symbol"?t:t+""}function Loe(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Moe=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=Uw({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ka(t,"discard")&&!o.isInRange(s)?null:s},H0=function(e){function t(){return Coe(this,t),Foe(this,t,arguments)}return Eoe(t,e),Toe(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,c=Rn(i),h=Rn(a);if(io(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!h)return null;var f=Moe(this.props);if(!f)return null;var p=f.x,d=f.y,m=this.props,g=m.shape,w=m.className,b=ka(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=L4(L4({clipPath:b},jt(this.props,!0)),{},{cx:p,cy:d});return ge.createElement(Nn,{className:tt("recharts-reference-dot",w)},t.renderDot(g,y),vr.renderCallByParent(this.props,{x:p-o,y:d-o,width:2*o,height:2*o}))}}])}(ge.Component);z0(H0,"displayName","ReferenceDot");z0(H0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});z0(H0,"renderDot",function(e,t){var n;return ge.isValidElement(e)?n=ge.cloneElement(e,t):xt(e)?n=e(t):n=ge.createElement(Ww,f2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function p2(){return p2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p2.apply(this,arguments)}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function M4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(n),!0).forEach(function(r){q0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Doe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ioe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jF(r.key),r)}}function $oe(e,t,n){return t&&Ioe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Roe(e,t,n){return t=Tg(t),Boe(e,NF()?Reflect.construct(t,n||[],Tg(e).constructor):t.apply(e,n))}function Boe(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Woe(e)}function Woe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(e)}function Uoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m2(e,t)}function m2(e,t){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m2(e,t)}function q0(e,t,n){return t=jF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jF(e){var t=zoe(e,"string");return uc(t)=="symbol"?t:t+""}function zoe(e,t){if(uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hoe=function(t,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,h=a.xAxis,f=a.yAxis;if(!h||!f)return null;var p=Uw({x:h.scale,y:f.scale}),d={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},m={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return ka(a,"discard")&&(!p.isInRange(d)||!p.isInRange(m))?null:cF(d,m)},G0=function(e){function t(){return Doe(this,t),Roe(this,t,arguments)}return Uoe(t,e),$oe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,h=r.clipPathId;io(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Rn(i),p=Rn(a),d=Rn(o),m=Rn(s),g=this.props.shape;if(!f&&!p&&!d&&!m&&!g)return null;var w=Hoe(f,p,d,m,this.props);if(!w&&!g)return null;var b=ka(this.props,"hidden")?"url(#".concat(h,")"):void 0;return ge.createElement(Nn,{className:tt("recharts-reference-area",l)},t.renderRect(g,D4(D4({clipPath:b},jt(this.props,!0)),w)),vr.renderCallByParent(this.props,w))}}])}(ge.Component);q0(G0,"displayName","ReferenceArea");q0(G0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});q0(G0,"renderRect",function(e,t){var n;return ge.isValidElement(e)?n=ge.cloneElement(e,t):xt(e)?n=e(t):n=ge.createElement(Bw,p2({},t,{className:"recharts-reference-area-rect"})),n});function AF(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function qoe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Rae(r,n)}function Goe(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Fg(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Voe(e,t){return AF(e,t+1)}function Koe(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,s=t.end,l=0,c=1,h=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:AF(r,c)};var g=l,w,b=function(){return w===void 0&&(w=n(m,g)),w},y=m.coordinate,x=l===0||Fg(e,y,b,h,s);x||(l=0,h=o,c+=1),x&&(h=y+e*(b()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function I4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(n),!0).forEach(function(r){Yoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yoe(e,t,n){return t=Xoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xoe(e){var t=Joe(e,"string");return ah(t)=="symbol"?t:t+""}function Joe(e,t){if(ah(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qoe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(p){var d=a[p],m,g=function(){return m===void 0&&(m=n(d,p)),m};if(p===o-1){var w=e*(d.coordinate+e*g()/2-l);a[p]=d=pr(pr({},d),{},{tickCoord:w>0?d.coordinate-w*e:d.coordinate})}else a[p]=d=pr(pr({},d),{},{tickCoord:d.coordinate});var b=Fg(e,d.tickCoord,g,s,l);b&&(l=d.tickCoord-e*(g()/2+i),a[p]=pr(pr({},d),{},{isShow:!0}))},h=o-1;h>=0;h--)c(h);return a}function Zoe(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var h=r[s-1],f=n(h,s-1),p=e*(h.coordinate+e*f/2-c);o[s-1]=h=pr(pr({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate});var d=Fg(e,h.tickCoord,function(){return f},l,c);d&&(c=h.tickCoord-e*(f/2+i),o[s-1]=pr(pr({},h),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(y){var x=o[y],A,N=function(){return A===void 0&&(A=n(x,y)),A};if(y===0){var P=e*(x.coordinate-e*N()/2-l);o[y]=x=pr(pr({},x),{},{tickCoord:P<0?x.coordinate-P*e:x.coordinate})}else o[y]=x=pr(pr({},x),{},{tickCoord:x.coordinate});var j=Fg(e,x.tickCoord,N,l,c);j&&(l=x.tickCoord+e*(N()/2+i),o[y]=pr(pr({},x),{},{isShow:!0}))},w=0;w<m;w++)g(w);return o}function Yw(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,h=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(ze(l)||Tc.isSsr)return Voe(i,typeof l=="number"&&ze(l)?l:0);var p=[],d=s==="top"||s==="bottom"?"width":"height",m=h&&d==="width"?Yd(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(x,A){var N=xt(c)?c(x.value,A):x.value;return d==="width"?qoe(Yd(N,{fontSize:t,letterSpacing:n}),m,f):Yd(N,{fontSize:t,letterSpacing:n})[d]},w=i.length>=2?ra(i[1].coordinate-i[0].coordinate):1,b=Goe(a,w,d);return l==="equidistantPreserveStart"?Koe(w,b,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=Zoe(w,b,g,i,o,l==="preserveStartEnd"):p=Qoe(w,b,g,i,o),p.filter(function(y){return y.isShow}))}var ese=["viewBox"],tse=["viewBox"],nse=["ticks"];function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tu.apply(this,arguments)}function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(n),!0).forEach(function(r){Xw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uy(e,t){if(e==null)return{};var n=rse(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CF(r.key),r)}}function ase(e,t,n){return t&&R4(e.prototype,t),n&&R4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ose(e,t,n){return t=kg(t),sse(e,PF()?Reflect.construct(t,n||[],kg(e).constructor):t.apply(e,n))}function sse(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lse(e)}function lse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PF=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(e)}function use(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g2(e,t)}function g2(e,t){return g2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g2(e,t)}function Xw(e,t,n){return t=CF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CF(e){var t=cse(e,"string");return cc(t)=="symbol"?t:t+""}function cse(e,t){if(cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ec=function(e){function t(n){var r;return ise(this,t),r=ose(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return use(t,e),ase(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Uy(r,ese),s=this.props,l=s.viewBox,c=Uy(s,tse);return!Iu(a,l)||!Iu(o,c)||!Iu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,h=i.tickSize,f=i.mirror,p=i.tickMargin,d,m,g,w,b,y,x=f?-1:1,A=r.tickSize||h,N=ze(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":d=m=r.coordinate,w=o+ +!f*l,g=w-x*A,y=g-x*p,b=N;break;case"left":g=w=r.coordinate,m=a+ +!f*s,d=m-x*A,b=d-x*p,y=N;break;case"right":g=w=r.coordinate,m=a+ +f*s,d=m+x*A,b=d+x*p,y=N;break;default:d=m=r.coordinate,w=o+ +f*l,g=w+x*A,y=g+x*p,b=N;break}return{line:{x1:d,y1:g,x2:m,y2:w},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,h=r.axisLine,f=Ln(Ln(Ln({},jt(this.props,!1)),jt(h,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=Ln(Ln({},f),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=Ln(Ln({},f),{},{x1:i+d*o,y1:a,x2:i+d*o,y2:a+s})}return ge.createElement("line",Tu({},f,{className:tt("recharts-cartesian-axis-line",Pi(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,h=s.tick,f=s.tickFormatter,p=s.unit,d=Yw(Ln(Ln({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),w=jt(this.props,!1),b=jt(h,!1),y=Ln(Ln({},w),{},{fill:"none"},jt(l,!1)),x=d.map(function(A,N){var P=o.getTickLineCoord(A),j=P.line,C=P.tick,_=Ln(Ln(Ln(Ln({textAnchor:m,verticalAnchor:g},w),{},{stroke:"none",fill:c},b),C),{},{index:N,payload:A,visibleTicksCount:d.length,tickFormatter:f});return ge.createElement(Nn,Tu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Rm(o.props,A,N)),l&&ge.createElement("line",Tu({},y,j,{className:tt("recharts-cartesian-axis-tick-line",Pi(l,"className"))})),h&&t.renderTickItem(h,_,"".concat(xt(f)?f(A.value,N):A.value).concat(p||"")))});return ge.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,h=i.hide;if(h)return null;var f=this.props,p=f.ticks,d=Uy(f,nse),m=p;return xt(l)&&(m=p&&p.length>0?l(this.props):l(d)),o<=0||s<=0||!m||!m.length?null:ge.createElement(Nn,{className:tt("recharts-cartesian-axis",c),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),vr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=tt(i.className,"recharts-cartesian-axis-tick-value");return ge.isValidElement(r)?o=ge.cloneElement(r,Ln(Ln({},i),{},{className:s})):xt(r)?o=r(Ln(Ln({},i),{},{className:s})):o=ge.createElement(Zm,Tu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(se.Component);Xw(Ec,"displayName","CartesianAxis");Xw(Ec,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dse=["x1","y1","x2","y2","key"],fse=["offset"];function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(r){hse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hse(e,t,n){return t=pse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pse(e){var t=mse(e,"string");return wl(t)=="symbol"?t:t+""}function mse(e,t){if(wl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(this,arguments)}function W4(e,t){if(e==null)return{};var n=gse(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var vse=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return ge.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function OF(e,t){var n;if(ge.isValidElement(e))n=ge.cloneElement(e,t);else if(xt(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=W4(t,dse),c=jt(l,!1);c.offset;var h=W4(c,fse);n=ge.createElement("line",Js({},h,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function yse(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=yr(yr({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return OF(i,c)});return ge.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function xse(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=yr(yr({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return OF(i,c)});return ge.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function bse(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var h=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,d){return p-d});i!==h[0]&&h.unshift(0);var f=h.map(function(p,d){var m=!h[d+1],g=m?i+o-p:h[d+1]-p;if(g<=0)return null;var w=d%t.length;return ge.createElement("rect",{key:"react-".concat(d),y:p,x:r,height:g,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function wse(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var h=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,d){return p-d});a!==h[0]&&h.unshift(0);var f=h.map(function(p,d){var m=!h[d+1],g=m?a+s-p:h[d+1]-p;if(g<=0)return null;var w=d%r.length;return ge.createElement("rect",{key:"react-".concat(d),x:p,y:o,width:g,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Sse=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return $T(Yw(yr(yr(yr({},Ec.defaultProps),r),{},{ticks:to(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Nse=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return $T(Yw(yr(yr(yr({},Ec.defaultProps),r),{},{ticks:to(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},lu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function TF(e){var t,n,r,i,a,o,s=qw(),l=Gw(),c=coe(),h=yr(yr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:lu.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:lu.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:lu.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:lu.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:lu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:lu.verticalFill,x:ze(e.x)?e.x:c.left,y:ze(e.y)?e.y:c.top,width:ze(e.width)?e.width:c.width,height:ze(e.height)?e.height:c.height}),f=h.x,p=h.y,d=h.width,m=h.height,g=h.syncWithTicks,w=h.horizontalValues,b=h.verticalValues,y=soe(),x=loe();if(!ze(d)||d<=0||!ze(m)||m<=0||!ze(f)||f!==+f||!ze(p)||p!==+p)return null;var A=h.verticalCoordinatesGenerator||Sse,N=h.horizontalCoordinatesGenerator||Nse,P=h.horizontalPoints,j=h.verticalPoints;if((!P||!P.length)&&xt(N)){var C=w&&w.length,_=N({yAxis:x?yr(yr({},x),{},{ticks:C?w:x.ticks}):void 0,width:s,height:l,offset:c},C?!0:g);io(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wl(_),"]")),Array.isArray(_)&&(P=_)}if((!j||!j.length)&&xt(A)){var M=b&&b.length,O=A({xAxis:y?yr(yr({},y),{},{ticks:M?b:y.ticks}):void 0,width:s,height:l,offset:c},M?!0:g);io(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wl(O),"]")),Array.isArray(O)&&(j=O)}return ge.createElement("g",{className:"recharts-cartesian-grid"},ge.createElement(vse,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),ge.createElement(yse,Js({},h,{offset:c,horizontalPoints:P,xAxis:y,yAxis:x})),ge.createElement(xse,Js({},h,{offset:c,verticalPoints:j,xAxis:y,yAxis:x})),ge.createElement(bse,Js({},h,{horizontalPoints:P})),ge.createElement(wse,Js({},h,{verticalPoints:j})))}TF.displayName="CartesianGrid";var jse=["type","layout","connectNulls","ref"],Ase=["key"];function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function U4(e,t){if(e==null)return{};var n=Pse(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Pse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(this,arguments)}function z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(n),!0).forEach(function(r){Zi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uu(e){return Fse(e)||Tse(e)||Ose(e)||Cse()}function Cse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ose(e,t){if(e){if(typeof e=="string")return v2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v2(e,t)}}function Tse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fse(e){if(Array.isArray(e))return v2(e)}function v2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kF(r.key),r)}}function _se(e,t,n){return t&&H4(e.prototype,t),n&&H4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ese(e,t,n){return t=_g(t),Lse(e,FF()?Reflect.construct(t,n||[],_g(e).constructor):t.apply(e,n))}function Lse(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mse(e)}function Mse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FF=function(){return!!e})()}function _g(e){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(e)}function Dse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y2(e,t)}function y2(e,t){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y2(e,t)}function Zi(e,t,n){return t=kF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kF(e){var t=Ise(e,"string");return dc(t)=="symbol"?t:t+""}function Ise(e,t){if(dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jr=function(e){function t(){var n;kse(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ese(this,t,[].concat(i)),Zi(n,"state",{isAnimationFinished:!0,totalLength:0}),Zi(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Zi(n,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(b,y){return b+y});if(!c)return n.generateSimpleStrokeDasharray(s,o);for(var h=Math.floor(o/c),f=o%c,p=s-o,d=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){d=[].concat(uu(l.slice(0,m)),[f-g]);break}var w=d.length%2===0?[0,p]:[p];return[].concat(uu(t.repeat(l,h)),uu(d),w).map(function(b){return"".concat(b,"px")}).join(", ")}),Zi(n,"id",vh("recharts-line-")),Zi(n,"pathRef",function(o){n.mainCurve=o}),Zi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Zi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Dse(t,e),_se(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,h=a.children,f=Ci(h,Nh);if(!f)return null;var p=function(g,w){return{x:g.x,y:g.y,value:g.value,errorVal:si(g.payload,w)}},d={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ge.createElement(Nn,d,f.map(function(m){return ge.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,h=s.dataKey,f=jt(this.props,!1),p=jt(l,!0),d=c.map(function(g,w){var b=Qr(Qr(Qr({key:"dot-".concat(w),r:3},f),p),{},{index:w,cx:g.x,cy:g.y,value:g.value,dataKey:h,payload:g.payload,points:c});return t.renderDotItem(l,b)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ge.createElement(Nn,Zd({className:"recharts-line-dots",key:"dots"},m),d)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,c=s.layout,h=s.connectNulls;s.ref;var f=U4(s,jse),p=Qr(Qr(Qr({},jt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:h});return ge.createElement(Yx,Zd({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,h=o.animationBegin,f=o.animationDuration,p=o.animationEasing,d=o.animationId,m=o.animateNewValues,g=o.width,w=o.height,b=this.state,y=b.prevPoints,x=b.totalLength;return ge.createElement(po,{begin:h,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var N=A.t;if(y){var P=y.length/s.length,j=s.map(function(T,I){var L=Math.floor(I*P);if(y[L]){var U=y[L],D=ta(U.x,T.x),$=ta(U.y,T.y);return Qr(Qr({},T),{},{x:D(N),y:$(N)})}if(m){var W=ta(g*2,T.x),z=ta(w/2,T.y);return Qr(Qr({},T),{},{x:W(N),y:z(N)})}return Qr(Qr({},T),{},{x:T.x,y:T.y})});return a.renderCurveStatically(j,r,i)}var C=ta(0,x),_=C(N),M;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});M=a.getStrokeDasharray(_,x,O)}else M=a.generateSimpleStrokeDasharray(x,_);return a.renderCurveStatically(s,r,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,h=l.totalLength;return s&&o&&o.length&&(!c&&h>0||!I0(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,h=i.yAxis,f=i.top,p=i.left,d=i.width,m=i.height,g=i.isAnimationActive,w=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,y=s.length===1,x=tt("recharts-line",l),A=c&&c.allowDataOverflow,N=h&&h.allowDataOverflow,P=A||N,j=wt(w)?this.id:w,C=(r=jt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},_=C.r,M=_===void 0?3:_,O=C.strokeWidth,T=O===void 0?2:O,I=XR(o)?o:{},L=I.clipDot,U=L===void 0?!0:L,D=M*2+T;return ge.createElement(Nn,{className:x},A||N?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(j)},ge.createElement("rect",{x:A?p:p-d/2,y:N?f:f-m/2,width:A?d:d*2,height:N?m:m*2})),!U&&ge.createElement("clipPath",{id:"clipPath-dots-".concat(j)},ge.createElement("rect",{x:p-D/2,y:f-D/2,width:d+D,height:m+D}))):null,!y&&this.renderCurve(P,j),this.renderErrorBar(P,j),(y||o)&&this.renderDots(P,U,j),(!g||b)&&os.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(uu(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(uu(o),uu(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(ge.isValidElement(r))a=ge.cloneElement(r,i);else if(xt(r))a=r(i);else{var o=i.key,s=U4(i,Ase),l=tt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=ge.createElement(Ww,Zd({key:o},s,{className:l}))}return a}}])}(se.PureComponent);Zi(jr,"displayName","Line");Zi(jr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Tc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Zi(jr,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,h=t.layout,f=l.map(function(p,d){var m=si(p,o);return h==="horizontal"?{x:jj({axis:n,ticks:i,bandSize:s,entry:p,index:d}),y:wt(m)?null:r.scale(m),value:m,payload:p}:{x:wt(m)?null:n.scale(m),y:jj({axis:r,ticks:a,bandSize:s,entry:p,index:d}),value:m,payload:p}});return Qr({points:f,layout:h},c)});function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function $se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LF(r.key),r)}}function Bse(e,t,n){return t&&Rse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wse(e,t,n){return t=Eg(t),Use(e,_F()?Reflect.construct(t,n||[],Eg(e).constructor):t.apply(e,n))}function Use(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zse(e)}function zse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!e})()}function Eg(e){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(e)}function Hse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x2(e,t)}function x2(e,t){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x2(e,t)}function EF(e,t,n){return t=LF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LF(e){var t=qse(e,"string");return fc(t)=="symbol"?t:t+""}function qse(e,t){if(fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function b2(){return b2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b2.apply(this,arguments)}function Gse(e){var t=e.xAxisId,n=qw(),r=Gw(),i=vF(t);return i==null?null:se.createElement(Ec,b2({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return to(o,!0)}}))}var V0=function(e){function t(){return $se(this,t),Wse(this,t,arguments)}return Hse(t,e),Bse(t,[{key:"render",value:function(){return se.createElement(Gse,this.props)}}])}(se.Component);EF(V0,"displayName","XAxis");EF(V0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Vse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IF(r.key),r)}}function Yse(e,t,n){return t&&Kse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xse(e,t,n){return t=Lg(t),Jse(e,MF()?Reflect.construct(t,n||[],Lg(e).constructor):t.apply(e,n))}function Jse(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qse(e)}function Qse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MF=function(){return!!e})()}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(e)}function Zse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w2(e,t)}function w2(e,t){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w2(e,t)}function DF(e,t,n){return t=IF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IF(e){var t=ele(e,"string");return hc(t)=="symbol"?t:t+""}function ele(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S2.apply(this,arguments)}var tle=function(t){var n=t.yAxisId,r=qw(),i=Gw(),a=yF(n);return a==null?null:se.createElement(Ec,S2({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return to(s,!0)}}))},K0=function(e){function t(){return Vse(this,t),Xse(this,t,arguments)}return Zse(t,e),Yse(t,[{key:"render",value:function(){return se.createElement(tle,this.props)}}])}(se.Component);DF(K0,"displayName","YAxis");DF(K0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function q4(e){return ale(e)||ile(e)||rle(e)||nle()}function nle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rle(e,t){if(e){if(typeof e=="string")return N2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N2(e,t)}}function ile(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ale(e){if(Array.isArray(e))return N2(e)}function N2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j2=function(t,n,r,i,a){var o=Ci(t,Kw),s=Ci(t,H0),l=[].concat(q4(o),q4(s)),c=Ci(t,G0),h="".concat(i,"Id"),f=i[0],p=n;if(l.length&&(p=l.reduce(function(g,w){if(w.props[h]===r&&ka(w.props,"extendDomain")&&ze(w.props[f])){var b=w.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},p)),c.length){var d="".concat(f,"1"),m="".concat(f,"2");p=c.reduce(function(g,w){if(w.props[h]===r&&ka(w.props,"extendDomain")&&ze(w.props[d])&&ze(w.props[m])){var b=w.props[d],y=w.props[m];return[Math.min(g[0],b,y),Math.max(g[1],b,y)]}return g},p)}return a&&a.length&&(p=a.reduce(function(g,w){return ze(w)?[Math.min(g[0],w),Math.max(g[1],w)]:g},p)),p},$F={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function a(l,c,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new i(h,f||l,p),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)t.call(h,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},s.prototype.listeners=function(c){var h=n?n+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,d=f.length,m=new Array(d);p<d;p++)m[p]=f[p].fn;return m},s.prototype.listenerCount=function(c){var h=n?n+c:c,f=this._events[h];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,h,f,p,d,m){var g=n?n+c:c;if(!this._events[g])return!1;var w=this._events[g],b=arguments.length,y,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,f),!0;case 4:return w.fn.call(w.context,h,f,p),!0;case 5:return w.fn.call(w.context,h,f,p,d),!0;case 6:return w.fn.call(w.context,h,f,p,d,m),!0}for(x=1,y=new Array(b-1);x<b;x++)y[x-1]=arguments[x];w.fn.apply(w.context,y)}else{var A=w.length,N;for(x=0;x<A;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),b){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,h);break;case 3:w[x].fn.call(w[x].context,h,f);break;case 4:w[x].fn.call(w[x].context,h,f,p);break;default:if(!y)for(N=1,y=new Array(b-1);N<b;N++)y[N-1]=arguments[N];w[x].fn.apply(w[x].context,y)}}return!0},s.prototype.on=function(c,h,f){return a(this,c,h,f,!1)},s.prototype.once=function(c,h,f){return a(this,c,h,f,!0)},s.prototype.removeListener=function(c,h,f,p){var d=n?n+c:c;if(!this._events[d])return this;if(!h)return o(this,d),this;var m=this._events[d];if(m.fn)m.fn===h&&(!p||m.once)&&(!f||m.context===f)&&o(this,d);else{for(var g=0,w=[],b=m.length;g<b;g++)(m[g].fn!==h||p&&!m[g].once||f&&m[g].context!==f)&&w.push(m[g]);w.length?this._events[d]=w.length===1?w[0]:w:o(this,d)}return this},s.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})($F);var ole=$F.exports;const sle=Rt(ole);var zy=new sle,Hy="recharts.syncMouseEvents";function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}function lle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ule(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RF(r.key),r)}}function cle(e,t,n){return t&&ule(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qy(e,t,n){return t=RF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RF(e){var t=dle(e,"string");return oh(t)=="symbol"?t:t+""}function dle(e,t){if(oh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fle=function(){function e(){lle(this,e),qy(this,"activeIndex",0),qy(this,"coordinateList",[]),qy(this,"layout","horizontal")}return cle(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,h=n.offset,f=h===void 0?null:h,p=n.mouseHandlerCallback,d=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,p=o+this.offset.top+s/2+h;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function hle(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&ze(r)&&ze(i))return!0}return!1}function ple(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function BF(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=tr(t,n,r,i),s=tr(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function mle(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,h=t.outerRadius,f=t.angle,p=tr(s,l,c,f),d=tr(s,l,h,f);r=p.x,i=p.y,a=d.x,o=d.y}else return BF(t);return[{x:r,y:i},{x:a,y:o}]}function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function G4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(n),!0).forEach(function(r){gle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gle(e,t,n){return t=vle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vle(e){var t=yle(e,"string");return sh(t)=="symbol"?t:t+""}function yle(e,t){if(sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xle(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,d=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!d||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var m,g=Yx;if(p==="ScatterChart")m=o,g=yre;else if(p==="BarChart")m=ple(f,o,l,h),g=Bw;else if(f==="radial"){var w=BF(o),b=w.cx,y=w.cy,x=w.radius,A=w.startAngle,N=w.endAngle;m={cx:b,cy:y,startAngle:A,endAngle:N,innerRadius:x,outerRadius:x},g=zT}else m={points:mle(f,o,l)},g=Yx;var P=Hp(Hp(Hp(Hp({stroke:"#ccc",pointerEvents:"none"},l),m),jt(d,!1)),{},{payload:s,payloadIndex:c,className:tt("recharts-tooltip-cursor",d.className)});return se.isValidElement(d)?se.cloneElement(d,P):se.createElement(g,P)}var ble=["item"],wle=["children","className","width","height","style","compact","title","desc"];function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fu.apply(this,arguments)}function V4(e,t){return jle(e)||Nle(e,t)||UF(e,t)||Sle()}function Sle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nle(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function jle(e){if(Array.isArray(e))return e}function K4(e,t){if(e==null)return{};var n=Ale(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ale(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ple(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zF(r.key),r)}}function Ole(e,t,n){return t&&Cle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tle(e,t,n){return t=Mg(t),Fle(e,WF()?Reflect.construct(t,n||[],Mg(e).constructor):t.apply(e,n))}function Fle(e,t){if(t&&(pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kle(e)}function kle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!e})()}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(e)}function _le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A2(e,t)}function A2(e,t){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A2(e,t)}function mc(e){return Mle(e)||Lle(e)||UF(e)||Ele()}function Ele(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UF(e,t){if(e){if(typeof e=="string")return P2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P2(e,t)}}function Lle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mle(e){if(Array.isArray(e))return P2(e)}function P2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(r){st(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function st(e,t,n){return t=zF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zF(e){var t=Dle(e,"string");return pc(t)=="symbol"?t:t+""}function Dle(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ile={xAxis:["bottom","top"],yAxis:["left","right"]},$le={width:"100%",height:"100%"},HF={x:0,y:0};function qp(e){return e}var Rle=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Ble=function(t,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return Oe(Oe(Oe({},i),tr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return Oe(Oe(Oe({},i),tr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return HF},Y0=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(mc(s),mc(c)):s},[]);return o.length>0?o:t&&t.length&&ze(i)&&ze(a)?t.slice(i,a+1):[]};function qF(e){return e==="number"?[0,"auto"]:void 0}var C2=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,s=Y0(n,t);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,c){var h,f=(h=c.props.data)!==null&&h!==void 0?h:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var d=f===void 0?s:f;p=Im(d,o.dataKey,i)}else p=f&&f[r]||s[r];return p?[].concat(mc(l),[BT(c,p)]):l},[])},X4=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=Rle(a,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,h=eee(o,s,c,l);if(h>=0&&c){var f=c[h]&&c[h].value,p=C2(t,n,h,f),d=Ble(r,s,h,a);return{activeTooltipIndex:h,activeLabel:f,activePayload:p,activeCoordinate:d}}return null},Wle=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=t.layout,f=t.children,p=t.stackOffset,d=IT(h,a);return r.reduce(function(m,g){var w,b=g.type.defaultProps!==void 0?Oe(Oe({},g.type.defaultProps),g.props):g.props,y=b.type,x=b.dataKey,A=b.allowDataOverflow,N=b.allowDuplicatedCategory,P=b.scale,j=b.ticks,C=b.includeHidden,_=b[o];if(m[_])return m;var M=Y0(t.data,{graphicalItems:i.filter(function(E){var R,q=o in E.props?E.props[o]:(R=E.type.defaultProps)===null||R===void 0?void 0:R[o];return q===_}),dataStartIndex:l,dataEndIndex:c}),O=M.length,T,I,L;hle(b.domain,A,y)&&(T=Hx(b.domain,null,A),d&&(y==="number"||P!=="auto")&&(L=Jd(M,x,"category")));var U=qF(y);if(!T||T.length===0){var D,$=(D=b.domain)!==null&&D!==void 0?D:U;if(x){if(T=Jd(M,x,y),y==="category"&&d){var W=BR(T);N&&W?(I=T,T=Sg(0,O)):N||(T=Oj($,T,g).reduce(function(E,R){return E.indexOf(R)>=0?E:[].concat(mc(E),[R])},[]))}else if(y==="category")N?T=T.filter(function(E){return E!==""&&!wt(E)}):T=Oj($,T,g).reduce(function(E,R){return E.indexOf(R)>=0||R===""||wt(R)?E:[].concat(mc(E),[R])},[]);else if(y==="number"){var z=aee(M,i.filter(function(E){var R,q,ee=o in E.props?E.props[o]:(R=E.type.defaultProps)===null||R===void 0?void 0:R[o],H="hide"in E.props?E.props.hide:(q=E.type.defaultProps)===null||q===void 0?void 0:q.hide;return ee===_&&(C||!H)}),x,a,h);z&&(T=z)}d&&(y==="number"||P!=="auto")&&(L=Jd(M,x,"category"))}else d?T=Sg(0,O):s&&s[_]&&s[_].hasStack&&y==="number"?T=p==="expand"?[0,1]:RT(s[_].stackGroups,l,c):T=DT(M,i.filter(function(E){var R=o in E.props?E.props[o]:E.type.defaultProps[o],q="hide"in E.props?E.props.hide:E.type.defaultProps.hide;return R===_&&(C||!q)}),y,h,!0);if(y==="number")T=j2(f,T,_,a,j),$&&(T=Hx($,T,A));else if(y==="category"&&$){var Y=$,re=T.every(function(E){return Y.indexOf(E)>=0});re&&(T=Y)}}return Oe(Oe({},m),{},st({},_,Oe(Oe({},b),{},{axisType:a,domain:T,categoricalDomain:L,duplicateDomain:I,originalDomain:(w=b.domain)!==null&&w!==void 0?w:U,isCategorical:d,layout:h})))},{})},Ule=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=t.layout,f=t.children,p=Y0(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),d=p.length,m=IT(h,a),g=-1;return r.reduce(function(w,b){var y=b.type.defaultProps!==void 0?Oe(Oe({},b.type.defaultProps),b.props):b.props,x=y[o],A=qF("number");if(!w[x]){g++;var N;return m?N=Sg(0,d):s&&s[x]&&s[x].hasStack?(N=RT(s[x].stackGroups,l,c),N=j2(f,N,x,a)):(N=Hx(A,DT(p,r.filter(function(P){var j,C,_=o in P.props?P.props[o]:(j=P.type.defaultProps)===null||j===void 0?void 0:j[o],M="hide"in P.props?P.props.hide:(C=P.type.defaultProps)===null||C===void 0?void 0:C.hide;return _===x&&!M}),"number",h),i.defaultProps.allowDataOverflow),N=j2(f,N,x,a)),Oe(Oe({},w),{},st({},x,Oe(Oe({axisType:a},i.defaultProps),{},{hide:!0,orientation:Pi(Ile,"".concat(a,".").concat(g%2),null),domain:N,originalDomain:A,isCategorical:m,layout:h})))}return w},{})},zle=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=t.children,f="".concat(i,"Id"),p=Ci(h,a),d={};return p&&p.length?d=Wle(t,{axes:p,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(d=Ule(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),d},Hle=function(t){var n=Ho(t),r=to(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:hw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:hg(n,r)}},J4=function(t){var n=t.children,r=t.defaultShowTooltip,i=ti(n,ac),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},qle=function(t){return!t||!t.length?!1:t.some(function(n){var r=ro(n&&n.type);return r&&r.indexOf("Bar")>=0})},Q4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Gle=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,c=r.width,h=r.height,f=r.children,p=r.margin||{},d=ti(f,ac),m=ti(f,il),g=Object.keys(l).reduce(function(N,P){var j=l[P],C=j.orientation;return!j.mirror&&!j.hide?Oe(Oe({},N),{},st({},C,N[C]+j.width)):N},{left:p.left||0,right:p.right||0}),w=Object.keys(o).reduce(function(N,P){var j=o[P],C=j.orientation;return!j.mirror&&!j.hide?Oe(Oe({},N),{},st({},C,Pi(N,"".concat(C))+j.height)):N},{top:p.top||0,bottom:p.bottom||0}),b=Oe(Oe({},w),g),y=b.bottom;d&&(b.bottom+=d.props.height||ac.defaultProps.height),m&&n&&(b=ree(b,i,r,n));var x=c-b.left-b.right,A=h-b.top-b.bottom;return Oe(Oe({brushBottom:y},b),{},{width:Math.max(x,0),height:Math.max(A,0)})},Vle=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Kle=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,h=t.formatAxisMap,f=t.defaultProps,p=function(b,y){var x=y.graphicalItems,A=y.stackGroups,N=y.offset,P=y.updateId,j=y.dataStartIndex,C=y.dataEndIndex,_=b.barSize,M=b.layout,O=b.barGap,T=b.barCategoryGap,I=b.maxBarSize,L=Q4(M),U=L.numericAxisName,D=L.cateAxisName,$=qle(x),W=[];return x.forEach(function(z,Y){var re=Y0(b.data,{graphicalItems:[z],dataStartIndex:j,dataEndIndex:C}),E=z.type.defaultProps!==void 0?Oe(Oe({},z.type.defaultProps),z.props):z.props,R=E.dataKey,q=E.maxBarSize,ee=E["".concat(U,"Id")],H=E["".concat(D,"Id")],te={},X=l.reduce(function(Re,Ie){var ke=y["".concat(Ie.axisType,"Map")],De=E["".concat(Ie.axisType,"Id")];ke&&ke[De]||Ie.axisType==="zAxis"||bl();var Le=ke[De];return Oe(Oe({},Re),{},st(st({},Ie.axisType,Le),"".concat(Ie.axisType,"Ticks"),to(Le)))},te),G=X[D],ce=X["".concat(D,"Ticks")],ae=A&&A[ee]&&A[ee].hasStack&&vee(z,A[ee].stackGroups),le=ro(z.type).indexOf("Bar")>=0,xe=hg(G,ce),be=[],de=$&&tee({barSize:_,stackGroups:A,totalSize:Vle(X,D)});if(le){var ie,Ce,Fe=wt(q)?I:q,Ae=(ie=(Ce=hg(G,ce,!0))!==null&&Ce!==void 0?Ce:Fe)!==null&&ie!==void 0?ie:0;be=nee({barGap:O,barCategoryGap:T,bandSize:Ae!==xe?Ae:xe,sizeList:de[H],maxBarSize:Fe}),Ae!==xe&&(be=be.map(function(Re){return Oe(Oe({},Re),{},{position:Oe(Oe({},Re.position),{},{offset:Re.position.offset-Ae/2})})}))}var Te=z&&z.type&&z.type.getComposedData;Te&&W.push({props:Oe(Oe({},Te(Oe(Oe({},X),{},{displayedData:re,props:b,dataKey:R,item:z,bandSize:xe,barPosition:be,offset:N,stackedData:ae,layout:M,dataStartIndex:j,dataEndIndex:C}))),{},st(st(st({key:z.key||"item-".concat(Y)},U,X[U]),D,X[D]),"animationId",P)),childIndex:ZR(z,b.children),item:z})}),W},d=function(b,y){var x=b.props,A=b.dataStartIndex,N=b.dataEndIndex,P=b.updateId;if(!w3({props:x}))return null;var j=x.children,C=x.layout,_=x.stackOffset,M=x.data,O=x.reverseStackOrder,T=Q4(C),I=T.numericAxisName,L=T.cateAxisName,U=Ci(j,r),D=pee(M,U,"".concat(I,"Id"),"".concat(L,"Id"),_,O),$=l.reduce(function(E,R){var q="".concat(R.axisType,"Map");return Oe(Oe({},E),{},st({},q,zle(x,Oe(Oe({},R),{},{graphicalItems:U,stackGroups:R.axisType===I&&D,dataStartIndex:A,dataEndIndex:N}))))},{}),W=Gle(Oe(Oe({},$),{},{props:x,graphicalItems:U}),y==null?void 0:y.legendBBox);Object.keys($).forEach(function(E){$[E]=h(x,$[E],W,E.replace("Map",""),n)});var z=$["".concat(L,"Map")],Y=Hle(z),re=p(x,Oe(Oe({},$),{},{dataStartIndex:A,dataEndIndex:N,updateId:P,graphicalItems:U,stackGroups:D,offset:W}));return Oe(Oe({formattedGraphicalItems:re,graphicalItems:U,offset:W,stackGroups:D},Y),$)},m=function(w){function b(y){var x,A,N;return Ple(this,b),N=Tle(this,b,[y]),st(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),st(N,"accessibilityManager",new fle),st(N,"handleLegendBBoxUpdate",function(P){if(P){var j=N.state,C=j.dataStartIndex,_=j.dataEndIndex,M=j.updateId;N.setState(Oe({legendBBox:P},d({props:N.props,dataStartIndex:C,dataEndIndex:_,updateId:M},Oe(Oe({},N.state),{},{legendBBox:P}))))}}),st(N,"handleReceiveSyncEvent",function(P,j,C){if(N.props.syncId===P){if(C===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(j)}}),st(N,"handleBrushChange",function(P){var j=P.startIndex,C=P.endIndex;if(j!==N.state.dataStartIndex||C!==N.state.dataEndIndex){var _=N.state.updateId;N.setState(function(){return Oe({dataStartIndex:j,dataEndIndex:C},d({props:N.props,dataStartIndex:j,dataEndIndex:C,updateId:_},N.state))}),N.triggerSyncEvent({dataStartIndex:j,dataEndIndex:C})}}),st(N,"handleMouseEnter",function(P){var j=N.getMouseInfo(P);if(j){var C=Oe(Oe({},j),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var _=N.props.onMouseEnter;xt(_)&&_(C,P)}}),st(N,"triggeredAfterMouseMove",function(P){var j=N.getMouseInfo(P),C=j?Oe(Oe({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var _=N.props.onMouseMove;xt(_)&&_(C,P)}),st(N,"handleItemMouseEnter",function(P){N.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),st(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),st(N,"handleMouseMove",function(P){P.persist(),N.throttleTriggeredAfterMouseMove(P)}),st(N,"handleMouseLeave",function(P){N.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};N.setState(j),N.triggerSyncEvent(j);var C=N.props.onMouseLeave;xt(C)&&C(j,P)}),st(N,"handleOuterEvent",function(P){var j=QR(P),C=Pi(N.props,"".concat(j));if(j&&xt(C)){var _,M;/.*touch.*/i.test(j)?M=N.getMouseInfo(P.changedTouches[0]):M=N.getMouseInfo(P),C((_=M)!==null&&_!==void 0?_:{},P)}}),st(N,"handleClick",function(P){var j=N.getMouseInfo(P);if(j){var C=Oe(Oe({},j),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var _=N.props.onClick;xt(_)&&_(C,P)}}),st(N,"handleMouseDown",function(P){var j=N.props.onMouseDown;if(xt(j)){var C=N.getMouseInfo(P);j(C,P)}}),st(N,"handleMouseUp",function(P){var j=N.props.onMouseUp;if(xt(j)){var C=N.getMouseInfo(P);j(C,P)}}),st(N,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),st(N,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseDown(P.changedTouches[0])}),st(N,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseUp(P.changedTouches[0])}),st(N,"handleDoubleClick",function(P){var j=N.props.onDoubleClick;if(xt(j)){var C=N.getMouseInfo(P);j(C,P)}}),st(N,"handleContextMenu",function(P){var j=N.props.onContextMenu;if(xt(j)){var C=N.getMouseInfo(P);j(C,P)}}),st(N,"triggerSyncEvent",function(P){N.props.syncId!==void 0&&zy.emit(Hy,N.props.syncId,P,N.eventEmitterSymbol)}),st(N,"applySyncEvent",function(P){var j=N.props,C=j.layout,_=j.syncMethod,M=N.state.updateId,O=P.dataStartIndex,T=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)N.setState(Oe({dataStartIndex:O,dataEndIndex:T},d({props:N.props,dataStartIndex:O,dataEndIndex:T,updateId:M},N.state)));else if(P.activeTooltipIndex!==void 0){var I=P.chartX,L=P.chartY,U=P.activeTooltipIndex,D=N.state,$=D.offset,W=D.tooltipTicks;if(!$)return;if(typeof _=="function")U=_(W,P);else if(_==="value"){U=-1;for(var z=0;z<W.length;z++)if(W[z].value===P.activeLabel){U=z;break}}var Y=Oe(Oe({},$),{},{x:$.left,y:$.top}),re=Math.min(I,Y.x+Y.width),E=Math.min(L,Y.y+Y.height),R=W[U]&&W[U].value,q=C2(N.state,N.props.data,U),ee=W[U]?{x:C==="horizontal"?W[U].coordinate:re,y:C==="horizontal"?E:W[U].coordinate}:HF;N.setState(Oe(Oe({},P),{},{activeLabel:R,activeCoordinate:ee,activePayload:q,activeTooltipIndex:U}))}else N.setState(P)}),st(N,"renderCursor",function(P){var j,C=N.state,_=C.isTooltipActive,M=C.activeCoordinate,O=C.activePayload,T=C.offset,I=C.activeTooltipIndex,L=C.tooltipAxisBandSize,U=N.getTooltipEventType(),D=(j=P.props.active)!==null&&j!==void 0?j:_,$=N.props.layout,W=P.key||"_recharts-cursor";return ge.createElement(xle,{key:W,activeCoordinate:M,activePayload:O,activeTooltipIndex:I,chartName:n,element:P,isActive:D,layout:$,offset:T,tooltipAxisBandSize:L,tooltipEventType:U})}),st(N,"renderPolarAxis",function(P,j,C){var _=Pi(P,"type.axisType"),M=Pi(N.state,"".concat(_,"Map")),O=P.type.defaultProps,T=O!==void 0?Oe(Oe({},O),P.props):P.props,I=M&&M[T["".concat(_,"Id")]];return se.cloneElement(P,Oe(Oe({},I),{},{className:tt(_,I.className),key:P.key||"".concat(j,"-").concat(C),ticks:to(I,!0)}))}),st(N,"renderPolarGrid",function(P){var j=P.props,C=j.radialLines,_=j.polarAngles,M=j.polarRadius,O=N.state,T=O.radiusAxisMap,I=O.angleAxisMap,L=Ho(T),U=Ho(I),D=U.cx,$=U.cy,W=U.innerRadius,z=U.outerRadius;return se.cloneElement(P,{polarAngles:Array.isArray(_)?_:to(U,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(M)?M:to(L,!0).map(function(Y){return Y.coordinate}),cx:D,cy:$,innerRadius:W,outerRadius:z,key:P.key||"polar-grid",radialLines:C})}),st(N,"renderLegend",function(){var P=N.state.formattedGraphicalItems,j=N.props,C=j.children,_=j.width,M=j.height,O=N.props.margin||{},T=_-(O.left||0)-(O.right||0),I=LT({children:C,formattedGraphicalItems:P,legendWidth:T,legendContent:c});if(!I)return null;var L=I.item,U=K4(I,ble);return se.cloneElement(L,Oe(Oe({},U),{},{chartWidth:_,chartHeight:M,margin:O,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),st(N,"renderTooltip",function(){var P,j=N.props,C=j.children,_=j.accessibilityLayer,M=ti(C,ja);if(!M)return null;var O=N.state,T=O.isTooltipActive,I=O.activeCoordinate,L=O.activePayload,U=O.activeLabel,D=O.offset,$=(P=M.props.active)!==null&&P!==void 0?P:T;return se.cloneElement(M,{viewBox:Oe(Oe({},D),{},{x:D.left,y:D.top}),active:$,label:U,payload:$?L:[],coordinate:I,accessibilityLayer:_})}),st(N,"renderBrush",function(P){var j=N.props,C=j.margin,_=j.data,M=N.state,O=M.offset,T=M.dataStartIndex,I=M.dataEndIndex,L=M.updateId;return se.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Bp(N.handleBrushChange,P.props.onChange),data:_,x:ze(P.props.x)?P.props.x:O.left,y:ze(P.props.y)?P.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:ze(P.props.width)?P.props.width:O.width,startIndex:T,endIndex:I,updateId:"brush-".concat(L)})}),st(N,"renderReferenceElement",function(P,j,C){if(!P)return null;var _=N,M=_.clipPathId,O=N.state,T=O.xAxisMap,I=O.yAxisMap,L=O.offset,U=P.type.defaultProps||{},D=P.props,$=D.xAxisId,W=$===void 0?U.xAxisId:$,z=D.yAxisId,Y=z===void 0?U.yAxisId:z;return se.cloneElement(P,{key:P.key||"".concat(j,"-").concat(C),xAxis:T[W],yAxis:I[Y],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:M})}),st(N,"renderActivePoints",function(P){var j=P.item,C=P.activePoint,_=P.basePoint,M=P.childIndex,O=P.isRange,T=[],I=j.props.key,L=j.item.type.defaultProps!==void 0?Oe(Oe({},j.item.type.defaultProps),j.item.props):j.item.props,U=L.activeDot,D=L.dataKey,$=Oe(Oe({index:M,dataKey:D,cx:C.x,cy:C.y,r:4,fill:Rw(j.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},jt(U,!1)),$m(U));return T.push(b.renderActiveDot(U,$,"".concat(I,"-activePoint-").concat(M))),_?T.push(b.renderActiveDot(U,Oe(Oe({},$),{},{cx:_.x,cy:_.y}),"".concat(I,"-basePoint-").concat(M))):O&&T.push(null),T}),st(N,"renderGraphicChild",function(P,j,C){var _=N.filterFormatItem(P,j,C);if(!_)return null;var M=N.getTooltipEventType(),O=N.state,T=O.isTooltipActive,I=O.tooltipAxis,L=O.activeTooltipIndex,U=O.activeLabel,D=N.props.children,$=ti(D,ja),W=_.props,z=W.points,Y=W.isRange,re=W.baseLine,E=_.item.type.defaultProps!==void 0?Oe(Oe({},_.item.type.defaultProps),_.item.props):_.item.props,R=E.activeDot,q=E.hide,ee=E.activeBar,H=E.activeShape,te=!!(!q&&T&&$&&(R||ee||H)),X={};M!=="axis"&&$&&$.props.trigger==="click"?X={onClick:Bp(N.handleItemMouseEnter,P.props.onClick)}:M!=="axis"&&(X={onMouseLeave:Bp(N.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Bp(N.handleItemMouseEnter,P.props.onMouseEnter)});var G=se.cloneElement(P,Oe(Oe({},_.props),X));function ce(Ie){return typeof I.dataKey=="function"?I.dataKey(Ie.payload):null}if(te)if(L>=0){var ae,le;if(I.dataKey&&!I.allowDuplicatedCategory){var xe=typeof I.dataKey=="function"?ce:"payload.".concat(I.dataKey.toString());ae=Im(z,xe,U),le=Y&&re&&Im(re,xe,U)}else ae=z==null?void 0:z[L],le=Y&&re&&re[L];if(H||ee){var be=P.props.activeIndex!==void 0?P.props.activeIndex:L;return[se.cloneElement(P,Oe(Oe(Oe({},_.props),X),{},{activeIndex:be})),null,null]}if(!wt(ae))return[G].concat(mc(N.renderActivePoints({item:_,activePoint:ae,basePoint:le,childIndex:L,isRange:Y})))}else{var de,ie=(de=N.getItemByXY(N.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:G},Ce=ie.graphicalItem,Fe=Ce.item,Ae=Fe===void 0?P:Fe,Te=Ce.childIndex,Re=Oe(Oe(Oe({},_.props),X),{},{activeIndex:Te});return[se.cloneElement(Ae,Re),null,null]}return Y?[G,null,null]:[G,null]}),st(N,"renderCustomized",function(P,j,C){return se.cloneElement(P,Oe(Oe({key:"recharts-customized-".concat(C)},N.props),N.state))}),st(N,"renderMap",{CartesianGrid:{handler:qp,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:qp},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:qp},YAxis:{handler:qp},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((x=y.id)!==null&&x!==void 0?x:vh("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=EO(N.triggeredAfterMouseMove,(A=y.throttleDelay)!==null&&A!==void 0?A:1e3/60),N.state={},N}return _le(b,w),Ole(b,[{key:"componentDidMount",value:function(){var x,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,A=x.children,N=x.data,P=x.height,j=x.layout,C=ti(A,ja);if(C){var _=C.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,O=C2(this.state,N,_,M),T=this.state.tooltipTicks[_].coordinate,I=(this.state.offset.top+P)/2,L=j==="horizontal",U=L?{x:T,y:I}:{y:T,x:I},D=this.state.formattedGraphicalItems.find(function(W){var z=W.item;return z.type.name==="Scatter"});D&&(U=Oe(Oe({},U),D.props.points[_].tooltipPosition),O=D.props.points[_].tooltipPayload);var $={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:M,activePayload:O,activeCoordinate:U};this.setState($),this.renderCursor(C),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var N,P;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(x){ax([ti(x.children,ja)],[ti(this.props.children,ja)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=ti(this.props.children,ja);if(x&&typeof x.props.shared=="boolean"){var A=x.props.shared?"axis":"item";return s.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var A=this.container,N=A.getBoundingClientRect(),P=PY(N),j={chartX:Math.round(x.pageX-P.left),chartY:Math.round(x.pageY-P.top)},C=N.width/A.offsetWidth||1,_=this.inRange(j.chartX,j.chartY,C);if(!_)return null;var M=this.state,O=M.xAxisMap,T=M.yAxisMap,I=this.getTooltipEventType(),L=X4(this.state,this.props.data,this.props.layout,_);if(I!=="axis"&&O&&T){var U=Ho(O).scale,D=Ho(T).scale,$=U&&U.invert?U.invert(j.chartX):null,W=D&&D.invert?D.invert(j.chartY):null;return Oe(Oe({},j),{},{xValue:$,yValue:W},L)}return L?Oe(Oe({},j),L):null}},{key:"inRange",value:function(x,A){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,j=x/N,C=A/N;if(P==="horizontal"||P==="vertical"){var _=this.state.offset,M=j>=_.left&&j<=_.left+_.width&&C>=_.top&&C<=_.top+_.height;return M?{x:j,y:C}:null}var O=this.state,T=O.angleAxisMap,I=O.radiusAxisMap;if(T&&I){var L=Ho(T);return kj({x:j,y:C},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,A=this.getTooltipEventType(),N=ti(x,ja),P={};N&&A==="axis"&&(N.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=$m(this.props,this.handleOuterEvent);return Oe(Oe({},j),P)}},{key:"addListener",value:function(){zy.on(Hy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){zy.removeListener(Hy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,A,N){for(var P=this.state.formattedGraphicalItems,j=0,C=P.length;j<C;j++){var _=P[j];if(_.item===x||_.props.key===x.key||A===ro(_.item.type)&&N===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,A=this.state.offset,N=A.left,P=A.top,j=A.height,C=A.width;return ge.createElement("defs",null,ge.createElement("clipPath",{id:x},ge.createElement("rect",{x:N,y:P,height:j,width:C})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(A,N){var P=V4(N,2),j=P[0],C=P[1];return Oe(Oe({},A),{},st({},j,C.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(A,N){var P=V4(N,2),j=P[0],C=P[1];return Oe(Oe({},A),{},st({},j,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[x])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(x){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[x])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(x){var A=this.state,N=A.formattedGraphicalItems,P=A.activeItem;if(N&&N.length)for(var j=0,C=N.length;j<C;j++){var _=N[j],M=_.props,O=_.item,T=O.type.defaultProps!==void 0?Oe(Oe({},O.type.defaultProps),O.props):O.props,I=ro(O.type);if(I==="Bar"){var L=(M.data||[]).find(function(W){return lre(x,W)});if(L)return{graphicalItem:_,payload:L}}else if(I==="RadialBar"){var U=(M.data||[]).find(function(W){return kj(x,W)});if(U)return{graphicalItem:_,payload:U}}else if(B0(_,P)||W0(_,P)||th(_,P)){var D=die({graphicalItem:_,activeTooltipItem:P,itemData:T.data}),$=T.activeIndex===void 0?D:T.activeIndex;return{graphicalItem:Oe(Oe({},_),{},{childIndex:$}),payload:th(_,P)?T.data[D]:_.props.data[D]}}}return null}},{key:"render",value:function(){var x=this;if(!w3(this))return null;var A=this.props,N=A.children,P=A.className,j=A.width,C=A.height,_=A.style,M=A.compact,O=A.title,T=A.desc,I=K4(A,wle),L=jt(I,!1);if(M)return ge.createElement(T4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement(sx,Fu({},L,{width:j,height:C,title:O,desc:T}),this.renderClipPath(),N3(N,this.renderMap)));if(this.props.accessibilityLayer){var U,D;L.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,L.role=(D=this.props.role)!==null&&D!==void 0?D:"application",L.onKeyDown=function(W){x.accessibilityManager.keyboardEvent(W)},L.onFocus=function(){x.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return ge.createElement(T4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement("div",Fu({className:tt("recharts-wrapper",P),style:Oe({position:"relative",cursor:"default",width:j,height:C},_)},$,{ref:function(z){x.container=z}}),ge.createElement(sx,Fu({},L,{width:j,height:C,title:O,desc:T,style:$le}),this.renderClipPath(),N3(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(se.Component);st(m,"displayName",n),st(m,"defaultProps",Oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),st(m,"getDerivedStateFromProps",function(w,b){var y=w.dataKey,x=w.data,A=w.children,N=w.width,P=w.height,j=w.layout,C=w.stackOffset,_=w.margin,M=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var T=J4(w);return Oe(Oe(Oe({},T),{},{updateId:0},d(Oe(Oe({props:w},T),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:x,prevWidth:N,prevHeight:P,prevLayout:j,prevStackOffset:C,prevMargin:_,prevChildren:A})}if(y!==b.prevDataKey||x!==b.prevData||N!==b.prevWidth||P!==b.prevHeight||j!==b.prevLayout||C!==b.prevStackOffset||!Iu(_,b.prevMargin)){var I=J4(w),L={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},U=Oe(Oe({},X4(b,x,j)),{},{updateId:b.updateId+1}),D=Oe(Oe(Oe({},I),L),U);return Oe(Oe(Oe({},D),d(Oe({props:w},D),b)),{},{prevDataKey:y,prevData:x,prevWidth:N,prevHeight:P,prevLayout:j,prevStackOffset:C,prevMargin:_,prevChildren:A})}if(!ax(A,b.prevChildren)){var $,W,z,Y,re=ti(A,ac),E=re&&($=(W=re.props)===null||W===void 0?void 0:W.startIndex)!==null&&$!==void 0?$:M,R=re&&(z=(Y=re.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&z!==void 0?z:O,q=E!==M||R!==O,ee=!wt(x),H=ee&&!q?b.updateId:b.updateId+1;return Oe(Oe({updateId:H},d(Oe(Oe({props:w},b),{},{updateId:H,dataStartIndex:E,dataEndIndex:R}),b)),{},{prevChildren:A,dataStartIndex:E,dataEndIndex:R})}return null}),st(m,"renderActiveDot",function(w,b,y){var x;return se.isValidElement(w)?x=se.cloneElement(w,b):xt(w)?x=w(b):x=ge.createElement(Ww,b),ge.createElement(Nn,{className:"recharts-active-dot",key:y},x)});var g=se.forwardRef(function(b,y){return ge.createElement(m,Fu({},b,{ref:y}))});return g.displayName=m.displayName,g},Yle=Kle({chartName:"LineChart",GraphicalChild:jr,axisComponents:[{axisType:"xAxis",AxisComp:V0},{axisType:"yAxis",AxisComp:K0}],formatAxisMap:Dae});const Xle={showWaypoints:!0,showSpecialConditions:{minimum4Engines:!0,minimum3Engines:!0,lossOfPressure:!0,tenPercent:!0},distanceUnit:"nm",fuelUnit:"lbs"};function GF(e,t,n){console.log(`Calculating reverse segments for ${t}`);const r=Jle(e,t);r.initialFuel=8;const a=Fi(r,n).map((s,l)=>({...s,initialFuel:s.initialFuel/1e3,remainingFuel:s.remainingFuel/1e3,fuelConsumed:s.fuelConsumed/1e3,fuelConsumptionPerHour:s.fuelConsumptionPerHour?s.fuelConsumptionPerHour/1e3:void 0})),o=a.length>0?a[0].initialFuel:8;return console.log(`Calculated ${a.length} reverse segments with total fuel required: ${o} klb`),a}function Jle(e,t){const n={...e};return n.specialCondition=t,n.wind&&(n.wind=-n.wind),n.segments=[],n.isReverse=!0,n.skipClimb=!0,n}function VF(e,t,n=!1){const r={normal:[]};if(!e)return console.error("HGI: No leg provided to calculateHGIDataForLeg"),r;console.log("HGI: Always recalculating normal segments for HGI display");const i={...e,specialCondition:"normal",segments:[],initialFuel:void 0,fuelRemaining:void 0,fuelConsumed:void 0};if(r.normal=Z4(i,"normal",t),console.log(`HGI: Calculated normal condition with ${r.normal.length} points`),r.normal.length===0)return console.warn("HGI: No points generated for normal condition"),r;if(e.type==="lrc970"||e.type==="lrc950"||e.type==="lrc1010"){console.log("HGI: Calculating special conditions for LRC leg");const a=["minimum4Engines","minimum3Engines","lossOfPressure","tenPercent"];a.forEach(o=>{var s;if(console.log(`HGI: Calculating points for ${o}`),o===e.specialCondition&&e.segments&&e.segments.length>0){console.log(`HGI: Using existing segments for ${o}`);const l=[],h=(e.segments.length>0&&e.segments[0].initialFuel?e.segments[0].initialFuel:(e.initialFuel||0)*1e3)/1e3;console.log(`HGI ${o} (from existing segments): Initial fuel = ${h} klb, from segment = ${(s=e.segments[0])==null?void 0:s.initialFuel} lbs, from leg = ${e.initialFuel} klb`),l.push({distance:0,fuel:h,label:"Start"}),e.segments.forEach((f,p)=>{const d=(f.remainingFuel||0)/1e3;console.log(`HGI ${o} Segment ${p}: distance=${f.endDistance.toFixed(1)}nm, fuel=${d.toFixed(3)}klb`),l.push({distance:f.endDistance,fuel:d,altitude:f.endAltitude,label:p===0?"Top of Climb":void 0})}),r[o]=l}else{const l=Z4(e,o,t);console.log(`HGI: ${o} calculated ${l.length} points`),r[o]=l}}),n&&(console.log("HGI: Calculating reverse flight conditions"),a.forEach(o=>{const s=`reverse${o.charAt(0).toUpperCase()}${o.slice(1)}`;console.log(`HGI: Calculating reverse points for ${o}`);const l=GF(e,o,t),c=Qle(l,e.distance||0);console.log(`HGI: ${s} calculated ${c.length} points from ${l.length} segments`),r[s]=c}))}return n&&eue(r),r}function Qle(e,t){const n=[];if(e.length===0)return n;const r=e[0],i=e[e.length-1];console.log("Reverse segments fuel debug:",{segmentCount:e.length,firstSegment:{initialFuel:r.initialFuel,remainingFuel:r.remainingFuel,fuelConsumed:r.fuelConsumed},lastSegment:{initialFuel:i.initialFuel,remainingFuel:i.remainingFuel,fuelConsumed:i.fuelConsumed}});const a=Math.max(...e.map(o=>o.initialFuel||0));return n.push({distance:t,fuel:a,altitude:r.startAltitude,label:"End (Reverse Start)"}),n.push({distance:0,fuel:8,altitude:i.endAltitude,label:"Start (8 klb reserve)"}),console.log("Reverse segments to HGI points (reverse calc visualization):",{segmentCount:e.length,pointCount:n.length,endOfLeg:{dist:n[0].distance,fuel:n[0].fuel.toFixed(1)},startOfLeg:{dist:n[1].distance,fuel:n[1].fuel.toFixed(1)}}),n}function Z4(e,t,n){var s;const r=[];let i=[];if(e.specialCondition===t&&e.segments&&e.segments.length>0)console.log("HGI: Using existing segments for",t),i=e.segments;else{const l=n||{zeroFuelWeight:85,drag:"withoutPods",oddEven:"odd"};console.log("HGI: Recalculating segments for",t,"config:",l);const c={...e,specialCondition:t,segments:[]};i=Fi(c,l)}if(i.length===0)return r;const o=(i.length>0&&i[0].initialFuel?i[0].initialFuel:(e.initialFuel||0)*1e3)/1e3;return console.log(`HGI ${t}: Initial fuel = ${o} klb, from segment = ${(s=i[0])==null?void 0:s.initialFuel} lbs, from leg = ${e.initialFuel} klb`),r.push({distance:0,fuel:o,label:"Start"}),i.forEach((l,c)=>{const h=l.endDistance,f=l.remainingFuel||0,p=f/1e3,d=Math.max(p,0);console.log(`HGI Segment ${c}: distance=${h.toFixed(1)}nm, fuel=${d.toFixed(3)}klb (${f.toFixed(0)}lbs)`),r.push({distance:h,fuel:d,altitude:l.endAltitude,label:void 0})}),r}function Zle(e){const t={normal:[]},n=e.configuration.fuelOnBoard||0;if(console.log("HGI Plan calculation:",{planId:e.metadata.id,fuelOnBoard:e.configuration.fuelOnBoard,initialFuel:n,legsCount:e.legs.length,configuration:e.configuration,legs:e.legs.map(o=>{var s;return{id:o.id,type:o.type,distance:o.distance,segments:((s=o.segments)==null?void 0:s.length)||0,fuelConsumed:o.fuelConsumed,initialFuel:o.initialFuel}})}),!n||n===0)return console.warn("HGI: No fuel on board set for plan"),t;let r=0,i=0;t.normal.push({distance:0,fuel:n,label:"Start"});const a=o=>o.segments&&o.segments.length>0?o.segments.reduce((s,l)=>s+(l.fuelConsumed||l.fuelConsumptionPerSegment||0),0)/1e3:o.fuelConsumed||o.fuelConsumption||0;return e.legs.forEach((o,s)=>{var h;const l=a(o),c=o.distance||0;if(o.type==="taxi"||s+1,console.log(`Processing leg ${s}:`,{type:o.type,distance:c,legFuelConsumed:l,segments:((h=o.segments)==null?void 0:h.length)||0,hasSegments:o.segments&&o.segments.length>0}),o.type==="taxi"){i+=l,t.normal.push({distance:r,fuel:n-i,label:"End Taxi"});return}if(o.segments&&o.segments.length>0){const f=r;o.segments.forEach((p,d)=>{const m=(p.fuelConsumed||p.fuelConsumptionPerSegment||0)/1e3;p.endDistance-p.startDistance,i+=m,r=f+p.endDistance;let g;s===0&&d===0&&(g="Top of Climb"),t.normal.push({distance:r,fuel:n-i,altitude:p.endAltitude,label:g})}),t.normal.push({distance:r,fuel:n-i,label:`END OF LEG ${s+1}`,isEndOfLeg:!0})}else i+=l,r+=c,t.normal.push({distance:r,fuel:n-i,label:`END OF LEG ${s+1}`,isEndOfLeg:!0})}),t.normal.sort((o,s)=>o.distance-s.distance),t}function eue(e){["minimum4Engines","minimum3Engines","lossOfPressure","tenPercent"].forEach(n=>{const r=e[n],i=`reverse${n.charAt(0).toUpperCase()}${n.slice(1)}`,a=e[i];if(r&&a&&r.length>=2&&a.length>=2){const o=tue(r,a);o&&(console.log(`Found PNR intersection for ${n}:`,{distance:o.distance.toFixed(1),fuel:o.fuel.toFixed(1)}),r.push({distance:o.distance,fuel:o.fuel,altitude:o.altitude,label:`PNR (${n})`,isPNR:!0}),r.sort((s,l)=>s.distance-l.distance),a.push({distance:o.distance,fuel:o.fuel,altitude:o.altitude,label:`PNR (${n})`,isPNR:!0}),a.sort((s,l)=>s.distance-l.distance))}})}function tue(e,t){if(e.length<2||t.length<2)return null;const n=e[0],r=e[e.length-1],i=t[0],a=t[t.length-1],o=n.distance,s=n.fuel,l=r.distance,c=r.fuel,h=i.distance,f=i.fuel,p=a.distance,d=a.fuel,m=(o-l)*(f-d)-(s-c)*(h-p);if(Math.abs(m)<1e-4)return null;const g=((o-h)*(f-d)-(s-f)*(h-p))/m,w=-((o-l)*(s-f)-(s-c)*(o-h))/m;if(g>=0&&g<=1&&w>=0&&w<=1){const b=o+g*(l-o),y=s+g*(c-s),x=(n.altitude||0)+g*((r.altitude||0)-(n.altitude||0));return{distance:b,fuel:y,altitude:x,label:"PNR"}}return null}function Fd(e,t,n){let r=e;return n==="kg"?r/2.20462:n==="tons"?r/2204.62:r}function Mo(e,t,n){return t===n?e:n==="km"?e*1.852:e}function O2(e,t,n){const r=new Date;let i={...e};e.name==="AMMIT"&&console.log(" Priority check for AMMIT:",{currentActualTime:e.actualTime,currentTimeUpdatedFrom:e.timeUpdatedFrom,currentFob:e.fob,currentFobUpdatedFrom:e.fobUpdatedFrom,incomingSource:n,hasTimeUpdate:t.actualTime!==void 0,hasFobUpdate:t.actualFob!==void 0||t.fob!==void 0}),t.actualTime!==void 0&&(n==="waypoints-tab"?(console.log(` Updating time from waypoints-tab for ${e.name}:`,{oldTime:e.actualTime,newTime:t.actualTime,timeUpdatedFrom:"waypoints-tab"}),i.actualTime=t.actualTime,i.timeUpdatedFrom="waypoints-tab",i.lastTimeUpdate=r,t.isActual!==void 0&&(i.isActual=t.isActual)):n==="fuel-tab"&&e.timeUpdatedFrom!=="waypoints-tab"?(console.log(` Updating time from fuel-tab for ${e.name}:`,{oldTime:e.actualTime,newTime:t.actualTime,timeUpdatedFrom:"fuel-tab"}),i.actualTime=t.actualTime,i.timeUpdatedFrom="fuel-tab",i.lastTimeUpdate=r,t.isActual!==void 0&&(i.isActual=t.isActual)):n==="fuel-tab"&&e.timeUpdatedFrom==="waypoints-tab"&&console.log(` Fuel tab time update blocked - Waypoints tab has priority for waypoint ${e.name}`,{attemptedTime:t.actualTime,currentTime:e.actualTime,timeUpdatedFrom:e.timeUpdatedFrom})),(t.actualFob!==void 0||t.fob!==void 0)&&(n==="fuel-tab"?(t.actualFob!==void 0&&(i.actualFob=t.actualFob),t.fob!==void 0&&(i.fob=t.fob),t.fuelOnBoard!==void 0&&(i.fuelOnBoard=t.fuelOnBoard),i.fobUpdatedFrom="fuel-tab",i.lastFobUpdate=r):n==="waypoints-tab"&&e.fobUpdatedFrom!=="fuel-tab"?(t.actualFob!==void 0&&(i.actualFob=t.actualFob),t.fob!==void 0&&(i.fob=t.fob),t.fuelOnBoard!==void 0&&(i.fuelOnBoard=t.fuelOnBoard),i.fobUpdatedFrom="waypoints-tab",i.lastFobUpdate=r):n==="waypoints-tab"&&e.fobUpdatedFrom==="fuel-tab"&&console.log(` Waypoints tab FOB update blocked - Fuel tab has priority for waypoint ${e.name}`));const a=["actualTime","isActual","actualFob","fob","fuelOnBoard","timeUpdatedFrom","fobUpdatedFrom","lastTimeUpdate","lastFobUpdate"];return Object.keys(t).forEach(o=>{a.includes(o)||(i[o]=t[o])}),i}const He=$b()(Rb((e,t)=>({activePlan:null,actualPlan:null,fuelReads:[],currentWaypointId:null,currentSegmentId:null,currentLegId:null,currentLegIndex:0,currentRole:null,actionLog:[],showActionLog:!0,graphLineVisibility:{minimum4Engines:!1,minimum3Engines:!1,lossOfPressure:!1,tenPercent:!1,show970Line:!1,showWaypoints:!0},setActivePlan:n=>{var f,p;const r=t();r.actualPlan&&r.actualPlan.metadata.id===n.metadata.id&&(console.log("Preserving fuel reads from existing actualPlan"),n.legs.forEach((d,m)=>{const g=r.actualPlan.legs[m];g&&g.fuelReads&&g.fuelReads.length>0&&(d.fuelReads=g.fuelReads)}));const a=(d=>{const m=JSON.parse(JSON.stringify(d));return m.metadata.createdAt=new Date(m.metadata.createdAt),m.metadata.updatedAt=new Date(m.metadata.updatedAt),m.configuration.startTime=new Date(m.configuration.startTime),m.legs.forEach(g=>{g.segments&&g.segments.forEach(w=>{w.startTime&&(w.startTime=new Date(w.startTime)),w.endTime&&(w.endTime=new Date(w.endTime))}),g.fuelReads&&g.fuelReads.forEach(w=>{w.time&&(w.time=new Date(w.time))})}),m})(n);a.legs.forEach(d=>{d.specialCondition&&d.specialCondition!=="normal"&&(console.log(` Clearing special condition ${d.specialCondition} from leg to ensure normal fuel calculation`),d.specialCondition="normal",d.segments=[])}),a.legs.forEach((d,m)=>{d.segments=Fi(d,a.configuration)}),console.log(" InFlightStore: Calculating fuel values for plan",a.metadata.flightNumber);const o=rl(a);console.log(" InFlightStore: BEFORE fuel calculation"),a.legs.forEach((d,m)=>{var w;const g=(w=d.waypoints)==null?void 0:w.find(b=>{var y;return b.name==="-TOC-"||((y=b.name)==null?void 0:y.includes("TOC"))});g&&console.log(` BEFORE: TOC waypoint in leg ${m}:`,{name:g.name,id:g.id,fob:g.fob,fuelOnBoard:g.fuelOnBoard,altitude:g.altitude,distance:g.distance,totalDistance:g.totalDistance})}),o.legs.forEach((d,m)=>{var w,b;const g=(w=d.waypoints)==null?void 0:w.find(y=>{var x;return y.name==="-TOC-"||((x=y.name)==null?void 0:x.includes("TOC"))});g&&console.log(` AFTER: TOC waypoint in leg ${m}:`,{name:g.name,id:g.id,fob:g.fob,fuelOnBoard:g.fuelOnBoard,altitude:g.altitude,distance:g.distance,totalDistance:g.totalDistance,segments:(b=d.segments)==null?void 0:b.map(y=>({point:y.point,remainingFuel:y.remainingFuel,remainingFuelKlb:y.remainingFuel/1e3,initialFuel:y.initialFuel,initialFuelKlb:y.initialFuel/1e3,fuelConsumed:y.fuelConsumed||y.fuelConsumptionPerSegment}))})}),o.fuel=n.fuel;const s=a.legs.findIndex(d=>d.type==="taxi"),l=s>=0?s:0,c=((f=a.legs[l])==null?void 0:f.id)||null,h=o.legs.find(d=>{var m;return(m=d.waypoints)==null?void 0:m.some(g=>g.name==="-TOC-"||g.id==="-TOC-")});if(h){const d=(p=h.waypoints)==null?void 0:p.find(m=>m.name==="-TOC-"||m.id==="-TOC-");console.log(" FINAL CHECK before setState - TOC waypoint:",{name:d==null?void 0:d.name,id:d==null?void 0:d.id,fob:d==null?void 0:d.fob,fuelOnBoard:d==null?void 0:d.fuelOnBoard,hasFob:(d==null?void 0:d.fob)!==void 0})}e({activePlan:n,actualPlan:o,currentLegIndex:l,currentLegId:c})},updateActualPlan:n=>e(r=>{var a;if(!r.actualPlan)return r;if(n.legs){const o=n.legs.find(s=>{var l;return(l=s.waypoints)==null?void 0:l.some(c=>c.name==="-TOC-"||c.id==="-TOC-")});if(o){const s=(a=o.waypoints)==null?void 0:a.find(l=>l.name==="-TOC-"||l.id==="-TOC-");console.log(" updateActualPlan - TOC waypoint in updates:",{name:s==null?void 0:s.name,id:s==null?void 0:s.id,fob:s==null?void 0:s.fob,fuelOnBoard:s==null?void 0:s.fuelOnBoard,hasFob:(s==null?void 0:s.fob)!==void 0})}}return n.metadata?{actualPlan:n}:{actualPlan:{...r.actualPlan,...n,legs:n.legs||r.actualPlan.legs}}}),addFuelRead:n=>e(r=>({fuelReads:[...r.fuelReads,n].sort((i,a)=>i.timestamp.getTime()-a.timestamp.getTime())})),updateFuelRead:(n,r)=>e(i=>({fuelReads:i.fuelReads.map(a=>a.id===n?{...a,...r}:a)})),deleteFuelRead:n=>e(r=>({fuelReads:r.fuelReads.filter(i=>i.id!==n)})),setCurrentWaypoint:n=>e({currentWaypointId:n}),setCurrentSegment:n=>e({currentSegmentId:n}),setCurrentLeg:n=>e({currentLegId:n}),setCurrentLegIndex:n=>e({currentLegIndex:n}),setCurrentRole:n=>e({currentRole:n}),updateWaypoint:(n,r,i)=>e(a=>{if(!a.actualPlan)return a;if(!i){const l={...a.actualPlan};return l.legs=l.legs.map(c=>({...c,waypoints:c.waypoints.map(h=>h.id===n?{...h,...r}:h)})),{actualPlan:l}}const o={...a.actualPlan};let s=[];if(o.legs=o.legs.map(l=>({...l,waypoints:l.waypoints.map(c=>{var h,f;if(c.id===n){const p={...c};c.name==="AMMIT"&&console.log(" InFlightStore - AMMIT waypoint before update:",{id:c.id,name:c.name,actualTime:c.actualTime,timeUpdatedFrom:c.timeUpdatedFrom,lastTimeUpdate:c.lastTimeUpdate,source:i,incomingUpdates:r});const d=O2(c,r,i);return r.actualTime!==void 0&&i==="fuel-tab"&&p.timeUpdatedFrom==="waypoints-tab"&&((h=d.actualTime)==null?void 0:h.getTime())===((f=p.actualTime)==null?void 0:f.getTime())&&s.push("Time update blocked - Waypoints tab has priority"),(r.actualFob!==void 0||r.fob!==void 0)&&i==="waypoints-tab"&&p.fobUpdatedFrom==="fuel-tab"&&d.fob===p.fob&&s.push("FOB update blocked - Fuel tab has priority"),d}return c})})),s.length>0){const l=a.actualPlan.legs.flatMap(c=>c.waypoints||[]).find(c=>c.id===n);l&&t().addActionLogEntry("PRIORITY",`${l.name}: ${s.join(", ")} (from ${i})`)}return{actualPlan:o}}),markWaypointActual:n=>{t().updateWaypoint(n,{isActual:!0,actualTime:new Date})},addActionLogEntry:(n,r)=>e(i=>({actionLog:[{id:crypto.randomUUID(),timestamp:new Date,action:n,details:r},...i.actionLog]})),clearActionLog:()=>e({actionLog:[]}),setShowActionLog:n=>e({showActionLog:n}),updateGraphLineVisibility:n=>e(r=>({graphLineVisibility:{...r.graphLineVisibility,...n}})),resetInFlightData:()=>e({activePlan:null,actualPlan:null,fuelReads:[],currentWaypointId:null,currentSegmentId:null,currentLegId:null,currentLegIndex:0,currentRole:null,actionLog:[],showActionLog:!0}),clearAllUserInputs:()=>{const n=t();if(!n.actualPlan||!n.activePlan)return;const r=JSON.parse(JSON.stringify(n.activePlan));r.metadata.createdAt=new Date(r.metadata.createdAt),r.metadata.updatedAt=new Date(r.metadata.updatedAt),r.configuration.startTime=new Date(r.configuration.startTime),r.legs.forEach(a=>{a.fuelReads=[],a.waypoints&&a.waypoints.forEach(o=>{delete o.actualTime,delete o.isActual,delete o.timeUpdatedFrom,delete o.fobUpdatedFrom,delete o.lastTimeUpdate,delete o.lastFobUpdate,o.eta&&(o.eta=new Date(o.eta))})}),delete r.line970,r.legs.forEach((a,o)=>{a.segments=Fi(a,r.configuration)});const i=rl(r);e({actualPlan:i,fuelReads:[],actionLog:[],graphLineVisibility:{minimum4Engines:!1,minimum3Engines:!1,lossOfPressure:!1,tenPercent:!1,show970Line:!1,showWaypoints:!0}})}}),{name:"in-flight-store",storage:{getItem:e=>{var r;const t=localStorage.getItem(e);if(!t)return null;const{state:n}=JSON.parse(t);return n.activePlan&&(n.activePlan.metadata&&(n.activePlan.metadata.createdAt=new Date(n.activePlan.metadata.createdAt),n.activePlan.metadata.updatedAt=new Date(n.activePlan.metadata.updatedAt)),n.activePlan.configuration&&(n.activePlan.configuration.startTime=new Date(n.activePlan.configuration.startTime))),n.actualPlan&&(n.actualPlan.configuration&&(n.actualPlan.configuration.startTime=new Date(n.actualPlan.configuration.startTime)),(r=n.actualPlan.legs)==null||r.forEach(i=>{var a,o;(a=i.waypoints)==null||a.forEach(s=>{s.eta&&(s.eta=new Date(s.eta)),s.actualTime&&(s.actualTime=new Date(s.actualTime))}),(o=i.fuelReads)==null||o.forEach(s=>{s.time&&(s.time=new Date(s.time))})}),console.log(" Recalculating fuel values for actualPlan loaded from localStorage"),n.actualPlan=rl(n.actualPlan)),n.fuelReads&&n.fuelReads.forEach(i=>{i.timestamp&&(i.timestamp=new Date(i.timestamp)),i.time&&(i.time=new Date(i.time))}),n.actionLog&&n.actionLog.forEach(i=>{i.timestamp&&(i.timestamp=new Date(i.timestamp))}),{state:n}},setItem:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},removeItem:e=>{localStorage.removeItem(e)}}}));function Jw({data:e,config:t=Xle,title:n="HGI Graph",height:r=400,showControls:i=!0,maxDistance:a,leg:o,line970:s}){var N,P,j,C,_;const l=He(M=>M.graphLineVisibility),c=He(M=>M.updateGraphLineVisibility),[h,f]=se.useState({...t,showSpecialConditions:{minimum4Engines:l.minimum4Engines,minimum3Engines:l.minimum3Engines,lossOfPressure:l.lossOfPressure,tenPercent:l.tenPercent},showWaypoints:l.showWaypoints});se.useEffect(()=>{f(M=>({...M,showSpecialConditions:{minimum4Engines:l.minimum4Engines,minimum3Engines:l.minimum3Engines,lossOfPressure:l.lossOfPressure,tenPercent:l.tenPercent},showWaypoints:l.showWaypoints}))},[l]),console.log("HGIGraph data:",{normal:((N=e.normal)==null?void 0:N.length)||0,minimum3Engines:((P=e.minimum3Engines)==null?void 0:P.length)||0,minimum4Engines:((j=e.minimum4Engines)==null?void 0:j.length)||0,lossOfPressure:((C=e.lossOfPressure)==null?void 0:C.length)||0,tenPercent:((_=e.tenPercent)==null?void 0:_.length)||0}),e.minimum3Engines&&e.minimum3Engines.length>0&&console.log("3 Engines data points:",e.minimum3Engines);const p=M=>M.map(O=>({...O,distance:Mo(O.distance,"nm",h.distanceUnit),fuel:Fd(O.fuel,"lbs",h.fuelUnit)})),d=p(e.normal);if(console.log("HGIGraph - chartData length:",d.length),d.length===0)return console.warn("HGIGraph - No chart data available!"),u.jsx("div",{className:"bg-white rounded-lg p-8 shadow",children:u.jsxs("div",{className:"text-center text-gray-500",children:[u.jsx("p",{className:"text-lg font-semibold mb-2",children:"No HGI Data Available"}),u.jsx("p",{className:"text-sm",children:"Please ensure the leg has valid segments and distance."})]})});const g=(()=>{if(!o||!o.waypoints||d.length===0)return d;const M=[...d],O=[];if(o.waypoints.forEach((T,I)=>{let L=0;if(I===0)L=0;else for(let $=0;$<I;$++)L+=o.waypoints[$].distance||0;const U=Mo(L,"nm",h.distanceUnit);let D=null;if(U===0&&d.length>0)D=d[0].fuel;else for(let $=0;$<d.length-1;$++)if(d[$].distance<=U&&d[$+1].distance>=U){const W=(U-d[$].distance)/(d[$+1].distance-d[$].distance);D=d[$].fuel-(d[$].fuel-d[$+1].fuel)*W;break}D!==null&&O.push({distance:U,fuel:D,label:T.name,isWaypoint:!0,originalIndex:I})}),O.sort((T,I)=>T.distance-I.distance),O.length>0){let I=[],L=[O[0]];for(let U=1;U<O.length;U++)O[U].distance-O[U-1].distance<50?L.push(O[U]):(L.length>1&&I.push(L),L=[O[U]]);L.length>1&&I.push(L),I.forEach(U=>{U.forEach((D,$)=>{D.isOverlapping=!0,D.waypointIndex=$})})}return M.push(...O),M.sort((T,I)=>T.distance-I.distance),M})(),w=M=>{const{cx:O,cy:T,payload:I}=M;if(I.isCurrentPosition)return O===void 0||T===void 0||isNaN(O)||isNaN(T)?null:u.jsxs("g",{transform:`translate(${O},${T})`,children:[u.jsx("circle",{r:8,fill:"#f59e0b",stroke:"#fff",strokeWidth:3,className:"animate-pulse"}),u.jsx("circle",{r:3,fill:"#dc2626"}),u.jsx("text",{x:0,y:-16,fill:"#dc2626",textAnchor:"middle",fontSize:12,fontWeight:"bold",children:"Current Position"})]});if(I.isPNR)return O===void 0||T===void 0||isNaN(O)||isNaN(T)?null:u.jsxs("g",{transform:`translate(${O},${T})`,children:[u.jsx("circle",{r:6,fill:"#dc2626",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-12,fill:"#dc2626",textAnchor:"middle",fontSize:12,fontWeight:"bold",children:"PNR"})]});if(I.isNormalIntersection)return O===void 0||T===void 0||isNaN(O)||isNaN(T)?null:u.jsxs("g",{transform:`translate(${O},${T})`,children:[u.jsx("circle",{r:5,fill:"#f97316",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-12,fill:"#f97316",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:""})]});if(I.isEndOfLeg)return O===void 0||T===void 0||isNaN(O)||isNaN(T)?null:u.jsxs("g",{transform:`translate(${O},${T})`,children:[u.jsx("circle",{r:4,fill:"#10b981",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-12,fill:"#000",textAnchor:"middle",fontSize:12,fontWeight:"bold",children:I.label})]});if(I.label==="Start"||I.label==="Top of Climb")return O===void 0||T===void 0||isNaN(O)||isNaN(T)?null:u.jsxs("g",{transform:`translate(${O},${T})`,children:[u.jsx("circle",{r:3,fill:"#10b981"}),u.jsx("text",{x:0,y:-10,fill:"#666",textAnchor:"middle",fontSize:10,children:I.label})]});if(I.isWaypoint){if(O===void 0||T===void 0||isNaN(O)||isNaN(T))return null;const L=I.waypointIndex||0,D=I.isOverlapping||!1?L%2===0?-25:20:-10;return u.jsxs("g",{transform:`translate(${O},${T})`,children:[u.jsx("circle",{r:4,fill:"#3b82f6",stroke:"#fff",strokeWidth:2}),h.showWaypoints&&u.jsx("text",{x:0,y:D,fill:"#1f2937",textAnchor:"middle",fontSize:11,fontWeight:"bold",children:I.label})]})}return null},b=(M,O)=>T=>{const{cx:I,cy:L,index:U,payload:D}=T;if(D.isCurrentPosition)return I===void 0||L===void 0||isNaN(I)||isNaN(L)?null:u.jsxs("g",{transform:`translate(${I},${L})`,children:[u.jsx("circle",{r:8,fill:"#f59e0b",stroke:"#fff",strokeWidth:3,className:"animate-pulse"}),u.jsx("circle",{r:3,fill:"#dc2626"}),u.jsx("text",{x:0,y:-16,fill:"#dc2626",textAnchor:"middle",fontSize:12,fontWeight:"bold",children:"Current Position"})]});if(D.isPNR)return I===void 0||L===void 0||isNaN(I)||isNaN(L)?null:u.jsxs("g",{transform:`translate(${I},${L})`,children:[u.jsx("circle",{r:6,fill:"#dc2626",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-12,fill:"#dc2626",textAnchor:"middle",fontSize:12,fontWeight:"bold",children:"PNR"})]});if(D.isNormalIntersection)return I===void 0||L===void 0||isNaN(I)||isNaN(L)?null:u.jsxs("g",{transform:`translate(${I},${L})`,children:[u.jsx("circle",{r:5,fill:"#f97316",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-12,fill:"#f97316",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:""})]});if(U===0||U===M.length-1){const $=U===0,W=D.fuel;return W===void 0||I===void 0||L===void 0||isNaN(I)||isNaN(L)?null:u.jsxs("g",{transform:`translate(${I},${L})`,children:[u.jsx("circle",{r:3,fill:O}),u.jsx("text",{x:$?-5:5,y:-8,fill:O,textAnchor:$?"end":"start",fontSize:11,fontWeight:"bold",children:W.toFixed(1)})]})}return null},y=M=>{const O=!h.showSpecialConditions[M];c({[M]:O}),f({...h,showSpecialConditions:{...h.showSpecialConditions,[M]:O}})},x=()=>{switch(h.fuelUnit){case"kg":return"Fuel (1000 kg)";case"tons":return"Fuel (tons)";default:return"Fuel (klb)"}},A=()=>h.distanceUnit==="km"?"Distance (km)":"Distance (nm)";return u.jsxs("div",{className:"space-y-4 opacity-0 animate-fadeIn",style:{animationDelay:"0.2s",animationFillMode:"forwards"},children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:"font-semibold text-lg",children:n}),i&&u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("select",{value:h.distanceUnit,onChange:M=>f({...h,distanceUnit:M.target.value}),className:"px-2 py-1 border rounded text-sm",children:[u.jsx("option",{value:"nm",children:"Nautical Miles"}),u.jsx("option",{value:"km",children:"Kilometers"})]}),u.jsxs("select",{value:h.fuelUnit,onChange:M=>f({...h,fuelUnit:M.target.value}),className:"px-2 py-1 border rounded text-sm",children:[u.jsx("option",{value:"lbs",children:"Pounds"}),u.jsx("option",{value:"kg",children:"Kilograms"}),u.jsx("option",{value:"tons",children:"Tons"})]})]})]}),i&&e.minimum4Engines&&u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>y("minimum4Engines"),className:tt("px-3 py-1 rounded text-sm font-medium transition-all duration-300 transform hover:scale-105",h.showSpecialConditions.minimum4Engines?"bg-blue-500 text-white shadow-lg scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md"),children:"4 Engines"}),u.jsx("button",{onClick:()=>y("minimum3Engines"),className:tt("px-3 py-1 rounded text-sm font-medium transition-all duration-300 transform hover:scale-105",h.showSpecialConditions.minimum3Engines?"bg-orange-500 text-white shadow-lg scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md"),children:"3 Engines"}),u.jsx("button",{onClick:()=>y("lossOfPressure"),className:tt("px-3 py-1 rounded text-sm font-medium transition-all duration-300 transform hover:scale-105",h.showSpecialConditions.lossOfPressure?"bg-red-500 text-white shadow-lg scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md"),children:"Loss of Pressure"}),u.jsx("button",{onClick:()=>y("tenPercent"),className:tt("px-3 py-1 rounded text-sm font-medium transition-colors",h.showSpecialConditions.tenPercent?"bg-purple-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"10% Addition"}),u.jsxs("label",{className:"flex items-center gap-2 ml-4",children:[u.jsx("input",{type:"checkbox",checked:h.showWaypoints,onChange:M=>{const O=M.target.checked;c({showWaypoints:O}),f({...h,showWaypoints:O})},className:"rounded"}),u.jsx("span",{className:"text-sm",children:"Show Waypoints"})]}),s&&u.jsxs("label",{className:"flex items-center gap-2 ml-4",children:[u.jsx("input",{type:"checkbox",checked:l.show970Line,onChange:M=>c({show970Line:M.target.checked}),className:"rounded"}),u.jsx("span",{className:"text-sm",children:"Show 970 2/3"})]})]}),u.jsx("div",{className:"bg-white rounded-lg p-4 shadow",children:u.jsx("div",{className:"relative",children:u.jsx(xY,{width:"100%",height:r,children:u.jsxs(Yle,{data:g,margin:{top:5,right:30,left:20,bottom:5},children:[u.jsx(TF,{strokeDasharray:"3 3"}),u.jsx(V0,{dataKey:"distance",label:{value:A(),position:"insideBottom",offset:-5},domain:a?[0,Mo(a,"nm",h.distanceUnit)]:["auto","auto"],type:"number",allowDataOverflow:!1,ticks:(()=>{const M=new Set;d.forEach(L=>{L.label&&L.label.startsWith("End ")&&M.add(L.distance)});const O=Math.max(...g.map(L=>L.distance)),I=h.distanceUnit==="km"?Mo(100,"nm","km"):100;for(let L=0;L<=O;L+=I)M.add(Math.round(L));return Array.from(M).sort((L,U)=>L-U)})(),tickFormatter:M=>Math.round(M).toString()}),u.jsx(K0,{label:{value:x(),angle:-90,position:"insideLeft"},domain:[0,"dataMax"],ticks:(()=>{const M=[];M.push(...d),h.showSpecialConditions.minimum4Engines&&e.minimum4Engines&&M.push(...p(e.minimum4Engines)),h.showSpecialConditions.minimum3Engines&&e.minimum3Engines&&M.push(...p(e.minimum3Engines)),h.showSpecialConditions.lossOfPressure&&e.lossOfPressure&&M.push(...p(e.lossOfPressure)),h.showSpecialConditions.tenPercent&&e.tenPercent&&M.push(...p(e.tenPercent)),h.showSpecialConditions.minimum4Engines&&e.reverseMinimum4Engines&&M.push(...p(e.reverseMinimum4Engines)),h.showSpecialConditions.minimum3Engines&&e.reverseMinimum3Engines&&M.push(...p(e.reverseMinimum3Engines)),h.showSpecialConditions.lossOfPressure&&e.reverseLossOfPressure&&M.push(...p(e.reverseLossOfPressure)),h.showSpecialConditions.tenPercent&&e.reverseTenPercent&&M.push(...p(e.reverseTenPercent));const O=M.map(W=>W.fuel),T=Math.min(...O),I=Math.max(...O);let L=5;h.fuelUnit==="kg"?L=5/2.20462:h.fuelUnit==="tons"&&(L=5/2204.62);const U=Math.floor(T/L)*L,D=Math.ceil(I/L)*L,$=[];for(let W=U;W<=D;W+=L)$.push(W);return $})(),tickFormatter:M=>M.toFixed(0)}),u.jsx(ja,{content:({active:M,payload:O,label:T})=>{if(!M||!O||O.length===0)return null;const I=T,L=[],U=(re,E)=>{let R=null,q=1/0;for(const ee of re){const H=Math.abs(ee.distance-E);H<q&&(q=H,R=ee)}if(R&&q<.5)return R.fuel;for(let ee=0;ee<re.length-1;ee++)if(re[ee].distance<=E&&re[ee+1].distance>=E){const H=(E-re[ee].distance)/(re[ee+1].distance-re[ee].distance);return re[ee].fuel-(re[ee].fuel-re[ee+1].fuel)*H}return null};if(e.actual&&e.actual.some(re=>Math.abs(re.distance-I)<.5)){const re=U(d,I),E=e.actual?U(p(e.actual),I):null;if(re!==null&&L.push({name:"Normal",value:re,color:"#10b981"}),E!==null&&(L.push({name:"Actual",value:E,color:"#000000"}),re!==null)){const R=E-re,q=R>=0?"#10b981":"#ef4444";L.push({name:"Delta",value:R,color:q,showSign:!0})}}else{const re=U(d,I);if(re!==null&&L.push({name:"Normal",value:re,color:"#10b981"}),h.showSpecialConditions.minimum4Engines&&e.minimum4Engines){const E=U(p(e.minimum4Engines),I);E!==null&&L.push({name:"4 Engines",value:E,color:"#3b82f6"})}if(h.showSpecialConditions.minimum3Engines&&e.minimum3Engines){const E=U(p(e.minimum3Engines),I);E!==null&&L.push({name:"3 Engines",value:E,color:"#f97316"})}if(h.showSpecialConditions.lossOfPressure&&e.lossOfPressure){const E=U(p(e.lossOfPressure),I);E!==null&&L.push({name:"Loss of Pressure",value:E,color:"#ef4444"})}if(h.showSpecialConditions.tenPercent&&e.tenPercent){const E=U(p(e.tenPercent),I);E!==null&&L.push({name:"10% Addition",value:E,color:"#a855f7"})}if(h.showSpecialConditions.minimum4Engines&&e.reverseMinimum4Engines){const E=U(p(e.reverseMinimum4Engines),I);E!==null&&L.push({name:"4 Engines (Return)",value:E,color:"#3b82f6"})}if(h.showSpecialConditions.minimum3Engines&&e.reverseMinimum3Engines){const E=U(p(e.reverseMinimum3Engines),I);E!==null&&L.push({name:"3 Engines (Return)",value:E,color:"#f97316"})}if(h.showSpecialConditions.lossOfPressure&&e.reverseLossOfPressure){const E=U(p(e.reverseLossOfPressure),I);E!==null&&L.push({name:"Loss of Pressure (Return)",value:E,color:"#ef4444"})}if(h.showSpecialConditions.tenPercent&&e.reverseTenPercent){const E=U(p(e.reverseTenPercent),I);E!==null&&L.push({name:"10% Addition (Return)",value:E,color:"#a855f7"})}if(e.actual&&e.actual.length>0){const E=U(p(e.actual),I);E!==null&&L.push({name:"Actual",value:E,color:"#000000"})}if(l.show970Line&&s){const E=[{distance:Mo(s.startDistance,"nm",h.distanceUnit),fuel:Fd(s.startFOB,"lbs",h.fuelUnit)},{distance:Mo(s.endDistance,"nm",h.distanceUnit),fuel:Fd(s.endFOB,"lbs",h.fuelUnit)}],R=U(E,I);if(R!==null){L.push({name:"970 2/3",value:R,color:"#ec4899"});const q=U(d,I);if(q!==null){const H=R-q;L.push({name:" from Normal",value:H,color:H>=0?"#10b981":"#ef4444",showSign:!0})}const ee=e.actual?U(p(e.actual),I):null;if(ee!==null){const H=R-ee;L.push({name:" from Actual",value:H,color:H>=0?"#10b981":"#ef4444",showSign:!0})}}}}const $=g.find(re=>Math.abs(re.distance-I)<.5&&re.label),W=g.find(re=>Math.abs(re.distance-I)<.5&&re.isCurrentPosition);let z=!1,Y=!1;if(!$&&!W){const re=[];re.push(...d.filter(q=>!q.isWaypoint)),h.showSpecialConditions.minimum4Engines&&e.minimum4Engines&&re.push(...p(e.minimum4Engines)),h.showSpecialConditions.minimum3Engines&&e.minimum3Engines&&re.push(...p(e.minimum3Engines)),h.showSpecialConditions.lossOfPressure&&e.lossOfPressure&&re.push(...p(e.lossOfPressure)),h.showSpecialConditions.tenPercent&&e.tenPercent&&re.push(...p(e.tenPercent)),z=!!re.find(q=>Math.abs(q.distance-I)<.5&&q.isPNR),Y=!!re.find(q=>Math.abs(q.distance-I)<.5&&q.isNormalIntersection)}return u.jsxs("div",{className:"bg-white p-3 shadow-lg rounded-lg border border-gray-200",children:[W&&u.jsx("div",{className:"font-bold text-red-600 text-sm mb-1",children:"Current Position"}),($==null?void 0:$.label)&&!W&&u.jsx("div",{className:"font-semibold text-sm mb-1",children:$.label}),z&&u.jsx("div",{className:"font-bold text-red-600 text-sm mb-1",children:"Point of No Return (PNR)"}),Y&&u.jsx("div",{className:"font-bold text-orange-600 text-sm mb-1",children:"Line Intersection"}),u.jsxs("div",{className:"text-sm",children:[u.jsxs("div",{className:"mb-1",children:[A(),": ",I.toFixed(1)]}),L.map((re,E)=>u.jsxs("div",{style:{color:re.color},children:[re.name,": ",re.showSign&&re.value>=0?"+":"",re.value.toFixed(1)," ",re.name==="Delta"||re.name.includes("")?"klb":h.fuelUnit]},E))]})]})}}),u.jsx(il,{}),u.jsx(jr,{type:"monotone",data:g,dataKey:"fuel",stroke:"#10b981",strokeWidth:3,name:"Normal",dot:M=>{const{index:O,payload:T,cx:I,cy:L}=M,U=o&&o.waypoints&&o.waypoints.length>0;return T.isCurrentPosition||T.isEndOfLeg||T.isPNR||T.isNormalIntersection||T.isWaypoint?w(M):!U&&T.isSubSegmentPoint?I===void 0||L===void 0||isNaN(I)||isNaN(L)?null:u.jsxs("g",{transform:`translate(${I},${L})`,children:[u.jsx("circle",{r:3,fill:"#10b981",stroke:"#fff",strokeWidth:1}),u.jsx("text",{x:0,y:-8,fill:"#10b981",textAnchor:"middle",fontSize:8,fontWeight:"bold",children:T.label})]}):!U&&T.isSegmentPoint?I===void 0||L===void 0||isNaN(I)||isNaN(L)?null:u.jsxs("g",{transform:`translate(${I},${L})`,children:[u.jsx("rect",{x:-3,y:-3,width:6,height:6,fill:"#10b981",stroke:"#fff",strokeWidth:1}),u.jsx("text",{x:0,y:-10,fill:"#10b981",textAnchor:"middle",fontSize:9,fontWeight:"bold",children:T.label})]}):O===0||O===g.length-1?b(g,"#10b981")(M):T.label?w(M):null},strokeOpacity:1,zIndex:10}),h.showSpecialConditions.minimum4Engines&&e.minimum4Engines&&(()=>{const M=p(e.minimum4Engines);return u.jsx(jr,{type:"monotone",data:M,dataKey:"fuel",stroke:"#3b82f6",strokeWidth:2,name:"4 Engines",dot:O=>{const{payload:T}=O;return T.isPNR||T.isNormalIntersection||O.index===0||O.index===M.length-1?b(M,"#3b82f6")(O):null},strokeDasharray:"5 5",connectNulls:!1})})(),h.showSpecialConditions.minimum3Engines&&e.minimum3Engines&&(()=>{const M=p(e.minimum3Engines);return u.jsx(jr,{type:"monotone",data:M,dataKey:"fuel",stroke:"#f97316",strokeWidth:2,name:"3 Engines",dot:O=>{const{payload:T}=O;return T.isPNR||T.isNormalIntersection||O.index===0||O.index===M.length-1?b(M,"#f97316")(O):null},strokeDasharray:"5 5",connectNulls:!1})})(),h.showSpecialConditions.lossOfPressure&&e.lossOfPressure&&(()=>{const M=p(e.lossOfPressure);return u.jsx(jr,{type:"monotone",data:M,dataKey:"fuel",stroke:"#ef4444",strokeWidth:2,name:"Loss of Pressure",dot:O=>{const{payload:T}=O;return T.isPNR||T.isNormalIntersection||O.index===0||O.index===M.length-1?b(M,"#ef4444")(O):null},strokeDasharray:"5 5",connectNulls:!1})})(),h.showSpecialConditions.tenPercent&&e.tenPercent&&(()=>{const M=p(e.tenPercent);return u.jsx(jr,{type:"monotone",data:M,dataKey:"fuel",stroke:"#a855f7",strokeWidth:2,connectNulls:!1,name:"10% Addition",dot:O=>{const{payload:T}=O;return T.isPNR||T.isNormalIntersection||O.index===0||O.index===M.length-1?b(M,"#a855f7")(O):null},strokeDasharray:"5 5"})})(),h.showSpecialConditions.minimum4Engines&&e.reverseMinimum4Engines&&(()=>{const M=p(e.reverseMinimum4Engines);return console.log("Reverse 4 Engines lineData:",M),console.log("First point (distance 0):",M[0]),console.log("Last point:",M[M.length-1]),u.jsx(jr,{type:"monotone",data:M,dataKey:"fuel",stroke:"#3b82f6",strokeWidth:2,name:"4 Engines (Return)",dot:O=>{const{payload:T}=O;return T.isPNR||O.index===0||O.index===M.length-1?b(M,"#3b82f6")(O):null},strokeDasharray:"2 2",opacity:.6,connectNulls:!1})})(),h.showSpecialConditions.minimum3Engines&&e.reverseMinimum3Engines&&(()=>{const M=p(e.reverseMinimum3Engines);return u.jsx(jr,{type:"monotone",data:M,dataKey:"fuel",stroke:"#f97316",strokeWidth:2,name:"3 Engines (Return)",dot:O=>{const{payload:T}=O;return T.isPNR||O.index===0||O.index===M.length-1?b(M,"#f97316")(O):null},strokeDasharray:"2 2",opacity:.6,connectNulls:!1})})(),h.showSpecialConditions.lossOfPressure&&e.reverseLossOfPressure&&(()=>{const M=p(e.reverseLossOfPressure);return u.jsx(jr,{type:"monotone",data:M,dataKey:"fuel",stroke:"#ef4444",strokeWidth:2,name:"Loss of Pressure (Return)",dot:O=>{const{payload:T}=O;return T.isPNR||O.index===0||O.index===M.length-1?b(M,"#ef4444")(O):null},strokeDasharray:"2 2",opacity:.6,connectNulls:!1})})(),h.showSpecialConditions.tenPercent&&e.reverseTenPercent&&(()=>{const M=p(e.reverseTenPercent);return u.jsx(jr,{type:"monotone",data:M,dataKey:"fuel",stroke:"#a855f7",strokeWidth:2,name:"10% Addition (Return)",dot:O=>{const{payload:T}=O;return T.isPNR||O.index===0||O.index===M.length-1?b(M,"#a855f7")(O):null},strokeDasharray:"2 2",opacity:.6,connectNulls:!1})})(),e.actual&&e.actual.length>0&&(()=>{const M=p(e.actual);return u.jsx(jr,{type:"monotone",data:M,dataKey:"fuel",stroke:"#000000",strokeWidth:3,name:"Actual",dot:O=>{const{cx:T,cy:I,payload:L}=O;return T===void 0||I===void 0||isNaN(T)||isNaN(I)?null:u.jsxs("g",{transform:`translate(${T},${I})`,children:[u.jsx("circle",{r:5,fill:"#000000",stroke:"#fff",strokeWidth:2}),L.label&&u.jsx("text",{x:0,y:-10,fill:"#000",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:L.label})]})},strokeOpacity:1,connectNulls:!1,zIndex:20})})(),s&&l.show970Line&&(()=>{const M=[{distance:Mo(s.startDistance,"nm",h.distanceUnit),fuel:Fd(s.startFOB,"lbs",h.fuelUnit)},{distance:Mo(s.endDistance,"nm",h.distanceUnit),fuel:Fd(s.endFOB,"lbs",h.fuelUnit)}];return u.jsx(jr,{type:"monotone",data:M,dataKey:"fuel",stroke:"#ec4899",strokeWidth:3,name:"970 2/3",dot:O=>{const{cx:T,cy:I,index:L}=O;return T===void 0||I===void 0||isNaN(T)||isNaN(I)?null:u.jsxs("g",{transform:`translate(${T},${I})`,children:[u.jsx("circle",{r:5,fill:"#ec4899",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-10,fill:"#ec4899",textAnchor:"middle",fontSize:11,fontWeight:"bold",children:L===0?"Current":"Dest"})]})},strokeDasharray:"8 4",connectNulls:!1,zIndex:15})})()]})})})})]})}function ia(e){return e*(Math.PI/180)}function T2(e){return e*(180/Math.PI)}function kd(e,t){const r=ia(t.latitude-e.latitude),i=ia(t.longitude-e.longitude),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(ia(e.latitude))*Math.cos(ia(t.latitude))*Math.sin(i/2)*Math.sin(i/2);return 3440.065*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}function nue(e,t){const n=ia(t.longitude-e.longitude),r=ia(e.latitude),i=ia(t.latitude),a=Math.sin(n)*Math.cos(i),o=Math.cos(r)*Math.sin(i)-Math.sin(r)*Math.cos(i)*Math.cos(n);return(T2(Math.atan2(a,o))+360)%360}function rue(e,t){return(e-t+360)%360}function Gy(e,t){return(e+t+360)%360}function eA(e,t,n){const i=t/3440.065,a=ia(e.latitude),o=ia(e.longitude),s=ia(n),l=Math.asin(Math.sin(a)*Math.cos(i)+Math.cos(a)*Math.sin(i)*Math.cos(s)),c=o+Math.atan2(Math.sin(s)*Math.sin(i)*Math.cos(a),Math.cos(i)-Math.sin(a)*Math.sin(l));return{latitude:T2(l),longitude:T2(c)}}function Us(e,t,n){const r=nue(e,t);return rue(r,n)}function iue(e,t,n,r,i){if(n===0)return 0;const o=(r+180)%360-i,s=ia(o),l=n*Math.cos(s);return Math.round(l)}function aue({leg:e,index:t,onUpdate:n,onClose:r,planFuel:i}){var p,d,m,g,w,b,y,x,A;const[a,o]=se.useState("inputs"),[s,l]=se.useState(0),c=qt(N=>N.getCurrentPlan()),h=(c==null?void 0:c.legs[t])||e;console.log("LegEditView render - Current leg:",{id:h.id,type:h.type,specialCondition:h.specialCondition,index:t,isa:h.isa,initialFuel:h.initialFuel,segmentsCount:(p=h.segments)==null?void 0:p.length,firstSegmentISA:(m=(d=h.segments)==null?void 0:d[0])==null?void 0:m.isa,firstSegmentTAS:(w=(g=h.segments)==null?void 0:g[0])==null?void 0:w.trueAirSpeed,firstSegmentInitialFuel:(y=(b=h.segments)==null?void 0:b[0])==null?void 0:y.initialFuel,planFuelOnBoard:(x=c==null?void 0:c.configuration)==null?void 0:x.fuelOnBoard,activeTab:a,usingStoreLeg:!!(c!=null&&c.legs[t])}),se.useEffect(()=>{var N,P,j,C,_;a==="segments"&&console.log(" SWITCHED TO SEGMENTS TAB:",{legId:h.id,isa:h.isa,segmentsCount:(N=h.segments)==null?void 0:N.length,firstSegmentTAS:(j=(P=h.segments)==null?void 0:P[0])==null?void 0:j.trueAirSpeed,secondSegmentTAS:(_=(C=h.segments)==null?void 0:C[1])==null?void 0:_.trueAirSpeed})},[a,h.id,h.isa,h.segments]);const f=(N,P)=>{console.log("LegEditView handleInputChange:",{field:N,value:P,legId:h.id}),N==="isa"&&console.log(" ISA CHANGE DETECTED:",{oldISA:h.isa,newISA:P}),N==="wind"?n({wind:P}):N==="altitudeMode"?P==="fixed"&&h.altitude===0?n({altitudeMode:P,altitude:25e3}):n({[N]:P}):(console.log("Calling onUpdate with:",{[N]:P}),n({[N]:P}))};return u.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-shrink-0 px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-50",children:[u.jsxs("h2",{className:"text-xl font-bold",children:[h.type==="taxi"?"Taxi":`Leg ${t+1}`," - ",h.type.toUpperCase(),h.waypointSuffix?` ${h.waypointSuffix}`:""]}),u.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-200 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"flex-shrink-0 px-3 sm:px-6 py-2 border-b border-gray-200 overflow-x-auto",children:u.jsx("div",{className:"flex gap-1 sm:gap-2 min-w-max",children:(h.type==="taxi"?["inputs"]:["inputs","segments","waypoints","hgi"]).map(N=>u.jsx("button",{onClick:()=>o(N),className:tt("px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-medium capitalize transition-colors text-sm sm:text-base",a===N?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:N},N))})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6 min-h-0",children:[a==="inputs"&&u.jsx(oue,{leg:h,onChange:f,planFuel:i}),a==="segments"&&u.jsx(sue,{leg:h,segments:h.segments,onChange:f}),a==="waypoints"&&u.jsx(lue,{leg:h,onUpdate:n,triggerForeFlightImport:s}),a==="hgi"&&u.jsx(uue,{leg:h})]}),u.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-t border-gray-200 bg-white",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex gap-2",children:a==="waypoints"&&u.jsxs(u.Fragment,{children:[((A=c==null?void 0:c.metadata)==null?void 0:A.navlogUrl)&&u.jsx(Ke,{size:"sm",variant:"secondary",onClick:()=>zb(c.metadata.navlogUrl),children:"View NavLog"}),u.jsx(Ke,{size:"sm",variant:"primary",onClick:()=>l(N=>N+1),children:"Import FPL"})]})}),u.jsx(Ke,{onClick:r,children:"Done"})]})})]})}function oue({leg:e,onChange:t,planFuel:n}){const r=e.type==="taxi",i=qt(l=>l.getCurrentPlan()),a=(i==null?void 0:i.configuration)||{zeroFuelWeight:85,drag:"withoutPods",oddEven:"odd"},[o,s]=se.useState([]);return se.useEffect(()=>{if(e.type!=="taxi"&&e.distance>0){const l={...e,specialCondition:"normal",segments:[]},c=Fi(l,a);s(c)}},[e.type,e.distance,e.altitude,e.isa,e.wind,e.zfwChange,a]),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-4",children:r?"Taxi Parameters":"Flight Parameters"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{children:r?u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Altitude (ft)"}),u.jsx("input",{type:"number",value:e.altitude||"",onChange:l=>{const c=l.target.value;if(c==="")t("altitude",1e3);else{const h=parseInt(c);if(!isNaN(h)){const f=Math.max(1e3,Math.min(12e3,h));t("altitude",f)}}},className:"w-full px-3 py-2 border rounded-lg",step:"1000",min:"1000",max:"12000",placeholder:"1000-12000 ft"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Taxi altitude must be between 1,000 and 12,000 feet"})]}):u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Altitude Mode"}),u.jsxs("select",{value:e.altitudeMode||"fixed",onChange:l=>t("altitudeMode",l.target.value),className:"w-full px-3 py-2 border rounded-lg mb-3",children:[u.jsx("option",{value:"cc",children:"CC (Cruise Ceiling)"}),u.jsx("option",{value:"fixed",children:"Fixed Altitude"})]}),e.altitudeMode==="fixed"&&u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Altitude (ft)"}),u.jsx("input",{type:"number",value:e.altitude||"",onChange:l=>{const c=l.target.value;if(c==="")t("altitude",0);else{const h=parseInt(c);isNaN(h)||t("altitude",h)}},className:"w-full px-3 py-2 border rounded-lg",step:"1000",min:"0",placeholder:"Enter altitude"})]}),e.altitudeMode==="cc"&&u.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:"Altitude will be calculated automatically based on optimal cruise ceiling"})]})}),r?u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Fuel Consumption (lbs)"}),u.jsx("input",{type:"number",value:e.fuelConsumed||e.fuelConsumption||1,onChange:l=>{const c=parseFloat(l.target.value)||1;t("fuelConsumed",c),t("fuelConsumption",c)},className:"w-full px-3 py-2 border rounded-lg",step:"0.1",min:"0",placeholder:"1.0"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Default fuel consumption for taxi operations"})]}):e.type!=="holding"&&e.type!=="anchor"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Distance (nm)"}),u.jsx("input",{type:"number",value:e.distance||"",onChange:l=>{const c=l.target.value;if(c==="")t("distance",0);else{const h=parseFloat(c);isNaN(h)||t("distance",h)}},className:"w-full px-3 py-2 border rounded-lg",step:"0.1",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Wind (kts)"}),u.jsx("input",{type:"number",value:e.wind||0,onChange:l=>{const c=l.target.value;if(c===""||c==="-")return;const h=parseFloat(c);t("wind",isNaN(h)?0:h)},className:"w-full px-3 py-2 border rounded-lg",step:"0.1",min:"-200",max:"200",placeholder:"0.0"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Positive = tailwind (increases ground speed), Negative = headwind (decreases ground speed)"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Note: This input is used only when no flight plan waypoints are imported"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"ISA Deviation (C)"}),u.jsx("input",{type:"number",value:e.isa||0,onChange:l=>{const c=parseFloat(l.target.value)||0;console.log(" ISA input onChange:",{oldValue:e.isa,newValue:c,rawValue:l.target.value}),t("isa",c)},onBlur:l=>{console.log(" ISA input onBlur:",{value:l.target.value,currentISA:e.isa})},className:"w-full px-3 py-2 border rounded-lg",step:"0.1"})]})]}):null,u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Change in ZFW (klb)"}),u.jsx("input",{type:"number",value:e.zfwChange||0,onChange:l=>t("zfwChange",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"0.1",placeholder:"0.0"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Weight change during leg (cargo drop: negative, pickup: positive)"})]}),e.type==="airRefueling"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Fuel Offload (lbs)"}),u.jsx("input",{type:"number",value:e.fuelOffload||0,onChange:l=>t("fuelOffload",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"0.1",min:"0",placeholder:"Enter fuel to transfer"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Amount of fuel to transfer to another aircraft"})]}),e.type==="shield"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Fuel Received (lbs)"}),u.jsx("input",{type:"number",value:e.fuelReceived||0,onChange:l=>t("fuelReceived",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"0.1",min:"0",placeholder:"Enter fuel to receive"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Amount of fuel to receive from another aircraft"})]}),e.type==="anchor"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Anchor Time (minutes)"}),u.jsx("input",{type:"number",value:e.waitingMinutes||0,onChange:l=>t("waitingMinutes",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"1",min:"0",placeholder:"Enter anchor duration"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Duration of anchor/orbiting operation. Fuel consumption: 4200 lbs/hour"})]}),e.type==="holding"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Holding Time (minutes)"}),u.jsx("input",{type:"number",value:e.waitingMinutes||0,onChange:l=>t("waitingMinutes",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"1",min:"0",placeholder:"Enter holding duration"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Duration of holding pattern. Fuel consumption based on weight/altitude lookup table"})]}),e.type==="lrc950"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Fuel Efficiency Improvement (%)"}),u.jsx("input",{type:"number",value:e.fuelEfficiencyPercent||9,onChange:l=>t("fuelEfficiencyPercent",parseFloat(l.target.value)||9),className:"w-full px-3 py-2 border rounded-lg",step:"0.1",min:"0",max:"50",placeholder:"9"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"LRC 950 (3.5 engine) fuel efficiency improvement compared to LRC 970. Default: 9%"})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Calculated Values"}),u.jsxs("div",{className:"space-y-3 bg-gray-50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Total Distance"}),u.jsxs("span",{className:"value-text",children:[e.distance.toFixed(1)," nm"]})]}),o.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Fuel Consumed (Normal)"}),u.jsxs("span",{className:"value-text",children:[(o.reduce((l,c)=>l+(c.fuelConsumed||0),0)/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Duration (Normal)"}),u.jsxs("span",{className:"value-text",children:[Math.round(o.reduce((l,c)=>l+(c.duration||0),0))," min"]})]})]}),e.initialFuel&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Initial Fuel"}),u.jsxs("span",{className:"value-text",children:[e.initialFuel.toFixed(1)," klb"]})]})]}),o&&o.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Flight Plan Fuel Requirements"}),u.jsx("div",{className:"space-y-2 bg-blue-50 rounded-lg p-3 text-sm",children:(()=>{const l=o.reduce((b,y)=>b+(y.fuelConsumed||0),0),c=o[o.length-1],h=(c==null?void 0:c.fuelConsumptionPerHour)||0,f=Math.max(4e3,h),p=.1*(l+f),d=4e3,m=l+f+p+d,g=(e.initialFuel||0)*1e3,w=g-m;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Trip Fuel"}),u.jsxs("span",{className:"font-medium",children:[(l/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Last Hour/Alternate"}),u.jsxs("span",{className:"font-medium",children:[(f/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Route Reserve (10%)"}),u.jsxs("span",{className:"font-medium",children:[(p/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Holding + Unusable"}),u.jsxs("span",{className:"font-medium",children:[(d/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t border-blue-200",children:[u.jsx("span",{className:"font-semibold",children:"Total Required"}),u.jsxs("span",{className:"font-semibold",children:[(m/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Initial Fuel"}),u.jsxs("span",{className:"font-medium",children:[(g/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Spare Fuel"}),u.jsxs("span",{className:`font-medium ${w<0?"text-red-600":"text-green-600"}`,children:[(w/1e3).toFixed(1)," klb"]})]})]})})()})]})]})]})}function sue({leg:e,segments:t,onChange:n}){console.log("LegSegmentsTab - leg special condition:",e.specialCondition),console.log("LegSegmentsTab - segments:",t),console.log("LegSegmentsTab - segments length:",t==null?void 0:t.length),console.log("LegSegmentsTab - leg type:",e.type);const[r,i]=se.useState({}),[a,o]=se.useState(!1),[s,l]=se.useState(!1),[c,h]=se.useState(!1),f=qt(m=>m.getCurrentPlan()),p=(f==null?void 0:f.configuration)||{zeroFuelWeight:85,drag:"withoutPods",oddEven:"odd"},d=ge.useMemo(()=>!t||!s||!e.manualSegmentAltitudes?t:t.map((m,g)=>{var b;const w=(b=e.manualSegmentAltitudes)==null?void 0:b[g];return w!==void 0?{...m,endAltitude:w,altitude:w}:m}),[t,s,e.manualSegmentAltitudes]);return ge.useEffect(()=>{if(e.type==="lrc970"||e.type==="lrc1010"){console.log("Calculating reverse segments for LRC leg");const m={};["minimum4Engines","minimum3Engines","lossOfPressure","tenPercent"].forEach(w=>{try{const b=GF(e,w,p);b&&b.length>0&&(m[w]=b,console.log(`Calculated ${b.length} reverse segments for ${w}`))}catch(b){console.error(`Error calculating reverse segments for ${w}:`,b)}}),i(m)}},[e,e.specialCondition,e.segments]),u.jsxs("div",{className:"space-y-4",children:[(e.type==="lrc970"||e.type==="lrc1010")&&u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[u.jsx("h3",{className:"font-semibold text-sm",children:"Special Conditions"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Flight Condition"}),u.jsxs("select",{value:e.specialCondition||"normal",onChange:m=>{const g=m.target.value==="normal"?"normal":m.target.value;console.log("Special condition dropdown onChange:",{currentValue:e.specialCondition,newValue:g,eventTargetValue:m.target.value,legId:e.id,legType:e.type}),n("specialCondition",g)},className:"w-full px-3 py-2 border rounded-lg",children:[u.jsx("option",{value:"normal",children:"Normal State"}),u.jsx("option",{value:"minimum4Engines",children:"4 Engines ( 4 )"}),u.jsx("option",{value:"minimum3Engines",children:"3 Engines (3 )"}),u.jsx("option",{value:"lossOfPressure",children:"Loss of Pressure ( )"}),u.jsx("option",{value:"tenPercent",children:"10% Addition"})]})]}),e.specialCondition==="lossOfPressure"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Pressure Altitude Limit (ft)"}),u.jsx("input",{type:"number",value:e.pressureAltitudeLimit||1e4,onChange:m=>n("pressureAltitudeLimit",parseInt(m.target.value)||1e4),className:"w-full px-3 py-2 border rounded-lg",step:"1000",min:"0",max:"20000",placeholder:"Enter altitude limit"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum altitude when flying without pressurization"})]})]}),!d||d.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"No segments calculated yet. Add distance to generate segments."}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"font-semibold",children:["Flight Segments ",e.manualSegmentAltitudes&&Object.keys(e.manualSegmentAltitudes).length>0?"(Manual Edit)":"(Auto-calculated)"]}),u.jsxs("div",{className:"flex items-center gap-4",children:[e.manualSegmentAltitudes&&Object.keys(e.manualSegmentAltitudes).length>0&&u.jsx("button",{onClick:()=>{h(!0)},className:"text-sm px-3 py-1 text-blue-600 hover:text-blue-800 border border-blue-600 hover:border-blue-800 rounded transition-colors",children:"Reset to Auto"}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:s,onChange:m=>{l(m.target.checked)},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{children:"Manual Edit Segment"})]})]})]}),s&&u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:"Manual Edit Mode:"})," You can now edit segment altitudes. Changes will affect fuel and time calculations."]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse text-xs",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b bg-gray-50",children:[u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Point"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Altitude"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Initial Weight (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Distance"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:" Distance"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"IAS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"TAS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"GS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Duration"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:" Time"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Ini Fuel (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Fuel/Hr (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Fuel/Seg (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Rem Fuel (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"ISA"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Wind"})]})}),u.jsx("tbody",{children:d.map((m,g)=>{var A,N,P,j;const w=e.specialCondition&&e.specialCondition!=="normal"?"Cruise":g===0?"Climb":"Cruise",b=m.endAltitude?Math.round(m.endAltitude/1e3):"--",y=d.slice(0,g+1).reduce((C,_)=>C+(_.duration||0),0),x=C=>{const _=Math.floor(C/60),M=Math.round(C%60);return`${_}:${M.toString().padStart(2,"0")}`};return u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsx("td",{className:"py-1 px-2 text-xs",children:w}),u.jsx("td",{className:"py-1 px-2 text-xs",children:s?u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"number",value:((A=e.manualSegmentAltitudes)==null?void 0:A[g])!==void 0?Math.round(e.manualSegmentAltitudes[g]/1e3):m.endAltitude?Math.round(m.endAltitude/1e3):0,onChange:C=>{const M=(parseInt(C.target.value)||0)*1e3,O={...e.manualSegmentAltitudes||{},[g]:M};n("manualSegmentAltitudes",O)},className:tt("w-16 px-1 py-0.5 text-xs border rounded focus:outline-none focus:ring-1 focus:ring-blue-500",((N=e.manualSegmentAltitudes)==null?void 0:N[g])!==void 0&&e.manualSegmentAltitudes[g]!==m.endAltitude?"border-blue-500 bg-blue-50":"border-gray-300"),min:"0",max:"45",step:"1"}),((P=e.manualSegmentAltitudes)==null?void 0:P[g])!==void 0&&e.manualSegmentAltitudes[g]!==((j=t[g])==null?void 0:j.endAltitude)&&u.jsx("span",{className:"text-xs text-blue-600",title:"Modified",children:"*"})]}):b}),u.jsx("td",{className:"py-1 px-2 text-xs",title:`Raw: ${m.initialWeight}, Type: ${typeof m.initialWeight}`,children:m.initialWeight?(m.initialWeight/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:Math.round(m.endDistance-m.startDistance)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:Math.round(m.endDistance)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m.indicatedAirSpeed||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m.trueAirSpeed||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m.groundSpeed||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m.duration?Math.round(m.duration):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:x(y)}),u.jsx("td",{className:"py-1 px-2 text-xs",title:`Raw: ${m.initialFuel}`,children:m.initialFuel!==void 0&&m.initialFuel!==null?(m.initialFuel/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m.fuelConsumptionPerHour?(m.fuelConsumptionPerHour/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m.fuelConsumed?(m.fuelConsumed/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m.remainingFuel?(m.remainingFuel/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m.isa!==void 0?Math.round(m.isa):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m.projectedWind!==void 0?Math.round(m.projectedWind):"--"})]},m.id)})})]})}),(e.type==="lrc970"||e.type==="lrc1010")&&d.length>0&&u.jsxs("div",{className:"mt-6",children:[u.jsxs("button",{onClick:()=>o(!a),className:"flex items-center gap-2 text-sm font-medium text-primary hover:text-primary-dark transition-colors",children:[u.jsx("svg",{className:`w-4 h-4 transition-transform ${a?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),a?"Hide":"Show"," Reverse Flight Calculations"]}),a&&u.jsxs("div",{className:"mt-4 space-y-4",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Reverse Flight Calculations:"})," Starting from destination with 8 lbs reserve fuel, flying back to origin with reversed wind conditions."]})}),Object.entries(r).map(([m,g])=>{if(!g||g.length===0)return null;const w=ex(m),b=e.specialCondition===m;return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:`font-medium text-sm ${b?"text-primary":"text-gray-700"}`,children:[w," (Return)",b&&u.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Current)"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse text-xs",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b bg-gray-50",children:[u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Point"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Alt"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Initial Weight (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Dist"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:" Dist"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"GS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Time"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:" Time"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Fuel/Hr"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Fuel/Seg"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Rem Fuel"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Wind"})]})}),u.jsxs("tbody",{children:[g.map((y,x)=>{var C,_,M;const A="Cruise",N=y.endAltitude?Math.round(y.endAltitude/1e3):"--",P=g.slice(0,x+1).reduce((O,T)=>O+(T.duration||0),0),j=O=>{const T=Math.floor(O/60),I=Math.round(O%60);return`${T}:${I.toString().padStart(2,"0")}`};return u.jsxs("tr",{className:`border-b ${b?"bg-blue-50":"hover:bg-gray-50"}`,children:[u.jsx("td",{className:"py-1 px-2 text-xs",children:A}),u.jsx("td",{className:"py-1 px-2 text-xs",children:N}),u.jsx("td",{className:"py-1 px-2 text-xs",children:y.initialWeight?(y.initialWeight/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:Math.round(y.endDistance-y.startDistance)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:Math.round(y.endDistance)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:y.groundSpeed||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:y.duration?Math.round(y.duration):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:j(P)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:((C=y.fuelConsumptionPerHour)==null?void 0:C.toFixed(1))||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:((_=y.fuelConsumed)==null?void 0:_.toFixed(1))||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs font-medium",children:((M=y.remainingFuel)==null?void 0:M.toFixed(1))||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:y.projectedWind!==void 0?y.projectedWind.toFixed(1):"--"})]},`${m}-${x}`)}),u.jsxs("tr",{className:"font-medium bg-gray-100",children:[u.jsx("td",{colSpan:8,className:"py-1 px-2 text-xs text-right",children:"Total Fuel Required:"}),u.jsxs("td",{colSpan:3,className:"py-1 px-2 text-xs",children:[(8+g.reduce((y,x)=>y+(x.fuelConsumed||0),0)).toFixed(1)," lbs"]}),u.jsx("td",{className:"py-1 px-2 text-xs"})]})]})]})})]},m)})]})]})]}),u.jsx(gl,{isOpen:c,onClose:()=>h(!1),onConfirm:()=>{n("manualSegmentAltitudes",void 0),n("segments",void 0),l(!1)},title:"Reset to Auto",message:"Reset segments to auto values?",confirmText:"Reset",cancelText:"Cancel",variant:"warning",size:"minimal"})]})}function lue({leg:e,onUpdate:t,triggerForeFlightImport:n}){var q,ee,H;console.log("LegWaypointsTab - leg:",e),console.log("LegWaypointsTab - waypoints:",e==null?void 0:e.waypoints),console.log("LegWaypointsTab - waypoints length:",(q=e==null?void 0:e.waypoints)==null?void 0:q.length);const[r,i]=se.useState(!1),a=ge.useRef(n);ge.useEffect(()=>{n>a.current&&i(!0),a.current=n},[n]);const[o,s]=se.useState(null),[l,c]=se.useState(null),[h,f]=se.useState({name:"",distance:"",magHDG:"",isa:"",latitude:"",longitude:""}),[p,d]=se.useState(null),[m,g]=se.useState([]),[w,b]=se.useState(!1),[y,x]=se.useState(!1),[A,N]=se.useState(""),[P,j]=se.useState([]),[C,_]=se.useState(!0),M=qt(te=>te.getCurrentPlan()),O=((ee=M==null?void 0:M.configuration)==null?void 0:ee.startTime)||new Date;(H=M==null?void 0:M.metadata)==null||H.navlogUrl;const T=(te,X)=>{const G={id:crypto.randomUUID(),timestamp:new Date,action:te,details:X};j(ce=>[G,...ce])},I=()=>{j([])},L=te=>{const X={...e,specialCondition:"normal"},G=qt.getState().getCurrentPlan(),ce=Fi(X,G==null?void 0:G.configuration);if(!ce||ce.length===0)return null;let ae=0;for(let de=0;de<ce.length;de++){const ie=ce[de],Ce=ie.endDistance||ie.accumulatedDistance||0,Fe=ie.startDistance!==void 0?ie.startDistance:ae;if(te>=Fe&&te<=Ce){const Ae=Ce-Fe,Te=Ae>0?(te-Fe)/Ae:0,Re=ie.initialFuel||0,Ie=ie.fuelConsumed||ie.fuelConsumptionPerSegment||0,De=(Re-Ie*Te)/1e3,Le=ie.startAltitude||0,Ge=ie.endAltitude||0,Ue=Le+(Ge-Le)*Te;return{fuel:De,altitude:Math.round(Ue/1e3),ias:ie.indicatedAirSpeed||ie.ias||0,tas:ie.trueAirSpeed||0,groundSpeed:ie.groundSpeed||0,isa:ie.isa||0}}ae=Ce}const le=e.segments[e.segments.length-1],xe=le&&(le.endDistance||le.accumulatedDistance)||0;if(le&&te>xe)return{fuel:(le.remainingFuel||0)/1e3,altitude:Math.round((le.endAltitude||0)/1e3),ias:le.indicatedAirSpeed||le.ias||0,tas:le.trueAirSpeed||0,groundSpeed:le.groundSpeed||0,isa:le.isa||0};const be=e.segments[0];return be&&te<=(be.startDistance||0)?{fuel:(be.initialFuel||0)/1e3,altitude:Math.round((be.startAltitude||0)/1e3),ias:be.indicatedAirSpeed||be.ias||0,tas:be.trueAirSpeed||0,groundSpeed:be.groundSpeed||0,isa:be.isa||0}:null},U=(te,X)=>{console.log("=== FOREFLIGHT IMPORT DEBUG ==="),console.log("Importing waypoints:",te),console.log("Total waypoints before processing:",te.length),console.log("NavLog URL received:",X);const G=[];let ce=0;for(let be=0;be<te.length;be++){const de=te[be],ie=de.name.toUpperCase();if(ie.includes("TOC")||ie.includes("TOD")||ie.startsWith("-TOC-")||ie.startsWith("-TOD-"))ce+=de.distance||0,console.log(`Found ${de.name} with distance ${de.distance} nm - will add to next waypoint`);else{const Fe={...de,distance:(de.distance||0)+ce};ce>0&&console.log(`Added ${ce} nm to ${de.name}, new distance: ${Fe.distance} nm`),G.push(Fe),ce=0}}console.log("Total waypoints after processing:",G.length),G.forEach((be,de)=>{console.log(`Waypoint ${de+1}: ${be.name} - Distance: ${be.distance} nm`)}),G.length>0&&G[0].distance>0&&(console.log(`First waypoint ${G[0].name} has distance ${G[0].distance} - setting to 0`),G[0]={...G[0],distance:0});const ae=G.findIndex(be=>be.name.toLowerCase().includes("alternate")||be.name.toLowerCase().includes("cruise profile"));ae>=0&&(console.log(`Removing alternate route waypoints from index ${ae} onwards`),G.splice(ae));let le=G.reduce((be,de)=>be+(de.distance||0),0);console.log("Total distance from waypoints:",le),console.log("All waypoint distances:",G.map(be=>`${be.name}: ${be.distance} nm`).join(", ")),console.log("=== END DEBUG ===");const xe=G.map(be=>({...be,fob:be.id==="-TOC-"||be.fob===void 0?void 0:be.fob,fuelOnBoard:be.id==="-TOC-"||be.fuelOnBoard===void 0?void 0:be.fuelOnBoard}));if(t({waypoints:xe,distance:le}),X&&M&&(console.log("Updating plan metadata with navlogUrl"),qt.getState().updatePlan(M.metadata.id,{metadata:{...M.metadata,navlogUrl:X}})),i(!1),G.length>0&&M){const be=G[0],de=G[G.length-1];be.name&&de.name&&(console.log("Offering rename dialog for plan"),N(`${be.name} - ${de.name}`),x(!0))}},D=te=>{const X=Math.floor(te/60),G=Math.floor(te%60);return`${X}:${G.toString().padStart(2,"0")}`},$=te=>{if(!te)return"--";const X=te.getHours(),G=te.getMinutes();return`${X.toString().padStart(2,"0")}:${G.toString().padStart(2,"0")}`},W=te=>{const X=e.waypoints[te].name;d({index:te,name:X}),s(null)},z=()=>{if(!p)return;g(ce=>[...ce,{action:`Deleted waypoint ${p.name}`,waypoints:[...e.waypoints]}]);const te=p.index,X=e.waypoints[te],G=[...e.waypoints];if(G.splice(te,1),te<G.length){const ce=G[te];if(G[te]={...ce,distance:(ce.distance||0)+(X.distance||0)},te>0){const ae=G[te-1];if(ae.coordinate&&ce.coordinate){const le=Yi(ae.coordinate.latitude,ae.coordinate.longitude),xe=Us(ae.coordinate,ce.coordinate,le);G[te]={...G[te],magHDG:Math.round(xe),heading:xe}}}}t({waypoints:G}),T("DELETE",`Deleted waypoint ${p.name}`),b(!0),setTimeout(()=>b(!1),5e3),d(null)},Y=()=>{if(m.length===0)return;const te=m[m.length-1];t({waypoints:te.waypoints}),g(X=>X.slice(0,-1)),b(!1)},re=()=>{M&&(console.log("Renaming plan to:",A),qt.getState().updatePlan(M.metadata.id,{metadata:{...M.metadata,name:A}})),x(!1)},E=()=>{console.log("Rename cancelled"),x(!1)},R=()=>{if(!l||!h.name||!h.distance||!h.magHDG)return;const te=l.afterIndex,X=e.waypoints[te];let G={latitude:0,longitude:0};h.latitude&&h.longitude&&(G={latitude:parseFloat(h.latitude),longitude:parseFloat(h.longitude)});let ce=X.magDec||0;G.latitude!==0&&G.longitude!==0&&(ce=Yi(G.latitude,G.longitude));const ae={id:`${h.name}-${Date.now()}`,name:h.name,distance:parseFloat(h.distance),magHDG:parseFloat(h.magHDG),heading:parseFloat(h.magHDG),isActual:!1,note:"",coordinate:G,isa:h.isa?parseFloat(h.isa):X.isa||0,temp:h.isa?parseFloat(h.isa):X.temp||0,altitude:X.altitude,wind:X.wind,windVelocity:X.windVelocity,magDec:ce,eet:0,toEET:0,eta:null,fob:0,fuelOnBoard:0,groundSpeed:0,trueAirSpeed:0,ias:0,headTail:0,velPlan:0};g(be=>[...be,{action:`Added waypoint ${ae.name}`,waypoints:[...e.waypoints]}]);const le=[...e.waypoints];le.splice(te+1,0,ae),t({waypoints:le});const xe=e.waypoints[te].name;T("ADD",`Added waypoint ${h.name} after ${xe}`),b(!0),setTimeout(()=>b(!1),5e3),c(null),f({name:"",distance:"",magHDG:"",isa:"",latitude:"",longitude:""}),s(null)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:"font-semibold",children:"Flight Plan"}),u.jsxs("span",{className:"text-sm text-gray-500",children:["Last Import: ",new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),", ",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.waypoints.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"No waypoints added yet. Import from ForeFlight to get started."}):u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:C?"flex-1 overflow-x-auto overflow-y-auto":"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsxs("thead",{children:[u.jsxs("tr",{className:"border-b bg-gray-50",children:[u.jsx("th",{className:"w-10",rowSpan:2}),u.jsx("th",{className:"text-left py-2 px-2 font-medium",rowSpan:2,children:"Name"}),u.jsxs("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:["MAG",u.jsx("br",{}),"HDG"]}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"Dst"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"Total Dst"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"Dst Rem"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"EET"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"ETA"}),u.jsxs("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:["Time",u.jsx("br",{}),"Rem"]}),u.jsxs("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:["FOB",u.jsx("br",{}),"(klb)"]}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"Alt"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"IAS"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"TAS"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"GS"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",colSpan:3,children:"Wind"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"ISA"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"Mag Dec"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"lat"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium",rowSpan:2,children:"long"})]}),u.jsxs("tr",{className:"border-b bg-gray-50",children:[u.jsx("th",{className:"text-center py-1 px-2 text-xs font-normal",children:"DIR"}),u.jsx("th",{className:"text-center py-1 px-2 text-xs font-normal",children:"VEL"}),u.jsx("th",{className:"text-center py-1 px-2 text-xs font-normal",children:"Head/Tail"})]})]}),u.jsx("tbody",{children:(()=>{const te=[...e.waypoints];let X=-1;const G=te.findIndex(ae=>ae.name==="-TOC-");if(G!==-1)X=G,console.log("TOC waypoint already exists at index:",X);else if(e.segments&&e.segments.length>0){const ae=e.segments[0];if(ae.startAltitude!==void 0&&ae.endAltitude!==void 0&&ae.endAltitude>ae.startAltitude){const le=ae.endDistance||0;console.log("TOC calculation:",{segmentEndDistance:ae.endDistance,segmentStartDistance:ae.startDistance,tocDistanceFromDeparture:le});let xe=-1,be=0;for(let Ce=0;Ce<te.length;Ce++){const Fe=be+(te[Ce].distance||0);if(le<=Fe){xe=Ce;break}be=Fe}xe===-1&&(xe=te.length);let de=0;if(xe===0)de=le;else{let Ce=0;for(let Fe=0;Fe<xe;Fe++)Ce+=te[Fe].distance||0;de=le-Ce}const ie={id:"-TOC-",name:"-TOC-",isActual:!1,note:"Top of Climb",coordinate:{latitude:0,longitude:0},heading:0,distance:de,distanceRemain:0,totalDistance:0,eet:0,toEET:0,eta:null,fob:void 0,fuelOnBoard:void 0,altitude:ae.endAltitude||0,groundSpeed:ae.groundSpeed||0,trueAirSpeed:ae.trueAirSpeed||0,ias:ae.indicatedAirSpeed||ae.ias||0,wind:0,windVelocity:0,headTail:0,isa:ae.isa||0,temp:ae.isa||0,magDec:0,magHDG:0,velPlan:0};if(xe<te.length){const Ce=te[xe];if(xe>0){const Fe=Ce.distance-de;te[xe]={...Ce,distance:Fe,totalDistance:0}}else te[xe]={...Ce,distance:Ce.distance-le,totalDistance:0};ie.heading=Ce.heading,ie.magHDG=Ce.magHDG,ie.magDec=Ce.magDec}else{const Ce=te[te.length-1];ie.heading=Ce.heading,ie.magHDG=Ce.magHDG,ie.magDec=Ce.magDec}te.splice(xe,0,ie),X=xe;for(let Ce=xe+1;Ce<te.length;Ce++)te[Ce]={...te[Ce],totalDistance:0};console.log("After TOC insertion:"),te.forEach((Ce,Fe)=>{console.log(`${Fe}: ${Ce.name} - distance: ${Ce.distance}, totalDistance: ${Ce.totalDistance}`)}),console.log("Updating leg waypoints to include TOC waypoint..."),t({waypoints:te})}}return te.map((ae,le)=>{var mt,et,ut,Ne;let xe=0;if(ae.totalDistance&&ae.totalDistance>0)xe=ae.totalDistance,console.log(`${ae.name}: Using totalDistance ${ae.totalDistance}`);else{for(let vt=0;vt<le;vt++)xe+=te[vt].distance||0;console.log(`${ae.name}: Calculated cumulative distance ${xe} from previous waypoints`)}const be=xe+(ae.distance||0);console.log(`${ae.name}: Final cumulative distance ${be} (${xe} + ${ae.distance})`);const de=e.distance-be,ie=le===0?0:xe,Ce=L(ie);let Fe,Ae,Te,Re,Ie,ke;if(le===0&&ie===0)Fe=e.initialFuel||ae.fob||0,Ae=0,Te=0,Re=0,Ie=0,ke=ae.isa||10;else if(Ce)Fe=Ce.fuel,Ae=Ce.altitude,Te=Ce.groundSpeed,Re=Ce.ias,Ie=Ce.tas,ke=Ce.isa;else if(ie===0&&e.initialFuel){Fe=e.initialFuel;const vt=(mt=e.segments)==null?void 0:mt[0];vt?(Ae=Math.round((vt.startAltitude||0)/1e3),Re=vt.ias||vt.indicatedAirSpeed||0,Ie=vt.trueAirSpeed||0,Te=vt.groundSpeed||0,ke=vt.isa||ae.isa||0):(Ae=ae.altitude?Math.round(ae.altitude/1e3):0,Te=ae.groundSpeed||0,Re=ae.ias||0,Ie=ae.trueAirSpeed||0,ke=ae.isa||0)}else Fe=ae.fob!==void 0?ae.fob:e.initialFuel||0,Ae=ae.altitude?Math.round(ae.altitude/1e3):0,Te=ae.groundSpeed||0,Re=ae.ias||0,Ie=ae.trueAirSpeed||0,ke=ae.isa||0;let De=0;if(ae.distance>0){const vt=xe+ae.distance/2,ct=L(vt),jn=(ct==null?void 0:ct.groundSpeed)||ae.groundSpeed||0;jn>0&&(De=ae.distance/jn*60)}let Le=0;for(let vt=0;vt<=le;vt++){const ct=te[vt];let jn=0;for(let bt=0;bt<vt;bt++)jn+=te[bt].distance||0;const Ot=jn+ct.distance/2,Tt=Ot>0?L(Ot):null,ir=(Tt==null?void 0:Tt.groundSpeed)||ct.groundSpeed||0;ir>0&&ct.distance>0&&(Le+=ct.distance/ir*60)}const Ge=new Date(O.getTime()+Le*60*1e3);let Ue=0;for(let vt=le+1;vt<te.length;vt++){const ct=te[vt];let jn=0;for(let bt=0;bt<vt;bt++)jn+=te[bt].distance||0;const Ot=jn+ct.distance/2,Tt=L(Ot),ir=(Tt==null?void 0:Tt.groundSpeed)||ct.groundSpeed||0;ir>0&&ct.distance>0&&(Ue+=ct.distance/ir*60)}return u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsx("td",{className:"py-2 px-1 relative",children:ae.id!=="-TOC-"?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>s(o===le?null:le),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),o===le&&u.jsxs("div",{className:"absolute left-0 top-8 z-10 bg-white rounded-lg shadow-lg border border-gray-200 py-1 min-w-[150px]",children:[u.jsx("button",{onClick:()=>{c({afterIndex:le}),s(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"Add Waypoint After"}),le>0&&u.jsx("button",{onClick:()=>W(le),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-red-600",children:"Delete Waypoint"})]})]}):u.jsx("span",{className:"text-xs text-gray-500",children:"Auto"})}),u.jsx("td",{className:"py-2 px-2 font-medium",children:ae.name}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(ae.magHDG||0)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(ae.distance||0)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(be)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(de)}),u.jsx("td",{className:"text-center py-2 px-2",children:D(De)}),u.jsx("td",{className:"text-center py-2 px-2",children:$(Ge)}),u.jsx("td",{className:"text-center py-2 px-2",children:D(Ue)}),u.jsx("td",{className:"text-center py-2 px-2",children:Fe.toFixed(1)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(Ae)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(Re)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(Ie)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(Te)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(ae.wind||0)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(ae.windVelocity||0)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(ae.headTail||0)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(ke)}),u.jsx("td",{className:"text-center py-2 px-2",children:((et=ae.magDec)==null?void 0:et.toFixed(1))||"0.0"}),u.jsx("td",{className:"text-center py-2 px-2",children:((ut=ae.coordinate)==null?void 0:ut.latitude.toFixed(4))||"--"}),u.jsx("td",{className:"text-center py-2 px-2",children:((Ne=ae.coordinate)==null?void 0:Ne.longitude.toFixed(3))||"--"})]},ae.id)})})()})]})}),C&&u.jsxs("div",{className:"border-t border-gray-200 bg-white",children:[u.jsxs("div",{className:"px-4 py-2 flex items-center justify-between bg-gray-50 border-b border-gray-200",children:[u.jsx("h4",{className:"font-semibold text-sm",children:"Action Log"}),u.jsxs("div",{className:"flex items-center gap-2",children:[P.length>0&&u.jsx("button",{onClick:()=>{confirm("Clear all action log entries?")&&I()},className:"text-gray-500 hover:text-gray-700 text-xs",children:"Clear"}),u.jsx("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsx("div",{className:"h-32 overflow-y-auto",children:P.length===0?u.jsx("p",{className:"text-sm text-gray-500 p-4 text-center",children:"No actions logged yet"}):u.jsx("div",{className:"divide-y divide-gray-100",children:P.map(te=>u.jsx("div",{className:"px-4 py-2 hover:bg-gray-50",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500 font-mono w-12 flex-shrink-0",children:at(te.timestamp,"HH:mm")}),u.jsxs("div",{className:"flex-1 flex items-center",children:[u.jsx("span",{className:"text-xs font-semibold text-primary",children:te.action}),u.jsx("span",{className:"text-xs text-gray-700 ml-2",children:te.details})]})]})},te.id))})})]})]}),!C&&e.waypoints.length>0&&u.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-2",children:u.jsxs("button",{onClick:()=>_(!0),className:"w-full bg-white border border-gray-200 rounded-lg px-3 py-1 text-sm hover:bg-gray-100 transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Show Action Log"]})}),r&&u.jsx(nx,{onImport:U,onClose:()=>{i(!1)},legAltitude:e.altitude}),w&&m.length>0&&u.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-auto bg-gray-800 text-white rounded-lg shadow-lg p-4 flex items-center justify-between gap-4 z-50",children:[u.jsx("span",{className:"text-sm",children:m[m.length-1].action}),u.jsx(Ke,{size:"sm",variant:"ghost",onClick:Y,className:"text-white hover:bg-gray-700",children:"Undo"})]}),p&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-2",children:"Delete Waypoint"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete waypoint ",u.jsx("strong",{children:p.name}),"? This action can be undone."]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ke,{variant:"danger",onClick:z,className:"flex-1",children:"Delete"}),u.jsx(Ke,{variant:"ghost",onClick:()=>d(null),className:"flex-1",children:"Cancel"})]})]})}),l&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Add New Waypoint"}),u.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Adding waypoint after: ",e.waypoints[l.afterIndex].name]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waypoint Name"}),u.jsx("input",{type:"text",value:h.name,onChange:te=>f({...h,name:te.target.value.toUpperCase()}),placeholder:"e.g. WAYP1",className:"w-full px-3 py-2 border rounded-lg",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Distance from ",e.waypoints[l.afterIndex].name," (nm)"]}),u.jsx("input",{type:"number",value:h.distance,onChange:te=>f({...h,distance:te.target.value}),placeholder:"0.0",step:"0.1",className:"w-full px-3 py-2 border rounded-lg"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Magnetic Heading from ",e.waypoints[l.afterIndex].name," ()"]}),u.jsx("input",{type:"number",value:h.magHDG,onChange:te=>f({...h,magHDG:te.target.value}),placeholder:"0",min:"0",max:"359",className:"w-full px-3 py-2 border rounded-lg"})]}),u.jsxs("div",{className:"border-t pt-4 mt-4",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Optional Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ISA Deviation (C)"}),u.jsx("input",{type:"number",value:h.isa,onChange:te=>f({...h,isa:te.target.value}),placeholder:"e.g. +10 or -5",className:"w-full px-3 py-2 border rounded-lg"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Temperature deviation from standard atmosphere"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),u.jsx("input",{type:"number",value:h.latitude,onChange:te=>f({...h,latitude:te.target.value}),placeholder:"e.g. 37.9361",step:"0.0001",min:"-90",max:"90",className:"w-full px-3 py-2 border rounded-lg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),u.jsx("input",{type:"number",value:h.longitude,onChange:te=>f({...h,longitude:te.target.value}),placeholder:"e.g. 23.9444",step:"0.0001",min:"-180",max:"180",className:"w-full px-3 py-2 border rounded-lg"})]})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"Coordinates in decimal degrees (positive = N/E, negative = S/W)"})]})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx(Ke,{onClick:R,disabled:!h.name||!h.distance||!h.magHDG,children:"Add Waypoint"}),u.jsx(Ke,{variant:"ghost",onClick:()=>{c(null),f({name:"",distance:"",magHDG:"",isa:"",latitude:"",longitude:""})},children:"Cancel"})]})]})}),r&&u.jsx(nx,{onImport:U,onClose:()=>i(!1),legAltitude:e.altitude}),y&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 animate-scaleIn",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Flight Plan Import Options"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"How would you like to use the imported flight plan data?"}),u.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Suggested flight plan name:"}),u.jsx("p",{className:"font-semibold text-lg",children:A})]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx(Ke,{onClick:re,className:"w-full",children:"Rename Flight Plan"}),u.jsx(Ke,{onClick:()=>{const te=e.waypoints[0],X=e.waypoints[e.waypoints.length-1];if(te&&X){const G=`${te.name}-${X.name}`;t({waypointSuffix:G})}x(!1)},variant:"secondary",className:"w-full",children:"Add Waypoint Names to This Leg Only"}),u.jsx(Ke,{variant:"ghost",onClick:E,className:"w-full",children:"Keep Everything As Is"})]})]})})]})}function uue({leg:e}){const t=qt(i=>i.getCurrentPlan()),n=t==null?void 0:t.configuration,r=VF(e,n,!0);return!e.segments||e.segments.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"No HGI data available. Add distance and segments to view the graph."}):u.jsxs("div",{className:"space-y-4",children:[u.jsx(Jw,{data:r,title:`HGI Graph - ${e.type.toUpperCase()}`,showControls:!0,height:500,maxDistance:e.distance,leg:e}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Graph Information"}),u.jsx("p",{className:"text-xs text-gray-600",children:"The HGI (Height Gradient Indicator) graph shows fuel remaining vs distance traveled."}),u.jsxs("ul",{className:"text-xs text-gray-600 mt-2 space-y-1",children:[u.jsx("li",{children:" Green line: Normal flight conditions"}),u.jsx("li",{children:" Blue dashed: 4 engines minimum fuel scenario"}),u.jsx("li",{children:" Orange dashed: 3 engines (engine failure)"}),u.jsx("li",{children:" Red dashed: Loss of cabin pressure"}),u.jsx("li",{children:" Purple dashed: 10% additional fuel buffer"})]}),u.jsx("p",{className:"text-xs text-gray-600 mt-3 font-semibold",children:"Return Flight Lines (lighter, shorter dashes):"}),u.jsxs("ul",{className:"text-xs text-gray-600 mt-1 space-y-1",children:[u.jsx("li",{children:" These show fuel consumption for flying back from destination to origin"}),u.jsx("li",{children:" Wind effects are reversed (headwind becomes tailwind)"}),u.jsx("li",{children:" Same special conditions apply on the return journey"})]})]})]})}const cue=["taxi","lrc970","lrc950","lrc1010","lowNavigation","shield","holding","airRefueling","anchor"];function due({onSelect:e,onClose:t}){const[n,r]=se.useState("lrc970"),i=()=>{e(n),t()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Select Leg Type"}),u.jsx("div",{className:"space-y-2",children:cue.map(a=>u.jsxs("label",{className:"flex items-center p-3 rounded-lg border cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:n===a?"#3B82F6":"#E5E7EB",backgroundColor:n===a?"#EFF6FF":"transparent"},children:[u.jsx("input",{type:"radio",name:"legType",value:a,checked:n===a,onChange:()=>r(a),className:"mr-3"}),u.jsx("span",{className:"font-medium",children:g8(a)})]},a))}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx(Ke,{variant:"secondary",onClick:t,className:"flex-1",children:"Cancel"}),u.jsx(Ke,{onClick:i,className:"flex-1",children:"Add Leg"})]})]})})})}function fue({legs:e,onEditLeg:t,onDeleteLeg:n,initialFuel:r=62,initialWeight:i=146}){const a=d=>{let m="";switch(d.type){case"taxi":m="Taxi";break;case"lrc970":m="LRC 970";break;case"lrc950":m="LRC 950 (3.5 Engine)";break;case"lrc1010":m="LRC 1010";break;case"lowNavigation":m="Low Navigation";break;case"shield":m="Shield";break;case"holding":m="Holding";break;case"airRefueling":m="Air Refueling";break;case"anchor":m="Anchor";break;case"lrc900":m="LRC 900";break;case"lrc850":m="LRC 850";break;case"lrc700":m="LRC 700";break;case"lrc600":m="LRC 600";break;case"lrc550":m="LRC 550";break;case"lrc400":m="LRC 400";break;case"lrc300":m="LRC 300";break;case"lrc10":m="LRC 10";break;default:m=d.type}return d.waypointSuffix?`${m} ${d.waypointSuffix}`:m},o=d=>d===0?"Cruise Ceiling":d.toString(),s=(d,m)=>d.slice(0,m+1).reduce((g,w)=>g+(w.distance||0),0),l=d=>d.segments&&d.segments.length>0?d.segments.reduce((g,w)=>g+(w.fuelConsumed||w.fuelConsumptionPerSegment||0),0)/1e3:d.fuelConsumed||d.fuelConsumption||0,c=d=>d.type==="shield"&&d.fuelReceived?d.fuelReceived:d.type==="airRefueling"&&d.fuelOffload?-d.fuelOffload:0,h=(d,m)=>{let g=r;for(let w=0;w<=m;w++)g-=l(d[w]),g+=c(d[w]);return g},f=(d,m)=>m===0?r:h(d,m-1),p=(d,m)=>{let g=i;for(let w=0;w<=m;w++)g-=l(d[w]),g+=c(d[w]),g+=d[w].zfwChange||0;return g};return e.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"No legs added yet"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50",children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Route Altitude"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Change in ZFW"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Leg distance"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Wait time"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Total distance"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Start fuel"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Fuel consumed"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Fuel received/transferred"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Fuel Remained"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"End of leg weight"}),(t||n)&&u.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700",children:"Actions"})]})}),u.jsx("tbody",{children:e.map((d,m)=>u.jsxs("tr",{className:m%2===0?"bg-white":"bg-gray-50",children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:a(d)}),u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:o(d.altitude)}),u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:d.zfwChange||0}),u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:d.type==="taxi"?"--":(d.distance||0).toFixed(0)}),u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:d.waitingMinutes?`${d.waitingMinutes} min`:"--"}),u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s(e,m).toFixed(0)}),u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:f(e,m).toFixed(1)}),u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l(d).toFixed(1)}),u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c(d)!==0?c(d)>0?`+${c(d).toFixed(1)}`:c(d).toFixed(1):"--"}),u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:h(e,m).toFixed(1)}),u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:p(e,m).toFixed(0)}),(t||n)&&u.jsx("td",{className:"border border-gray-300 px-4 py-2",children:u.jsxs("div",{className:"flex gap-2",children:[t&&u.jsx(Ke,{size:"sm",variant:"ghost",onClick:()=>t(d,m),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),n&&u.jsx(Ke,{size:"sm",variant:"ghost",onClick:()=>n(m),className:"text-red-600 hover:text-red-800",children:"Delete"})]})})]},d.id))})]})})}function hue(){qt(c=>c.currentPlanId);const e=qt(c=>c.getCurrentPlan),t=qt(c=>c.updatePlan),n=Ur(c=>c.setAppFlow),r=KC(),[i,a]=se.useState("aircraft"),o=e();if(console.log("=== PLAN EDIT VIEW ==="),console.log("Plan loaded:",o==null?void 0:o.metadata.id),console.log("Has navlogUrl:",o!=null&&o.metadata.navlogUrl?"YES":"NO"),o!=null&&o.metadata.navlogUrl&&console.log("NavlogUrl preview:",o.metadata.navlogUrl.substring(0,100)+"..."),!o)return r("/"),null;const s=()=>{qt.getState().setCurrentPlan(null),n({type:"planning"})},l=()=>{t(o.metadata.id,{metadata:{...o.metadata,state:"ready"}}),qt.getState().setCurrentPlan(null),n({type:"planning"})};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:s,className:"text-primary",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsx("h1",{className:"text-lg font-semibold flex-1",children:o.metadata.name}),o.metadata.navlogUrl&&u.jsx(Ke,{size:"sm",variant:"secondary",onClick:()=>zb(o.metadata.navlogUrl),children:"View NavLog"}),o.metadata.state==="planning"&&u.jsx(Ke,{size:"sm",onClick:l,children:"Ready to Flight"})]})}),u.jsx("div",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 py-2 overflow-x-auto",children:u.jsxs("div",{className:"flex gap-1 sm:gap-2 min-w-max",children:[u.jsx("button",{onClick:()=>a("aircraft"),className:tt("px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-sm sm:text-base",i==="aircraft"?"bg-primary text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:shadow-md"),children:"Aircraft"}),u.jsx("button",{onClick:()=>a("legs"),className:tt("px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-sm sm:text-base",i==="legs"?"bg-primary text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:shadow-md"),children:"Legs"}),u.jsx("button",{onClick:()=>a("hgi"),className:tt("px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-sm sm:text-base",i==="hgi"?"bg-primary text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:shadow-md"),children:"HGI Graph"})]})}),u.jsx("div",{className:"p-4",children:u.jsx("div",{className:"animate-fadeIn",children:i==="aircraft"?u.jsx(pue,{plan:o,onUpdate:c=>t(o.metadata.id,c)}):i==="legs"?u.jsx(mue,{plan:o,onUpdate:c=>t(o.metadata.id,c)}):u.jsx(gue,{plan:o})},i)})]})}function pue({plan:e,onUpdate:t}){const n=(r,i)=>{const a={configuration:{...e.configuration,[r]:i}};console.log("Aircraft config change:",{field:r,value:i}),t(a)};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"panel",children:u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"label-text mb-1",children:"Tail Number"}),u.jsx("p",{className:"value-text text-xl",children:e.configuration.tailNumber||"Not specified"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"label-text mb-1",children:"Estimated Takeoff Time"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"datetime-local",value:at(e.configuration.startTime,"yyyy-MM-dd'T'HH:mm"),onChange:r=>n("startTime",new Date(r.target.value)),className:"w-full pl-10 pr-3 py-2 border rounded-lg text-sm",style:{colorScheme:"light"}})})]})]})}),u.jsxs("div",{className:"panel",children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Aircraft Configuration"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("p",{className:"label-text mb-1",children:"Zero Fuel Weight"}),u.jsx("input",{type:"number",value:e.configuration.zeroFuelWeight,onChange:r=>n("zeroFuelWeight",parseFloat(r.target.value)),className:"w-full px-3 py-2 border rounded-lg",step:"0.1"})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("p",{className:"label-text mb-1",children:"Fuel On Board (klb)"}),u.jsx("input",{type:"number",value:e.configuration.fuelOnBoard||"",onChange:r=>n("fuelOnBoard",parseFloat(r.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"0.1",placeholder:"Enter fuel loaded"})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("p",{className:"label-text mb-1",children:"Drag Configuration"}),u.jsxs("select",{value:e.configuration.drag,onChange:r=>n("drag",r.target.value),className:"w-full px-3 py-2 border rounded-lg mb-2",children:[u.jsx("option",{value:"withPods",children:"With Pods (60)"}),u.jsx("option",{value:"withoutPods",children:"Without Pods (40)"}),u.jsx("option",{value:"102",children:"102 (20)"}),u.jsx("option",{value:"custom",children:"Custom Value"})]}),e.configuration.drag==="custom"&&u.jsx("input",{type:"number",value:e.configuration.dragValue||"",onChange:r=>n("dragValue",parseFloat(r.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Enter custom drag value",step:"0.1"})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("p",{className:"label-text mb-1",children:"Flight Rule"}),u.jsxs("select",{value:e.configuration.oddEven,onChange:r=>n("oddEven",r.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[u.jsx("option",{value:"odd",children:"Odd"}),u.jsx("option",{value:"even",children:"Even"})]})]})]})]})]})}function mue({plan:e,onUpdate:t}){const[n,r]=se.useState(null),[i,a]=se.useState(!1),o=e.legs.find(p=>p.type==="lrc970"||p.type==="lrc950"||p.type==="lrc1010"),[s,l]=se.useState((o==null?void 0:o.id)||null);se.useEffect(()=>{const p=e.legs.some(d=>d.id===s);if(!s||!p){const d=e.legs.find(m=>m.type==="lrc970"||m.type==="lrc950"||m.type==="lrc1010");d&&l(d.id)}},[e.legs,s]);const c=qt(p=>p.updateLeg),h=p=>{t({legs:e.legs.filter(d=>d.id!==p)})},f=(p,d)=>{const m=e.legs.findIndex(g=>g.id===p);if(console.log(" PlanEditView handleUpdateLeg:",{legId:p,legIndex:m,updates:d,foundLeg:m!==-1,planId:e.metadata.id}),m===-1){console.error(" Leg not found!",{legId:p,availableLegs:e.legs.map(g=>g.id)});return}c(e.metadata.id,m,d),setTimeout(()=>{var b,y;const g=qt.getState().getCurrentPlan(),w=g==null?void 0:g.legs[m];console.log(" PlanEditView after updateLeg:",{legId:p,specialCondition:w==null?void 0:w.specialCondition,legType:w==null?void 0:w.type,isa:w==null?void 0:w.isa,segmentTAS:(y=(b=w==null?void 0:w.segments)==null?void 0:b[1])==null?void 0:y.trueAirSpeed})},100)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"panel",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"font-semibold",children:"Flight Legs"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{size:"sm",variant:"secondary",onClick:()=>{const p=Z1();p.type="taxi",p.altitude=1e3,p.altitudeMode="fixed",p.distance=0,p.segments=[],p.fuelConsumed=1,p.fuelConsumption=1,p.initialFuel=e.configuration.fuelOnBoard,p.wind=0,p.isa=0,t({legs:[...e.legs,p]})},children:"Add Taxi"}),u.jsx(Ke,{size:"sm",onClick:()=>a(!0),children:"Add Leg"})]})]}),u.jsx(fue,{legs:e.legs,onEditLeg:(p,d)=>{console.log("PlanEditView opening edit for leg:",{legId:p.id,specialCondition:p.specialCondition,index:d}),r({leg:{...p},index:d})},onDeleteLeg:p=>h(e.legs[p].id),initialFuel:e.configuration.fuelOnBoard,initialWeight:e.configuration.zeroFuelWeight+e.configuration.fuelOnBoard})]}),n&&u.jsx(aue,{leg:e.legs[n.index],index:n.index,onUpdate:p=>{console.log("PlanEditView LegEditView onUpdate:",{legId:n.leg.id,index:n.index,updates:p}),f(e.legs[n.index].id,p)},onClose:()=>r(null),planFuel:e.fuel},`${n.leg.id}-${n.index}`),i&&u.jsx(due,{onSelect:p=>{const d=Z1();d.type=p,d.initialFuel=e.configuration.fuelOnBoard,p==="taxi"&&(d.altitude=1e3,d.altitudeMode="fixed",d.distance=0,d.fuelConsumed=1,d.fuelConsumption=1,d.wind=0,d.isa=0),p==="anchor"&&(d.altitude=1e4,d.altitudeMode="fixed",d.distance=0,d.waitingMinutes=30,d.wind=0,d.isa=0),p==="holding"&&(d.altitude=1e4,d.altitudeMode="fixed",d.distance=0,d.waitingMinutes=20,d.wind=0,d.isa=0);const m=e.legs.length;t({legs:[...e.legs,d]}),a(!1),p!=="taxi"&&setTimeout(()=>{r({leg:d,index:m})},100)},onClose:()=>a(!1)}),u.jsxs("div",{className:"panel mt-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Leg for Refueling Rules"}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Choose which leg to use for calculating Flight Plan Fuel Requirements"})]})}),u.jsxs("select",{value:s||"",onChange:p=>l(p.target.value||null),className:"px-4 py-2 border rounded-lg bg-white max-w-md",style:{textAlignLast:"left"},children:[u.jsx("option",{value:"",children:"Select a leg..."}),e.legs.filter(p=>p.type==="lrc970"||p.type==="lrc950"||p.type==="lrc1010").map((p,d)=>{const m=e.legs.findIndex(w=>w.id===p.id),g=p.type==="lrc970"?"LRC 970":p.type==="lrc950"?"LRC 950 (3.5 Engine)":"LRC 1010";return u.jsxs("option",{value:p.id,style:{textAlign:"left"},children:["Leg ",m+1,": ",g," - ",(p.distance||0).toFixed(0)," nm"]},p.id)})]}),s&&(()=>{const p=e.legs.find(P=>P.id===s);if(!p||!p.segments||p.segments.length===0)return null;const d=p.segments.reduce((P,j)=>P+(j.fuelConsumed||j.fuelConsumptionPerSegment||0),0),m=p.segments[p.segments.length-1],g=(m==null?void 0:m.fuelConsumptionPerHour)||0,w=Math.max(4e3,g),b=.1*(d+w),y=4e3,x=d+w+b+y,N=(p.initialFuel||0)*1e3-x;return u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"font-medium mb-2",children:"Flight Plan Fuel Requirements"}),u.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Trip Fuel"}),u.jsxs("span",{className:"font-medium",children:[(d/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Last Hour/Alternate"}),u.jsxs("span",{className:"font-medium",children:[(w/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Route Reserve (10%)"}),u.jsxs("span",{className:"font-medium",children:[(b/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Holding + Unusable"}),u.jsxs("span",{className:"font-medium",children:[(y/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t border-blue-200",children:[u.jsx("span",{className:"font-semibold",children:"Total Required"}),u.jsxs("span",{className:"font-semibold",children:[(x/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between pt-2",children:[u.jsx("span",{className:tt("font-semibold",N>=0?"text-green-600":"text-red-600"),children:"Spare Fuel"}),u.jsxs("span",{className:tt("font-semibold",N>=0?"text-green-600":"text-red-600"),children:[(N/1e3).toFixed(1)," klb"]})]})]})})]})})()]})]})}function gue({plan:e}){var i,a,o,s;const t=e.configuration.fuelOnBoard&&e.configuration.fuelOnBoard>0;console.log("HGI Section Debug:",{planId:e.metadata.id,fuelOnBoard:e.configuration.fuelOnBoard,hasValidFuel:t,legs:e.legs.length,legDetails:e.legs.map(l=>{var c;return{id:l.id,type:l.type,distance:l.distance,segments:((c=l.segments)==null?void 0:c.length)||0,initialFuel:l.initialFuel}})});const n=t?Zle(e):{normal:[]};console.log("HGI Data result:",{normalPoints:((i=n.normal)==null?void 0:i.length)||0,firstPoint:(a=n.normal)==null?void 0:a[0],lastPoint:(s=n.normal)==null?void 0:s[((o=n.normal)==null?void 0:o.length)-1]});const r=e.legs.some(l=>l.segments&&l.segments.length>0);return t?r?u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:u.jsx(Jw,{data:n,title:"Full Flight HGI Graph",showControls:!0,height:600})}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Flight Summary"}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-label-gray text-sm",children:"Total Distance"}),u.jsxs("p",{className:"text-xl font-semibold",children:[e.legs.reduce((l,c)=>l+(c.distance||0),0).toFixed(1)," nm"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-label-gray text-sm",children:"Total Fuel"}),u.jsxs("p",{className:"text-xl font-semibold",children:[(e.configuration.fuelOnBoard||0).toFixed(1)," klb"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-label-gray text-sm",children:"Number of Legs"}),u.jsx("p",{className:"text-xl font-semibold",children:e.legs.length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-label-gray text-sm",children:"Fuel Remaining"}),u.jsxs("p",{className:"text-xl font-semibold",children:[(()=>{const l=e.legs.reduce((f,p)=>f+(p.fuelConsumed||0),0);return((e.configuration.fuelOnBoard||0)-l).toFixed(1)})()," klb"]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-sm mb-2",children:"About HGI Graph"}),u.jsx("p",{className:"text-xs text-gray-600",children:"The HGI (Height Gradient Indicator) graph displays the fuel consumption profile for your entire flight. It shows how fuel decreases over distance, helping you visualize fuel efficiency and consumption patterns."}),u.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Note: Special conditions (4 engines, 3 engines, etc.) are calculated per-leg basis. The full flight graph shows only normal conditions for now."})]})]}):u.jsxs("div",{className:"text-center py-16 text-gray-500",children:[u.jsx("p",{className:"mb-2",children:"No HGI data available."}),u.jsx("p",{className:"text-sm",children:"Add legs with distance to view the full flight HGI graph."})]}):u.jsxs("div",{className:"text-center py-16 text-gray-500",children:[u.jsx("p",{className:"mb-2",children:"No fuel configuration."}),u.jsx("p",{className:"text-sm",children:"Please set the fuel on board in the Aircraft tab."})]})}function vue(){const e=Ur(m=>m.appFlow),t=Ur(m=>m.setAppFlow),n=qt(m=>m.getPlanById),r=He(m=>m.setActivePlan),i=He(m=>m.setCurrentRole),a=KC();if(e.type!=="confirmNav"&&e.type!=="confirmPilot"&&e.type!=="confirmEng")return a("/"),null;const o=n(e.planId);if(!o)return a("/"),null;const s={confirmNav:{role:"navigator",title:"Navigator",icon:"",color:"bg-blue-600"},confirmPilot:{role:"pilot",title:"Pilot",icon:"",color:"bg-purple-600"},confirmEng:{role:"engineer",title:"Engineer",icon:"",color:"bg-green-600"}},{role:l,title:c,icon:h,color:f}=s[e.type],p=()=>{switch(console.log("Setting active plan:",o),r(o),i(l),l){case"navigator":t({type:"nav",planId:e.planId});break;case"pilot":t({type:"pilot",planId:e.planId});break;case"engineer":t({type:"eng",planId:e.planId});break}},d=()=>{t({type:"planning"})};return u.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:`w-20 h-20 ${f} rounded-full flex items-center justify-center mx-auto mb-4`,children:u.jsx("span",{className:"text-4xl",children:h})}),u.jsxs("h2",{className:"text-2xl font-bold text-black-1",children:["Start as ",c]}),u.jsx("p",{className:"text-label-gray mt-2",children:o.metadata.name})]}),u.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mb-8 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Total Distance:"}),u.jsxs("span",{className:"text-value-gray font-medium",children:[o.legs.reduce((m,g)=>m+g.distance,0).toFixed(0)," nm"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Fuel Required:"}),u.jsxs("span",{className:"text-value-gray font-medium",children:[o.fuel.total.toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Legs:"}),u.jsx("span",{className:"text-value-gray font-medium",children:o.legs.length})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Ke,{onClick:p,size:"full",children:"Start Flight"}),u.jsx(Ke,{onClick:d,variant:"ghost",size:"full",children:"Cancel"})]})]})})}function Qw({children:e}){const[t,n]=se.useState(!1);return u.jsxs("div",{className:"h-screen bg-background grid",style:{gridTemplateRows:"auto 1fr"},children:[u.jsx("div",{className:tt("bg-gradient-to-r from-purple-600 to-blue-600 text-white transition-all duration-300 cursor-pointer",t?"h-16":"h-8"),onClick:()=>n(!t),children:u.jsx("div",{className:"h-full flex items-center justify-center px-4",children:t?u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"font-semibold text-sm",children:"Sync Active"}),u.jsx("p",{className:"text-xs opacity-80",children:"Connected to 2 devices"})]}):u.jsx("p",{className:"text-xs font-medium",children:"Tap to view sync status"})})}),u.jsx("div",{className:"overflow-hidden",children:e})]})}function KF({tabs:e,activeTab:t,onTabChange:n}){const[r,i]=se.useState(null),a=s=>l=>{i(s),l.preventDefault()},o=s=>l=>{r===s&&n(s),i(null),l.preventDefault()};return u.jsx("div",{className:"bg-white border-t border-gray-200",children:u.jsx("div",{className:"flex",children:e.map(s=>u.jsxs("button",{onClick:()=>n(s.id),onTouchStart:a(s.id),onTouchEnd:o(s.id),onTouchCancel:()=>i(null),className:tt("flex-1 py-2 px-4 flex flex-col items-center gap-1 transition-colors","touch-manipulation",t===s.id?"text-primary":"text-gray-500 hover:text-gray-700",r===s.id&&"bg-gray-100"),children:[u.jsx("div",{className:"w-6 h-6",children:s.icon}),u.jsx("span",{className:"text-xs font-medium",children:s.label})]},s.id))})})}const Vy={no1:"No.1",no2:"No.2",no3:"No.3",no4:"No.4",lhAUX:"LH AUX",rhAUX:"RH AUX",lhEXT:"LH EXT",rhEXT:"RH EXT",totalizer:"Totalizer"},tA={no1:"Eng 1",no2:"Eng 2",no3:"Eng 3",no4:"Eng 4"};function yue({isOpen:e,onClose:t,onSubmit:n,availableWaypoints:r,title:i="Add Fuel Read",isTaxiLeg:a=!1}){const[o,s]=se.useState(nA()),[l,c]=se.useState(null),[h,f]=se.useState(!1),[p,d]=se.useState(!1),[m,g]=se.useState(!1),[w,b]=se.useState(""),y=se.useRef(null);se.useEffect(()=>{if(e){const C=nA();a?(C.waypointId="taxi-start",c({id:"taxi-start",name:"Starting Fuel",distance:0,totalDistance:0})):c(null),s(C),f(!1),g(!1),b("")}},[e,a,r]),se.useEffect(()=>{function C(_){y.current&&!y.current.contains(_.target)&&g(!1)}if(m)return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[m]),se.useEffect(()=>{if(o.waypointId){const C=r.find(M=>M.id===o.waypointId);c(C||null);const _=(C==null?void 0:C.name)==="-TOC-"||(C==null?void 0:C.id)==="-TOC-";d(_),_&&!o.flowMeter2&&s(M=>({...M,flowMeter2:{no1:0,no2:0,no3:0,no4:0}}))}},[o.waypointId,r]);const x=(C,_)=>{const M=parseFloat(_)||0;s(O=>({...O,gauges:{...O.gauges,[C]:M}}))},A=(C,_,M=!1)=>{if(C==="ffFuelConsumption")return;const O=parseFloat(_)||0;s(M&&p?T=>({...T,flowMeter2:{...T.flowMeter2,[C]:O}}):T=>({...T,flowMeter:{...T.flowMeter,[C]:O}}))},N=()=>{if(!o.waypointId&&!a){alert("Please select a waypoint");return}a&&!o.waypointId&&(o.waypointId="taxi-start"),n(o)},P=mr(o.gauges),j=p&&o.flowMeter2?(o.flowMeter.no1+o.flowMeter2.no1)/2+(o.flowMeter.no2+o.flowMeter2.no2)/2+(o.flowMeter.no3+o.flowMeter2.no3)/2+(o.flowMeter.no4+o.flowMeter2.no4)/2:o.flowMeter.no1+o.flowMeter.no2+o.flowMeter.no3+o.flowMeter.no4;return u.jsx(gl,{isOpen:e,onClose:t,onConfirm:N,title:i,message:"",confirmText:"Add Fuel Read",cancelText:"Cancel",size:"large",children:u.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto",children:[a?u.jsx("div",{children:u.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Recording starting fuel before taxi"})}):u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waypoint"}),u.jsxs("div",{className:"relative",ref:y,children:[u.jsxs("button",{type:"button",onClick:()=>g(!m),className:"w-full h-9 px-3 border rounded text-sm text-left flex items-center justify-between bg-white hover:bg-gray-50",children:[u.jsx("span",{className:o.waypointId?"text-gray-900":"text-gray-500",children:o.waypointId?`${l==null?void 0:l.name} (${((l==null?void 0:l.totalDistance)||(l==null?void 0:l.distance)||0).toFixed(0)} nm)`:"Select waypoint..."}),u.jsx("svg",{className:`w-4 h-4 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&u.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border rounded-md shadow-lg",children:[u.jsx("div",{className:"p-2 border-b",children:u.jsx("input",{type:"text",placeholder:"Search waypoints...",value:w,onChange:C=>b(C.target.value),className:"w-full h-8 px-2 border rounded text-sm",autoFocus:!0})}),u.jsx("div",{className:"max-h-48 overflow-y-auto",children:r.filter(C=>w===""||C.name.toLowerCase().includes(w.toLowerCase())).map(C=>u.jsxs("button",{type:"button",onClick:()=>{s(_=>({..._,waypointId:C.id})),g(!1),b("")},className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:[C.name," (",(C.totalDistance||C.distance||0).toFixed(0)," nm)"]},C.id))})]})]}),l&&u.jsxs("div",{className:"space-y-1 mt-1",children:[u.jsx("p",{className:"text-xs text-gray-500",children:(()=>{const C=l.fob||l.fuelOnBoard;return C!=null?`Planned fuel: ${C.toFixed(1)} klbs`:"Planned fuel: Not calculated"})()}),l.eta&&u.jsxs("p",{className:"text-xs text-gray-500",children:["Planned time: ",at(l.eta,"HH:mm")]})]})]}),l&&!a&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Actual Time at Waypoint"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{type:"datetime-local",value:o.actualTime?at(o.actualTime,"yyyy-MM-dd'T'HH:mm"):"",onChange:C=>{const _=C.target.value?new Date(C.target.value):null;s(M=>({...M,actualTime:_})),f(!!_)},className:"w-full h-9 px-3 border rounded text-sm"}),l.eta&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("p",{className:"text-xs text-gray-500",children:["Planned ETA: ",at(l.eta,"HH:mm")]}),h&&o.actualTime&&u.jsxs("p",{className:`text-sm font-medium ${(o.actualTime.getTime()-l.eta.getTime())/6e4>0?"text-red-600":"text-green-600"}`,children:["Time Delta: ",(()=>{const C=(o.actualTime.getTime()-l.eta.getTime())/6e4,_=Math.abs(C),M=Math.floor(_),O=Math.round((_-M)*60);return`${C>0?"+":C<0?"-":""}${M.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`})()]})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a?"Starting Fuel (klbs)":"Fuel Gauges (klbs)"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Main Tanks"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["no1","no2","no3","no4"].map(C=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Vy[C]}),u.jsx("input",{type:"number",value:o.gauges[C],onChange:_=>x(C,_.target.value),onFocus:_=>{o.gauges[C]===0&&_.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]},C))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Auxiliary Tanks"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["lhAUX","rhAUX","lhEXT","rhEXT"].map(C=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Vy[C]}),u.jsx("input",{type:"number",value:o.gauges[C],onChange:_=>x(C,_.target.value),onFocus:_=>{o.gauges[C]===0&&_.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]},C))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Totalizer"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Vy.totalizer}),u.jsx("input",{type:"number",value:o.gauges.totalizer,onChange:C=>x("totalizer",C.target.value),onFocus:C=>{o.gauges.totalizer===0&&C.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Additional Tanks"}),u.jsx("input",{type:"number",value:o.gauges.additionalTanks||0,onChange:C=>x("additionalTanks",C.target.value),onFocus:C=>{(o.gauges.additionalTanks||0)===0&&C.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]})]})]}),u.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:u.jsxs("p",{className:"text-sm font-medium",children:["Total Fuel: ",u.jsxs("span",{className:"text-blue-600",children:[P.toFixed(1)," klbs"]})]})})]}),!a&&u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Flow Meters (lbs/hr) ",p&&"- TOC Special Reading"]}),u.jsxs("div",{className:"mb-3",children:[p&&u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"First Reading"}),u.jsx("div",{className:"grid grid-cols-4 gap-3",children:["no1","no2","no3","no4"].map(C=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:tA[C]}),u.jsx("input",{type:"number",value:o.flowMeter[C],onChange:_=>A(C,_.target.value),onFocus:_=>{o.flowMeter[C]===0&&_.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"10",min:"0"})]},C))})]}),p&&o.flowMeter2&&u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Second Reading"}),u.jsx("div",{className:"grid grid-cols-4 gap-3",children:["no1","no2","no3","no4"].map(C=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:tA[C]}),u.jsx("input",{type:"number",value:o.flowMeter2[C],onChange:_=>A(C,_.target.value,!0),onFocus:_=>{o.flowMeter2[C]===0&&_.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"10",min:"0"})]},C))})]}),u.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:[u.jsxs("p",{className:"text-sm font-medium",children:[p?"Average":"Total"," Flow: ",u.jsxs("span",{className:"text-green-600",children:[j.toFixed(0)," lbs/hr"]}),u.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(j/1e3).toFixed(1)," klbs/hr)"]})]}),p&&o.flowMeter2&&u.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Reading 1: ",(o.flowMeter.no1+o.flowMeter.no2+o.flowMeter.no3+o.flowMeter.no4).toFixed(0)," lbs/hr | Reading 2: ",(o.flowMeter2.no1+o.flowMeter2.no2+o.flowMeter2.no3+o.flowMeter2.no4).toFixed(0)," lbs/hr"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"EICAS FOB (klbs)"}),u.jsx("input",{type:"number",value:o.eicasFOB,onChange:C=>s(_=>({..._,eicasFOB:parseFloat(C.target.value)||0})),onFocus:C=>{o.eicasFOB===0&&C.target.select()},className:"w-full h-9 px-3 border rounded text-sm",step:"0.1",min:"0",placeholder:"EICAS Fuel On Board reading"}),o.eicasFOB>0&&P>0&&u.jsx("div",{className:"mt-2 p-2 bg-yellow-50 rounded",children:u.jsxs("p",{className:"text-sm",children:["Gauge vs EICAS:",u.jsxs("span",{className:`ml-1 font-medium ${Math.abs(P-o.eicasFOB)>.5?"text-red-600":"text-green-600"}`,children:[P-o.eicasFOB>0?"+":"",(P-o.eicasFOB).toFixed(1)," klbs"]})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),u.jsx("textarea",{value:o.notes,onChange:C=>s(_=>({..._,notes:C.target.value})),className:"w-full h-20 px-3 py-2 border rounded text-sm resize-none",placeholder:"Optional notes about this fuel read..."})]})]})})}function nA(){return{waypointId:"",gauges:{no1:0,no2:0,no3:0,no4:0,lhAUX:0,rhAUX:0,lhEXT:0,rhEXT:0,totalizer:0,additionalTanks:0},flowMeter:{no1:0,no2:0,no3:0,no4:0},flowMeter2:void 0,eicasFOB:0,notes:"",actualTime:new Date}}const Gp={no1:"No.1",no2:"No.2",no3:"No.3",no4:"No.4",lhAUX:"LH AUX",rhAUX:"RH AUX",lhEXT:"LH EXT",rhEXT:"RH EXT",totalizer:"Totalizer",additionalTanks:"Additional"};function xue({isOpen:e,onClose:t,onSubmit:n,fuelRead:r,availableWaypoints:i}){const[a,o]=se.useState({no1:0,no2:0,no3:0,no4:0,lhAUX:0,rhAUX:0,lhEXT:0,rhEXT:0,totalizer:0,additionalTanks:0}),[s,l]=se.useState({no1:0,no2:0,no3:0,no4:0}),[c,h]=se.useState(0),[f,p]=se.useState("");se.useEffect(()=>{r&&e&&(o(r.fuelGauges||{no1:0,no2:0,no3:0,no4:0,lhAUX:0,rhAUX:0,lhEXT:0,rhEXT:0,totalizer:0,additionalTanks:0}),l(r.flowMeter||{no1:0,no2:0,no3:0,no4:0}),h(r.eicasFOB||0),p(r.note||""))},[r,e]);const d=(x,A)=>{const N=parseFloat(A)||0;o(P=>({...P,[x]:N}))},m=(x,A)=>{const N=parseFloat(A)||0;l(P=>({...P,[x]:N}))},g=()=>{r&&n(r.id,{fuelGauges:a,flowMeter:s,eicasFOB:c,note:f})},w=mr(a),b=s.no1+s.no2+s.no3+s.no4,y=i.find(x=>x.id===(r==null?void 0:r.waypointId));return u.jsx(gl,{isOpen:e,onClose:t,onConfirm:g,title:"Edit Fuel Read",message:"",confirmText:"Update Fuel Read",cancelText:"Cancel",size:"large",children:u.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto",children:[u.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Waypoint"}),u.jsx("p",{className:"text-base font-semibold",children:(y==null?void 0:y.name)||"Unknown"}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Distance: ",(r==null?void 0:r.distance.toFixed(0))||0," nm"]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Fuel Gauges (klbs)"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Main Tanks"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["no1","no2","no3","no4"].map(x=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Gp[x]}),u.jsx("input",{type:"number",value:a[x],onChange:A=>d(x,A.target.value),onFocus:A=>{a[x]===0&&A.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]},x))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Auxiliary Tanks"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["lhAUX","rhAUX","lhEXT","rhEXT"].map(x=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Gp[x]}),u.jsx("input",{type:"number",value:a[x],onChange:A=>d(x,A.target.value),onFocus:A=>{a[x]===0&&A.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]},x))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Totalizer"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Gp.totalizer}),u.jsx("input",{type:"number",value:a.totalizer,onChange:x=>d("totalizer",x.target.value),onFocus:x=>{a.totalizer===0&&x.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]}),a.additionalTanks!==void 0&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Gp.additionalTanks}),u.jsx("input",{type:"number",value:a.additionalTanks||0,onChange:x=>d("additionalTanks",x.target.value),onFocus:x=>{(a.additionalTanks||0)===0&&x.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]})]})]}),u.jsx("div",{className:"p-2 bg-blue-50 rounded",children:u.jsxs("p",{className:"text-sm font-medium",children:["Total from Gauges: ",u.jsxs("span",{className:"text-blue-600",children:[w.toFixed(1)," klbs"]})]})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Flow Meters (lbs/hr)"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["no1","no2","no3","no4"].map((x,A)=>u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Eng ",A+1]}),u.jsx("input",{type:"number",value:s[x],onChange:N=>m(x,N.target.value),onFocus:N=>{s[x]===0&&N.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"100",min:"0",placeholder:"0"})]},x))}),u.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:u.jsxs("p",{className:"text-sm font-medium",children:["Total Flow: ",u.jsxs("span",{className:"text-green-600",children:[b.toFixed(0)," lbs/hr"]}),u.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(b/1e3).toFixed(1)," klbs/hr)"]})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"EICAS FOB (klbs)"}),u.jsx("input",{type:"number",value:c,onChange:x=>h(parseFloat(x.target.value)||0),onFocus:x=>{c===0&&x.target.select()},className:"w-full h-9 px-3 border rounded text-sm",step:"0.1",min:"0",placeholder:"EICAS Fuel On Board reading"}),c>0&&w>0&&u.jsx("div",{className:"mt-2 p-2 bg-yellow-50 rounded",children:u.jsxs("p",{className:"text-sm",children:["Gauge vs EICAS:",u.jsxs("span",{className:`ml-1 font-medium ${Math.abs(w-c)>.5?"text-red-600":"text-green-600"}`,children:[w-c>0?"+":"",(w-c).toFixed(1)," klbs"]})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),u.jsx("textarea",{value:f,onChange:x=>p(x.target.value),className:"w-full h-20 px-3 py-2 border rounded text-sm resize-none",placeholder:"Optional notes about this fuel reading..."})]})]})})}function bue(e,t,n,r,i,a="",o){if(t==="taxi-start"){const h={id:crypto.randomUUID(),distance:0,waypointId:"taxi-start",fuelGauges:{no1:n.no1||0,no2:n.no2||0,no3:n.no3||0,no4:n.no4||0,lhAUX:n.lhAUX||0,rhAUX:n.rhAUX||0,lhEXT:n.lhEXT||0,rhEXT:n.rhEXT||0,totalizer:n.totalizer||0,additionalTanks:n.additionalTanks},flowMeter:{no1:0,no2:0,no3:0,no4:0},time:o||new Date,eicasFOB:i,note:a,fuelUsePerPriod:0,tog:0,fuelUsedAtBOP:0,remainingTime:0,timeGapFromPlan:0,plannedRemainingFuel:e.configuration.fuelOnBoard||0,fuelGapFromPlan:0,fuelGapFromEICAS:0,gapAnalysis:{altitudeGap:0,timeGap:0,fuelGap:0,windGap:0,noActualWaypoint:!1}},f=mr(h.fuelGauges),p=e.configuration.fuelOnBoard||0;return h.fuelGapFromPlan=f-p,h.fuelGapFromEICAS=f-h.eicasFOB,h}const l=YF(e).find(h=>h.id===t||h.name===t);if(!l)throw new Error(`Waypoint ${t} not found in flight plan`);console.log("Creating fuel read for waypoint:",{waypointId:t,waypointName:l.name,distance:l.distance,totalDistance:l.totalDistance});const c={id:crypto.randomUUID(),distance:l.totalDistance||l.distance||0,waypointId:t,fuelGauges:{no1:n.no1||0,no2:n.no2||0,no3:n.no3||0,no4:n.no4||0,lhAUX:n.lhAUX||0,rhAUX:n.rhAUX||0,lhEXT:n.lhEXT||0,rhEXT:n.rhEXT||0,totalizer:n.totalizer||0,additionalTanks:n.additionalTanks},flowMeter:{no1:r.no1||0,no2:r.no2||0,no3:r.no3||0,no4:r.no4||0},time:o||new Date,eicasFOB:i,note:a,fuelUsePerPriod:0,tog:0,fuelUsedAtBOP:0,remainingTime:0,timeGapFromPlan:0,plannedRemainingFuel:l.fob||l.fuelOnBoard||0,fuelGapFromPlan:0,fuelGapFromEICAS:0,gapAnalysis:{altitudeGap:0,timeGap:0,fuelGap:0,windGap:0,noActualWaypoint:!1}};return Sue(c,l),c}function wue(e,t){if(t.waypointId==="taxi-start"){const i=e.legs.findIndex(o=>o.type==="taxi");if(i===-1)throw new Error("No taxi leg found in flight plan");return{...e,legs:e.legs.map((o,s)=>{if(s!==i)return o;const c=[...o.fuelReads||[],t];return c.sort((h,f)=>h.distance-f.distance),{...o,fuelReads:c}})}}const n=e.legs.findIndex(i=>{var a;return(a=i.waypoints)==null?void 0:a.some(o=>o.id===t.waypointId||o.name===t.waypointId)});if(n===-1)throw new Error(`No leg found containing waypoint ${t.waypointId}`);return{...e,legs:e.legs.map((i,a)=>{if(a!==n)return i;const s=[...i.fuelReads||[],t];return s.sort((l,c)=>l.distance-c.distance),{...i,fuelReads:s}})}}function Sue(e,t){const n=mr(e.fuelGauges),r=t.fob||t.fuelOnBoard||0;e.fuelGapFromPlan=n-r,e.fuelGapFromEICAS=n-e.eicasFOB;const i=e.time,a=t.eta;a&&i&&(e.timeGapFromPlan=(i.getTime()-a.getTime())/(1e3*60)),e.gapAnalysis={altitudeGap:0,timeGap:e.timeGapFromPlan,fuelGap:e.fuelGapFromPlan,windGap:0,noActualWaypoint:!1}}function YF(e){const t=[];let n=0;for(const r of e.legs)if(r.waypoints)for(const i of r.waypoints)n+=i.distance||0,t.push({...i,totalDistance:i.totalDistance||n});return t}function hr(e,t=1){return e.toFixed(t)}function F2(e){const t=e<0?"-":"+",n=Math.abs(e),r=Math.floor(n),i=Math.round((n-r)*60);return`${t}${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}function XF(e,t){return e*(t/60)}function JF(e){return(e.no1+e.no2+e.no3+e.no4)/1e3}function Nue({fuelReads:e,availableWaypoints:t,canModify:n,onDelete:r,onEdit:i,totalPlanDistance:a=0,isTaxiLeg:o=!1}){const[s,l]=se.useState(null),[c,h]=se.useState(null),f=m=>{if(m==="taxi-start")return"Starting Fuel";const g=t.find(w=>w.id===m);return(g==null?void 0:g.name)||m},p=(m,g=.5)=>{const w=Math.abs(m);return w<g?"text-green-600":w<g*2?"text-yellow-600":"text-red-600"},d=m=>{r&&r(m),h(null)};return e.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("p",{children:"No fuel reads recorded yet"}),n&&u.jsx("p",{className:"text-sm mt-2",children:"Add your first fuel read to begin tracking"})]}):u.jsxs("div",{className:"space-y-3",children:[e.map((m,g)=>{const w=mr(m.fuelGauges),b=f(m.waypointId);return u.jsx("div",{className:"bg-white border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-semibold text-blue-700",children:g+1})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h4",{className:"font-medium text-sm",children:b}),u.jsxs("span",{className:"text-xs text-gray-500",children:[m.distance.toFixed(0)," nm ",a>0&&`(${(a-m.distance).toFixed(0)} nm to destination)`]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mt-1",children:[u.jsxs("span",{children:["Total: ",hr(w)," klbs"]}),u.jsxs("span",{children:["EICAS: ",hr(m.eicasFOB)," klbs"]}),m.fuelGapFromPlan!==0&&u.jsxs("span",{className:p(m.fuelGapFromPlan),children:["Gap: ",m.fuelGapFromPlan>0?"+":"",hr(m.fuelGapFromPlan)," klbs"]}),m.timeGapFromPlan!==0&&u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:p(m.timeGapFromPlan,5),children:["Time: ",F2(m.timeGapFromPlan)]}),m.flowMeter&&!o&&u.jsxs("span",{className:"text-gray-500",children:["(",(()=>{const y=JF(m.flowMeter);return`${XF(y,Math.abs(m.timeGapFromPlan)).toFixed(2)} klbs`})(),")"]})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ke,{size:"sm",variant:"ghost",onClick:()=>l(m),className:"h-7 px-2 text-xs",children:"View"}),n&&i&&u.jsx(Ke,{size:"sm",variant:"ghost",onClick:()=>i(m),className:"h-7 px-2 text-xs",children:"Edit"}),n&&r&&u.jsx(Ke,{size:"sm",variant:"danger",onClick:()=>h(m.id),className:"h-7 px-2 text-xs",children:"Delete"})]})]})},m.id)}),s&&u.jsx(jue,{fuelRead:s,waypoint:t.find(m=>m.id===s.waypointId)||null,waypointName:f(s.waypointId),onClose:()=>l(null)}),c&&u.jsx(gl,{isOpen:!0,onClose:()=>h(null),onConfirm:()=>d(c),title:"Delete Fuel Read",message:"Are you sure you want to delete this fuel read? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",size:"compact"})]})}function jue({fuelRead:e,waypoint:t,waypointName:n,onClose:r}){const i=mr(e.fuelGauges),a=e.flowMeter.no1+e.flowMeter.no2+e.flowMeter.no3+e.flowMeter.no4;return u.jsx(gl,{isOpen:!0,onClose:r,title:`Fuel Read: ${n}`,message:"",confirmText:"Close",size:"normal",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Distance"}),u.jsxs("p",{className:"font-medium",children:[e.distance.toFixed(1)," nm"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Time"}),u.jsx("p",{className:"font-medium",children:at(e.time,"HH:mm:ss")}),(t==null?void 0:t.eta)&&u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Planned: ",at(t.eta,"HH:mm")]}),t.actualTime&&u.jsxs("p",{className:`text-xs font-medium mt-1 ${(t.actualTime.getTime()-t.eta.getTime())/6e4>0?"text-red-600":"text-green-600"}`,children:["Delta: ",(()=>{const o=(t.actualTime.getTime()-t.eta.getTime())/6e4;return F2(o)})()]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Fuel Summary"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Total Gauges"}),u.jsxs("p",{className:"font-medium",children:[hr(i)," klbs"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"EICAS FOB"}),u.jsxs("p",{className:"font-medium",children:[hr(e.eicasFOB)," klbs"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Gauge vs EICAS"}),u.jsxs("p",{className:`font-medium ${Math.abs(e.fuelGapFromEICAS)>.5?"text-red-600":"text-green-600"}`,children:[e.fuelGapFromEICAS>0?"+":"",hr(e.fuelGapFromEICAS)," klbs"]})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Tank Readings (klbs)"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[u.jsxs("div",{children:["No.1: ",hr(e.fuelGauges.no1)]}),u.jsxs("div",{children:["No.2: ",hr(e.fuelGauges.no2)]}),u.jsxs("div",{children:["No.3: ",hr(e.fuelGauges.no3)]}),u.jsxs("div",{children:["No.4: ",hr(e.fuelGauges.no4)]}),u.jsxs("div",{children:["LH AUX: ",hr(e.fuelGauges.lhAUX)]}),u.jsxs("div",{children:["RH AUX: ",hr(e.fuelGauges.rhAUX)]}),u.jsxs("div",{children:["LH EXT: ",hr(e.fuelGauges.lhEXT)]}),u.jsxs("div",{children:["RH EXT: ",hr(e.fuelGauges.rhEXT)]}),u.jsxs("div",{children:["Totalizer: ",hr(e.fuelGauges.totalizer)]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Flow Meters (lbs/hr)"}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[u.jsxs("div",{children:["Eng 1: ",e.flowMeter.no1.toFixed(0)]}),u.jsxs("div",{children:["Eng 2: ",e.flowMeter.no2.toFixed(0)]}),u.jsxs("div",{children:["Eng 3: ",e.flowMeter.no3.toFixed(0)]}),u.jsxs("div",{children:["Eng 4: ",e.flowMeter.no4.toFixed(0)]})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total: ",a.toFixed(0)," lbs/hr (",(a/1e3).toFixed(1)," klbs/hr)"]})]}),(e.fuelGapFromPlan!==0||e.timeGapFromPlan!==0)&&u.jsxs("div",{className:"bg-yellow-50 p-3 rounded",children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Gap Analysis"}),u.jsxs("div",{className:"space-y-1 text-sm",children:[e.fuelGapFromPlan!==0&&u.jsxs("p",{children:["Fuel Gap: ",u.jsxs("span",{className:rA(e.fuelGapFromPlan),children:[e.fuelGapFromPlan>0?"+":"",hr(e.fuelGapFromPlan)," klbs"]})]}),e.timeGapFromPlan!==0&&u.jsxs("div",{children:[u.jsxs("p",{children:["Time Gap: ",u.jsx("span",{className:rA(e.timeGapFromPlan,5),children:F2(e.timeGapFromPlan)})]}),e.flowMeter&&u.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Expected fuel consumption based on flow rate: ",(()=>{const o=JF(e.flowMeter),s=XF(o,Math.abs(e.timeGapFromPlan));return`${o.toFixed(2)} klbs/hr  ${Math.abs(e.timeGapFromPlan).toFixed(2)} min = ${s.toFixed(2)} klbs`})()]})]})]})]}),e.note&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Notes"}),u.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:e.note})]})]})})}function rA(e,t=.5){const n=Math.abs(e);return n<t?"text-green-600":n<t*2?"text-yellow-600":"text-red-600"}function QF(e,t,n){var c,h;console.log(" recalculateWaypointETAs called with:",{planId:e.metadata.id,updatedWaypointId:t,actualTime:n.toISOString(),totalLegs:e.legs.length});const r=JSON.parse(JSON.stringify(e));let i=!1,a=-1,o=-1;for(let f=0;f<r.legs.length;f++){const p=r.legs[f];if(p.waypoints){console.log(` Checking leg ${f} with ${p.waypoints.length} waypoints`);for(let d=0;d<p.waypoints.length;d++){const m=p.waypoints[d];if(console.log(`  - Waypoint ${d}: id="${m.id}", name="${m.name}", comparing with "${t}"`),m.id===t){i=!0,a=f,o=d,console.log("   MATCH FOUND!");break}}if(i)break}}if(!i)return console.warn(" Waypoint not found for ETA recalculation:",t),e;console.log(" Found waypoint at:",{legIndex:a,waypointIndex:o,waypointName:r.legs[a].waypoints[o].name});let s=new Date(n);const l=r.legs[a];for(let f=o+1;f<l.waypoints.length;f++){const p=l.waypoints[f],d=l.waypoints[f-1],m=p.totalDistance||0,g=d.totalDistance||0,w=m-g,b=p.groundSpeed||l.groundSpeed||450,y=w/b,x=y*60*60*1e3;console.log(`   Distance calculation for ${p.name}:`,{waypointTotalDistance:m,prevWaypointTotalDistance:g,distanceBetween:w,groundSpeed:b,timeToWaypointHours:y,timeToWaypointMs:x});const A=new Date(s.getTime()+x);p.eta=A,console.log(` Updated ETA for waypoint ${p.name}:`,{previousETA:(c=p.eta)==null?void 0:c.toISOString(),newETA:A.toISOString(),distanceBetween:w,groundSpeed:b,timeToWaypointHours:y}),p.actualTime&&p.isActual?s=new Date(p.actualTime):s=A}for(let f=a+1;f<r.legs.length;f++){const p=r.legs[f];if(!(!p.waypoints||p.waypoints.length===0)){p.waitingMinutes&&p.waitingMinutes>0&&(s=new Date(s.getTime()+p.waitingMinutes*60*1e3));for(let d=0;d<p.waypoints.length;d++){const m=p.waypoints[d];if(d===0){const g=r.legs[f-1],w=(h=g.waypoints)==null?void 0:h[g.waypoints.length-1];if(w){const b=m.totalDistance-(w.totalDistance||0),y=m.groundSpeed||p.groundSpeed||450,A=b/y*60*60*1e3,N=new Date(s.getTime()+A);m.eta=N,s=m.actualTime&&m.isActual?new Date(m.actualTime):N}}else{const g=p.waypoints[d-1],w=m.totalDistance||0,b=g.totalDistance||0,y=w-b,x=m.groundSpeed||p.groundSpeed||450,N=y/x*60*60*1e3,P=new Date(s.getTime()+N);m.eta=P,s=m.actualTime&&m.isActual?new Date(m.actualTime):P}}}}return r.metadata.createdAt=new Date(r.metadata.createdAt),r.metadata.updatedAt=new Date(r.metadata.updatedAt),r.configuration.startTime=new Date(r.configuration.startTime),r.legs.forEach(f=>{f.waypoints&&f.waypoints.forEach(p=>{p.eta&&(p.eta=new Date(p.eta)),p.actualTime&&(p.actualTime=new Date(p.actualTime))})}),console.log(" recalculateWaypointETAs completed. Summary:",{updatedWaypointId:t,totalWaypointsProcessed:r.legs.reduce((f,p)=>{var d;return f+(((d=p.waypoints)==null?void 0:d.length)||0)},0),legsProcessed:r.legs.length}),r}function Aue({plan:e,currentLegId:t,canModifyFuel:n,onPlanUpdate:r}){var N,P;const[i,a]=se.useState(!1),[o,s]=se.useState(!1),[l,c]=se.useState(null),h=He(j=>j.addActionLogEntry),f=He(j=>j.updateWaypoint),p=He(j=>j.updateActualPlan),d=((N=e==null?void 0:e.legs)==null?void 0:N.find(j=>j.id===t))||((P=e==null?void 0:e.legs)==null?void 0:P[0]),m=(d==null?void 0:d.type)==="taxi"?[{id:"taxi-start",name:"Starting Fuel",distance:0,totalDistance:0}]:e?YF(e):[],g=(d==null?void 0:d.fuelReads)||[];console.log("SimpleFuelDashboard - Current leg fuel reads:",{currentLegId:t,currentLegHasFuelReads:d==null?void 0:d.fuelReads,fuelReadsCount:g.length});const w=j=>{var C;if(!e){alert("No active flight plan");return}try{let _=j.flowMeter;j.flowMeter2&&(_={no1:(j.flowMeter.no1+j.flowMeter2.no1)/2,no2:(j.flowMeter.no2+j.flowMeter2.no2)/2,no3:(j.flowMeter.no3+j.flowMeter2.no3)/2,no4:(j.flowMeter.no4+j.flowMeter2.no4)/2});const M=bue(e,j.waypointId,j.gauges,_,j.eicasFOB,j.notes,j.actualTime);if(j.waypointId!=="taxi-start"&&(He.getState().actualPlan||e).legs.flatMap(ee=>ee.waypoints||[]).find(ee=>ee.id===j.waypointId)){const ee={actualFob:j.eicasFOB||mr(j.gauges),fob:j.eicasFOB||mr(j.gauges),fuelOnBoard:(j.eicasFOB||mr(j.gauges))*1e3};j.actualTime&&(ee.actualTime=j.actualTime,ee.isActual=!0),f(j.waypointId,ee,"fuel-tab")}const T=He.getState().actualPlan||e;if(j.waypointId!=="taxi-start"&&j.actualTime){const E=T.legs.flatMap(R=>R.waypoints||[]).find(R=>R.id===j.waypointId);if(E!=null&&E.actualTime&&E.actualTime.getTime()===j.actualTime.getTime()){const R=QF(T,j.waypointId,j.actualTime);p(R)}}const L=He.getState().actualPlan||T;let U=wue(L,M);console.log("Fuel read added to plan:",{fuelReadId:M.id,waypointId:M.waypointId,actualTime:j.actualTime,updatedLegFuelReads:(C=U.legs.find(E=>{var R;return(R=E.waypoints)==null?void 0:R.some(q=>q.id===M.waypointId)}))==null?void 0:C.fuelReads}),r(U);const D=j.waypointId==="taxi-start"?{name:"Starting Fuel"}:e.legs.flatMap(E=>E.waypoints||[]).find(E=>E.id===j.waypointId),$=mr(j.gauges),W=(D==null?void 0:D.name)==="-TOC-"||(D==null?void 0:D.id)==="-TOC-",z=`Added fuel read at ${(D==null?void 0:D.name)||"Unknown"} | FOB: ${$.toFixed(1)} klb`,Y=[];if(j.eicasFOB&&Y.push(`EICAS: ${j.eicasFOB.toFixed(1)} klb`),W&&j.flowMeter2){const E=_.no1+_.no2+_.no3+_.no4;Y.push(`Flow (avg): ${E.toFixed(0)} lbs/hr`)}j.notes&&Y.push(`Note: ${j.notes}`),j.actualTime&&Y.push(`Time: ${at(j.actualTime,"HH:mm")}`);const re=Y.length>0?`${z} | ${Y.join(" | ")}`:z;h("FUEL READ",re),a(!1)}catch(_){alert(_ instanceof Error?_.message:"Failed to add fuel read")}},b=j=>{if(!d||!e)return;const C=d.fuelReads.find(I=>I.id===j),_=d.fuelReads.filter(I=>I.id!==j),M={...d,fuelReads:_},O=e.legs.map(I=>I.id===d.id?M:I),T={...e,legs:O};if(r(T),C){const I=C.waypointId==="taxi-start"?{name:"Starting Fuel"}:e.legs.flatMap(U=>U.waypoints||[]).find(U=>U.id===C.waypointId),L=mr(C.fuelGauges);h("FUEL READ",`Deleted fuel read at ${(I==null?void 0:I.name)||"Unknown"} | FOB was ${L.toFixed(1)} klb`)}},y=j=>{c(j),s(!0)},x=(j,C)=>{if(!d||!e)return;const _=d.fuelReads.find(L=>L.id===j),M=d.fuelReads.map(L=>L.id===j?{...L,...C}:L),O={...d,fuelReads:M},T=e.legs.map(L=>L.id===d.id?O:L),I={...e,legs:T};if(r(I),_){const L=_.waypointId==="taxi-start"?{name:"Starting Fuel"}:e.legs.flatMap(W=>W.waypoints||[]).find(W=>W.id===_.waypointId),U=mr(_.fuelGauges),D=C.fuelGauges?mr(C.fuelGauges):U;let $=`Updated fuel read at ${(L==null?void 0:L.name)||"Unknown"}`;if(Math.abs(D-U)>=.1){const W=D-U;$+=` | FOB: ${U.toFixed(1)}  ${D.toFixed(1)} klb (${W>0?"+":""}${W.toFixed(1)})`}else $+=` | FOB: ${D.toFixed(1)} klb`;h("FUEL READ",$)}s(!1),c(null)},A=Pue(g,d);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Fuel Management"}),u.jsx("p",{className:"text-sm text-gray-600",children:d?`Current Leg: ${d.type} (${g.length} fuel reads)`:"No leg selected"})]}),n&&e&&u.jsx(Ke,{onClick:()=>a(!0),className:"h-9",children:(d==null?void 0:d.type)==="taxi"?"Add Starting Fuel":"Add Fuel Read"})]}),A&&u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:(d==null?void 0:d.type)==="taxi"?"Starting Fuel":"Latest Reading"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[A.latestFuel.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Fuel Used"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[A.fuelUsed.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Avg Gap"}),u.jsxs("p",{className:`text-lg font-bold ${Math.abs(A.avgGap)>1?"text-red-600":Math.abs(A.avgGap)>.5?"text-yellow-600":"text-green-600"}`,children:[A.avgGap>0?"+":"",A.avgGap.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Distance"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[A.distanceCovered.toFixed(0)," nm"]})]})]}),(e==null?void 0:e.line970)&&u.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-purple-900 mb-2",children:"970 2/3 Calculation"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-purple-700",children:["From: ",e.line970.startDistance.toFixed(0)," nm"]}),u.jsxs("p",{className:"text-purple-700",children:["FOB: ",e.line970.startFOB.toFixed(1)," klbs"]})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-purple-700",children:["To: ",e.line970.endDistance.toFixed(0)," nm"]}),u.jsxs("p",{className:"text-purple-700",children:["FOB: ",e.line970.endFOB.toFixed(1)," klbs"]})]})]}),u.jsxs("div",{className:"mt-2 pt-2 border-t border-purple-200",children:[u.jsxs("p",{className:"text-sm text-purple-700",children:["Fuel Consumption: ",(e.line970.startFOB-e.line970.endFOB).toFixed(1)," klbs"]}),e.line970.endFOB<0&&u.jsx("p",{className:"text-red-600 font-semibold text-sm mt-1",children:" Insufficient fuel!"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsx("h3",{className:"text-sm font-semibold",children:"Fuel Reads"})}),u.jsx("div",{className:"p-4",children:e?m.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("p",{children:"No waypoints available"}),u.jsx("p",{className:"text-sm mt-2",children:"Add waypoints to your flight plan first"})]}):u.jsx(Nue,{fuelReads:g,availableWaypoints:m,canModify:n,onDelete:b,onEdit:y,totalPlanDistance:e?e.legs.reduce((j,C)=>j+(C.distance||0),0):0,isTaxiLeg:(d==null?void 0:d.type)==="taxi"}):u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("p",{children:"No active flight plan"}),u.jsx("p",{className:"text-sm mt-2",children:"Select a flight plan to manage fuel reads"})]})})]}),i&&u.jsx(yue,{isOpen:i,onClose:()=>a(!1),onSubmit:w,availableWaypoints:m,isTaxiLeg:(d==null?void 0:d.type)==="taxi"}),o&&u.jsx(xue,{isOpen:o,onClose:()=>{s(!1),c(null)},onSubmit:x,fuelRead:l,availableWaypoints:m})]})}function Pue(e,t){if(e.length===0)return null;const n=[...e].sort((h,f)=>h.distance-f.distance),r=n[n.length-1],i=mr(r.fuelGauges),o=((t==null?void 0:t.initialFuel)||0)-i,s=r.distance,c=n.reduce((h,f)=>h+f.fuelGapFromPlan,0)/n.length;return{latestFuel:i,fuelUsed:Math.max(0,o),avgGap:c,distanceCovered:Math.max(0,s)}}function Cue({value:e,max:t,label:n,unit:r,danger:i=0,warning:a=0}){const o=e/t*100,s=()=>e<=i?"#FF3B30":e<=a?"#FF9500":"#34C759";return u.jsxs("div",{className:"relative w-48 h-48",children:[u.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:[u.jsx("circle",{cx:"96",cy:"96",r:"80",fill:"none",stroke:"#E5E5EA",strokeWidth:"16",strokeDasharray:"377 377",strokeDashoffset:"94"}),u.jsx("circle",{cx:"96",cy:"96",r:"80",fill:"none",stroke:s(),strokeWidth:"16",strokeDasharray:"377 377",strokeDashoffset:94+377*.75*(1-o/100),className:"transition-all duration-500"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("p",{className:"text-3xl font-bold",style:{color:s()},children:e.toFixed(1)}),u.jsx("p",{className:"text-sm text-label-gray",children:r}),u.jsx("p",{className:"text-xs text-label-gray mt-2",children:n})]}),i>0&&u.jsxs("div",{className:"absolute bottom-2 left-2 text-xs text-danger",children:[i," ",r]}),a>0&&u.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-warning",children:[a," ",r]})]})}function ZF(){var h;const e=He(f=>f.actualPlan),t=He(f=>f.updateActualPlan),n=He(f=>f.currentLegIndex);if(!e)return u.jsx("div",{className:"text-center py-8 text-gray-500",children:u.jsx("p",{children:"No active flight plan"})});const r=e.legs[n||0],i=(r==null?void 0:r.id)||((h=e.legs[0])==null?void 0:h.id)||null,a=e.configuration.fuelOnBoard,o=r!=null&&r.fuelReads&&r.fuelReads.length>0?r.fuelReads.reduce((f,p)=>p.distance>f.distance?p:f):null,s=o?mr(o.fuelGauges):(r==null?void 0:r.initialFuel)||a,l=a-s,c=f=>{console.log("FuelDashboard - Updating actual plan"),t(f)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"panel",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Fuel Status"}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx(Cue,{value:s,max:a,label:"Fuel Remaining",unit:"klbs",danger:5,warning:10})}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"label-text",children:"Capacity"}),u.jsxs("p",{className:"value-text text-xl",children:[a.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"label-text",children:"Used"}),u.jsxs("p",{className:"value-text text-xl text-warning",children:[l.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"label-text",children:"Remaining"}),u.jsxs("p",{className:"value-text text-xl text-success",children:[s.toFixed(1)," klbs"]})]})]})]}),u.jsx(Aue,{plan:e,currentLegId:i,canModifyFuel:!0,onPlanUpdate:c}),u.jsxs("div",{className:"panel",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Flight Plan Fuel (klbs)"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"label-text",children:"Trip Fuel"}),u.jsxs("span",{className:"value-text",children:[e.fuel.tripFuel.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"label-text",children:"Route Reserve (10%)"}),u.jsxs("span",{className:"value-text",children:[e.fuel.tripFuel10Percent.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"label-text",children:"Holding + Unusable"}),u.jsxs("span",{className:"value-text",children:[(e.fuel.holding+e.fuel.unusable).toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"label-text",children:"Alternate"}),u.jsxs("span",{className:"value-text",children:[e.fuel.finalHour.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[u.jsx("span",{className:"font-semibold",children:"Total Required"}),u.jsxs("span",{className:"font-semibold",children:[e.fuel.total.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"label-text",children:"Spare Fuel"}),u.jsxs("span",{className:`value-text ${e.fuel.spareFuel<0?"text-danger":"text-success"}`,children:[e.fuel.spareFuel.toFixed(1)," klbs"]})]})]})]})]})}function Oue({selectedLegIndex:e}){const t=He(f=>f.actualPlan),n=He(f=>f.currentLegIndex),[r,i]=se.useState("normal"),a=e!==void 0?e:n;if(se.useEffect(()=>{i("normal")},[a]),!t)return null;const o=t.legs[a];if(!o)return u.jsxs("div",{className:"panel",children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Segments"}),u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No leg selected"})]});let s=o.segments||[];if(r!=="normal"||r==="normal"&&o.specialCondition&&o.specialCondition!=="normal")try{if(r==="normal"){const f={...o,specialCondition:"normal",segments:[]},p=Fi(f,t.configuration);p&&p.length>0&&(s=p)}else{const f=Wb(o,t.configuration,r);f&&f.length>0&&(s=f)}}catch(f){console.error("Error calculating segments for condition:",r,f)}if(!s||s.length===0)return u.jsxs("div",{className:"panel",children:[u.jsxs("h3",{className:"font-semibold mb-4",children:[o.type==="taxi"?"Taxi":`Leg ${a+1}`," - ",o.type.toUpperCase()," Segments"]}),u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No segments available for this leg"})]});const l=f=>{const p=Math.floor(f/60),d=Math.round(f%60);return`${p}:${d.toString().padStart(2,"0")}`},c=["normal","minimum4Engines","minimum3Engines","lossOfPressure","tenPercent"],h=ex(r);return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"panel",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"font-semibold",children:[o.type==="taxi"?"Taxi":`Leg ${a+1}`," - ",o.type.toUpperCase()," Segments"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm text-gray-600",children:"Condition:"}),u.jsx("select",{value:r,onChange:f=>i(f.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:c.map(f=>u.jsxs("option",{value:f,children:[ex(f),f==="normal"&&" (Default)"]},f))})]})]}),r!=="normal"&&u.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Showing calculations for:"})," ",h,u.jsx("span",{className:"ml-2 text-xs",children:"(Analyzing special condition scenario)"})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse text-xs",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b bg-gray-50",children:[u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Point"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Altitude"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Initial Weight (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Distance"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:" Distance"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"IAS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"TAS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"GS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Duration"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:" Time"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Ini Fuel (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Fuel/Hr (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Fuel/Seg (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Rem Fuel (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"ISA"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Wind"})]})}),u.jsx("tbody",{children:s.map((f,p)=>{const d=r&&r!=="normal"?"Cruise":p===0?"Climb":"Cruise",m=f.endAltitude?Math.round(f.endAltitude/1e3):"--",g=s.slice(0,p+1).reduce((w,b)=>w+(b.duration||0),0);return u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsx("td",{className:"py-1 px-2 text-xs",children:d}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.initialWeight?Math.round(r==="normal"?f.initialWeight:f.initialWeight/1e3):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:Math.round(f.endDistance-f.startDistance)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:Math.round(f.endDistance)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.indicatedAirSpeed||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.trueAirSpeed||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.groundSpeed||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.duration?Math.round(f.duration):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:l(g)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.initialFuel!==void 0&&f.initialFuel!==null?(f.initialFuel/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.fuelConsumptionPerHour?(f.fuelConsumptionPerHour/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.fuelConsumed?(f.fuelConsumed/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.remainingFuel?(f.remainingFuel/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.isa!==void 0?Math.round(f.isa):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:f.projectedWind!==void 0?Math.round(f.projectedWind):"--"})]},f.id)})})]})})]})})}function Tue({waypoints:e,leg:t,scheduledTakeoffTime:n=new Date,onWaypointClick:r,showActions:i=!1,onAddWaypoint:a,onDeleteWaypoint:o,onDirectTo:s,onUpdateActual:l}){const[c,h]=ge.useState(null),f=m=>{const g=Math.floor(m/60),w=Math.floor(m%60);return`${g}:${w.toString().padStart(2,"0")}`},p=m=>m?at(m,"HH:mm"):"--:--",d=e.map((m,g)=>{var O,T,I,L,U,D,$,W;let w=0;for(let z=0;z<=g;z++)w+=e[z].distance||0;const b=m.distanceRemain!==void 0?m.distanceRemain:0;let y=m.eet||0;if(!y&&m.distance>0){const z=m.groundSpeed||((T=(O=t.segments)==null?void 0:O[0])==null?void 0:T.groundSpeed)||0;z>0&&(y=m.distance/z*60)}let x=m.eta;if(!x){let z=0;for(let Y=0;Y<=g;Y++){const re=e[Y];if(re.eet)z+=re.eet;else if(re.distance>0){const E=re.groundSpeed||((L=(I=t.segments)==null?void 0:I[0])==null?void 0:L.groundSpeed)||0;E>0&&(z+=re.distance/E*60)}}x=new Date(n.getTime()+z*60*1e3)}let A=m.toEET||0;if(!A)for(let z=g+1;z<e.length;z++){const Y=e[z];if(Y.eet)A+=Y.eet;else if(Y.distance>0){const re=Y.groundSpeed||((D=(U=t.segments)==null?void 0:U[0])==null?void 0:D.groundSpeed)||0;re>0&&(A+=Y.distance/re*60)}}let N,P,j,C,_,M;if(N=m.fob!==void 0?m.fob:m.fuelOnBoard?m.fuelOnBoard/1e3:t.initialFuel||0,m.name==="-TOC-"||m.id==="-TOC-"){const z=He.getState().actualPlan,Y=He.getState().activePlan,re=z||Y;let E=null;if(re&&re.configuration){const q={...t,specialCondition:"normal"};E=Fi(q,re.configuration)}console.log(" TOC waypoint - checking segments:",{hasLegSegments:!!t.segments,legSegmentCount:(($=t.segments)==null?void 0:$.length)||0,legSpecialCondition:t.specialCondition,normalSegmentCount:(E==null?void 0:E.length)||0,normalSegments:E==null?void 0:E.map(q=>({point:q.point,remainingFuel:q.remainingFuel,remainingFuelKlb:q.remainingFuel?q.remainingFuel/1e3:void 0,initialFuel:q.initialFuel,initialFuelKlb:q.initialFuel?q.initialFuel/1e3:void 0}))});const R=E||t.segments;if(R&&R.length>0){const q=R.find(ee=>ee.point==="climb");if(q&&q.remainingFuel!==void 0){const ee=q.remainingFuel,H=ee>1e3?ee/1e3:ee;console.log(" OVERRIDE: Using climb segment fuel for TOC display:",{originalFob:N,climbSegmentFuel:ee,calculatedFob:H,isConverted:ee>1e3,fromNormalSegments:R===E}),N=H}else console.warn(" No climb segment found or no remaining fuel in climb segment")}}return(m.name==="-TOC-"||(W=m.name)!=null&&W.includes("TOC"))&&console.log(" TOC Waypoint FOB display:",{waypointName:m.name,waypointId:m.id,fuelOnBoard:m.fuelOnBoard,fob:m.fob,calculatedFob:N,legInitialFuel:t.initialFuel}),P=m.altitude||0,j=m.groundSpeed||0,C=m.ias||0,_=m.trueAirSpeed||0,M=m.isa||m.temp||0,g===0&&w===0&&(P=0,j=0,C=0,_=0),{...m,cumulativeDistance:w,distRemaining:b,eet:y,eta:x,timeRemaining:A,fob:N,altitude:Math.round(P),groundSpeed:Math.round(j),ias:Math.round(C),tas:Math.round(_),isa:Math.round(M)}});return u.jsx("div",{className:"w-full",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsxs("thead",{className:"sticky top-0 z-10",children:[u.jsxs("tr",{className:"border-b-2 border-gray-200",children:[u.jsx("th",{className:"w-10 bg-white",rowSpan:2}),u.jsx("th",{className:"text-left py-2 px-2 font-medium bg-white",rowSpan:2,children:"Name"}),u.jsxs("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:["MAG",u.jsx("br",{}),"HDG"]}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"Dst"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"Total Dst"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"Dst Rem"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"EET"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"ETA"}),u.jsxs("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:["Time",u.jsx("br",{}),"Rem"]}),u.jsxs("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:["FOB",u.jsx("br",{}),"(klb)"]}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"Alt"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"IAS"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"TAS"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"GS"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",colSpan:3,children:"Wind"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"ISA"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"Mag Dec"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"lat"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white",rowSpan:2,children:"long"})]}),u.jsxs("tr",{className:"border-b border-gray-200 bg-white",children:[u.jsx("th",{className:"text-center py-1 px-2 text-xs font-normal bg-white",children:"DIR"}),u.jsx("th",{className:"text-center py-1 px-2 text-xs font-normal bg-white",children:"VEL"}),u.jsx("th",{className:"text-center py-1 px-2 text-xs font-normal bg-white",children:"Head/Tail"})]})]}),u.jsx("tbody",{children:d.map((m,g)=>{var w,b,y;return u.jsxs("tr",{className:"border-b hover:bg-gray-50",onClick:()=>r==null?void 0:r(m,g),children:[u.jsx("td",{className:"py-2 px-1 relative",children:i?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:x=>{x.stopPropagation(),h(c===g?null:g)},className:"p-1 hover:bg-gray-200 rounded transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),c===g&&u.jsxs("div",{className:"absolute left-0 top-8 z-10 bg-white rounded-lg shadow-lg border border-gray-200 py-1 min-w-[150px]",children:[l&&u.jsx("button",{onClick:x=>{x.stopPropagation(),l(g),h(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm font-medium text-primary",children:"Update Actual"}),s&&g<e.length-1&&u.jsx("button",{onClick:x=>{x.stopPropagation(),s(g),h(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm font-medium",children:"Direct To..."}),u.jsx("button",{onClick:x=>{x.stopPropagation(),a==null||a(g),h(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"Add Waypoint After"}),g>0&&u.jsx("button",{onClick:x=>{x.stopPropagation(),o==null||o(g),h(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-red-600",children:"Delete Waypoint"})]})]}):null}),u.jsx("td",{className:"py-2 px-2 font-medium",children:u.jsxs("div",{className:"flex items-center gap-1",children:[m.name,m.isActual&&u.jsx("span",{className:"text-xs bg-primary/10 text-primary px-1.5 py-0.5 rounded font-normal",children:"A"})]})}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(m.magHDG||0)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(m.distance||0)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(m.cumulativeDistance)}),u.jsx("td",{className:"text-center py-2 px-2",children:Math.round(m.distRemaining)}),u.jsx("td",{className:"text-center py-2 px-2",children:m.eet?f(m.eet):"0:00"}),u.jsx("td",{className:"text-center py-2 px-2",children:m.isActual&&m.actualTime?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.eta?p(m.eta):"--:--"}),u.jsx("span",{className:`font-medium ${m.eta&&m.actualTime.getTime()>m.eta.getTime()?"text-red-600":m.eta&&m.actualTime.getTime()<m.eta.getTime()?"text-green-600":"text-primary"}`,children:(()=>{var x,A;return m.name==="AMMIT"&&console.log(" AMMIT waypoint time display:",{actualTime:m.actualTime,actualTimeString:(x=m.actualTime)==null?void 0:x.toISOString(),formattedTime:p(m.actualTime),timeUpdatedFrom:m.timeUpdatedFrom,lastTimeUpdate:m.lastTimeUpdate,isActual:m.isActual,eta:m.eta,etaString:(A=m.eta)==null?void 0:A.toISOString()}),p(m.actualTime)})()})]}):m.eta?p(m.eta):"--:--"}),u.jsx("td",{className:"text-center py-2 px-2",children:m.timeRemaining?f(m.timeRemaining):"--:--"}),u.jsx("td",{className:"text-center py-2 px-2",children:m.isActual&&m.actualFob!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.fob?m.fob.toFixed(1):"--"}),u.jsx("span",{className:`font-medium ${m.fob&&m.actualFob>m.fob?"text-green-600":m.fob&&m.actualFob<m.fob?"text-red-600":"text-primary"}`,children:m.actualFob.toFixed(1)})]}):m.fob?m.fob.toFixed(1):"--"}),u.jsx("td",{className:"text-center py-2 px-2",children:m.isActual&&m.actualAltitude!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.altitude>0?Math.round(m.altitude/1e3):0}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualAltitude/1e3)})]}):m.altitude>0?Math.round(m.altitude/1e3):0}),u.jsx("td",{className:"text-center py-2 px-2",children:m.ias||0}),u.jsx("td",{className:"text-center py-2 px-2",children:m.isActual&&m.actualTrueAirSpeed!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.tas||0}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualTrueAirSpeed)})]}):m.tas||0}),u.jsx("td",{className:"text-center py-2 px-2",children:m.isActual&&m.actualGroundSpeed!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.groundSpeed||0}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualGroundSpeed)})]}):m.groundSpeed||0}),u.jsx("td",{className:"text-center py-2 px-2",children:m.isActual&&m.actualWindDirection!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:Math.round(m.wind||0)}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualWindDirection)})]}):Math.round(m.wind||0)}),u.jsx("td",{className:"text-center py-2 px-2",children:m.isActual&&m.actualWindVelocity!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:Math.round(m.windVelocity||0)}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualWindVelocity)})]}):Math.round(m.windVelocity||0)}),u.jsx("td",{className:"text-center py-2 px-2",children:m.isActual&&m.actualHeadTail!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:Math.round(m.headTail||0)}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualHeadTail)})]}):Math.round(m.headTail||0)}),u.jsx("td",{className:"text-center py-2 px-2",children:m.isActual&&m.actualIsa!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.isa}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualIsa)})]}):m.isa}),u.jsx("td",{className:"text-center py-2 px-2",children:((w=m.magDec)==null?void 0:w.toFixed(1))||"0.0"}),u.jsx("td",{className:"text-center py-2 px-2",children:((b=m.coordinate)==null?void 0:b.latitude.toFixed(4))||"--"}),u.jsx("td",{className:"text-center py-2 px-2",children:((y=m.coordinate)==null?void 0:y.longitude.toFixed(3))||"--"})]},m.id)})})]})})}function ek(){var q,ee,H,te;const e=He(X=>X.actualPlan),t=He(X=>X.updateActualPlan),n=He(X=>X.currentLegIndex),r=He(X=>X.actionLog),i=He(X=>X.showActionLog),a=He(X=>X.addActionLogEntry),o=He(X=>X.setShowActionLog),s=He(X=>X.clearActionLog),l=He(X=>X.updateWaypoint),[c,h]=se.useState(null),[f,p]=se.useState(null),[d,m]=se.useState("distance"),[g,w]=se.useState(!1),[b,y]=se.useState("existing"),[x,A]=se.useState(null),[N,P]=se.useState(0),[j,C]=se.useState(null),[_,M]=se.useState({groundSpeed:"",trueAirSpeed:"",altitude:"",time:"",windVelocity:"",windDirection:"",fob:"",isa:"",note:""}),[O,T]=se.useState({name:"",distance:"",magneticHeading:"",latitude:"",longitude:""});if(!e)return null;const I=e.legs[n||0];if(!I)return null;const L=(q=I.waypoints)==null?void 0:q.find(X=>X.name==="-TOC-"||X.id==="-TOC-");L&&(console.log(" WaypointManager - TOC waypoint from currentLeg:",{name:L.name,id:L.id,fob:L.fob,fuelOnBoard:L.fuelOnBoard,hasFob:L.fob!==void 0,hasFuelOnBoard:L.fuelOnBoard!==void 0}),console.log(" WaypointManager - Leg segments:",{hasSegments:!!I.segments,segmentCount:((ee=I.segments)==null?void 0:ee.length)||0,specialCondition:I.specialCondition,segments:(H=I.segments)==null?void 0:H.map(X=>({point:X.point,remainingFuel:X.remainingFuel,remainingFuelKlb:X.remainingFuel?X.remainingFuel/1e3:void 0}))}));const U=X=>{const G=/\b(Time|FOB):\s*([\+\-][^\s,]+)/g;let ce=0;const ae=[];let le;for(;(le=G.exec(X))!==null;){le.index>ce&&ae.push(u.jsx("span",{children:X.substring(ce,le.index)},`text-${ce}`));const[xe,be,de]=le,ie=de.startsWith("+"),Ce=de.startsWith("-");let Fe="#374151";be==="Time"?Fe=ie?"#dc2626":Ce?"#16a34a":"#374151":be==="FOB"&&(Fe=ie?"#16a34a":Ce?"#dc2626":"#374151"),ae.push(u.jsxs("span",{children:[be,": ",u.jsx("strong",{style:{color:Fe},children:de})]},`match-${le.index}`)),ce=le.index+xe.length}return ce<X.length&&ae.push(u.jsx("span",{children:X.substring(ce)},"text-end")),u.jsx(u.Fragment,{children:ae})},D=X=>{h({afterIndex:X}),T({name:"",distance:"",magneticHeading:"",latitude:"",longitude:""})},$=X=>{const G=I.waypoints[X];p({waypoint:G,index:X})},W=()=>{if(!f||!e)return;const X=f.index,G=I.waypoints[X],ce=[...I.waypoints];if(ce.splice(X,1),X<ce.length){const be=ce[X];if(ce[X]={...be,distance:(be.distance||0)+(G.distance||0)},X>0){const de=ce[X-1];if(de.coordinate&&be.coordinate){const ie=Yi(de.coordinate.latitude,de.coordinate.longitude),Ce=Us(de.coordinate,be.coordinate,ie);ce[X]={...ce[X],magHDG:Math.round(Ce),heading:Ce}}}}const ae=[...e.legs];ae[n||0]={...I,waypoints:ce};const le={...e,legs:ae},xe=rl(le);t(xe),a("DELETE",`Deleted waypoint ${f.waypoint.name}`),p(null)},z=()=>{if(!c||!e)return;const X=I.waypoints[c.afterIndex],G=XS(O.name||"NEW WPT");if(d==="coordinate")G.coordinate={latitude:parseFloat(O.latitude),longitude:parseFloat(O.longitude)};else{const ie=Yi(X.coordinate.latitude,X.coordinate.longitude),Ce=Gy(parseFloat(O.magneticHeading),ie);G.coordinate=eA(X.coordinate,parseFloat(O.distance),Ce)}if(X.coordinate&&G.coordinate){const ie=kd(X.coordinate,G.coordinate),Ce=Yi(X.coordinate.latitude,X.coordinate.longitude),Fe=Us(X.coordinate,G.coordinate,Ce);G.distance=Math.round(ie),G.magHDG=Math.round(Fe),G.heading=Fe}else G.distance=0,G.magHDG=0,G.heading=0;const ce=[...I.waypoints];if(ce.splice(c.afterIndex+1,0,G),c.afterIndex+2<ce.length){const ie=ce[c.afterIndex+2];if(G.coordinate&&ie.coordinate){const Ce=kd(G.coordinate,ie.coordinate),Fe=Yi(G.coordinate.latitude,G.coordinate.longitude),Ae=Us(G.coordinate,ie.coordinate,Fe);ce[c.afterIndex+2]={...ie,distance:Math.round(Ce),magHDG:Math.round(Ae),heading:Ae}}}const ae=ce.reduce((ie,Ce)=>ie+(Ce.distance||0),0),le=[...e.legs];le[n||0]={...I,waypoints:ce,distance:ae};const xe={...e,legs:le},be=rl(xe);t(be);const de=I.waypoints[c.afterIndex].name;a("ADD",`Added waypoint ${O.name} after ${de}`),h(null)},Y=X=>{var ce,ae,le,xe,be,de;const G=I.waypoints[X];C({index:X,waypoint:G}),M({groundSpeed:((ce=G.groundSpeed)==null?void 0:ce.toString())||"",trueAirSpeed:((ae=G.trueAirSpeed)==null?void 0:ae.toString())||"",altitude:G.altitude?Math.round(G.altitude/1e3).toString():"",time:G.eta?at(G.eta,"HH:mm"):at(new Date,"HH:mm"),windVelocity:((le=G.windVelocity)==null?void 0:le.toString())||"",windDirection:((xe=G.wind)==null?void 0:xe.toString())||"",fob:((be=G.fob)==null?void 0:be.toFixed(1))||"",isa:((de=G.isa)==null?void 0:de.toString())||"",note:G.note||""})},re=()=>{if(!j||!e)return;const{index:X,waypoint:G}=j;console.log(" confirmUpdateActual called for waypoint:",{name:G.name,id:G.id,index:X,actualData:_});let ce=null;if(_.time){const[Ne,vt]=_.time.split(":").map(Number);ce=new Date(G.eta||new Date),ce.setHours(Ne,vt,0,0)}let ae=G.headTail||0;const le=parseFloat(_.groundSpeed)||G.groundSpeed||0,xe=parseFloat(_.trueAirSpeed)||G.trueAirSpeed||0,be=parseFloat(_.windVelocity)||G.windVelocity||0,de=parseFloat(_.windDirection)||G.wind||0;if(be>0&&G.heading){const Ne=Gy(G.magHDG||G.heading,G.magDec||0);ae=iue(xe,le,be,de,Ne)}const ie={isActual:!0,actualGroundSpeed:le,actualTrueAirSpeed:xe,actualAltitude:_.altitude?parseFloat(_.altitude)*1e3:G.altitude,actualWindVelocity:be,actualWindDirection:de,actualIsa:_.isa?parseFloat(_.isa):G.isa,actualHeadTail:ae,note:_.note};ce&&(ie.actualTime=ce),_.fob&&(ie.actualFob=parseFloat(_.fob),ie.fob=parseFloat(_.fob),ie.fuelOnBoard=parseFloat(_.fob)*1e3),l(G.id,ie,"waypoints-tab");const Fe=He.getState().actualPlan;if(ce&&Fe){const Ne=QF(Fe,G.id,ce);t(Ne)}let Ae=`Updated actual for waypoint ${G.name}`;const Te=[];if(ce&&G.eta){const Ne=Math.round((ce.getTime()-G.eta.getTime())/6e4);Ne!==0&&Te.push(`Time: ${Ne>0?"+":""}${Ne} min`)}if(!isNaN(le)&&G.groundSpeed){const Ne=le-G.groundSpeed;Math.abs(Ne)>=1&&Te.push(`GS: ${Ne>0?"+":""}${Math.round(Ne)} kts`)}if(!isNaN(xe)&&G.trueAirSpeed){const Ne=xe-G.trueAirSpeed;Math.abs(Ne)>=1&&Te.push(`TAS: ${Ne>0?"+":""}${Math.round(Ne)} kts`)}const Re=_.altitude?parseFloat(_.altitude):0;if(Re&&G.altitude){const Ne=Re-G.altitude/1e3;Math.abs(Ne)>=.5&&Te.push(`Alt: ${Ne>0?"+":""}${Ne.toFixed(1)}k ft`)}const Ie=parseFloat(_.fob);if(!isNaN(Ie)&&G.fob){const Ne=Ie-G.fob;Math.abs(Ne)>=.1&&Te.push(`FOB: ${Ne>0?"+":""}${Ne.toFixed(1)} klb`)}if(!isNaN(be)&&G.windVelocity){const Ne=be-G.windVelocity;Math.abs(Ne)>=1&&Te.push(`Wind Vel: ${Ne>0?"+":""}${Math.round(Ne)} kts`)}const ke=parseFloat(_.windDirection);if(!isNaN(ke)&&G.wind){const Ne=ke-G.wind;Math.abs(Ne)>=5&&Te.push(`Wind Dir: ${Ne>0?"+":""}${Math.round(Ne)}`)}const De=parseFloat(_.isa);if(!isNaN(De)&&G.isa!==void 0){const Ne=De-G.isa;Math.abs(Ne)>=1&&Te.push(`ISA: ${Ne>0?"+":""}${Math.round(Ne)}C`)}if(ae!==void 0&&G.headTail!==void 0){const Ne=ae-G.headTail;Math.abs(Ne)>=1&&Te.push(`H/T: ${Ne>0?"+":""}${Math.round(Ne)} kts`)}Te.length>0&&(Ae+=` | : ${Te.join(", ")}`);const Le=[];if(ce&&G.eta){const Ne=Math.round((ce.getTime()-G.eta.getTime())/6e4);Ne>5?Le.push("arriving late"):Ne<-5&&Le.push("arriving early")}const Ge=parseFloat(_.fob);if(!isNaN(Ge)&&G.fob){const Ne=Ge-G.fob;Ne<-.2?Le.push("higher fuel burn than planned"):Ne>.2&&Le.push("lower fuel burn than expected")}const Ue=parseFloat(_.windVelocity);if(!isNaN(Ue)&&G.windVelocity){const Ne=Ue-G.windVelocity;ae<-20?Le.push("strong headwinds"):ae>20?Le.push("strong tailwinds"):Math.abs(Ne)>15&&Le.push(Ne>0?"stronger winds than forecast":"lighter winds than forecast")}const mt=parseFloat(_.isa);if(!isNaN(mt)&&G.isa!==void 0){const Ne=mt-G.isa;Ne>5?Le.push("warmer than expected"):Ne<-5&&Le.push("colder than expected")}const et=_.altitude?parseFloat(_.altitude):0;if(et&&G.altitude){const Ne=et-G.altitude/1e3;Math.abs(Ne)>=2&&Le.push(Ne>0?"flying higher than planned":"flying lower than planned")}let ut="";if(_.note&&_.note.trim())ut=_.note,Le.length>0&&(ut+=` (${Le.join(", ")})`);else if(Le.length>0){const Ne=Le.join(", ");ut=Ne.charAt(0).toUpperCase()+Ne.slice(1)}ut&&(Ae+=` | Note: ${ut}`),a("UPDATE ACTUAL",Ae),C(null)},E=X=>{w(!0),y("existing"),A(null),P(X),T({name:"",distance:"",magneticHeading:"",latitude:"",longitude:""})},R=()=>{if(!e)return;let X=[...I.waypoints];const G=X[N];if(b==="existing"&&x!==null){const de=X[x];if(G.coordinate&&de.coordinate){const ie=kd(G.coordinate,de.coordinate),Ce=Yi(G.coordinate.latitude,G.coordinate.longitude),Fe=Us(G.coordinate,de.coordinate,Ce),Ae={...de,distance:Math.round(ie),magHDG:Math.round(Fe),heading:Fe},Te=X.slice(0,N+1),Re=X.slice(x+1);X=[...Te,Ae,...Re]}else{const ie=X.slice(0,N+1),Ce=X.slice(x);X=[...ie,...Ce]}}else if(b==="new"){const de=XS(O.name||"DIRECT");if(O.latitude&&O.longitude)de.coordinate={latitude:parseFloat(O.latitude),longitude:parseFloat(O.longitude)};else{const Ae=Yi(G.coordinate.latitude,G.coordinate.longitude),Te=Gy(parseFloat(O.magneticHeading),Ae);de.coordinate=eA(G.coordinate,parseFloat(O.distance),Te)}if(G.coordinate&&de.coordinate){const Ae=kd(G.coordinate,de.coordinate),Te=Yi(G.coordinate.latitude,G.coordinate.longitude),Re=Us(G.coordinate,de.coordinate,Te);de.distance=Math.round(Ae),de.magHDG=Math.round(Re),de.heading=Re}else de.distance=0,de.magHDG=0,de.heading=0;let ie=N+1;const Ce=X.slice(0,ie);let Fe=X.slice(ie);if(Fe.length>0){const Ae=Fe[0];if(de.coordinate&&Ae.coordinate){const Te=kd(de.coordinate,Ae.coordinate),Re=Yi(de.coordinate.latitude,de.coordinate.longitude),Ie=Us(de.coordinate,Ae.coordinate,Re);Fe[0]={...Ae,distance:Math.round(Te),magHDG:Math.round(Ie),heading:Ie}}}X=[...Ce,de,...Fe]}const ce=X.reduce((de,ie)=>de+(ie.distance||0),0),ae=[...e.legs];ae[n||0]={...I,waypoints:X,distance:ce};const le={...e,legs:ae},xe=rl(le);t(xe);const be=I.waypoints[N].name;if(b==="existing"&&x!==null){const de=I.waypoints[x].name;a("DIRECT TO",`Direct from ${be} to ${de}`)}else b==="new"&&a("DIRECT TO",`Direct from ${be} to ${O.name}`);w(!1)};return u.jsxs("div",{className:"h-full grid",style:{gridTemplateRows:"auto 1fr auto"},children:[u.jsxs("div",{className:"bg-primary text-white px-4 py-1 flex items-center justify-between",children:[u.jsx("h3",{className:"font-semibold text-sm",children:I.type.replace("lrc","LRC ").toUpperCase()}),u.jsx("button",{className:"text-white/80 hover:text-white",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),u.jsxs("div",{className:"min-h-0 overflow-y-auto bg-gray-50 relative",children:[u.jsx(Tue,{waypoints:I.waypoints,leg:I,scheduledTakeoffTime:e.configuration.startTime,showActions:!0,onAddWaypoint:D,onDeleteWaypoint:$,onDirectTo:E,onUpdateActual:Y}),i&&u.jsxs("div",{className:"border-t border-gray-200 bg-white mt-4",children:[u.jsxs("div",{className:"px-4 py-2 flex items-center justify-between bg-gray-50 border-b border-gray-200",children:[u.jsx("h4",{className:"font-semibold text-sm",children:"Action Log"}),u.jsxs("div",{className:"flex items-center gap-2",children:[r.length>0&&u.jsx("button",{onClick:()=>{confirm("Clear all action log entries?")&&s()},className:"text-gray-500 hover:text-gray-700 text-xs",children:"Clear"}),u.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsx("div",{className:"bg-white",children:r.length===0?u.jsx("p",{className:"text-sm text-gray-500 p-4 text-center",children:"No actions logged yet"}):u.jsx("div",{className:"divide-y divide-gray-100",children:r.map(X=>u.jsx("div",{className:"px-4 py-2 hover:bg-gray-50",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500 font-mono w-12 flex-shrink-0",children:at(X.timestamp,"HH:mm")}),u.jsxs("div",{className:"flex-1 flex items-center",children:[u.jsx("span",{className:"text-xs font-semibold text-primary",children:X.action}),u.jsx("span",{className:"text-xs ml-2",children:U(X.details)})]})]})},X.id))})})]})]}),!i&&u.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-2",children:u.jsxs("button",{onClick:()=>o(!0),className:"w-full bg-white border border-gray-200 rounded-lg px-3 py-1 text-sm hover:bg-gray-100 transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Show Action Log"]})}),f&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-2",children:"Delete Waypoint"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete waypoint ",u.jsx("strong",{children:f.waypoint.name}),"?"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:W,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Delete"}),u.jsx("button",{onClick:()=>p(null),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})}),c&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Add New Waypoint"}),u.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Adding waypoint after: ",I.waypoints[c.afterIndex].name]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waypoint Name"}),u.jsx("input",{type:"text",value:O.name,onChange:X=>T({...O,name:X.target.value}),placeholder:"Enter waypoint name",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>m("distance"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${d==="distance"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Distance & Heading"}),u.jsx("button",{onClick:()=>m("coordinate"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${d==="coordinate"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Coordinates"})]}),d==="distance"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Distance (nm)"}),u.jsx("input",{type:"number",value:O.distance,onChange:X=>T({...O,distance:X.target.value}),placeholder:"Enter distance in nautical miles",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Magnetic Heading"}),u.jsx("input",{type:"number",value:O.magneticHeading,onChange:X=>T({...O,magneticHeading:X.target.value}),placeholder:"Enter magnetic heading (0-360)",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),u.jsx("input",{type:"number",step:"0.0001",value:O.latitude,onChange:X=>T({...O,latitude:X.target.value}),placeholder:"Enter latitude (e.g., 31.7417)",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),u.jsx("input",{type:"number",step:"0.0001",value:O.longitude,onChange:X=>T({...O,longitude:X.target.value}),placeholder:"Enter longitude (e.g., 35.485)",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{onClick:z,disabled:!O.name||d==="distance"&&(!O.distance||!O.magneticHeading)||d==="coordinate"&&(!O.latitude||!O.longitude),className:"flex-1 bg-primary hover:bg-primary-dark text-white py-2 px-4 rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Add Waypoint"}),u.jsx("button",{onClick:()=>h(null),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})]})}),g&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:"Direct To Waypoint"}),u.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["From: ",u.jsx("strong",{children:(te=I.waypoints[N])==null?void 0:te.name})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>y("existing"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${b==="existing"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Existing Waypoint"}),u.jsx("button",{onClick:()=>y("new"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${b==="new"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"New Waypoint"})]}),b==="existing"?u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Waypoint"}),u.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:I.waypoints.slice(N+1).map((X,G)=>u.jsxs("button",{onClick:()=>A(N+1+G),className:`w-full text-left p-3 hover:bg-gray-50 border-b last:border-b-0 ${x===N+1+G?"bg-primary/10":""}`,children:[u.jsx("div",{className:"font-medium",children:X.name}),u.jsxs("div",{className:"text-sm text-gray-600",children:[X.distance," nm  ",X.magHDG,""]})]},X.id))})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waypoint Name"}),u.jsx("input",{type:"text",value:O.name,onChange:X=>T({...O,name:X.target.value}),placeholder:"Enter waypoint name",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>m("distance"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${d==="distance"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Distance & Heading"}),u.jsx("button",{onClick:()=>m("coordinate"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${d==="coordinate"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Coordinates"})]}),d==="distance"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Distance (nm)"}),u.jsx("input",{type:"number",value:O.distance,onChange:X=>T({...O,distance:X.target.value}),placeholder:"Enter distance in nautical miles",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Magnetic Heading"}),u.jsx("input",{type:"number",value:O.magneticHeading,onChange:X=>T({...O,magneticHeading:X.target.value}),placeholder:"Enter magnetic heading (0-360)",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),u.jsx("input",{type:"number",step:"0.0001",value:O.latitude,onChange:X=>T({...O,latitude:X.target.value}),placeholder:"Enter latitude (e.g., 31.7417)",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),u.jsx("input",{type:"number",step:"0.0001",value:O.longitude,onChange:X=>T({...O,longitude:X.target.value}),placeholder:"Enter longitude (e.g., 35.485)",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{onClick:R,disabled:b==="existing"&&x===null||b==="new"&&(!O.name||d==="distance"&&(!O.distance||!O.magneticHeading)||d==="coordinate"&&(!O.latitude||!O.longitude)),className:"flex-1 bg-primary hover:bg-primary-dark text-white py-2 px-4 rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Execute Direct To"}),u.jsx("button",{onClick:()=>w(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})]})}),j&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:[u.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Update ",j.waypoint.name]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-3",children:"Actuals"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Ground Speed"}),u.jsx("input",{type:"number",value:_.groundSpeed,onChange:X=>M({..._,groundSpeed:X.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"True Airspeed"}),u.jsx("input",{type:"number",value:_.trueAirSpeed,onChange:X=>M({..._,trueAirSpeed:X.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Route alt."}),u.jsx("input",{type:"number",value:_.altitude,onChange:X=>M({..._,altitude:X.target.value}),placeholder:"Alt in thousands",className:"w-full px-2 py-1 border rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Time"}),u.jsx("input",{type:"time",value:_.time,onChange:X=>M({..._,time:X.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Wind Velocity"}),u.jsx("input",{type:"number",value:_.windVelocity,onChange:X=>M({..._,windVelocity:X.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Wind Direction"}),u.jsx("input",{type:"number",value:_.windDirection,onChange:X=>M({..._,windDirection:X.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"FOB (klb)"}),u.jsx("input",{type:"number",step:"0.1",value:_.fob,onChange:X=>M({..._,fob:X.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"ISA"}),u.jsx("input",{type:"number",value:_.isa,onChange:X=>M({..._,isa:X.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-3",children:"Planned"}),u.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"Ground Speed"}),u.jsx("div",{className:"py-1",children:j.waypoint.groundSpeed||"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"True Airspeed"}),u.jsx("div",{className:"py-1",children:j.waypoint.trueAirSpeed||"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"Route alt."}),u.jsx("div",{className:"py-1",children:j.waypoint.altitude?Math.round(j.waypoint.altitude/1e3):"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"Time"}),u.jsx("div",{className:"py-1",children:j.waypoint.eta?at(j.waypoint.eta,"HH:mm"):"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"Wind Velocity"}),u.jsx("div",{className:"py-1",children:j.waypoint.windVelocity||"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"Wind Direction"}),u.jsx("div",{className:"py-1",children:j.waypoint.wind||"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"FOB (klb)"}),u.jsx("div",{className:"py-1",children:j.waypoint.fob?j.waypoint.fob.toFixed(1):"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"ISA"}),u.jsx("div",{className:"py-1",children:j.waypoint.isa!==void 0?j.waypoint.isa:"--"})]})]})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note"}),u.jsx("textarea",{value:_.note,onChange:X=>M({..._,note:X.target.value}),rows:2,className:"w-full px-3 py-2 border rounded-lg text-sm",placeholder:"Add any notes..."})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{onClick:()=>C(null),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),u.jsx("button",{onClick:re,className:"flex-1 bg-primary hover:bg-primary-dark text-white py-2 px-4 rounded-lg transition-colors",children:"Save"})]})]})]})})]})}function tk(){const e=He(o=>o.actualPlan),t=He(o=>o.currentLegIndex),n=He(o=>o.currentSegmentIndex),r=He(o=>o.totalFuelRemaining),i=se.useMemo(()=>{var l,c,h,f,p,d,m;if(!e||t<0||!e.legs[t])return{normal:[]};const o=e.legs[t];if(console.log("FlightGraph: Current leg:",{type:o.type,distance:o.distance,initialFuel:o.initialFuel,segments:((l=o.segments)==null?void 0:l.length)||0,specialCondition:o.specialCondition,firstSegment:(c=o.segments)!=null&&c[0]?{initialFuel:o.segments[0].initialFuel,remainingFuel:o.segments[0].remainingFuel,fuelConsumed:o.segments[0].fuelConsumed}:null}),o.type==="taxi")return{normal:[]};const s=VF(o,e.configuration,!0);if(console.log("FlightGraph: HGI data calculated:",{normal:((h=s.normal)==null?void 0:h.length)||0,minimum4Engines:((f=s.minimum4Engines)==null?void 0:f.length)||0,minimum3Engines:((p=s.minimum3Engines)==null?void 0:p.length)||0,lossOfPressure:((d=s.lossOfPressure)==null?void 0:d.length)||0,tenPercent:((m=s.tenPercent)==null?void 0:m.length)||0}),o.fuelReads&&o.fuelReads.length>0&&o.type!=="taxi"){const g=[],w=o.initialFuel||0;!o.fuelReads.some(y=>y.distance===0)&&w>0&&g.push({distance:0,fuel:w,label:"Initial",isActualRead:!0}),o.fuelReads.forEach(y=>{const x=y.fuelGauges.no1+y.fuelGauges.no2+y.fuelGauges.no3+y.fuelGauges.no4+y.fuelGauges.lhAUX+y.fuelGauges.rhAUX+y.fuelGauges.lhEXT+y.fuelGauges.rhEXT+(y.fuelGauges.additionalTanks||0);g.push({distance:y.distance,fuel:x,label:y.waypointId||`Read at ${y.distance}nm`,isActualRead:!0})}),g.sort((y,x)=>y.distance-x.distance),s.actual=g,console.log("FlightGraph: Added actual fuel line with",g.length,"points")}if(r!==null&&n>=0){let g=0;if(o.segments&&n<o.segments.length){const y=o.segments[n];n>0&&(g=o.segments[n-1].endDistance);const x=n>0?o.segments[n-1].endDistance:0,A=y.endDistance;g+=(A-x)*.5}const w={distance:g,fuel:r/1e3,label:"Current Position",isCurrentPosition:!0};["normal","minimum3Engines","minimum4Engines","lossOfPressure","tenPercent"].forEach(y=>{if(s[y]&&s[y].length>0){const x=s[y],A=x.findIndex(N=>N.distance>g);A>=0?x.splice(A,0,w):x.push(w)}})}return s},[e,t,n,r]);if(!e)return u.jsx("div",{className:"panel",children:u.jsxs("div",{className:"text-center text-gray-500 py-8",children:[u.jsx("p",{className:"text-lg font-semibold mb-2",children:"No Flight Data Available"}),u.jsx("p",{className:"text-sm",children:"Please ensure a flight plan is loaded."})]})});const a=t>=0?e.legs[t]:null;return u.jsx("div",{className:"panel",children:u.jsx(Jw,{data:i,title:"In-Flight HGI Graph",showControls:!0,height:500,leg:a,maxDistance:a==null?void 0:a.distance,line970:e==null?void 0:e.line970})})}function Zw({isOpen:e,onClose:t,onConfirm:n}){const[r,i]=se.useState(new Date);if(!e)return null;const a=()=>{n(r),t()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md",children:[u.jsx("h2",{className:"text-xl font-bold text-black-1 mb-4",children:"Confirm Takeoff Time"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-label-gray mb-2",children:"Takeoff Date & Time"}),u.jsx("input",{type:"datetime-local",value:at(r,"yyyy-MM-dd'T'HH:mm"),onChange:o=>i(new Date(o.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ke,{onClick:a,size:"full",children:"Confirm Takeoff"}),u.jsx(Ke,{onClick:t,variant:"ghost",size:"full",children:"Cancel"})]})]})})}class Fue{constructor(t){qn(this,"ws",null);qn(this,"reconnectTimer",null);qn(this,"pingTimer",null);qn(this,"deviceId");qn(this,"role");qn(this,"serverUrl","");qn(this,"isHost",!1);qn(this,"connectedDevices",new Map);qn(this,"onPlanUpdate");qn(this,"onWaypointUpdate");qn(this,"onFuelRead");qn(this,"onTakeoff");qn(this,"onDeviceConnected");qn(this,"onDeviceDisconnected");qn(this,"onConnectionStatusChange");this.role=t,this.deviceId=this.generateDeviceId()}async startAsHost(t=8765){this.isHost=!0,this.serverUrl=`ws://localhost:${t}`,this.broadcastPresence(),await this.connect()}async joinSession(t,n=8765){this.isHost=!1,this.serverUrl=`ws://${t}:${n}`,await this.connect()}async discoverHosts(){const t=[],n=this.getLocalNetworkBase();for(let r=1;r<255;r++){const i=`${n}.${r}`;try{const a=await fetch(`http://${i}:8765/info`,{signal:AbortSignal.timeout(100)});if(a.ok){const o=await a.json();t.push({id:o.deviceId,name:o.name,role:o.role,address:i,lastSeen:new Date,isConnected:!1})}}catch{}}return t}async connect(){try{this.ws=new WebSocket(this.serverUrl),this.ws.onopen=()=>{var t;console.log("Sync connection established"),(t=this.onConnectionStatusChange)==null||t.call(this,!0),this.sendMessage({type:"role_announce",role:this.role,data:{deviceName:this.getDeviceName(),platform:this.getPlatform()}}),this.startPingTimer()},this.ws.onmessage=t=>{this.handleMessage(JSON.parse(t.data))},this.ws.onclose=()=>{var t;console.log("Sync connection closed"),(t=this.onConnectionStatusChange)==null||t.call(this,!1),this.stopPingTimer(),this.scheduleReconnect()},this.ws.onerror=t=>{console.error("Sync connection error:",t)}}catch(t){console.error("Failed to connect:",t),this.scheduleReconnect()}}handleMessage(t){var n,r,i,a;if(t.deviceId!==this.deviceId){if(!this.canReceiveMessageType(t.type,t.role)){console.warn(`Ignoring ${t.type} from ${t.role} - not permitted`);return}switch(t.type){case"plan_update":(n=this.onPlanUpdate)==null||n.call(this,t.data);break;case"waypoint_update":(r=this.onWaypointUpdate)==null||r.call(this,t.data.waypoint,t.data.legIndex,t.role);break;case"fuel_read":(i=this.onFuelRead)==null||i.call(this,t.data);break;case"takeoff":(a=this.onTakeoff)==null||a.call(this,new Date(t.data.takeoffTime));break;case"role_announce":this.handleDeviceAnnounce(t);break;case"ping":const o=this.connectedDevices.get(t.deviceId);o&&(o.lastSeen=new Date);break}}}sendMessage(t){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return;const n={id:crypto.randomUUID(),deviceId:this.deviceId,timestamp:new Date,role:this.role,...t};this.ws.send(JSON.stringify(n))}sendPlanUpdate(t){if(this.role!=="engineer"){console.warn("Only Engineer can send plan updates");return}this.sendMessage({type:"plan_update",data:t})}sendWaypointUpdate(t,n){if(this.role!=="engineer"&&this.role!=="navigator"){console.warn("Only Engineer and Navigator can send waypoint updates");return}this.sendMessage({type:"waypoint_update",data:{waypoint:t,legIndex:n}})}sendFuelRead(t){if(this.role!=="engineer"){console.warn("Only Engineer can send fuel reads");return}this.sendMessage({type:"fuel_read",data:t})}sendTakeoff(t){this.sendMessage({type:"takeoff",data:{takeoffTime:t}})}canReceiveMessageType(t,n){var a;return(((a={plan_update:{engineer:["navigator","pilot"],navigator:[],pilot:[]},waypoint_update:{engineer:["navigator","pilot"],navigator:["engineer","pilot"],pilot:[]},fuel_read:{engineer:["navigator","pilot"],navigator:[],pilot:[]},takeoff:{engineer:["navigator","pilot"],navigator:["engineer","pilot"],pilot:["engineer","navigator"]}}[t])==null?void 0:a[n])||[]).includes(this.role)}handleDeviceAnnounce(t){var i;const n={id:t.deviceId,name:t.data.deviceName,role:t.role,address:"",lastSeen:new Date,isConnected:!0},r=this.connectedDevices.has(n.id);this.connectedDevices.set(n.id,n),r||(i=this.onDeviceConnected)==null||i.call(this,n)}generateDeviceId(){return`${this.getPlatform()}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getDeviceName(){return typeof window<"u"&&navigator.userAgent?navigator.userAgent.split(" ")[0]:"Unknown Device"}getPlatform(){if(typeof window<"u"){const t=navigator.userAgent;if(/iPad/.test(t))return"iPad";if(/iPhone/.test(t))return"iPhone";if(/Windows/.test(t))return"Windows";if(/Mac/.test(t))return"Mac";if(/Linux/.test(t))return"Linux"}return"Unknown"}getLocalNetworkBase(){return"192.168.1"}startPingTimer(){this.pingTimer=setInterval(()=>{this.sendMessage({type:"ping",data:{}});const t=Date.now();this.connectedDevices.forEach((n,r)=>{var i;t-n.lastSeen.getTime()>3e4&&(this.connectedDevices.delete(r),(i=this.onDeviceDisconnected)==null||i.call(this,n))})},1e4)}stopPingTimer(){this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null)}scheduleReconnect(){this.reconnectTimer||(this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this.connect()},5e3))}broadcastPresence(){console.log("Broadcasting sync service on port 8765")}disconnect(){this.stopPingTimer(),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws&&(this.ws.close(),this.ws=null),this.connectedDevices.clear()}}let Qs=null;function Do(e){return(!Qs||Qs.role!==e)&&(Qs=new Fue(e)),Qs}function iA(){Qs&&(Qs.disconnect(),Qs=null)}function kue(e,t,n){const r=He.getState().actualPlan;if(!r)return null;const i=r.legs[t];if(!i||!i.waypoints)return null;const a=i.waypoints.find(h=>h.id===e.id);if(!a)return null;let o=a;if(e.actualTime&&e.timeUpdatedFrom){const h=O2(a,{actualTime:e.actualTime,isActual:e.isActual},e.timeUpdatedFrom);o={...o,...h}}if((e.fob!==void 0||e.actualFob!==void 0)&&e.fobUpdatedFrom){const h=O2(o,{fob:e.fob,actualFob:e.actualFob,fuelOnBoard:e.fuelOnBoard},e.fobUpdatedFrom);o={...o,...h}}Object.keys(e).filter(h=>!["actualTime","isActual","fob","actualFob","fuelOnBoard","timeUpdatedFrom","fobUpdatedFrom","lastTimeUpdate","lastFobUpdate"].includes(h)).forEach(h=>{o[h]=e[h]});const l={...r,legs:r.legs.map((h,f)=>f===t?{...h,waypoints:h.waypoints.map(p=>p.id===e.id?o:p)}:h)},c=_ue(a,o,n);return c&&He.getState().addActionLogEntry("SYNC",c),l}function _ue(e,t,n){var i,a;const r=[];return((i=t.actualTime)==null?void 0:i.getTime())!==((a=e.actualTime)==null?void 0:a.getTime())?t.timeUpdatedFrom&&r.push(`Time updated from ${t.timeUpdatedFrom}`):e.timeUpdatedFrom==="waypoints-tab"&&t.timeUpdatedFrom==="fuel-tab"&&r.push("Time update from fuel-tab blocked (waypoints-tab has priority)"),t.fob!==e.fob||t.actualFob!==e.actualFob?t.fobUpdatedFrom&&r.push(`FOB updated from ${t.fobUpdatedFrom}`):e.fobUpdatedFrom==="fuel-tab"&&t.fobUpdatedFrom==="waypoints-tab"&&r.push("FOB update from waypoints-tab blocked (fuel-tab has priority)"),r.length>0?`${t.name}: ${r.join(", ")} (by ${n.toUpperCase()})`:null}function e5(e={}){const[t,n]=se.useState(!1),[r,i]=se.useState([]),a=He(y=>y.currentRole),o=He(y=>y.updateActualPlan),s=He(y=>y.setCurrentLegIndex),l=He(y=>y.setCurrentLeg),c=He(y=>y.addActionLogEntry);se.useEffect(()=>{if(!a)return;const y=Do(a);return y.onConnectionStatusChange=x=>{n(x)},y.onDeviceConnected=x=>{i(A=>[...A,x]),c("SYNC",`${x.role} connected: ${x.name}`)},y.onDeviceDisconnected=x=>{i(A=>A.filter(N=>N.id!==x.id)),c("SYNC",`${x.role} disconnected: ${x.name}`)},y.onPlanUpdate=x=>{o(x),c("SYNC","Received plan update from Engineer")},y.onWaypointUpdate=(x,A,N)=>{const P=kue(x,A,N);P&&o(P)},y.onFuelRead=x=>{const A=He.getState().actualPlan;if(!A)return;const N={...A,legs:A.legs.map(P=>P.waypoints.some(j=>j.id===x.waypointId)?{...P,fuelReads:[...P.fuelReads||[],x]}:P)};o(N),c("SYNC",`Fuel reading received: ${x.eicasFOB.toFixed(1)} klb`)},y.onTakeoff=x=>{const A=He.getState().actualPlan;if(!A)return;const N={...A,configuration:{...A.configuration,startTime:x}};o(N),He.getState().currentLegIndex===0&&A.legs.length>1&&(s(1),l(A.legs[1].id)),c("SYNC",`Takeoff synchronized at ${x.toLocaleTimeString()}`)},e.autoConnect&&e.hostAddress&&y.joinSession(e.hostAddress,e.port||8765),()=>{iA()}},[a]);const h=se.useCallback(async()=>{if(!a)return;await Do(a).startAsHost(e.port||8765)},[a,e.port]),f=se.useCallback(async y=>{if(!a)return;await Do(a).joinSession(y,e.port||8765)},[a,e.port]),p=se.useCallback(async()=>a?await Do(a).discoverHosts():[],[a]),d=se.useCallback(()=>{iA(),n(!1),i([])},[]),m=se.useCallback(y=>{if(!a)return;Do(a).sendPlanUpdate(y)},[a]),g=se.useCallback((y,x)=>{if(!a)return;Do(a).sendWaypointUpdate(y,x)},[a]),w=se.useCallback(y=>{if(!a)return;Do(a).sendFuelRead(y)},[a]),b=se.useCallback(y=>{if(!a)return;Do(a).sendTakeoff(y)},[a]);return{isConnected:t,connectedDevices:r,startAsHost:h,joinSession:f,discoverHosts:p,disconnect:d,sendPlanUpdate:m,sendWaypointUpdate:g,sendFuelRead:w,sendTakeoff:b}}function nk({isOpen:e,onClose:t}){const[n,r]=se.useState("choose"),[i,a]=se.useState(""),[o,s]=se.useState([]),[l,c]=se.useState(!1),{isConnected:h,connectedDevices:f,startAsHost:p,joinSession:d,discoverHosts:m,disconnect:g}=e5();se.useEffect(()=>{h&&r("choose")},[h]);const w=async()=>{try{await p(),r("host")}catch{alert("Failed to start sync host. Make sure port 8765 is available.")}},b=async x=>{try{await d(x)}catch{alert("Failed to join sync session. Check the host address.")}},y=async()=>{c(!0);try{const x=await m();s(x)}catch(x){console.error("Discovery failed:",x)}finally{c(!1)}};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-black-1",children:"Sync Manager"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-green-700 font-medium",children:"Connected"})]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Connected Devices"}),f.length===0?u.jsx("p",{className:"text-gray-500 text-sm",children:"No other devices connected yet"}):u.jsx("div",{className:"space-y-2",children:f.map(x=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:x.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[x.role.charAt(0).toUpperCase()+x.role.slice(1),"  ",x.address]})]}),u.jsx("div",{className:"text-xs text-gray-400",children:at(x.lastSeen,"HH:mm:ss")})]})},x.id))})]}),u.jsx(Ke,{onClick:g,variant:"danger",size:"full",children:"Disconnect"})]}):u.jsxs(u.Fragment,{children:[n==="choose"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-gray-600",children:"Choose how to sync with other devices on your network:"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:()=>r("host"),className:"w-full p-4 border-2 border-gray-200 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors text-left",children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Host a Session"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Start a sync server on this device (recommended for Engineer role)"})]}),u.jsxs("button",{onClick:()=>r("join"),className:"w-full p-4 border-2 border-gray-200 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors text-left",children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Join a Session"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Connect to an existing sync server"})]})]})]}),n==="host"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Hosting Sync Session"}),u.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Other devices can connect using:"}),u.jsxs("div",{className:"bg-white rounded p-2 font-mono text-sm",children:[window.location.hostname,":8765"]})]}),u.jsx("p",{className:"text-sm text-gray-600",children:"Make sure all devices are on the same network. The sync server is running on port 8765."}),u.jsx(Ke,{onClick:w,size:"full",children:"Start Hosting"}),u.jsx("button",{onClick:()=>r("choose"),className:"w-full text-gray-600 hover:text-gray-800 text-sm",children:"Back"})]}),n==="join"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Host Address"}),u.jsx("input",{type:"text",value:i,onChange:x=>a(x.target.value),placeholder:"192.168.1.100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the IP address of the host device (without port)"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{onClick:()=>b(i),disabled:!i,size:"full",children:"Connect"}),u.jsx(Ke,{onClick:y,variant:"secondary",disabled:l,children:l?"Scanning...":"Scan"})]}),o.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Discovered Hosts"}),u.jsx("div",{className:"space-y-2",children:o.map(x=>u.jsxs("button",{onClick:()=>a(x.address),className:"w-full p-3 bg-gray-50 rounded-lg hover:bg-gray-100 text-left",children:[u.jsx("p",{className:"font-medium",children:x.name}),u.jsx("p",{className:"text-sm text-gray-500",children:x.address})]},x.id))})]}),u.jsx("button",{onClick:()=>r("choose"),className:"w-full text-gray-600 hover:text-gray-800 text-sm",children:"Back"})]})]})]})}):null}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),rk=(e,t)=>{const n=se.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...c},h)=>se.createElement("svg",{ref:h,...Eue,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Lue(e)}`,s].join(" "),...c},[...t.map(([f,p])=>se.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=rk("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=rk("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Iue=({isOpen:e,onClose:t})=>{var I,L;const[n,r]=se.useState(""),[i,a]=se.useState(""),[o,s]=se.useState(""),[l,c]=se.useState(""),[h,f]=se.useState(""),[p,d]=se.useState(null),[m,g]=se.useState(null),[w,b]=se.useState(null),y=He(U=>U.updateActualPlan),x=He(U=>U.actualPlan),A=He(U=>U.currentLegIndex),N=He(U=>U.addActionLogEntry),P=((L=(I=x==null?void 0:x.legs)==null?void 0:I[A])==null?void 0:L.distance)||0;se.useEffect(()=>{d(null),g(null),b(null)},[n,i,o,l,h]);const j=U=>{const D=U.split(":");if(D.length!==2)return null;const $=parseInt(D[0]),W=parseInt(D[1]);return isNaN($)||isNaN(W)||W<0||W>=60?null:$+W/60},C=()=>{const U=parseFloat(n),D=parseFloat(l),$=parseFloat(i);if(isNaN(U)||isNaN(D)||D<=0){alert("Please enter valid current FOB and average fuel flow values");return}if(isNaN($)||$<=0||$>P){alert(`Please enter a valid distance to destination (max: ${P.toFixed(0)} nm)`);return}let W;if(o){const E=j(o);if(!E||E<=0){alert("Please enter a valid time in HH:MM format");return}W=E}else if(h){const E=parseFloat(h);if(isNaN(E)||E<=0){alert("Please enter a valid ground speed value");return}W=$/E,b(W)}else{alert("Please enter either time to destination or ground speed");return}const z=W*D;d(z);const Y=U-z;g(Y);const re=`970 2/3 Calculation | Current FOB: ${U.toFixed(1)} klb | Distance to Dest: ${$.toFixed(0)} nm | Fuel Flow: ${D.toFixed(1)} klb/hr | Time: ${T(W)} | Fuel Consumption: ${z.toFixed(1)} klb | FOB on Arrival: ${Y.toFixed(1)} klb${Y<0?"  INSUFFICIENT FUEL":""}`;N("FUEL CALC",re)},_=()=>{r(""),a(""),s(""),c(""),f(""),d(null),g(null),b(null)},M=()=>{if(!x||m===null)return;const U=parseFloat(i),D=P-U,$=P,W={...x,line970:{startDistance:D,startFOB:parseFloat(n),endDistance:$,endFOB:m}};y(W);const z=x!=null&&x.line970?"updated":"added";N("HGI GRAPH",`970 2/3 line ${z} | From ${D.toFixed(0)} nm (${parseFloat(n).toFixed(1)} klb) to ${$.toFixed(0)} nm (${m.toFixed(1)} klb)`),alert(`970 2/3 line ${z} in HGI graph`),t()},O=()=>{if(!x)return;const{line970:U,...D}=x;y(D),N("HGI GRAPH","970 2/3 line cleared"),alert("970 2/3 line removed from HGI graph"),t()};if(!e)return null;const T=U=>{const D=Math.floor(U),$=Math.round((U-D)*60);return`${D}h ${$}m`};return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),u.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b sticky top-0 bg-white z-10",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"970 2/3 Fuel Calculator"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(Due,{size:20})})]}),u.jsx("div",{className:"overflow-y-auto flex-1 p-6 pt-4",children:u.jsxs("div",{className:"space-y-4",children:[P>0&&u.jsx("div",{className:"bg-blue-50 p-3 rounded-lg text-sm",children:u.jsxs("p",{className:"text-gray-700",children:["Total leg distance: ",u.jsxs("span",{className:"font-semibold",children:[P.toFixed(0)," nm"]})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current FOB (klb)"}),u.jsx("input",{type:"number",value:n,onChange:U=>r(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 25.5",step:"0.1"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Distance to Destination (nm) ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:i,onChange:U=>a(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Required (max: ${P.toFixed(0)} nm)`,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time to Destination (HH:MM)"}),u.jsx("input",{type:"text",value:o,onChange:U=>{const D=U.target.value;/^[0-9:]*$/.test(D)&&s(D)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 03:30",pattern:"[0-9]{1,2}:[0-9]{2}"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Average Fuel Flow (klb/hr)"}),u.jsx("input",{type:"number",value:l,onChange:U=>c(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 6.5",step:"0.1"})]}),!o&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Average Ground Speed (kts)"}),u.jsx("input",{type:"number",value:h,onChange:U=>f(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 450"})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx(Ke,{onClick:C,variant:"primary",fullWidth:!0,children:"Calculate"}),u.jsx(Ke,{onClick:_,variant:"secondary",fullWidth:!0,children:"Reset"}),(x==null?void 0:x.line970)&&u.jsx(Ke,{onClick:O,variant:"danger",fullWidth:!0,children:"Clear from HGI"})]}),(p!==null||m!==null||w!==null)&&u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg space-y-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Results:"}),i&&u.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[u.jsx("span",{children:"Current Position:"}),u.jsxs("span",{className:"font-mono",children:[(P-parseFloat(i)).toFixed(0)," nm"]})]}),p!==null&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-700",children:"Fuel Consumption:"}),u.jsxs("span",{className:"font-mono font-semibold",children:[p.toFixed(1)," klb"]})]}),m!==null&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-700",children:"FOB on Arrival:"}),u.jsxs("span",{className:`font-mono font-semibold ${m<0?"text-red-600":""}`,children:[m.toFixed(1)," klb"]})]}),w!==null&&!o&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-700",children:"Calculated Time:"}),u.jsx("span",{className:"font-mono font-semibold",children:T(w)})]}),m!==null&&m<0&&u.jsx("div",{className:"mt-2 p-2 bg-red-100 rounded text-red-700 text-sm",children:" Warning: Insufficient fuel to reach destination!"}),m!==null&&i&&u.jsx("div",{className:"mt-4",children:u.jsx(Ke,{onClick:M,variant:"secondary",fullWidth:!0,children:x!=null&&x.line970?"Update in HGI Graph":"Add to HGI Graph"})})]})]})})]})]})},$ue="modulepreload",Rue=function(e){return"/"+e},aA={},k2=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Rue(l),l in aA)return;aA[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":$ue,c||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((p,d)=>{f.addEventListener("load",p),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};function It(e){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}var xr=Uint8Array,ii=Uint16Array,t5=Int32Array,X0=new xr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),J0=new xr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_2=new xr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ik=function(e,t){for(var n=new ii(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new t5(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},ak=ik(X0,2),ok=ak.b,E2=ak.r;ok[28]=258,E2[258]=28;var sk=ik(J0,0),Bue=sk.b,oA=sk.r,L2=new ii(32768);for(var en=0;en<32768;++en){var Io=(en&43690)>>1|(en&21845)<<1;Io=(Io&52428)>>2|(Io&13107)<<2,Io=(Io&61680)>>4|(Io&3855)<<4,L2[en]=((Io&65280)>>8|(Io&255)<<8)>>1}var _a=function(e,t,n){for(var r=e.length,i=0,a=new ii(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new ii(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new ii(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],h=t-e[i],f=o[e[i]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)s[L2[f]>>l]=c}else for(s=new ii(r),i=0;i<r;++i)e[i]&&(s[i]=L2[o[e[i]-1]++]>>15-e[i]);return s},ds=new xr(288);for(var en=0;en<144;++en)ds[en]=8;for(var en=144;en<256;++en)ds[en]=9;for(var en=256;en<280;++en)ds[en]=7;for(var en=280;en<288;++en)ds[en]=8;var lh=new xr(32);for(var en=0;en<32;++en)lh[en]=5;var Wue=_a(ds,9,0),Uue=_a(ds,9,1),zue=_a(lh,5,0),Hue=_a(lh,5,1),Ky=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Gi=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Yy=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},n5=function(e){return(e+7)/8|0},lk=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new xr(e.subarray(t,n))},que=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Xi=function(e,t,n){var r=new Error(t||que[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Xi),!n)throw r;return r},Gue=function(e,t,n,r){var i=e.length,a=0;if(!i||t.f&&!t.l)return n||new xr(0);var o=!n,s=o||t.i!=2,l=t.i;o&&(n=new xr(i*3));var c=function(ae){var le=n.length;if(ae>le){var xe=new xr(Math.max(le*2,ae));xe.set(n),n=xe}},h=t.f||0,f=t.p||0,p=t.b||0,d=t.l,m=t.d,g=t.m,w=t.n,b=i*8;do{if(!d){h=Gi(e,f,1);var y=Gi(e,f+1,3);if(f+=3,y)if(y==1)d=Uue,m=Hue,g=9,w=5;else if(y==2){var P=Gi(e,f,31)+257,j=Gi(e,f+10,15)+4,C=P+Gi(e,f+5,31)+1;f+=14;for(var _=new xr(C),M=new xr(19),O=0;O<j;++O)M[_2[O]]=Gi(e,f+O*3,7);f+=j*3;for(var T=Ky(M),I=(1<<T)-1,L=_a(M,T,1),O=0;O<C;){var U=L[Gi(e,f,I)];f+=U&15;var x=U>>4;if(x<16)_[O++]=x;else{var D=0,$=0;for(x==16?($=3+Gi(e,f,3),f+=2,D=_[O-1]):x==17?($=3+Gi(e,f,7),f+=3):x==18&&($=11+Gi(e,f,127),f+=7);$--;)_[O++]=D}}var W=_.subarray(0,P),z=_.subarray(P);g=Ky(W),w=Ky(z),d=_a(W,g,1),m=_a(z,w,1)}else Xi(1);else{var x=n5(f)+4,A=e[x-4]|e[x-3]<<8,N=x+A;if(N>i){l&&Xi(0);break}s&&c(p+A),n.set(e.subarray(x,N),p),t.b=p+=A,t.p=f=N*8,t.f=h;continue}if(f>b){l&&Xi(0);break}}s&&c(p+131072);for(var Y=(1<<g)-1,re=(1<<w)-1,E=f;;E=f){var D=d[Yy(e,f)&Y],R=D>>4;if(f+=D&15,f>b){l&&Xi(0);break}if(D||Xi(2),R<256)n[p++]=R;else if(R==256){E=f,d=null;break}else{var q=R-254;if(R>264){var O=R-257,ee=X0[O];q=Gi(e,f,(1<<ee)-1)+ok[O],f+=ee}var H=m[Yy(e,f)&re],te=H>>4;H||Xi(3),f+=H&15;var z=Bue[te];if(te>3){var ee=J0[te];z+=Yy(e,f)&(1<<ee)-1,f+=ee}if(f>b){l&&Xi(0);break}s&&c(p+131072);var X=p+q;if(p<z){var G=a-z,ce=Math.min(z,X);for(G+p<0&&Xi(3);p<ce;++p)n[p]=r[G+p]}for(;p<X;++p)n[p]=n[p-z]}}t.l=d,t.p=E,t.b=p,t.f=h,d&&(h=1,t.m=g,t.d=m,t.n=w)}while(!h);return p!=n.length&&o?lk(n,0,p):n.subarray(0,p)},Ka=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},_d=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Xy=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:ck,l:0};if(i==1){var o=new xr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(N,P){return N.f-P.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,h=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};h!=i-1;)s=n[n[c].f<n[f].f?c++:f++],l=n[c!=h&&n[c].f<n[f].f?c++:f++],n[h++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=a[0].s,r=1;r<i;++r)a[r].s>p&&(p=a[r].s);var d=new ii(p+1),m=M2(n[h-1],d,0);if(m>t){var r=0,g=0,w=m-t,b=1<<w;for(a.sort(function(P,j){return d[j.s]-d[P.s]||P.f-j.f});r<i;++r){var y=a[r].s;if(d[y]>t)g+=b-(1<<m-d[y]),d[y]=t;else break}for(g>>=w;g>0;){var x=a[r].s;d[x]<t?g-=1<<t-d[x]++-1:++r}for(;r>=0&&g;--r){var A=a[r].s;d[A]==t&&(--d[A],++g)}m=t}return{t:new xr(d),l:m}},M2=function(e,t,n){return e.s==-1?Math.max(M2(e.l,t,n+1),M2(e.r,t,n+1)):t[e.s]=n},sA=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ii(++t),r=0,i=e[0],a=1,o=function(l){n[r++]=l},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return{c:n.subarray(0,r),n:t}},Ed=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},uk=function(e,t,n){var r=n.length,i=n5(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},lA=function(e,t,n,r,i,a,o,s,l,c,h){Ka(t,h++,n),++i[256];for(var f=Xy(i,15),p=f.t,d=f.l,m=Xy(a,15),g=m.t,w=m.l,b=sA(p),y=b.c,x=b.n,A=sA(g),N=A.c,P=A.n,j=new ii(19),C=0;C<y.length;++C)++j[y[C]&31];for(var C=0;C<N.length;++C)++j[N[C]&31];for(var _=Xy(j,7),M=_.t,O=_.l,T=19;T>4&&!M[_2[T-1]];--T);var I=c+5<<3,L=Ed(i,ds)+Ed(a,lh)+o,U=Ed(i,p)+Ed(a,g)+o+14+3*T+Ed(j,M)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&I<=L&&I<=U)return uk(t,h,e.subarray(l,l+c));var D,$,W,z;if(Ka(t,h,1+(U<L)),h+=2,U<L){D=_a(p,d,0),$=p,W=_a(g,w,0),z=g;var Y=_a(M,O,0);Ka(t,h,x-257),Ka(t,h+5,P-1),Ka(t,h+10,T-4),h+=14;for(var C=0;C<T;++C)Ka(t,h+3*C,M[_2[C]]);h+=3*T;for(var re=[y,N],E=0;E<2;++E)for(var R=re[E],C=0;C<R.length;++C){var q=R[C]&31;Ka(t,h,Y[q]),h+=M[q],q>15&&(Ka(t,h,R[C]>>5&127),h+=R[C]>>12)}}else D=Wue,$=ds,W=zue,z=lh;for(var C=0;C<s;++C){var ee=r[C];if(ee>255){var q=ee>>18&31;_d(t,h,D[q+257]),h+=$[q+257],q>7&&(Ka(t,h,ee>>23&31),h+=X0[q]);var H=ee&31;_d(t,h,W[H]),h+=z[H],H>3&&(_d(t,h,ee>>5&8191),h+=J0[H])}else _d(t,h,D[ee]),h+=$[ee]}return _d(t,h,D[256]),h+$[256]},Vue=new t5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ck=new xr(0),Kue=function(e,t,n,r,i,a){var o=a.z||e.length,s=new xr(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),c=a.l,h=(a.r||0)&7;if(t){h&&(l[0]=a.r>>3);for(var f=Vue[t-1],p=f>>13,d=f&8191,m=(1<<n)-1,g=a.p||new ii(32768),w=a.h||new ii(m+1),b=Math.ceil(n/3),y=2*b,x=function(be){return(e[be]^e[be+1]<<b^e[be+2]<<y)&m},A=new t5(25e3),N=new ii(288),P=new ii(32),j=0,C=0,_=a.i||0,M=0,O=a.w||0,T=0;_+2<o;++_){var I=x(_),L=_&32767,U=w[I];if(g[L]=U,w[I]=L,O<=_){var D=o-_;if((j>7e3||M>24576)&&(D>423||!c)){h=lA(e,l,0,A,N,P,C,M,T,_-T,h),M=j=C=0,T=_;for(var $=0;$<286;++$)N[$]=0;for(var $=0;$<30;++$)P[$]=0}var W=2,z=0,Y=d,re=L-U&32767;if(D>2&&I==x(_-re))for(var E=Math.min(p,D)-1,R=Math.min(32767,_),q=Math.min(258,D);re<=R&&--Y&&L!=U;){if(e[_+W]==e[_+W-re]){for(var ee=0;ee<q&&e[_+ee]==e[_+ee-re];++ee);if(ee>W){if(W=ee,z=re,ee>E)break;for(var H=Math.min(re,ee-2),te=0,$=0;$<H;++$){var X=_-re+$&32767,G=g[X],ce=X-G&32767;ce>te&&(te=ce,U=X)}}}L=U,U=g[L],re+=L-U&32767}if(z){A[M++]=268435456|E2[W]<<18|oA[z];var ae=E2[W]&31,le=oA[z]&31;C+=X0[ae]+J0[le],++N[257+ae],++P[le],O=_+W,++j}else A[M++]=e[_],++N[e[_]]}}for(_=Math.max(_,O);_<o;++_)A[M++]=e[_],++N[e[_]];h=lA(e,l,c,A,N,P,C,M,T,_-T,h),c||(a.r=h&7|l[h/8|0]<<3,h-=7,a.h=w,a.p=g,a.i=_,a.w=O)}else{for(var _=a.w||0;_<o+c;_+=65535){var xe=_+65535;xe>=o&&(l[h/8|0]=c,xe=o),h=uk(l,h+1,e.subarray(_,xe))}a.i=o}return lk(s,0,r+n5(h)+i)},dk=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Yue=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new xr(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return Kue(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},fk=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Xue=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=dk();i.p(t.dictionary),fk(e,2,i.d())}},Jue=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Xi(6,"invalid zlib data"),(e[1]>>5&1)==1&&Xi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function D2(e,t){t||(t={});var n=dk();n.p(e);var r=Yue(e,t,t.dictionary?6:2,4);return Xue(r,t),fk(r,r.length-4,n.d()),r}function Que(e,t){return Gue(e.subarray(Jue(e),-4),{i:2},t,t)}var Zue=typeof TextDecoder<"u"&&new TextDecoder,ece=0;try{Zue.decode(ck,{stream:!0}),ece=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Jy(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Ht={log:Jy,warn:function(e){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):Jy.call(null,arguments))},error:function(e){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):Jy(e))}};function Qy(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){zs(r.response,t,n)},r.onerror=function(){Ht.error("could not download file")},r.send()}function uA(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Vp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ef,I2,zs=lt.saveAs||((typeof window>"u"?"undefined":It(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=lt.URL||lt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?uA(i.href)?Qy(e,t,n):Vp(i,i.target="_blank"):Vp(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Vp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(uA(e))Qy(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Vp(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:It(a)!=="object"&&(Ht.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Qy(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":It(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var h=s.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},s.readAsDataURL(e)}else{var l=lt.URL||lt.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hk(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+s+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Zy(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=ur(n,r,i,a,t[0],7,-680876936),a=ur(a,n,r,i,t[1],12,-389564586),i=ur(i,a,n,r,t[2],17,606105819),r=ur(r,i,a,n,t[3],22,-1044525330),n=ur(n,r,i,a,t[4],7,-176418897),a=ur(a,n,r,i,t[5],12,1200080426),i=ur(i,a,n,r,t[6],17,-1473231341),r=ur(r,i,a,n,t[7],22,-45705983),n=ur(n,r,i,a,t[8],7,1770035416),a=ur(a,n,r,i,t[9],12,-1958414417),i=ur(i,a,n,r,t[10],17,-42063),r=ur(r,i,a,n,t[11],22,-1990404162),n=ur(n,r,i,a,t[12],7,1804603682),a=ur(a,n,r,i,t[13],12,-40341101),i=ur(i,a,n,r,t[14],17,-1502002290),n=cr(n,r=ur(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=cr(a,n,r,i,t[6],9,-1069501632),i=cr(i,a,n,r,t[11],14,643717713),r=cr(r,i,a,n,t[0],20,-373897302),n=cr(n,r,i,a,t[5],5,-701558691),a=cr(a,n,r,i,t[10],9,38016083),i=cr(i,a,n,r,t[15],14,-660478335),r=cr(r,i,a,n,t[4],20,-405537848),n=cr(n,r,i,a,t[9],5,568446438),a=cr(a,n,r,i,t[14],9,-1019803690),i=cr(i,a,n,r,t[3],14,-187363961),r=cr(r,i,a,n,t[8],20,1163531501),n=cr(n,r,i,a,t[13],5,-1444681467),a=cr(a,n,r,i,t[2],9,-51403784),i=cr(i,a,n,r,t[7],14,1735328473),n=dr(n,r=cr(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=dr(a,n,r,i,t[8],11,-2022574463),i=dr(i,a,n,r,t[11],16,1839030562),r=dr(r,i,a,n,t[14],23,-35309556),n=dr(n,r,i,a,t[1],4,-1530992060),a=dr(a,n,r,i,t[4],11,1272893353),i=dr(i,a,n,r,t[7],16,-155497632),r=dr(r,i,a,n,t[10],23,-1094730640),n=dr(n,r,i,a,t[13],4,681279174),a=dr(a,n,r,i,t[0],11,-358537222),i=dr(i,a,n,r,t[3],16,-722521979),r=dr(r,i,a,n,t[6],23,76029189),n=dr(n,r,i,a,t[9],4,-640364487),a=dr(a,n,r,i,t[12],11,-421815835),i=dr(i,a,n,r,t[15],16,530742520),n=fr(n,r=dr(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=fr(a,n,r,i,t[7],10,1126891415),i=fr(i,a,n,r,t[14],15,-1416354905),r=fr(r,i,a,n,t[5],21,-57434055),n=fr(n,r,i,a,t[12],6,1700485571),a=fr(a,n,r,i,t[3],10,-1894986606),i=fr(i,a,n,r,t[10],15,-1051523),r=fr(r,i,a,n,t[1],21,-2054922799),n=fr(n,r,i,a,t[8],6,1873313359),a=fr(a,n,r,i,t[15],10,-30611744),i=fr(i,a,n,r,t[6],15,-1560198380),r=fr(r,i,a,n,t[13],21,1309151649),n=fr(n,r,i,a,t[4],6,-145523070),a=fr(a,n,r,i,t[11],10,-1120210379),i=fr(i,a,n,r,t[2],15,718787259),r=fr(r,i,a,n,t[9],21,-343485551),e[0]=Xo(n,e[0]),e[1]=Xo(r,e[1]),e[2]=Xo(i,e[2]),e[3]=Xo(a,e[3])}function Q0(e,t,n,r,i,a){return t=Xo(Xo(t,e),Xo(r,a)),Xo(t<<i|t>>>32-i,n)}function ur(e,t,n,r,i,a,o){return Q0(t&n|~t&r,e,t,i,a,o)}function cr(e,t,n,r,i,a,o){return Q0(t&r|n&~r,e,t,i,a,o)}function dr(e,t,n,r,i,a,o){return Q0(t^n^r,e,t,i,a,o)}function fr(e,t,n,r,i,a,o){return Q0(n^(t|~r),e,t,i,a,o)}function pk(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Zy(r,tce(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Zy(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Zy(r,i),r}function tce(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}ef=lt.atob.bind(lt),I2=lt.btoa.bind(lt);var cA="0123456789abcdef".split("");function nce(e){for(var t="",n=0;n<4;n++)t+=cA[e>>8*n+4&15]+cA[e>>8*n&15];return t}function rce(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function $2(e){return pk(e).map(rce).join("")}var ice=function(e){for(var t=0;t<e.length;t++)e[t]=nce(e[t]);return e.join("")}(pk("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xo(e,t){if(ice){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function R2(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var h=s[l];c=(c+h+o.charCodeAt(l))%256,s[l]=s[c],s[c]=h}n=e,r=s}else s=r;var f=t.length,p=0,d=0,m="";for(l=0;l<f;l++)d=(d+(h=s[p=(p+1)%256]))%256,s[p]=s[d],s[d]=h,o=s[(s[p]+s[d])%256],m+=String.fromCharCode(t.charCodeAt(l)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dA={print:4,modify:8,copy:16,"annot-forms":32};function pu(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(s){if(dA.perm!==void 0)throw new Error("Invalid permission: "+s);i+=dA[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=$2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=R2(this.encryptionKey,this.padding)}function mu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function fA(e){if(It(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(s){lt.console&&Ht.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function uh(e){if(!(this instanceof uh))return new uh(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function mk(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function qo(e,t,n,r,i){if(!(this instanceof qo))return new qo(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,mk.call(this,r,i)}function Zs(e,t,n,r,i){if(!(this instanceof Zs))return new Zs(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,mk.call(this,r,i)}function it(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,c="S",h=null;It(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},d={internal:{},__private__:{}};d.__private__.PubSub=fA;var m="1.3",g=d.__private__.getPdfVersion=function(){return m};d.__private__.setPdfVersion=function(F){m=F};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return w};var b=d.__private__.getPageFormat=function(F){return w[F]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},x=y.COMPAT;function A(){this.saveGraphicsState(),ie(new ot(Ne,0,0,-Ne,0,wo()*Ne).toString()+" cm"),this.setFontSize(this.getFontSize()/Ne),c="n",x=y.ADVANCED}function N(){this.restoreGraphicsState(),c="S",x=y.COMPAT}var P=d.__private__.combineFontStyleAndFontWeight=function(F,K){if(F=="bold"&&K=="normal"||F=="bold"&&K==400||F=="normal"&&K=="italic"||F=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(F=K==400||K==="normal"?F==="italic"?"italic":"normal":K!=700&&K!=="bold"||F!=="normal"?(K==700?"bold":K)+""+F:"bold"),F};d.advancedAPI=function(F){var K=x===y.COMPAT;return K&&A.call(this),typeof F!="function"||(F(this),K&&N.call(this)),this},d.compatAPI=function(F){var K=x===y.ADVANCED;return K&&N.call(this),typeof F!="function"||(F(this),K&&A.call(this)),this},d.isAdvancedAPI=function(){return x===y.ADVANCED};var j,C=function(F){if(x!==y.ADVANCED)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_=d.roundToPrecision=d.__private__.roundToPrecision=function(F,K){var ue=t||K;if(isNaN(F)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(ue).replace(/0+$/,"")};j=d.hpf=d.__private__.hpf=typeof l=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return _(F,l)}:l==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return _(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return _(F,16)};var M=d.f2=d.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return _(F,2)},O=d.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return _(F,3)},T=d.scale=d.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return x===y.COMPAT?F*Ne:x===y.ADVANCED?F:void 0},I=function(F){return x===y.COMPAT?wo()-F:x===y.ADVANCED?F:void 0},L=function(F){return T(I(F))};d.__private__.setPrecision=d.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(t=parseInt(F,10))};var U,D="00000000000000000000000000000000",$=d.__private__.getFileId=function(){return D},W=d.__private__.setFileId=function(F){return D=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():D.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ar=new pu(h.userPermissions,h.userPassword,h.ownerPassword,D)),D};d.setFileId=function(F){return W(F),this},d.getFileId=function(){return $()};var z=d.__private__.convertDateToPDFDate=function(F){var K=F.getTimezoneOffset(),ue=K<0?"+":"-",fe=Math.floor(Math.abs(K/60)),ye=Math.abs(K%60),Pe=[ue,q(fe),"'",q(ye),"'"].join("");return["D:",F.getFullYear(),q(F.getMonth()+1),q(F.getDate()),q(F.getHours()),q(F.getMinutes()),q(F.getSeconds()),Pe].join("")},Y=d.__private__.convertPDFDateToDate=function(F){var K=parseInt(F.substr(2,4),10),ue=parseInt(F.substr(6,2),10)-1,fe=parseInt(F.substr(8,2),10),ye=parseInt(F.substr(10,2),10),Pe=parseInt(F.substr(12,2),10),Be=parseInt(F.substr(14,2),10);return new Date(K,ue,fe,ye,Pe,Be,0)},re=d.__private__.setCreationDate=function(F){var K;if(F===void 0&&(F=new Date),F instanceof Date)K=z(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=F}return U=K},E=d.__private__.getCreationDate=function(F){var K=U;return F==="jsDate"&&(K=Y(U)),K};d.setCreationDate=function(F){return re(F),this},d.getCreationDate=function(F){return E(F)};var R,q=d.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},ee=d.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},H=0,te=[],X=[],G=0,ce=[],ae=[],le=!1,xe=X,be=function(){H=0,G=0,X=[],te=[],ce=[],Ia=An(),Di=An()};d.__private__.setCustomOutputDestination=function(F){le=!0,xe=F};var de=function(F){le||(xe=F)};d.__private__.resetCustomOutputDestination=function(){le=!1,xe=X};var ie=d.__private__.out=function(F){return F=F.toString(),G+=F.length+1,xe.push(F),xe},Ce=d.__private__.write=function(F){return ie(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},Fe=d.__private__.getArrayBuffer=function(F){for(var K=F.length,ue=new ArrayBuffer(K),fe=new Uint8Array(ue);K--;)fe[K]=F.charCodeAt(K);return ue},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Ae};var Te=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(F){return Te=x===y.ADVANCED?F/Ne:F,this};var Re,Ie=d.__private__.getFontSize=d.getFontSize=function(){return x===y.COMPAT?Te:Te*Ne},ke=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(F){return ke=F,this},d.__private__.getR2L=d.getR2L=function(){return ke};var De,Le=d.__private__.setZoomMode=function(F){var K=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))Re=F;else if(isNaN(F)){if(K.indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');Re=F}else Re=parseInt(F,10)};d.__private__.getZoomMode=function(){return Re};var Ge,Ue=d.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');De=F};d.__private__.getPageMode=function(){return De};var mt=d.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Ge=F};d.__private__.getLayoutMode=function(){return Ge},d.__private__.setDisplayMode=d.setDisplayMode=function(F,K,ue){return Le(F),mt(K),Ue(ue),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(F){if(Object.keys(et).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[F]},d.__private__.getDocumentProperties=function(){return et},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(F){for(var K in et)et.hasOwnProperty(K)&&F[K]&&(et[K]=F[K]);return this},d.__private__.setDocumentProperty=function(F,K){if(Object.keys(et).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[F]=K};var ut,Ne,vt,ct,jn,Ot={},Tt={},ir=[],bt={},ws={},un={},Li={},Da=null,cn=0,ft=[],_t=new fA(d),Ss=e.hotfixes||[],Xn={},da={},fa=[],ot=function F(K,ue,fe,ye,Pe,Be){if(!(this instanceof F))return new F(K,ue,fe,ye,Pe,Be);isNaN(K)&&(K=1),isNaN(ue)&&(ue=0),isNaN(fe)&&(fe=0),isNaN(ye)&&(ye=1),isNaN(Pe)&&(Pe=0),isNaN(Be)&&(Be=0),this._matrix=[K,ue,fe,ye,Pe,Be]};Object.defineProperty(ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ot.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(F)},ot.prototype.multiply=function(F){var K=F.sx*this.sx+F.shy*this.shx,ue=F.sx*this.shy+F.shy*this.sy,fe=F.shx*this.sx+F.sy*this.shx,ye=F.shx*this.shy+F.sy*this.sy,Pe=F.tx*this.sx+F.ty*this.shx+this.tx,Be=F.tx*this.shy+F.ty*this.sy+this.ty;return new ot(K,ue,fe,ye,Pe,Be)},ot.prototype.decompose=function(){var F=this.sx,K=this.shy,ue=this.shx,fe=this.sy,ye=this.tx,Pe=this.ty,Be=Math.sqrt(F*F+K*K),Ye=(F/=Be)*ue+(K/=Be)*fe;ue-=F*Ye,fe-=K*Ye;var nt=Math.sqrt(ue*ue+fe*fe);return Ye/=nt,F*(fe/=nt)<K*(ue/=nt)&&(F=-F,K=-K,Ye=-Ye,Be=-Be),{scale:new ot(Be,0,0,nt,0,0),translate:new ot(1,0,0,1,ye,Pe),rotate:new ot(F,K,-K,F,0,0),skew:new ot(1,0,Ye,1,0,0)}},ot.prototype.toString=function(F){return this.join(" ")},ot.prototype.inversed=function(){var F=this.sx,K=this.shy,ue=this.shx,fe=this.sy,ye=this.tx,Pe=this.ty,Be=1/(F*fe-K*ue),Ye=fe*Be,nt=-K*Be,gt=-ue*Be,ht=F*Be;return new ot(Ye,nt,gt,ht,-Ye*ye-gt*Pe,-nt*ye-ht*Pe)},ot.prototype.applyToPoint=function(F){var K=F.x*this.sx+F.y*this.shx+this.tx,ue=F.x*this.shy+F.y*this.sy+this.ty;return new Ul(K,ue)},ot.prototype.applyToRectangle=function(F){var K=this.applyToPoint(F),ue=this.applyToPoint(new Ul(F.x+F.w,F.y+F.h));return new Hc(K.x,K.y,ue.x-K.x,ue.y-K.y)},ot.prototype.clone=function(){var F=this.sx,K=this.shy,ue=this.shx,fe=this.sy,ye=this.tx,Pe=this.ty;return new ot(F,K,ue,fe,ye,Pe)},d.Matrix=ot;var Mi=d.matrixMult=function(F,K){return K.multiply(F)},ha=new ot(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=ha;var Fr=function(F,K){if(!ws[F]){var ue=(K instanceof qo?"Sh":"P")+(Object.keys(bt).length+1).toString(10);K.id=ue,ws[F]=ue,bt[ue]=K,_t.publish("addPattern",K)}};d.ShadingPattern=qo,d.TilingPattern=Zs,d.addShadingPattern=function(F,K){return C("addShadingPattern()"),Fr(F,K),this},d.beginTilingPattern=function(F){C("beginTilingPattern()"),zh(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},d.endTilingPattern=function(F,K){C("endTilingPattern()"),K.stream=ae[R].join(`
`),Fr(F,K),_t.publish("endTilingPattern",K),fa.pop().restore()};var _n=d.__private__.newObject=function(){var F=An();return Gr(F,!0),F},An=d.__private__.newObjectDeferred=function(){return H++,te[H]=function(){return G},H},Gr=function(F,K){return K=typeof K=="boolean"&&K,te[F]=G,K&&ie(F+" 0 obj"),F},Tl=d.__private__.newAdditionalObject=function(){var F={objId:An(),content:""};return ce.push(F),F},Ia=An(),Di=An(),Ii=d.__private__.decodeColorString=function(F){var K=F.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length===5&&(K[4]==="k"||K[4]==="K")&&(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var ue=parseFloat(K[0]);K=[ue,ue,ue,"r"]}for(var fe="#",ye=0;ye<3;ye++)fe+=("0"+Math.floor(255*parseFloat(K[ye])).toString(16)).slice(-2);return fe},$i=d.__private__.encodeColorString=function(F){var K;typeof F=="string"&&(F={ch1:F});var ue=F.ch1,fe=F.ch2,ye=F.ch3,Pe=F.ch4,Be=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var Ye=new hk(ue);if(Ye.ok)ue=Ye.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var nt=parseInt(ue.substr(1),16);ue=nt>>16&255,fe=nt>>8&255,ye=255&nt}if(fe===void 0||Pe===void 0&&ue===fe&&fe===ye)if(typeof ue=="string")K=ue+" "+Be[0];else switch(F.precision){case 2:K=M(ue/255)+" "+Be[0];break;case 3:default:K=O(ue/255)+" "+Be[0]}else if(Pe===void 0||It(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return K=["1.","1.","1.",Be[1]].join(" ");if(typeof ue=="string")K=[ue,fe,ye,Be[1]].join(" ");else switch(F.precision){case 2:K=[M(ue/255),M(fe/255),M(ye/255),Be[1]].join(" ");break;default:case 3:K=[O(ue/255),O(fe/255),O(ye/255),Be[1]].join(" ")}}else if(typeof ue=="string")K=[ue,fe,ye,Pe,Be[2]].join(" ");else switch(F.precision){case 2:K=[M(ue),M(fe),M(ye),M(Pe),Be[2]].join(" ");break;case 3:default:K=[O(ue),O(fe),O(ye),O(Pe),Be[2]].join(" ")}return K},pa=d.__private__.getFilters=function(){return o},ci=d.__private__.putStream=function(F){var K=(F=F||{}).data||"",ue=F.filters||pa(),fe=F.alreadyAppliedFilters||[],ye=F.addLength1||!1,Pe=K.length,Be=F.objectId,Ye=function(or){return or};if(h!==null&&Be===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Ye=ar.encryptor(Be,0));var nt={};ue===!0&&(ue=["FlateEncode"]);var gt=F.additionalKeyValues||[],ht=(nt=it.API.processDataByFilters!==void 0?it.API.processDataByFilters(K,ue):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(nt.data.length!==0&&(gt.push({key:"Length",value:nt.data.length}),ye===!0&&gt.push({key:"Length1",value:Pe})),ht.length!=0)if(ht.split("/").length-1==1)gt.push({key:"Filter",value:ht});else{gt.push({key:"Filter",value:"["+ht+"]"});for(var At=0;At<gt.length;At+=1)if(gt[At].key==="DecodeParms"){for(var an=[],dn=0;dn<nt.reverseChain.split("/").length-1;dn+=1)an.push("null");an.push(gt[At].value),gt[At].value="["+an.join(" ")+"]"}}ie("<<");for(var Pn=0;Pn<gt.length;Pn++)ie("/"+gt[Pn].key+" "+gt[Pn].value);ie(">>"),nt.data.length!==0&&(ie("stream"),ie(Ye(nt.data)),ie("endstream"))},ma=d.__private__.putPage=function(F){var K=F.number,ue=F.data,fe=F.objId,ye=F.contentsObjId;Gr(fe,!0),ie("<</Type /Page"),ie("/Parent "+F.rootDictionaryObjId+" 0 R"),ie("/Resources "+F.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(j(F.mediaBox.bottomLeftX))+" "+parseFloat(j(F.mediaBox.bottomLeftY))+" "+j(F.mediaBox.topRightX)+" "+j(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&ie("/CropBox ["+j(F.cropBox.bottomLeftX)+" "+j(F.cropBox.bottomLeftY)+" "+j(F.cropBox.topRightX)+" "+j(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&ie("/BleedBox ["+j(F.bleedBox.bottomLeftX)+" "+j(F.bleedBox.bottomLeftY)+" "+j(F.bleedBox.topRightX)+" "+j(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&ie("/TrimBox ["+j(F.trimBox.bottomLeftX)+" "+j(F.trimBox.bottomLeftY)+" "+j(F.trimBox.topRightX)+" "+j(F.trimBox.topRightY)+"]"),F.artBox!==null&&ie("/ArtBox ["+j(F.artBox.bottomLeftX)+" "+j(F.artBox.bottomLeftY)+" "+j(F.artBox.topRightX)+" "+j(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&ie("/UserUnit "+F.userUnit),_t.publish("putPage",{objId:fe,pageContext:ft[K],pageNumber:K,page:ue}),ie("/Contents "+ye+" 0 R"),ie(">>"),ie("endobj");var Pe=ue.join(`
`);return x===y.ADVANCED&&(Pe+=`
Q`),Gr(ye,!0),ci({data:Pe,filters:pa(),objectId:ye}),ie("endobj"),fe},Ns=d.__private__.putPages=function(){var F,K,ue=[];for(F=1;F<=cn;F++)ft[F].objId=An(),ft[F].contentsObjId=An();for(F=1;F<=cn;F++)ue.push(ma({number:F,data:ae[F],objId:ft[F].objId,contentsObjId:ft[F].contentsObjId,mediaBox:ft[F].mediaBox,cropBox:ft[F].cropBox,bleedBox:ft[F].bleedBox,trimBox:ft[F].trimBox,artBox:ft[F].artBox,userUnit:ft[F].userUnit,rootDictionaryObjId:Ia,resourceDictionaryObjId:Di}));Gr(Ia,!0),ie("<</Type /Pages");var fe="/Kids [";for(K=0;K<cn;K++)fe+=ue[K]+" 0 R ";ie(fe+"]"),ie("/Count "+cn),ie(">>"),ie("endobj"),_t.publish("postPutPages")},Fl=function(F){_t.publish("putFont",{font:F,out:ie,newObject:_n,putStream:ci}),F.isAlreadyPutted!==!0&&(F.objectNumber=_n(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+mu(F.postScriptName)),ie("/Subtype /Type1"),typeof F.encoding=="string"&&ie("/Encoding /"+F.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},kl=function(){for(var F in Ot)Ot.hasOwnProperty(F)&&(f===!1||f===!0&&p.hasOwnProperty(F))&&Fl(Ot[F])},_l=function(F){F.objectNumber=_n();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[j(F.x),j(F.y),j(F.x+F.width),j(F.y+F.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var ue=F.pages[1].join(`
`);ci({data:ue,additionalKeyValues:K,objectId:F.objectNumber}),ie("endobj")},El=function(){for(var F in Xn)Xn.hasOwnProperty(F)&&_l(Xn[F])},Ah=function(F,K){var ue,fe=[],ye=1/(K-1);for(ue=0;ue<1;ue+=ye)fe.push(ue);if(fe.push(1),F[0].offset!=0){var Pe={offset:0,color:F[0].color};F.unshift(Pe)}if(F[F.length-1].offset!=1){var Be={offset:1,color:F[F.length-1].color};F.push(Be)}for(var Ye="",nt=0,gt=0;gt<fe.length;gt++){for(ue=fe[gt];ue>F[nt+1].offset;)nt++;var ht=F[nt].offset,At=(ue-ht)/(F[nt+1].offset-ht),an=F[nt].color,dn=F[nt+1].color;Ye+=ee(Math.round((1-At)*an[0]+At*dn[0]).toString(16))+ee(Math.round((1-At)*an[1]+At*dn[1]).toString(16))+ee(Math.round((1-At)*an[2]+At*dn[2]).toString(16))}return Ye.trim()},Z0=function(F,K){K||(K=21);var ue=_n(),fe=Ah(F.colors,K),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+K+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ci({data:fe,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),ie("endobj"),F.objectNumber=_n(),ie("<< /ShadingType "+F.type),ie("/ColorSpace /DeviceRGB");var Pe="/Coords ["+j(parseFloat(F.coords[0]))+" "+j(parseFloat(F.coords[1]))+" ";F.type===2?Pe+=j(parseFloat(F.coords[2]))+" "+j(parseFloat(F.coords[3])):Pe+=j(parseFloat(F.coords[2]))+" "+j(parseFloat(F.coords[3]))+" "+j(parseFloat(F.coords[4]))+" "+j(parseFloat(F.coords[5])),ie(Pe+="]"),F.matrix&&ie("/Matrix ["+F.matrix.toString()+"]"),ie("/Function "+ue+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},ev=function(F,K){var ue=An(),fe=_n();K.push({resourcesOid:ue,objectOid:fe}),F.objectNumber=fe;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+F.boundingBox.map(j).join(" ")+"]"}),ye.push({key:"XStep",value:j(F.xStep)}),ye.push({key:"YStep",value:j(F.yStep)}),ye.push({key:"Resources",value:ue+" 0 R"}),F.matrix&&ye.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),ci({data:F.stream,additionalKeyValues:ye,objectId:F.objectNumber}),ie("endobj")},Ll=function(F){var K;for(K in bt)bt.hasOwnProperty(K)&&(bt[K]instanceof qo?Z0(bt[K]):bt[K]instanceof Zs&&ev(bt[K],F))},Ph=function(F){for(var K in F.objectNumber=_n(),ie("<<"),F)switch(K){case"opacity":ie("/ca "+M(F[K]));break;case"stroke-opacity":ie("/CA "+M(F[K]))}ie(">>"),ie("endobj")},tv=function(){var F;for(F in un)un.hasOwnProperty(F)&&Ph(un[F])},Lc=function(){for(var F in ie("/XObject <<"),Xn)Xn.hasOwnProperty(F)&&Xn[F].objectNumber>=0&&ie("/"+F+" "+Xn[F].objectNumber+" 0 R");_t.publish("putXobjectDict"),ie(">>")},nv=function(){ar.oid=_n(),ie("<<"),ie("/Filter /Standard"),ie("/V "+ar.v),ie("/R "+ar.r),ie("/U <"+ar.toHexString(ar.U)+">"),ie("/O <"+ar.toHexString(ar.O)+">"),ie("/P "+ar.P),ie(">>"),ie("endobj")},Ch=function(){for(var F in ie("/Font <<"),Ot)Ot.hasOwnProperty(F)&&(f===!1||f===!0&&p.hasOwnProperty(F))&&ie("/"+F+" "+Ot[F].objectNumber+" 0 R");ie(">>")},rv=function(){if(Object.keys(bt).length>0){for(var F in ie("/Shading <<"),bt)bt.hasOwnProperty(F)&&bt[F]instanceof qo&&bt[F].objectNumber>=0&&ie("/"+F+" "+bt[F].objectNumber+" 0 R");_t.publish("putShadingPatternDict"),ie(">>")}},Ml=function(F){if(Object.keys(bt).length>0){for(var K in ie("/Pattern <<"),bt)bt.hasOwnProperty(K)&&bt[K]instanceof d.TilingPattern&&bt[K].objectNumber>=0&&bt[K].objectNumber<F&&ie("/"+K+" "+bt[K].objectNumber+" 0 R");_t.publish("putTilingPatternDict"),ie(">>")}},iv=function(){if(Object.keys(un).length>0){var F;for(F in ie("/ExtGState <<"),un)un.hasOwnProperty(F)&&un[F].objectNumber>=0&&ie("/"+F+" "+un[F].objectNumber+" 0 R");_t.publish("putGStateDict"),ie(">>")}},gn=function(F){Gr(F.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ch(),rv(),Ml(F.objectOid),iv(),Lc(),ie(">>"),ie("endobj")},Oh=function(){var F=[];kl(),tv(),El(),Ll(F),_t.publish("putResources"),F.forEach(gn),gn({resourcesOid:Di,objectOid:Number.MAX_SAFE_INTEGER}),_t.publish("postPutResources")},Th=function(){_t.publish("putAdditionalObjects");for(var F=0;F<ce.length;F++){var K=ce[F];Gr(K.objId,!0),ie(K.content),ie("endobj")}_t.publish("postPutAdditionalObjects")},Fh=function(F){Tt[F.fontName]=Tt[F.fontName]||{},Tt[F.fontName][F.fontStyle]=F.id},Mc=function(F,K,ue,fe,ye){var Pe={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:F,fontName:K,fontStyle:ue,encoding:fe,isStandardFont:ye||!1,metadata:{}};return _t.publish("addFont",{font:Pe,instance:this}),Ot[Pe.id]=Pe,Fh(Pe),Pe.id},av=function(F){for(var K=0,ue=Ae.length;K<ue;K++){var fe=Mc.call(this,F[K][0],F[K][1],F[K][2],Ae[K][3],!0);f===!1&&(p[fe]=!0);var ye=F[K][0].split("-");Fh({id:fe,fontName:ye[0],fontStyle:ye[1]||""})}_t.publish("addFonts",{fonts:Ot,dictionary:Tt})},Ri=function(F){return F.foo=function(){try{return F.apply(this,arguments)}catch(fe){var K=fe.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var ue="Error in function "+K.split(`
`)[0].split("<")[0]+": "+fe.message;if(!lt.console)throw new Error(ue);lt.console.error(ue,fe),lt.alert&&alert(ue)}},F.foo.bar=F,F.foo},Dl=function(F,K){var ue,fe,ye,Pe,Be,Ye,nt,gt,ht;if(ye=(K=K||{}).sourceEncoding||"Unicode",Be=K.outputEncoding,(K.autoencode||Be)&&Ot[ut].metadata&&Ot[ut].metadata[ye]&&Ot[ut].metadata[ye].encoding&&(Pe=Ot[ut].metadata[ye].encoding,!Be&&Ot[ut].encoding&&(Be=Ot[ut].encoding),!Be&&Pe.codePages&&(Be=Pe.codePages[0]),typeof Be=="string"&&(Be=Pe[Be]),Be)){for(nt=!1,Ye=[],ue=0,fe=F.length;ue<fe;ue++)(gt=Be[F.charCodeAt(ue)])?Ye.push(String.fromCharCode(gt)):Ye.push(F[ue]),Ye[ue].charCodeAt(0)>>8&&(nt=!0);F=Ye.join("")}for(ue=F.length;nt===void 0&&ue!==0;)F.charCodeAt(ue-1)>>8&&(nt=!0),ue--;if(!nt)return F;for(Ye=K.noBOM?[]:[254,255],ue=0,fe=F.length;ue<fe;ue++){if((ht=(gt=F.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+F+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(ht),Ye.push(gt-(ht<<8))}return String.fromCharCode.apply(void 0,Ye)},kr=d.__private__.pdfEscape=d.pdfEscape=function(F,K){return Dl(F,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dc=d.__private__.beginPage=function(F){ae[++cn]=[],ft[cn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},_h(cn),de(ae[R])},kh=function(F,K){var ue,fe,ye;switch(n=K||n,typeof F=="string"&&(ue=b(F.toLowerCase()),Array.isArray(ue)&&(fe=ue[0],ye=ue[1])),Array.isArray(F)&&(fe=F[0]*Ne,ye=F[1]*Ne),isNaN(fe)&&(fe=i[0],ye=i[1]),(fe>14400||ye>14400)&&(Ht.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),ye=Math.min(14400,ye)),i=[fe,ye],n.substr(0,1)){case"l":ye>fe&&(i=[ye,fe]);break;case"p":fe>ye&&(i=[ye,fe])}Dc(i),$h(Bc),ie(Bi),Uc!==0&&ie(Uc+" J"),zc!==0&&ie(zc+" j"),_t.publish("addPage",{pageNumber:cn})},ov=function(F){F>0&&F<=cn&&(ae.splice(F,1),ft.splice(F,1),cn--,R>cn&&(R=cn),this.setPage(R))},_h=function(F){F>0&&F<=cn&&(R=F)},sv=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return ae.length-1},Eh=function(F,K,ue){var fe,ye=void 0;return ue=ue||{},F=F!==void 0?F:Ot[ut].fontName,K=K!==void 0?K:Ot[ut].fontStyle,fe=F.toLowerCase(),Tt[fe]!==void 0&&Tt[fe][K]!==void 0?ye=Tt[fe][K]:Tt[F]!==void 0&&Tt[F][K]!==void 0?ye=Tt[F][K]:ue.disableWarning===!1&&Ht.warn("Unable to look up font label for font '"+F+"', '"+K+"'. Refer to getFontList() for available fonts."),ye||ue.noFallback||(ye=Tt.times[K])==null&&(ye=Tt.times.normal),ye},lv=d.__private__.putInfo=function(){var F=_n(),K=function(fe){return fe};for(var ue in h!==null&&(K=ar.encryptor(F,0)),ie("<<"),ie("/Producer ("+kr(K("jsPDF "+it.version))+")"),et)et.hasOwnProperty(ue)&&et[ue]&&ie("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+kr(K(et[ue]))+")");ie("/CreationDate ("+kr(K(U))+")"),ie(">>"),ie("endobj")},Ic=d.__private__.putCatalog=function(F){var K=(F=F||{}).rootDictionaryObjId||Ia;switch(_n(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+K+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+Re;ue.substr(ue.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+M(Re)+"]")}switch(Ge||(Ge="continuous"),Ge){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}De&&ie("/PageMode /"+De),_t.publish("putCatalog"),ie(">>"),ie("endobj")},uv=d.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(H+1)),ie("/Root "+H+" 0 R"),ie("/Info "+(H-1)+" 0 R"),h!==null&&ie("/Encrypt "+ar.oid+" 0 R"),ie("/ID [ <"+D+"> <"+D+"> ]"),ie(">>")},cv=d.__private__.putHeader=function(){ie("%PDF-"+m),ie("%")},dv=d.__private__.putXRef=function(){var F="0000000000";ie("xref"),ie("0 "+(H+1)),ie("0000000000 65535 f ");for(var K=1;K<=H;K++)typeof te[K]=="function"?ie((F+te[K]()).slice(-10)+" 00000 n "):te[K]!==void 0?ie((F+te[K]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},$a=d.__private__.buildDocument=function(){be(),de(X),_t.publish("buildDocument"),cv(),Ns(),Th(),Oh(),h!==null&&nv(),lv(),Ic();var F=G;return dv(),uv(),ie("startxref"),ie(""+F),ie("%%EOF"),de(ae[R]),X.join(`
`)},Il=d.__private__.getBlob=function(F){return new Blob([Fe(F)],{type:"application/pdf"})},$l=d.output=d.__private__.output=Ri(function(F,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",F){case void 0:return $a();case"save":d.save(K.filename);break;case"arraybuffer":return Fe($a());case"blob":return Il($a());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(Il($a()))||void 0;Ht.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",fe=$a();try{ue=I2(fe)}catch{ue=I2(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+K.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(ye=K.pdfObjectUrl,Pe="");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Ye=lt.open();return Ye!==null&&Ye.document.write(Be),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',gt=lt.open();if(gt!==null){gt.document.write(nt);var ht=this;gt.document.documentElement.querySelector("#pdfViewer").onload=function(){gt.document.title=K.filename,gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ht.output("bloburl"))}}return gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',an=lt.open();if(an!==null&&(an.document.write(At),an.document.title=K.filename),an||typeof safari>"u")return an;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",K);default:return null}}),Lh=function(F){return Array.isArray(Ss)===!0&&Ss.indexOf(F)>-1};switch(r){case"pt":Ne=1;break;case"mm":Ne=72/25.4;break;case"cm":Ne=72/2.54;break;case"in":Ne=72;break;case"px":Ne=Lh("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ne=12;break;case"ex":Ne=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ne=r}var ar=null;re(),W();var fv=function(F){return h!==null?ar.encryptor(F,0):function(K){return K}},Mh=d.__private__.getPageInfo=d.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[F].objId,pageNumber:F,pageContext:ft[F]}},dt=d.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in ft)if(ft[K].objId===F)break;return Mh(K)},hv=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ft[R].objId,pageNumber:R,pageContext:ft[R]}};d.addPage=function(){return kh.apply(this,arguments),this},d.setPage=function(){return _h.apply(this,arguments),de.call(this,ae[R]),this},d.insertPage=function(F){return this.addPage(),this.movePage(R,F),this},d.movePage=function(F,K){var ue,fe;if(F>K){ue=ae[F],fe=ft[F];for(var ye=F;ye>K;ye--)ae[ye]=ae[ye-1],ft[ye]=ft[ye-1];ae[K]=ue,ft[K]=fe,this.setPage(K)}else if(F<K){ue=ae[F],fe=ft[F];for(var Pe=F;Pe<K;Pe++)ae[Pe]=ae[Pe+1],ft[Pe]=ft[Pe+1];ae[K]=ue,ft[K]=fe,this.setPage(K)}return this},d.deletePage=function(){return ov.apply(this,arguments),this},d.__private__.text=d.text=function(F,K,ue,fe,ye){var Pe,Be,Ye,nt,gt,ht,At,an,dn,Pn=(fe=fe||{}).scope||this;if(typeof F=="number"&&typeof K=="number"&&(typeof ue=="string"||Array.isArray(ue))){var or=ue;ue=K,K=F,F=or}if(arguments[3]instanceof ot?(C("The transform parameter of text() with a Matrix value"),dn=ye):(Ye=arguments[4],nt=arguments[5],It(At=arguments[3])==="object"&&At!==null||(typeof Ye=="string"&&(nt=Ye,Ye=null),typeof At=="string"&&(nt=At,At=null),typeof At=="number"&&(Ye=At,At=null),fe={flags:At,angle:Ye,align:nt})),isNaN(K)||isNaN(ue)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return Pn;var Un="",Wi=!1,Vr=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:As,ya=Pn.internal.scaleFactor;function Hh(Vt){return Vt=Vt.split("	").join(Array(fe.TabLen||9).join(" ")),kr(Vt,At)}function Kc(Vt){for(var Kt,yn=Vt.concat(),En=[],za=yn.length;za--;)typeof(Kt=yn.shift())=="string"?En.push(Kt):Array.isArray(Vt)&&(Kt.length===1||Kt[1]===void 0&&Kt[2]===void 0)?En.push(Kt[0]):En.push([Kt[0],Kt[1],Kt[2]]);return En}function Yc(Vt,Kt){var yn;if(typeof Vt=="string")yn=Kt(Vt)[0];else if(Array.isArray(Vt)){for(var En,za,rd=Vt.concat(),Zl=[],Yh=rd.length;Yh--;)typeof(En=rd.shift())=="string"?Zl.push(Kt(En)[0]):Array.isArray(En)&&typeof En[0]=="string"&&(za=Kt(En[0],En[1],En[2]),Zl.push([za[0],za[1],za[2]]));yn=Zl}return yn}var Hl=!1,Xc=!0;if(typeof F=="string")Hl=!0;else if(Array.isArray(F)){var Jc=F.concat();Be=[];for(var ql,Jn=Jc.length;Jn--;)(typeof(ql=Jc.shift())!="string"||Array.isArray(ql)&&typeof ql[0]!="string")&&(Xc=!1);Hl=Xc}if(Hl===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var Gl=Te/Pn.internal.scaleFactor,Vl=Gl*(Vr-1);switch(fe.baseline){case"bottom":ue-=Vl;break;case"top":ue+=Gl-Vl;break;case"hanging":ue+=Gl-2*Vl;break;case"middle":ue+=Gl/2-Vl}if((ht=fe.maxWidth||0)>0&&(typeof F=="string"?F=Pn.splitTextToSize(F,ht):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(Vt,Kt){return Vt.concat(Pn.splitTextToSize(Kt,ht))},[]))),Pe={text:F,x:K,y:ue,options:fe,mutex:{pdfEscape:kr,activeFontKey:ut,fonts:Ot,activeFontSize:Te}},_t.publish("preProcessText",Pe),F=Pe.text,Ye=(fe=Pe.options).angle,!(dn instanceof ot)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,fe.rotationDirection===0&&(Ye=-Ye),x===y.ADVANCED&&(Ye=-Ye);var Kl=Math.cos(Ye),Qc=Math.sin(Ye);dn=new ot(Kl,Qc,-Qc,Kl,0,0)}else Ye&&Ye instanceof ot&&(dn=Ye);x!==y.ADVANCED||dn||(dn=ha),(gt=fe.charSpace||Wl)!==void 0&&(Un+=j(T(gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(an=fe.horizontalScale)!==void 0&&(Un+=j(100*an)+` Tz
`),fe.lang;var _r=-1,Nv=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Zc=Pn.internal.getCurrentPageInfo().pageContext;switch(Nv){case 0:case!1:case"fill":_r=0;break;case 1:case!0:case"stroke":_r=1;break;case 2:case"fillThenStroke":_r=2;break;case 3:case"invisible":_r=3;break;case 4:case"fillAndAddForClipping":_r=4;break;case 5:case"strokeAndAddPathForClipping":_r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_r=6;break;case 7:case"addToPathForClipping":_r=7}var qh=Zc.usedRenderingMode!==void 0?Zc.usedRenderingMode:-1;_r!==-1?Un+=_r+` Tr
`:qh!==-1&&(Un+=`0 Tr
`),_r!==-1&&(Zc.usedRenderingMode=_r),nt=fe.align||"left";var di,Yl=Te*Vr,Gh=Pn.internal.pageSize.getWidth(),Vh=Ot[ut];gt=fe.charSpace||Wl,ht=fe.maxWidth||0,At=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var So=[],Os=function(Vt){return Pn.getStringUnitWidth(Vt,{font:Vh,charSpace:gt,fontSize:Te,doKerning:!1})*Te/ya};if(Object.prototype.toString.call(F)==="[object Array]"){var Er;Be=Kc(F),nt!=="left"&&(di=Be.map(Os));var wr,No=0;if(nt==="right"){K-=di[0],F=[],Jn=Be.length;for(var Ba=0;Ba<Jn;Ba++)Ba===0?(wr=va(K),Er=Ra(ue)):(wr=T(No-di[Ba]),Er=-Yl),F.push([Be[Ba],wr,Er]),No=di[Ba]}else if(nt==="center"){K-=di[0]/2,F=[],Jn=Be.length;for(var Wa=0;Wa<Jn;Wa++)Wa===0?(wr=va(K),Er=Ra(ue)):(wr=T((No-di[Wa])/2),Er=-Yl),F.push([Be[Wa],wr,Er]),No=di[Wa]}else if(nt==="left"){F=[],Jn=Be.length;for(var Xl=0;Xl<Jn;Xl++)F.push(Be[Xl])}else if(nt==="justify"&&Vh.encoding==="Identity-H"){F=[],Jn=Be.length,ht=ht!==0?ht:Gh;for(var Ua=0,vn=0;vn<Jn;vn++)if(Er=vn===0?Ra(ue):-Yl,wr=vn===0?va(K):Ua,vn<Jn-1){var ed=T((ht-di[vn])/(Be[vn].split(" ").length-1)),Sr=Be[vn].split(" ");F.push([Sr[0]+" ",wr,Er]),Ua=0;for(var fi=1;fi<Sr.length;fi++){var Jl=(Os(Sr[fi-1]+" "+Sr[fi])-Os(Sr[fi]))*ya+ed;fi==Sr.length-1?F.push([Sr[fi],Jl,0]):F.push([Sr[fi]+" ",Jl,0]),Ua-=Jl}}else F.push([Be[vn],wr,Er]);F.push(["",Ua,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],Jn=Be.length,ht=ht!==0?ht:Gh,vn=0;vn<Jn;vn++)Er=vn===0?Ra(ue):-Yl,wr=vn===0?va(K):0,vn<Jn-1?So.push(j(T((ht-di[vn])/(Be[vn].split(" ").length-1)))):So.push(0),F.push([Be[vn],wr,Er])}}var Kh=typeof fe.R2L=="boolean"?fe.R2L:ke;Kh===!0&&(F=Yc(F,function(Vt,Kt,yn){return[Vt.split("").reverse().join(""),Kt,yn]})),Pe={text:F,x:K,y:ue,options:fe,mutex:{pdfEscape:kr,activeFontKey:ut,fonts:Ot,activeFontSize:Te}},_t.publish("postProcessText",Pe),F=Pe.text,Wi=Pe.mutex.isHex||!1;var td=Ot[ut].encoding;td!=="WinAnsiEncoding"&&td!=="StandardEncoding"||(F=Yc(F,function(Vt,Kt,yn){return[Hh(Vt),Kt,yn]})),Be=Kc(F),F=[];for(var Ts,Fs,jo,ks=0,Ql=1,_s=Array.isArray(Be[0])?Ql:ks,Ao="",nd=function(Vt,Kt,yn){var En="";return yn instanceof ot?(yn=typeof fe.angle=="number"?Mi(yn,new ot(1,0,0,1,Vt,Kt)):Mi(new ot(1,0,0,1,Vt,Kt),yn),x===y.ADVANCED&&(yn=Mi(new ot(1,0,0,-1,0,0),yn)),En=yn.join(" ")+` Tm
`):En=j(Vt)+" "+j(Kt)+` Td
`,En},hi=0;hi<Be.length;hi++){switch(Ao="",_s){case Ql:jo=(Wi?"<":"(")+Be[hi][0]+(Wi?">":")"),Ts=parseFloat(Be[hi][1]),Fs=parseFloat(Be[hi][2]);break;case ks:jo=(Wi?"<":"(")+Be[hi]+(Wi?">":")"),Ts=va(K),Fs=Ra(ue)}So!==void 0&&So[hi]!==void 0&&(Ao=So[hi]+` Tw
`),hi===0?F.push(Ao+nd(Ts,Fs,dn)+jo):_s===ks?F.push(Ao+jo):_s===Ql&&F.push(Ao+nd(Ts,Fs,dn)+jo)}F=_s===ks?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var pi=`BT
/`;return pi+=ut+" "+Te+` Tf
`,pi+=j(Te*Vr)+` TL
`,pi+=Ps+`
`,pi+=Un,pi+=F,ie(pi+="ET"),p[ut]=!0,Pn};var pv=d.__private__.clip=d.clip=function(F){return ie(F==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return pv("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ie("n"),this};var ga=d.__private__.isValidStyle=function(F){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(K=!0),K};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(F){return ga(F)&&(c=F),this};var Dh=d.__private__.getStyle=d.getStyle=function(F){var K=c;switch(F){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=F}return K},Ih=d.close=function(){return ie("h"),this};d.stroke=function(){return ie("S"),this},d.fill=function(F){return Rl("f",F),this},d.fillEvenOdd=function(F){return Rl("f*",F),this},d.fillStroke=function(F){return Rl("B",F),this},d.fillStrokeEvenOdd=function(F){return Rl("B*",F),this};var Rl=function(F,K){It(K)==="object"?gv(K,F):ie(F)},$c=function(F){F===null||x===y.ADVANCED&&F===void 0||(F=Dh(F),ie(F))};function mv(F,K,ue,fe,ye){var Pe=new Zs(K||this.boundingBox,ue||this.xStep,fe||this.yStep,this.gState,ye||this.matrix);Pe.stream=this.stream;var Be=F+"$$"+this.cloneIndex+++"$$";return Fr(Be,Pe),Pe}var gv=function(F,K){var ue=ws[F.key],fe=bt[ue];if(fe instanceof qo)ie("q"),ie(vv(K)),fe.gState&&d.setGState(fe.gState),ie(F.matrix.toString()+" cm"),ie("/"+ue+" sh"),ie("Q");else if(fe instanceof Zs){var ye=new ot(1,0,0,-1,0,wo());F.matrix&&(ye=ye.multiply(F.matrix||ha),ue=mv.call(fe,F.key,F.boundingBox,F.xStep,F.yStep,ye).id),ie("q"),ie("/Pattern cs"),ie("/"+ue+" scn"),fe.gState&&d.setGState(fe.gState),ie(K),ie("Q")}},vv=function(F){switch(F){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Rc=d.moveTo=function(F,K){return ie(j(T(F))+" "+j(L(K))+" m"),this},js=d.lineTo=function(F,K){return ie(j(T(F))+" "+j(L(K))+" l"),this},xo=d.curveTo=function(F,K,ue,fe,ye,Pe){return ie([j(T(F)),j(L(K)),j(T(ue)),j(L(fe)),j(T(ye)),j(L(Pe)),"c"].join(" ")),this};d.__private__.line=d.line=function(F,K,ue,fe,ye){if(isNaN(F)||isNaN(K)||isNaN(ue)||isNaN(fe)||!ga(ye))throw new Error("Invalid arguments passed to jsPDF.line");return x===y.COMPAT?this.lines([[ue-F,fe-K]],F,K,[1,1],ye||"S"):this.lines([[ue-F,fe-K]],F,K,[1,1]).stroke()},d.__private__.lines=d.lines=function(F,K,ue,fe,ye,Pe){var Be,Ye,nt,gt,ht,At,an,dn,Pn,or,Un,Wi;if(typeof F=="number"&&(Wi=ue,ue=K,K=F,F=Wi),fe=fe||[1,1],Pe=Pe||!1,isNaN(K)||isNaN(ue)||!Array.isArray(F)||!Array.isArray(fe)||!ga(ye)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Rc(K,ue),Be=fe[0],Ye=fe[1],gt=F.length,or=K,Un=ue,nt=0;nt<gt;nt++)(ht=F[nt]).length===2?(or=ht[0]*Be+or,Un=ht[1]*Ye+Un,js(or,Un)):(At=ht[0]*Be+or,an=ht[1]*Ye+Un,dn=ht[2]*Be+or,Pn=ht[3]*Ye+Un,or=ht[4]*Be+or,Un=ht[5]*Ye+Un,xo(At,an,dn,Pn,or,Un));return Pe&&Ih(),$c(ye),this},d.path=function(F){for(var K=0;K<F.length;K++){var ue=F[K],fe=ue.c;switch(ue.op){case"m":Rc(fe[0],fe[1]);break;case"l":js(fe[0],fe[1]);break;case"c":xo.apply(this,fe);break;case"h":Ih()}}return this},d.__private__.rect=d.rect=function(F,K,ue,fe,ye){if(isNaN(F)||isNaN(K)||isNaN(ue)||isNaN(fe)||!ga(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return x===y.COMPAT&&(fe=-fe),ie([j(T(F)),j(L(K)),j(T(ue)),j(T(fe)),"re"].join(" ")),$c(ye),this},d.__private__.triangle=d.triangle=function(F,K,ue,fe,ye,Pe,Be){if(isNaN(F)||isNaN(K)||isNaN(ue)||isNaN(fe)||isNaN(ye)||isNaN(Pe)||!ga(Be))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-F,fe-K],[ye-ue,Pe-fe],[F-ye,K-Pe]],F,K,[1,1],Be,!0),this},d.__private__.roundedRect=d.roundedRect=function(F,K,ue,fe,ye,Pe,Be){if(isNaN(F)||isNaN(K)||isNaN(ue)||isNaN(fe)||isNaN(ye)||isNaN(Pe)||!ga(Be))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ue),Pe=Math.min(Pe,.5*fe),this.lines([[ue-2*ye,0],[ye*Ye,0,ye,Pe-Pe*Ye,ye,Pe],[0,fe-2*Pe],[0,Pe*Ye,-ye*Ye,Pe,-ye,Pe],[2*ye-ue,0],[-ye*Ye,0,-ye,-Pe*Ye,-ye,-Pe],[0,2*Pe-fe],[0,-Pe*Ye,ye*Ye,-Pe,ye,-Pe]],F+ye,K,[1,1],Be,!0),this},d.__private__.ellipse=d.ellipse=function(F,K,ue,fe,ye){if(isNaN(F)||isNaN(K)||isNaN(ue)||isNaN(fe)||!ga(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*ue,Be=4/3*(Math.SQRT2-1)*fe;return Rc(F+ue,K),xo(F+ue,K-Be,F+Pe,K-fe,F,K-fe),xo(F-Pe,K-fe,F-ue,K-Be,F-ue,K),xo(F-ue,K+Be,F-Pe,K+fe,F,K+fe),xo(F+Pe,K+fe,F+ue,K+Be,F+ue,K),$c(ye),this},d.__private__.circle=d.circle=function(F,K,ue,fe){if(isNaN(F)||isNaN(K)||isNaN(ue)||!ga(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,K,ue,ue,fe)},d.setFont=function(F,K,ue){return ue&&(K=P(K,ue)),ut=Eh(F,K,{disableWarning:!1}),this};var yv=d.__private__.getFont=d.getFont=function(){return Ot[Eh.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var F,K,ue={};for(F in Tt)if(Tt.hasOwnProperty(F))for(K in ue[F]=[],Tt[F])Tt[F].hasOwnProperty(K)&&ue[F].push(K);return ue},d.addFont=function(F,K,ue,fe,ye){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(ue=P(ue,fe)),ye=ye||"Identity-H",Mc.call(this,F,K,ue,ye)};var As,Bc=e.lineWidth||.200025,Bl=d.__private__.getLineWidth=d.getLineWidth=function(){return Bc},$h=d.__private__.setLineWidth=d.setLineWidth=function(F){return Bc=F,ie(j(T(F))+" w"),this};d.__private__.setLineDash=it.API.setLineDash=it.API.setLineDashPattern=function(F,K){if(F=F||[],K=K||0,isNaN(K)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(ue){return j(T(ue))}).join(" "),K=j(T(K)),ie("["+F+"] "+K+" d"),this};var Rh=d.__private__.getLineHeight=d.getLineHeight=function(){return Te*As};d.__private__.getLineHeight=d.getLineHeight=function(){return Te*As};var Bh=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(As=F),this},Wh=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return As};Bh(e.lineHeight);var va=d.__private__.getHorizontalCoordinate=function(F){return T(F)},Ra=d.__private__.getVerticalCoordinate=function(F){return x===y.ADVANCED?F:ft[R].mediaBox.topRightY-ft[R].mediaBox.bottomLeftY-T(F)},xv=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(F){return j(va(F))},bo=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(F){return j(Ra(F))},Bi=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Ii(Bi)},d.__private__.setStrokeColor=d.setDrawColor=function(F,K,ue,fe){return Bi=$i({ch1:F,ch2:K,ch3:ue,ch4:fe,pdfColorType:"draw",precision:2}),ie(Bi),this};var Wc=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Ii(Wc)},d.__private__.setFillColor=d.setFillColor=function(F,K,ue,fe){return Wc=$i({ch1:F,ch2:K,ch3:ue,ch4:fe,pdfColorType:"fill",precision:2}),ie(Wc),this};var Ps=e.textColor||"0 g",bv=d.__private__.getTextColor=d.getTextColor=function(){return Ii(Ps)};d.__private__.setTextColor=d.setTextColor=function(F,K,ue,fe){return Ps=$i({ch1:F,ch2:K,ch3:ue,ch4:fe,pdfColorType:"text",precision:3}),this};var Wl=e.charSpace,wv=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Wl||0)};d.__private__.setCharSpace=d.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wl=F,this};var Uc=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(F){var K=d.CapJoinStyles[F];if(K===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=K,ie(K+" J"),this};var zc=0;d.__private__.setLineJoin=d.setLineJoin=function(F){var K=d.CapJoinStyles[F];if(K===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zc=K,ie(K+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(j(T(F))+" M"),this},d.GState=uh,d.setGState=function(F){(F=typeof F=="string"?un[Li[F]]:Uh(null,F)).equals(Da)||(ie("/"+F.id+" gs"),Da=F)};var Uh=function(F,K){if(!F||!Li[F]){var ue=!1;for(var fe in un)if(un.hasOwnProperty(fe)&&un[fe].equals(K)){ue=!0;break}if(ue)K=un[fe];else{var ye="GS"+(Object.keys(un).length+1).toString(10);un[ye]=K,K.id=ye}return F&&(Li[F]=K.id),_t.publish("addGState",K),K}};d.addGState=function(F,K){return Uh(F,K),this},d.saveGraphicsState=function(){return ie("q"),ir.push({key:ut,size:Te,color:Ps}),this},d.restoreGraphicsState=function(){ie("Q");var F=ir.pop();return ut=F.key,Te=F.size,Ps=F.color,Da=null,this},d.setCurrentTransformationMatrix=function(F){return ie(F.toString()+" cm"),this},d.comment=function(F){return ie("#"+F),this};var Ul=function(F,K){var ue=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Pe){isNaN(Pe)||(ue=parseFloat(Pe))}});var fe=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Pe){isNaN(Pe)||(fe=parseFloat(Pe))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Pe){ye=Pe.toString()}}),this},Hc=function(F,K,ue,fe){Ul.call(this,F,K),this.type="rect";var ye=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Be){isNaN(Be)||(ye=parseFloat(Be))}});var Pe=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Be){isNaN(Be)||(Pe=parseFloat(Be))}}),this},qc=function(){this.page=cn,this.currentPage=R,this.pages=ae.slice(0),this.pagesContext=ft.slice(0),this.x=vt,this.y=ct,this.matrix=jn,this.width=Cs(R),this.height=wo(R),this.outputDestination=xe,this.id="",this.objectNumber=-1};qc.prototype.restore=function(){cn=this.page,R=this.currentPage,ft=this.pagesContext,ae=this.pages,vt=this.x,ct=this.y,jn=this.matrix,Gc(R,this.width),Vc(R,this.height),xe=this.outputDestination};var zh=function(F,K,ue,fe,ye){fa.push(new qc),cn=R=0,ae=[],vt=F,ct=K,jn=ye,Dc([ue,fe])},Sv=function(F){if(da[F])fa.pop().restore();else{var K=new qc,ue="Xo"+(Object.keys(Xn).length+1).toString(10);K.id=ue,da[F]=ue,Xn[ue]=K,_t.publish("addFormObject",K),fa.pop().restore()}};for(var zl in d.beginFormObject=function(F,K,ue,fe,ye){return zh(F,K,ue,fe,ye),this},d.endFormObject=function(F){return Sv(F),this},d.doFormObject=function(F,K){var ue=Xn[da[F]];return ie("q"),ie(K.toString()+" cm"),ie("/"+ue.id+" Do"),ie("Q"),this},d.getFormObject=function(F){var K=Xn[da[F]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},d.save=function(F,K){return F=F||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(zs(Il($a()),F),typeof zs.unload=="function"&&lt.setTimeout&&setTimeout(zs.unload,911),this):new Promise(function(ue,fe){try{var ye=zs(Il($a()),F);typeof zs.unload=="function"&&lt.setTimeout&&setTimeout(zs.unload,911),ue(ye)}catch(Pe){fe(Pe.message)}})},it.API)it.API.hasOwnProperty(zl)&&(zl==="events"&&it.API.events.length?function(F,K){var ue,fe,ye;for(ye=K.length-1;ye!==-1;ye--)ue=K[ye][0],fe=K[ye][1],F.subscribe.apply(F,[ue].concat(typeof fe=="function"?[fe]:fe))}(_t,it.API.events):d[zl]=it.API[zl]);var Cs=d.getPageWidth=function(F){return(ft[F=F||R].mediaBox.topRightX-ft[F].mediaBox.bottomLeftX)/Ne},Gc=d.setPageWidth=function(F,K){ft[F].mediaBox.topRightX=K*Ne+ft[F].mediaBox.bottomLeftX},wo=d.getPageHeight=function(F){return(ft[F=F||R].mediaBox.topRightY-ft[F].mediaBox.bottomLeftY)/Ne},Vc=d.setPageHeight=function(F,K){ft[F].mediaBox.topRightY=K*Ne+ft[F].mediaBox.bottomLeftY};return d.internal={pdfEscape:kr,getStyle:Dh,getFont:yv,getFontSize:Ie,getCharSpace:wv,getTextColor:bv,getLineHeight:Rh,getLineHeightFactor:Wh,getLineWidth:Bl,write:Ce,getHorizontalCoordinate:va,getVerticalCoordinate:Ra,getCoordinateString:xv,getVerticalCoordinateString:bo,collections:{},newObject:_n,newAdditionalObject:Tl,newObjectDeferred:An,newObjectDeferredBegin:Gr,getFilters:pa,putStream:ci,events:_t,scaleFactor:Ne,pageSize:{getWidth:function(){return Cs(R)},setWidth:function(F){Gc(R,F)},getHeight:function(){return wo(R)},setHeight:function(F){Vc(R,F)}},encryptionOptions:h,encryption:ar,getEncryptor:fv,output:$l,getNumberOfPages:sv,pages:ae,out:ie,f2:M,f3:O,getPageInfo:Mh,getPageInfoByObjId:dt,getCurrentPageInfo:hv,getPDFVersion:g,Point:Ul,Rectangle:Hc,Matrix:ot,hasHotfix:Lh},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Cs(R)},set:function(F){Gc(R,F)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return wo(R)},set:function(F){Vc(R,F)},enumerable:!0,configurable:!0}),av.call(d,Ae),ut="F1",kh(i,n),_t.publish("initialized"),d}pu.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},pu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},pu.prototype.processOwnerPassword=function(e,t){return R2($2(t).substr(0,5),e)},pu.prototype.encryptor=function(e,t){var n=$2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return R2(n,r)}},uh.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||It(e)!==It(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},it.API={events:[]},it.version="2.5.2";var hn=it.API,r5=1,Ol=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pt=function(e){return e.toFixed(2)},$o=function(e){return e.toFixed(5)};hn.__acroform__={};var qr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},hA=function(e){return e*r5},Sa=function(e){var t=new vk,n=Ze.internal.getHeight(e)||0,r=Ze.internal.getWidth(e)||0;return t.BBox=[0,0,Number(pt(r)),Number(pt(n))],t},ace=hn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},oce=hn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},sce=hn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},bn=hn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sce(e,t-1)},wn=hn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ace(e,t-1)},Sn=hn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oce(e,t-1)},lce=hn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(pt(l.lowerLeft_X)),Number(pt(l.lowerLeft_Y)),Number(pt(l.upperRight_X)),Number(pt(l.upperRight_Y))]},uce=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=B2(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+pt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Sa(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},B2=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=n,o=Ze.internal.getHeight(e)||0;o=o<0?-o:o;var s=Ze.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(O,T,I){if(O+1<i.length){var L=T+" "+i[O+1][0];return Kp(L,e,I).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var c,h,f=Kp("3",e,a).height,p=e.multiline?o-a:(o-f)/2,d=p+=2,m=0,g=0,w=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Kp(t,e,a=12).width+", FieldWidth:"+s+`
`;break}for(var b="",y=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var A=!1;if(i[x].length!==1&&w!==i[x].length-1){if((f+2)*(y+2)+2>o)continue e;b+=i[x][w],A=!0,g=x,x--}else{b=(b+=i[x][w]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var N=parseInt(x),P=l(N,b,a),j=x>=i.length-1;if(P&&!j){b+=" ",w=0;continue}if(P||j){if(j)g=N;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>o)continue e;g=N}}for(var C="",_=m;_<=g;_++){var M=i[_];if(e.multiline){if(_===g){C+=M[w]+" ",w=(w+1)%M.length;continue}if(_===m){C+=M[M.length-1]+" ";continue}}C+=M[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,h=Kp(C,e,a).width,e.textAlign){case"right":c=s-h-2;break;case"center":c=(s-h)/2;break;case"left":default:c=2}t+=pt(c)+" "+pt(d)+` Td
`,t+="("+Ol(C)+`) Tj
`,t+=-pt(c)+` 0 Td
`,d=-(a+2),h=0,m=A?g:g+1,y++,b=""}break}return r.text=t,r.fontSize=a,r},Kp=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},cce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dce=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},fce=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),It(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},hce=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ua.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(cce)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r5=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new yk,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&dce(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],c=s.Rect;if(s.Rect&&(s.Rect=lce(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Ze.createDefaultAppearanceStream(s),It(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=c,s.hasAppearanceStream&&!s.appearanceStreamContent){var h=uce(s);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(s.appearanceStreamContent){var f="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var d=s.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var m=d[o];typeof m=="function"&&(m=m.call(i,s)),f+="/"+o+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=d)=="function"&&(m=m.call(i,s)),f+="/"+o+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&fce(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},gk=hn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),It(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Ol(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},e1=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ol(r(e))+")"},Ca=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ca.prototype.toString=function(){return this.objId+" 0 R"},Ca.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ca.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:gk(i,this.objId,this.scope)}):i instanceof Ca?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var vk=function(){Ca.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};qr(vk,Ca);var yk=function(){Ca.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ol(n(e))+")"}},set:function(n){e=n}})};qr(yk,Ca);var ua=function e(){Ca.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!bn(t,3)},set:function(b){b?this.F=wn(t,3):this.F=Sn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Dg)return;a="FieldObject"+e.FieldNum++}var b=function(y){return y};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Ol(b(a))+")"},set:function(b){a=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(b){a=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/r5:c},set:function(b){c=b}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(b){h=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Dg||this instanceof ss))return e1(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof In?p:e1(p,this.objId,this.scope)},set:function(b){b=b.toString(),p=this instanceof In?b:b.substr(0,1)==="("?cu(b.substr(1,b.length-2)):cu(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof In?cu(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof In?"/"+b:b}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof In?d:e1(d,this.objId,this.scope)},set:function(b){b=b.toString(),d=this instanceof In?b:b.substr(0,1)==="("?cu(b.substr(1,b.length-2)):cu(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof In?cu(d.substr(1,d.length-1)):d},set:function(b){b=b.toString(),d=this instanceof In?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(b){m=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,1)},set:function(b){b?this.Ff=wn(this.Ff,1):this.Ff=Sn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,2)},set:function(b){b?this.Ff=wn(this.Ff,2):this.Ff=Sn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,3)},set:function(b){b?this.Ff=wn(this.Ff,3):this.Ff=Sn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');w=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(w){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};qr(ua,Ca);var sl=function(){ua.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gk(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,c=[];l=o.exec(a);)c.push(l[s]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,18)},set:function(n){n?this.Ff=wn(this.Ff,18):this.Ff=Sn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=wn(this.Ff,19):this.Ff=Sn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,20)},set:function(n){n?(this.Ff=wn(this.Ff,20),t.sort()):this.Ff=Sn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,22)},set:function(n){n?this.Ff=wn(this.Ff,22):this.Ff=Sn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,23)},set:function(n){n?this.Ff=wn(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,27)},set:function(n){n?this.Ff=wn(this.Ff,27):this.Ff=Sn(this.Ff,27)}}),this.hasAppearanceStream=!1};qr(sl,ua);var ll=function(){sl.call(this),this.fontName="helvetica",this.combo=!1};qr(ll,sl);var ul=function(){ll.call(this),this.combo=!0};qr(ul,ll);var tf=function(){ul.call(this),this.edit=!0};qr(tf,ul);var In=function(){ua.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,15)},set:function(n){n?this.Ff=wn(this.Ff,15):this.Ff=Sn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,16)},set:function(n){n?this.Ff=wn(this.Ff,16):this.Ff=Sn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,17)},set:function(n){n?this.Ff=wn(this.Ff,17):this.Ff=Sn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,26)},set:function(n){n?this.Ff=wn(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Ol(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){It(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};qr(In,ua);var nf=function(){In.call(this),this.pushButton=!0};qr(nf,In);var cl=function(){In.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};qr(cl,In);var Dg=function(){var e,t;ua.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Ol(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){It(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qr(Dg,ua),cl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},cl.prototype.createOption=function(e){var t=new Dg;return t.Parent=this,t.optionName=e,this.Kids.push(t),pce.call(this.scope,t),t};var rf=function(){In.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};qr(rf,In);var ss=function(){ua.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,13)},set:function(t){t?this.Ff=wn(this.Ff,13):this.Ff=Sn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,21)},set:function(t){t?this.Ff=wn(this.Ff,21):this.Ff=Sn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,23)},set:function(t){t?this.Ff=wn(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,24)},set:function(t){t?this.Ff=wn(this.Ff,24):this.Ff=Sn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,25)},set:function(t){t?this.Ff=wn(this.Ff,25):this.Ff=Sn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,26)},set:function(t){t?this.Ff=wn(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qr(ss,ua);var af=function(){ss.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,14)},set:function(e){e?this.Ff=wn(this.Ff,14):this.Ff=Sn(this.Ff,14)}}),this.password=!0};qr(af,ss);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Sa(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=B2(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+pt(Ze.internal.getWidth(e))+" "+pt(Ze.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+pt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Sa(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Ze.internal.getHeight(e),o=Ze.internal.getWidth(e),s=B2(e,e.caption);return i.push("1 g"),i.push("0 0 "+pt(o)+" "+pt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+pt(o-1)+" "+pt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+pt(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Sa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pt(Ze.internal.getWidth(e))+" "+pt(Ze.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ze.RadioButton.Circle.YesNormal,t.D[e]=Ze.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Sa(e);t.scope=e.scope;var n=[],r=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ze.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+$o(Ze.internal.getWidth(e)/2)+" "+$o(Ze.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Sa(e);t.scope=e.scope;var n=[],r=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ze.internal.Bezier_C).toFixed(5)),o=Number((r*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$o(Ze.internal.getWidth(e)/2)+" "+$o(Ze.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+$o(Ze.internal.getWidth(e)/2)+" "+$o(Ze.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Sa(e);t.scope=e.scope;var n=[],r=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$o(Ze.internal.getWidth(e)/2)+" "+$o(Ze.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ze.RadioButton.Cross.YesNormal,t.D[e]=Ze.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Sa(e);t.scope=e.scope;var n=[],r=Ze.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+pt(Ze.internal.getWidth(e)-2)+" "+pt(Ze.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(pt(r.x1.x)+" "+pt(r.x1.y)+" m"),n.push(pt(r.x2.x)+" "+pt(r.x2.y)+" l"),n.push(pt(r.x4.x)+" "+pt(r.x4.y)+" m"),n.push(pt(r.x3.x)+" "+pt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Sa(e);t.scope=e.scope;var n=Ze.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+pt(Ze.internal.getWidth(e))+" "+pt(Ze.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+pt(Ze.internal.getWidth(e)-2)+" "+pt(Ze.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(pt(n.x1.x)+" "+pt(n.x1.y)+" m"),r.push(pt(n.x2.x)+" "+pt(n.x2.y)+" l"),r.push(pt(n.x4.x)+" "+pt(n.x4.y)+" m"),r.push(pt(n.x3.x)+" "+pt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Sa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pt(Ze.internal.getWidth(e))+" "+pt(Ze.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ze.internal.getWidth(e),n=Ze.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ze.internal.getWidth=function(e){var t=0;return It(e)==="object"&&(t=hA(e.Rect[2])),t},Ze.internal.getHeight=function(e){var t=0;return It(e)==="object"&&(t=hA(e.Rect[3])),t};var pce=hn.addField=function(e){if(hce(this,e),!(e instanceof ua))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};hn.AcroFormChoiceField=sl,hn.AcroFormListBox=ll,hn.AcroFormComboBox=ul,hn.AcroFormEditBox=tf,hn.AcroFormButton=In,hn.AcroFormPushButton=nf,hn.AcroFormRadioButton=cl,hn.AcroFormCheckBox=rf,hn.AcroFormTextField=ss,hn.AcroFormPasswordField=af,hn.AcroFormAppearance=Ze,hn.AcroForm={ChoiceField:sl,ListBox:ll,ComboBox:ul,EditBox:tf,Button:In,PushButton:nf,RadioButton:cl,CheckBox:rf,TextField:ss,PasswordField:af,Appearance:Ze},it.AcroForm={ChoiceField:sl,ListBox:ll,ComboBox:ul,EditBox:tf,Button:In,PushButton:nf,RadioButton:cl,CheckBox:rf,TextField:ss,PasswordField:af,Appearance:Ze};var mce=it.AcroForm;function xk(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(O,T){var I,L,U,D,$,W=t;if((T=T||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(P(O))for($ in n)for(U=n[$],I=0;I<U.length;I+=1){for(D=!0,L=0;L<U[I].length;L+=1)if(U[I][L]!==void 0&&U[I][L]!==O[L]){D=!1;break}if(D===!0){W=$;break}}else for($ in n)for(U=n[$],I=0;I<U.length;I+=1){for(D=!0,L=0;L<U[I].length;L+=1)if(U[I][L]!==void 0&&U[I][L]!==O.charCodeAt(L)){D=!1;break}if(D===!0){W=$;break}}return W===t&&T!==t&&(W=T),W},i=function O(T){for(var I=this.internal.write,L=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var D=[];if(D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Image"}),D.push({key:"Width",value:T.width}),D.push({key:"Height",value:T.height}),T.colorSpace===w.INDEXED?D.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(D.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===w.DEVICE_CMYK&&D.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),D.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&D.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var $="",W=0,z=T.transparency.length;W<z;W++)$+=T.transparency[W]+" "+T.transparency[W]+" ";D.push({key:"Mask",value:"["+$+"]"})}T.sMask!==void 0&&D.push({key:"SMask",value:T.objectId+1+" 0 R"});var Y=T.filter!==void 0?["/"+T.filter]:void 0;if(L({data:T.data,additionalKeyValues:D,alreadyAppliedFilters:Y,objectId:T.objectId}),I("endobj"),"sMask"in T&&T.sMask!==void 0){var re="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,E={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:re,data:T.sMask};"filter"in T&&(E.filter=T.filter),O.call(this,E)}if(T.colorSpace===w.INDEXED){var R=this.internal.newObject();L({data:C(new Uint8Array(T.palette)),objectId:R}),I("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var T in O)i.call(this,O[T])},o=function(){var O,T=this.internal.collections.addImage_images,I=this.internal.write;for(var L in T)I("/I"+(O=T[L]).index,O.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var O=this.internal.collections.addImage_images;return s.call(this),O},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(O){return typeof e["process"+O.toUpperCase()]=="function"},f=function(O){return It(O)==="object"&&O.nodeType===1},p=function(O,T){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var I=""+O.getAttribute("src");if(I.indexOf("data:image/")===0)return ef(unescape(I).split("base64,").pop());var L=e.loadFile(I,!0);if(L!==void 0)return L}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var U;switch(T){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;case"JPEG":case"JPG":default:U="image/jpeg"}return ef(O.toDataURL(U,1).split("base64,").pop())}},d=function(O){var T=this.internal.collections.addImage_images;if(T){for(var I in T)if(O===T[I].alias)return T[I]}},m=function(O,T,I){return O||T||(O=-96,T=-96),O<0&&(O=-1*I.width*72/O/this.internal.scaleFactor),T<0&&(T=-1*I.height*72/T/this.internal.scaleFactor),O===0&&(O=T*I.width/I.height),T===0&&(T=O*I.height/I.width),[O,T]},g=function(O,T,I,L,U,D){var $=m.call(this,I,L,U),W=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,Y=l.call(this);if(I=$[0],L=$[1],Y[U.index]=U,D){D*=Math.PI/180;var re=Math.cos(D),E=Math.sin(D),R=function(ee){return ee.toFixed(4)},q=[R(re),R(E),R(-1*E),R(re),0,0,"cm"]}this.internal.write("q"),D?(this.internal.write([1,"0","0",1,W(O),z(T+L),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([W(I),"0","0",W(L),"0","0","cm"].join(" "))):this.internal.write([W(I),"0","0",W(L),W(O),z(T+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(O){var T,I,L=0;if(typeof O=="string")for(I=O.length,T=0;T<I;T++)L=(L<<5)-L+O.charCodeAt(T),L|=0;else if(P(O))for(I=O.byteLength/2,T=0;T<I;T++)L=(L<<5)-L+O[T],L|=0;return L},x=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var T=!0;return O.length===0&&(T=!1),O.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(T=!1),T},A=e.__addimage__.extractImageFromDataUrl=function(O){var T=(O=O||"").split("base64,"),I=null;if(T.length===2){var L=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(L)&&(I={mimeType:L[1],charset:L[2],data:T[1]})}return I},N=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return N()&&O instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(O){return N()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},j=e.__addimage__.binaryStringToUint8Array=function(O){for(var T=O.length,I=new Uint8Array(T),L=0;L<T;L++)I[L]=O.charCodeAt(L);return I},C=e.__addimage__.arrayBufferToBinaryString=function(O){for(var T="",I=P(O)?O:new Uint8Array(O),L=0;L<I.length;L+=8192)T+=String.fromCharCode.apply(null,I.subarray(L,L+8192));return T};e.addImage=function(){var O,T,I,L,U,D,$,W,z;if(typeof arguments[1]=="number"?(T=t,I=arguments[1],L=arguments[2],U=arguments[3],D=arguments[4],$=arguments[5],W=arguments[6],z=arguments[7]):(T=arguments[1],I=arguments[2],L=arguments[3],U=arguments[4],D=arguments[5],$=arguments[6],W=arguments[7],z=arguments[8]),It(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var Y=O;O=Y.imageData,T=Y.format||T||t,I=Y.x||I||0,L=Y.y||L||0,U=Y.w||Y.width||U,D=Y.h||Y.height||D,$=Y.alias||$,W=Y.compression||W,z=Y.rotation||Y.angle||z}var re=this.internal.getFilters();if(W===void 0&&re.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(I)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var E=_.call(this,O,T,$,W);return g.call(this,I,L,U,D,E,z),this};var _=function(O,T,I,L){var U,D,$;if(typeof O=="string"&&r(O)===t){O=unescape(O);var W=M(O,!1);(W!==""||(W=e.loadFile(O,!0))!==void 0)&&(O=W)}if(f(O)&&(O=p(O,T)),T=r(O,T),!h(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if((($=I)==null||$.length===0)&&(I=function(z){return typeof z=="string"||P(z)?y(z):P(z.data)?y(z.data):null}(O)),(U=d.call(this,I))||(N()&&(O instanceof Uint8Array||T==="RGBA"||(D=O,O=j(O))),U=this["process"+T.toUpperCase()](O,c.call(this),I,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in e.image_compression?z:b.NONE}(L),D)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},M=e.__addimage__.convertBase64ToBinaryString=function(O,T){var I;T=typeof T!="boolean"||T;var L,U="";if(typeof O=="string"){L=(I=A(O))!==null?I.data:O;try{U=ef(L)}catch(D){if(T)throw x(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+D.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(O){var T,I,L="";if(f(O)&&(O=p(O)),typeof O=="string"&&r(O)===t&&((L=M(O,!1))===""&&(L=e.loadFile(O)||""),O=L),I=r(O),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!N()||O instanceof Uint8Array||(O=j(O)),!(T=this["process"+I.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=I,T}})(it.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};it.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((r=c[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var d=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),y=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+d(b(r.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+d(b(y))+") >>",g.content=a;var x=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(g.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var A=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(m(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var N=this.annotations._nameMap[r.options.name];r.options.pageNumber=N.page,r.options.top=N.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var P=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+P+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var h=this.splitTextToSize(n,s).length;o=Math.ceil(c*h)}else s=l,o=c;return this.text(n,r,i,a),i+=.2*c,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-c,s,o,a),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(it.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var w=0,b=n,y="",x=0;for(w=0;w<g.length;w+=1)b[g.charCodeAt(w)]!==void 0?(x++,typeof(b=b[g.charCodeAt(w)])=="number"&&(y+=String.fromCharCode(b),b=n,x=0),w===g.length-1&&(b=n,y+=g.charAt(w-(x-1)),w-=x-1,x=0)):(b=n,y+=g.charAt(w-x),w-=x,x=0);return y};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,w,b){return o(g)?a(g)===!1?-1:!c(g)||!o(w)&&!o(b)||!o(b)&&s(w)||s(g)&&!o(w)||s(g)&&l(w)||s(g)&&s(w)?0:h(g)&&o(w)&&!s(w)&&o(b)&&c(b)?3:s(g)||!o(b)?1:2:-1},d=function(g){var w=0,b=0,y=0,x="",A="",N="",P=(g=g||"").split("\\s+"),j=[];for(w=0;w<P.length;w+=1){for(j.push(""),b=0;b<P[w].length;b+=1)x=P[w][b],A=P[w][b-1],N=P[w][b+1],o(x)?(y=p(x,A,N),j[w]+=y!==-1?String.fromCharCode(t[x.charCodeAt(0)][y]):x):j[w]+=x;j[w]=f(j[w])}return j.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(w)){var y=0;for(b=[],y=0;y<w.length;y+=1)Array.isArray(w[y])?b.push([d(w[y][0]),w[y][1],w[y][2]]):b.push([d(w[y])]);g=b}else g=d(w);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(it.API),it.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(it.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,d=0,m=0,g=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,A){return x.concat(w.splitTextToSize(A,b))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)d<(g=this.getStringUnitWidth(l[y],{font:f})*h)&&(d=g);return d!==0&&(m=l.length),{w:d/=p,h:Math.max((m*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,h,f,p){if(r.call(this),!h)throw new Error("No data for PDF table.");var d,m,g,w,b=[],y=[],x=[],A={},N={},P=[],j=[],C=(p=p||{}).autoSize||!1,_=p.printHeaders!==!1,M=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,O=p.margins||Object.assign({width:this.getPageWidth()},t),T=typeof p.padding=="number"?p.padding:3,I=p.headerBackgroundColor||"#c8c8c8",L=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=L,this.setFontSize(M),f==null)y=b=Object.keys(h[0]),x=b.map(function(){return"left"});else if(Array.isArray(f)&&It(f[0])==="object")for(b=f.map(function(Y){return Y.name}),y=f.map(function(Y){return Y.prompt||Y.name||""}),x=f.map(function(Y){return Y.align||"left"}),d=0;d<f.length;d+=1)N[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=b=f,x=b.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<b.length;d+=1){for(A[w=b[d]]=h.map(function(Y){return Y[w]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(y[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=A[w],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)P.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[w]=Math.max.apply(null,P)+T+T,P=[]}if(_){var U={};for(d=0;d<b.length;d+=1)U[b[d]]={},U[b[d]].text=y[d],U[b[d]].align=x[d];var D=s.call(this,U,N);j=b.map(function(Y){return new a(l,c,N[Y],D,U[Y].text,void 0,U[Y].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var $=f.reduce(function(Y,re){return Y[re.name]=re.align,Y},{});for(d=0;d<h.length;d+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:d,data:h[d]},this);var W=s.call(this,h[d],N);for(g=0;g<b.length;g+=1){var z=h[d][b[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:d,col:g,data:z},this),o.call(this,new a(l,c,N[b[g]],W,z,d+2,$[b[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var s=function(l,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(d){var m=l[d];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[d]-h-h)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/p+h+h},this).reduce(function(d,m){return Math.max(d,m)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){h=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(it.API);var bk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],W2=xk(wk),Sk=[100,200,300,400,500,600,700,800,900],gce=xk(Sk);function U2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return bk[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof W2[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function pA(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var vce={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gA(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function yce(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},vce,n.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(i[(a=U2(t[s])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+gA(a)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var h=W2[l],f=h<=W2.normal?-1:1,p=pA(c,wk,h,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(a.stretch,o),o=function(l,c){if(c[l])return c[l];for(var h=bk[l],f=0;f<h.length;++f)if(c[h[f]])return c[h[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=gce[l],f=pA(c,Sk,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+gA(a)+"'.");return o}function vA(e){return e.trimLeft()}function xce(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function bce(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Yp,yA,xA,t1=["times"];(function(e){var t,n,r,i,a,o,s,l,c,h=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new l,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new o,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new o,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var f=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=E;Object.defineProperty(this,"pdf",{get:function(){return R}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(de){q=!!de}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(de){ee=!!de}});var H=0;Object.defineProperty(this,"posX",{get:function(){return H},set:function(de){isNaN(de)||(H=de)}});var te=0;Object.defineProperty(this,"posY",{get:function(){return te},set:function(de){isNaN(de)||(te=de)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(de){var ie;typeof de=="number"?ie=[de,de,de,de]:((ie=new Array(4))[0]=de[0],ie[1]=de.length>=2?de[1]:ie[0],ie[2]=de.length>=3?de[2]:ie[0],ie[3]=de.length>=4?de[3]:ie[1]),c.margin=ie}});var X=!1;Object.defineProperty(this,"autoPaging",{get:function(){return X},set:function(de){X=de}});var G=0;Object.defineProperty(this,"lastBreak",{get:function(){return G},set:function(de){G=de}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(de){ce=de}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(de){de instanceof h&&(c=de)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(de){c.path=de}});var ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return ae},set:function(de){ae=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var ie;ie=p(de),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var ie=p(de);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var le=null;function xe(de,ie){if(le===null){var Ce=function(Fe){var Ae=[];return Object.keys(Fe).forEach(function(Te){Fe[Te].forEach(function(Re){var Ie=null;switch(Re){case"bold":Ie={family:Te,weight:"bold"};break;case"italic":Ie={family:Te,style:"italic"};break;case"bolditalic":Ie={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Te}}Ie!==null&&(Ie.ref={name:Te,style:Re},Ae.push(Ie))})}),Ae}(de.getFontList());le=function(Fe){for(var Ae={},Te=0;Te<Fe.length;++Te){var Re=U2(Fe[Te]),Ie=Re.family,ke=Re.stretch,De=Re.style,Le=Re.weight;Ae[Ie]=Ae[Ie]||{},Ae[Ie][ke]=Ae[Ie][ke]||{},Ae[Ie][ke][De]=Ae[Ie][ke][De]||{},Ae[Ie][ke][De][Le]=Re}return Ae}(Ce.concat(ie))}return le}var be=null;Object.defineProperty(this,"fontFaces",{get:function(){return be},set:function(de){le=null,be=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var ie;if(this.ctx.font=de,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(de))!==null){var Ce=ie[1],Fe=(ie[2],ie[3]),Ae=ie[4],Te=(ie[5],ie[6]),Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Re==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Ie=function(et){var ut,Ne,vt=[],ct=et.trim();if(ct==="")return t1;if(ct in mA)return[mA[ct]];for(;ct!=="";){switch(Ne=null,ut=(ct=vA(ct)).charAt(0)){case'"':case"'":Ne=xce(ct.substring(1),ut);break;default:Ne=bce(ct)}if(Ne===null||(vt.push(Ne[0]),(ct=vA(Ne[1]))!==""&&ct.charAt(0)!==","))return t1;ct=ct.replace(/^,/,"")}return vt}(Te);if(this.fontFaces){var ke=yce(xe(this.pdf,this.fontFaces),Ie.map(function(et){return{family:et,stretch:"normal",weight:Fe,style:Ce}}));this.pdf.setFont(ke.ref.name,ke.ref.style)}else{var De="";(Fe==="bold"||parseInt(Fe,10)>=700||Ce==="bold")&&(De="bold"),Ce==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var Le="",Ge={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<Ie.length;Ue++){if(this.pdf.internal.getFont(Ie[Ue],De,{noFallback:!0,disableWarning:!0})!==void 0){Le=Ie[Ue];break}if(De==="bolditalic"&&this.pdf.internal.getFont(Ie[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Le=Ie[Ue],De="bold";else if(this.pdf.internal.getFont(Ie[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Le=Ie[Ue],De="normal";break}}if(Le===""){for(var mt=0;mt<Ie.length;mt++)if(Ge[Ie[mt]]){Le=Ge[Ie[mt]];break}}Le=Le===""?"Times":Le,this.pdf.setFont(Le,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};f.prototype.setLineDash=function(E){this.lineDash=E},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(E,R){if(isNaN(E)||isNaN(R))throw Ht.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(E,R));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(E,R)},f.prototype.closePath=function(){var E=new o(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&It(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){E=new o(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(E.x,E.y)},f.prototype.lineTo=function(E,R){if(isNaN(E)||isNaN(R))throw Ht.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(E,R));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function(E,R,q,ee){if(isNaN(q)||isNaN(ee)||isNaN(E)||isNaN(R))throw Ht.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var H=this.ctx.transform.applyToPoint(new o(q,ee)),te=this.ctx.transform.applyToPoint(new o(E,R));this.path.push({type:"qct",x1:te.x,y1:te.y,x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},f.prototype.bezierCurveTo=function(E,R,q,ee,H,te){if(isNaN(H)||isNaN(te)||isNaN(E)||isNaN(R)||isNaN(q)||isNaN(ee))throw Ht.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var X=this.ctx.transform.applyToPoint(new o(H,te)),G=this.ctx.transform.applyToPoint(new o(E,R)),ce=this.ctx.transform.applyToPoint(new o(q,ee));this.path.push({type:"bct",x1:G.x,y1:G.y,x2:ce.x,y2:ce.y,x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},f.prototype.arc=function(E,R,q,ee,H,te){if(isNaN(E)||isNaN(R)||isNaN(q)||isNaN(ee)||isNaN(H))throw Ht.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(te=!!te,!this.ctx.transform.isIdentity){var X=this.ctx.transform.applyToPoint(new o(E,R));E=X.x,R=X.y;var G=this.ctx.transform.applyToPoint(new o(0,q)),ce=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(G.x-ce.x,2)+Math.pow(G.y-ce.y,2))}Math.abs(H-ee)>=2*Math.PI&&(ee=0,H=2*Math.PI),this.path.push({type:"arc",x:E,y:R,radius:q,startAngle:ee,endAngle:H,counterclockwise:te})},f.prototype.arcTo=function(E,R,q,ee,H){throw new Error("arcTo not implemented.")},f.prototype.rect=function(E,R,q,ee){if(isNaN(E)||isNaN(R)||isNaN(q)||isNaN(ee))throw Ht.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,R),this.lineTo(E+q,R),this.lineTo(E+q,R+ee),this.lineTo(E,R+ee),this.lineTo(E,R),this.lineTo(E+q,R),this.lineTo(E,R)},f.prototype.fillRect=function(E,R,q,ee){if(isNaN(E)||isNaN(R)||isNaN(q)||isNaN(ee))throw Ht.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var H={};this.lineCap!=="butt"&&(H.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(H.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,R,q,ee),this.fill(),H.hasOwnProperty("lineCap")&&(this.lineCap=H.lineCap),H.hasOwnProperty("lineJoin")&&(this.lineJoin=H.lineJoin)}},f.prototype.strokeRect=function(E,R,q,ee){if(isNaN(E)||isNaN(R)||isNaN(q)||isNaN(ee))throw Ht.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(E,R,q,ee),this.stroke())},f.prototype.clearRect=function(E,R,q,ee){if(isNaN(E)||isNaN(R)||isNaN(q)||isNaN(ee))throw Ht.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,R,q,ee))},f.prototype.save=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},f.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(R),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(E){var R,q,ee,H;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))R=0,q=0,ee=0,H=0;else{var te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(te!==null)R=parseInt(te[1]),q=parseInt(te[2]),ee=parseInt(te[3]),H=1;else if((te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)R=parseInt(te[1]),q=parseInt(te[2]),ee=parseInt(te[3]),H=parseFloat(te[4]);else{if(H=1,typeof E=="string"&&E.charAt(0)!=="#"){var X=new hk(E);E=X.ok?X.toHex():"#000000"}E.length===4?(R=E.substring(1,2),R+=R,q=E.substring(2,3),q+=q,ee=E.substring(3,4),ee+=ee):(R=E.substring(1,3),q=E.substring(3,5),ee=E.substring(5,7)),R=parseInt(R,16),q=parseInt(q,16),ee=parseInt(ee,16)}}return{r:R,g:q,b:ee,a:H,style:E}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(E,R,q,ee){if(isNaN(R)||isNaN(q)||typeof E!="string")throw Ht.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!d.call(this)){var H=W(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;T.call(this,{text:E,x:R,y:q,scale:te,angle:H,align:this.textAlign,maxWidth:ee})}},f.prototype.strokeText=function(E,R,q,ee){if(isNaN(R)||isNaN(q)||typeof E!="string")throw Ht.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){ee=isNaN(ee)?void 0:ee;var H=W(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;T.call(this,{text:E,x:R,y:q,scale:te,renderingMode:"stroke",angle:H,align:this.textAlign,maxWidth:ee})}},f.prototype.measureText=function(E){if(typeof E!="string")throw Ht.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,q=this.pdf.internal.scaleFactor,ee=R.internal.getFontSize(),H=R.getStringUnitWidth(E)*ee/R.internal.scaleFactor,te=function(X){var G=(X=X||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return G}}),this};return new te({width:H*=Math.round(96*q/72*1e4)/1e4})},f.prototype.scale=function(E,R){if(isNaN(E)||isNaN(R))throw Ht.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(E,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.rotate=function(E){if(isNaN(E))throw Ht.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(E,R){if(isNaN(E)||isNaN(R))throw Ht.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,E,R);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.transform=function(E,R,q,ee,H,te){if(isNaN(E)||isNaN(R)||isNaN(q)||isNaN(ee)||isNaN(H)||isNaN(te))throw Ht.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var X=new l(E,R,q,ee,H,te);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.setTransform=function(E,R,q,ee,H,te){E=isNaN(E)?1:E,R=isNaN(R)?0:R,q=isNaN(q)?0:q,ee=isNaN(ee)?1:ee,H=isNaN(H)?0:H,te=isNaN(te)?0:te,this.ctx.transform=new l(E,R,q,ee,H,te)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(E,R,q,ee,H,te,X,G,ce){var ae=this.pdf.getImageProperties(E),le=1,xe=1,be=1,de=1;ee!==void 0&&G!==void 0&&(be=G/ee,de=ce/H,le=ae.width/ee*G/ee,xe=ae.height/H*ce/H),te===void 0&&(te=R,X=q,R=0,q=0),ee!==void 0&&G===void 0&&(G=ee,ce=H),ee===void 0&&G===void 0&&(G=ae.width,ce=ae.height);for(var ie,Ce=this.ctx.transform.decompose(),Fe=W(Ce.rotate.shx),Ae=new l,Te=(Ae=(Ae=(Ae=Ae.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new s(te-R*be,X-q*de,ee*le,H*xe)),Re=w.call(this,Te),Ie=[],ke=0;ke<Re.length;ke+=1)Ie.indexOf(Re[ke])===-1&&Ie.push(Re[ke]);if(x(Ie),this.autoPaging)for(var De=Ie[0],Le=Ie[Ie.length-1],Ge=De;Ge<Le+1;Ge++){this.pdf.setPage(Ge);var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=Ge===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ne=Ge===1?0:et+(Ge-2)*ut;if(this.ctx.clip_path.length!==0){var vt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ie,this.posX+this.margin[3],-Ne+mt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=vt}var ct=JSON.parse(JSON.stringify(Te));ct=y([ct],this.posX+this.margin[3],-Ne+mt+this.ctx.prevPageLastElemOffset)[0];var jn=(Ge>De||Ge<Le)&&g.call(this);jn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,ut,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,Fe),jn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Fe)};var w=function(E,R,q){var ee=[];R=R||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var H=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":ee.push(Math.floor((E.y+H)/q)+1);break;case"arc":ee.push(Math.floor((E.y+H-E.radius)/q)+1),ee.push(Math.floor((E.y+H+E.radius)/q)+1);break;case"qct":var te=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);ee.push(Math.floor((te.y+H)/q)+1),ee.push(Math.floor((te.y+te.h+H)/q)+1);break;case"bct":var X=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);ee.push(Math.floor((X.y+H)/q)+1),ee.push(Math.floor((X.y+X.h+H)/q)+1);break;case"rect":ee.push(Math.floor((E.y+H)/q)+1),ee.push(Math.floor((E.y+E.h+H)/q)+1)}for(var G=0;G<ee.length;G+=1)for(;this.pdf.internal.getNumberOfPages()<ee[G];)b.call(this);return ee},b=function(){var E=this.fillStyle,R=this.strokeStyle,q=this.font,ee=this.lineCap,H=this.lineWidth,te=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=R,this.font=q,this.lineCap=ee,this.lineWidth=H,this.lineJoin=te},y=function(E,R,q){for(var ee=0;ee<E.length;ee++)switch(E[ee].type){case"bct":E[ee].x2+=R,E[ee].y2+=q;case"qct":E[ee].x1+=R,E[ee].y1+=q;case"mt":case"lt":case"arc":default:E[ee].x+=R,E[ee].y+=q}return E},x=function(E){return E.sort(function(R,q){return R-q})},A=function(E,R){for(var q,ee,H=this.fillStyle,te=this.strokeStyle,X=this.lineCap,G=this.lineWidth,ce=Math.abs(G*this.ctx.transform.scaleX),ae=this.lineJoin,le=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),be=[],de=0;de<xe.length;de++)if(xe[de].x!==void 0)for(var ie=w.call(this,xe[de]),Ce=0;Ce<ie.length;Ce+=1)be.indexOf(ie[Ce])===-1&&be.push(ie[Ce]);for(var Fe=0;Fe<be.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<be[Fe];)b.call(this);if(x(be),this.autoPaging)for(var Ae=be[0],Te=be[be.length-1],Re=Ae;Re<Te+1;Re++){this.pdf.setPage(Re),this.fillStyle=H,this.strokeStyle=te,this.lineCap=X,this.lineWidth=ce,this.lineJoin=ae;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=Re===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Re===1?0:De+(Re-2)*Le;if(this.ctx.clip_path.length!==0){var Ue=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(q,this.posX+this.margin[3],-Ge+ke+this.ctx.prevPageLastElemOffset),N.call(this,E,!0),this.path=Ue}if(ee=JSON.parse(JSON.stringify(le)),this.path=y(ee,this.posX+this.margin[3],-Ge+ke+this.ctx.prevPageLastElemOffset),R===!1||Re===0){var mt=(Re>Ae||Re<Te)&&g.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Le,null).clip().discardPath()),N.call(this,E,R),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=G}else this.lineWidth=ce,N.call(this,E,R),this.lineWidth=G;this.path=le},N=function(E,R){if((E!=="stroke"||R||!m.call(this))&&(E==="stroke"||R||!d.call(this))){for(var q,ee,H=[],te=this.path,X=0;X<te.length;X++){var G=te[X];switch(G.type){case"begin":H.push({begin:!0});break;case"close":H.push({close:!0});break;case"mt":H.push({start:G,deltas:[],abs:[]});break;case"lt":var ce=H.length;if(te[X-1]&&!isNaN(te[X-1].x)&&(q=[G.x-te[X-1].x,G.y-te[X-1].y],ce>0)){for(;ce>=0;ce--)if(H[ce-1].close!==!0&&H[ce-1].begin!==!0){H[ce-1].deltas.push(q),H[ce-1].abs.push(G);break}}break;case"bct":q=[G.x1-te[X-1].x,G.y1-te[X-1].y,G.x2-te[X-1].x,G.y2-te[X-1].y,G.x-te[X-1].x,G.y-te[X-1].y],H[H.length-1].deltas.push(q);break;case"qct":var ae=te[X-1].x+2/3*(G.x1-te[X-1].x),le=te[X-1].y+2/3*(G.y1-te[X-1].y),xe=G.x+2/3*(G.x1-G.x),be=G.y+2/3*(G.y1-G.y),de=G.x,ie=G.y;q=[ae-te[X-1].x,le-te[X-1].y,xe-te[X-1].x,be-te[X-1].y,de-te[X-1].x,ie-te[X-1].y],H[H.length-1].deltas.push(q);break;case"arc":H.push({deltas:[],abs:[],arc:!0}),Array.isArray(H[H.length-1].abs)&&H[H.length-1].abs.push(G)}}ee=R?null:E==="stroke"?"stroke":"fill";for(var Ce=!1,Fe=0;Fe<H.length;Fe++)if(H[Fe].arc)for(var Ae=H[Fe].abs,Te=0;Te<Ae.length;Te++){var Re=Ae[Te];Re.type==="arc"?C.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,R,!Ce):I.call(this,Re.x,Re.y),Ce=!0}else if(H[Fe].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(H[Fe].begin!==!0){var Ie=H[Fe].start.x,ke=H[Fe].start.y;L.call(this,H[Fe].deltas,Ie,ke),Ce=!0}ee&&_.call(this,ee),R&&M.call(this)}},P=function(E){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-q;case"top":return E+R-q;case"hanging":return E+R-2*q;case"middle":return E+R/2-q;case"ideographic":return E;case"alphabetic":default:return E}},j=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(R,q){this.colorStops.push([R,q])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(E,R,q,ee,H,te,X,G,ce){for(var ae=D.call(this,q,ee,H,te),le=0;le<ae.length;le++){var xe=ae[le];le===0&&(ce?O.call(this,xe.x1+E,xe.y1+R):I.call(this,xe.x1+E,xe.y1+R)),U.call(this,E,R,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}G?M.call(this):_.call(this,X)},_=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(E,R){this.pdf.internal.out(n(E)+" "+r(R)+" m")},T=function(E){var R;switch(E.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var q=this.pdf.getTextDimensions(E.text),ee=P.call(this,E.y),H=j.call(this,ee)-q.h,te=this.ctx.transform.applyToPoint(new o(E.x,ee)),X=this.ctx.transform.decompose(),G=new l;G=(G=(G=G.multiply(X.translate)).multiply(X.skew)).multiply(X.scale);for(var ce,ae,le,xe=this.ctx.transform.applyToRectangle(new s(E.x,ee,q.w,q.h)),be=G.applyToRectangle(new s(E.x,H,q.w,q.h)),de=w.call(this,be),ie=[],Ce=0;Ce<de.length;Ce+=1)ie.indexOf(de[Ce])===-1&&ie.push(de[Ce]);if(x(ie),this.autoPaging)for(var Fe=ie[0],Ae=ie[ie.length-1],Te=Fe;Te<Ae+1;Te++){this.pdf.setPage(Te);var Re=Te===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[2],De=ke-this.margin[0],Le=this.pdf.internal.pageSize.width-this.margin[1],Ge=Le-this.margin[3],Ue=Te===1?0:Ie+(Te-2)*De;if(this.ctx.clip_path.length!==0){var mt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ce,this.posX+this.margin[3],-1*Ue+Re),N.call(this,"fill",!0),this.path=mt}var et=y([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-Ue+Re+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*E.scale),le=this.lineWidth,this.lineWidth=le*E.scale);var ut=this.autoPaging!=="text";if(ut||et.y+et.h<=ke){if(ut||et.y>=Re&&et.x<=Le){var Ne=ut?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||Le-et.x)[0],vt=y([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Ue+Re+this.ctx.prevPageLastElemOffset)[0],ct=ut&&(Te>Fe||Te<Ae)&&g.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,De,null).clip().discardPath()),this.pdf.text(Ne,vt.x,vt.y,{angle:E.angle,align:R,renderingMode:E.renderingMode}),ct&&this.pdf.restoreGraphicsState()}}else et.y<ke&&(this.ctx.prevPageLastElemOffset+=ke-et.y);E.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=le)}else E.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*E.scale),le=this.lineWidth,this.lineWidth=le*E.scale),this.pdf.text(E.text,te.x+this.posX,te.y+this.posY,{angle:E.angle,align:R,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=le)},I=function(E,R,q,ee){q=q||0,ee=ee||0,this.pdf.internal.out(n(E+q)+" "+r(R+ee)+" l")},L=function(E,R,q){return this.pdf.lines(E,R,q,null,null)},U=function(E,R,q,ee,H,te,X,G){this.pdf.internal.out([t(i(q+E)),t(a(ee+R)),t(i(H+E)),t(a(te+R)),t(i(X+E)),t(a(G+R)),"c"].join(" "))},D=function(E,R,q,ee){for(var H=2*Math.PI,te=Math.PI/2;R>q;)R-=H;var X=Math.abs(q-R);X<H&&ee&&(X=H-X);for(var G=[],ce=ee?-1:1,ae=R;X>1e-5;){var le=ae+ce*Math.min(X,te);G.push($.call(this,E,ae,le)),X-=Math.abs(le-ae),ae=le}return G},$=function(E,R,q){var ee=(q-R)/2,H=E*Math.cos(ee),te=E*Math.sin(ee),X=H,G=-te,ce=X*X+G*G,ae=ce+X*H+G*te,le=4/3*(Math.sqrt(2*ce*ae)-ae)/(X*te-G*H),xe=X-le*G,be=G+le*X,de=xe,ie=-be,Ce=ee+R,Fe=Math.cos(Ce),Ae=Math.sin(Ce);return{x1:E*Math.cos(R),y1:E*Math.sin(R),x2:xe*Fe-be*Ae,y2:xe*Ae+be*Fe,x3:de*Fe-ie*Ae,y3:de*Ae+ie*Fe,x4:E*Math.cos(q),y4:E*Math.sin(q)}},W=function(E){return 180*E/Math.PI},z=function(E,R,q,ee,H,te){var X=E+.5*(q-E),G=R+.5*(ee-R),ce=H+.5*(q-H),ae=te+.5*(ee-te),le=Math.min(E,H,X,ce),xe=Math.max(E,H,X,ce),be=Math.min(R,te,G,ae),de=Math.max(R,te,G,ae);return new s(le,be,xe-le,de-be)},Y=function(E,R,q,ee,H,te,X,G){var ce,ae,le,xe,be,de,ie,Ce,Fe,Ae,Te,Re,Ie,ke,De=q-E,Le=ee-R,Ge=H-q,Ue=te-ee,mt=X-H,et=G-te;for(ae=0;ae<41;ae++)Fe=(ie=(le=E+(ce=ae/40)*De)+ce*((be=q+ce*Ge)-le))+ce*(be+ce*(H+ce*mt-be)-ie),Ae=(Ce=(xe=R+ce*Le)+ce*((de=ee+ce*Ue)-xe))+ce*(de+ce*(te+ce*et-de)-Ce),ae==0?(Te=Fe,Re=Ae,Ie=Fe,ke=Ae):(Te=Math.min(Te,Fe),Re=Math.min(Re,Ae),Ie=Math.max(Ie,Fe),ke=Math.max(ke,Ae));return new s(Math.round(Te),Math.round(Re),Math.round(Ie-Te),Math.round(ke-Re))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,R,q=(E=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:R}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(it.API),function(e){var t=function(a){var o,s,l,c,h,f,p,d,m,g;for(s=[],l=0,c=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;c>l;l+=4)(h=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(g=h%85))/85)-(m=h%85))/85)-(d=h%85))/85)-(p=h%85))/85)%85,s.push(f+33,p+33,d+33,m+33,g+33)):s.push(122);return function(w,b){for(var y=b;y>0;y--)w.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,c,h,f=String,p="length",d=255,m="charCodeAt",g="slice",w="replace";for(a[g](-2),a=a[g](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],c=0,h=(a+=o="uuuuu"[g](a[p]%5||5))[p];h>c;c+=5)s=52200625*(a[m](c)-33)+614125*(a[m](c+1)-33)+7225*(a[m](c+2)-33)+85*(a[m](c+3)-33)+(a[m](c+4)-33),l.push(d&s>>24,d&s>>16,d&s>>8,d&s);return function(b,y){for(var x=y;x>0;x--)b.pop()}(l,o[p]),f.fromCharCode.apply(f,l)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=D2(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(a,o){var s=0,l=a||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(it.API),function(e){e.loadFile=function(t,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,c,h){var f=new XMLHttpRequest,p=0,d=function(m){var g=m.length,w=[],b=String.fromCharCode;for(p=0;p<g;p+=1)w.push(b(255&m.charCodeAt(p)));return w.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(d(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(i,a,o)}catch{}return s}(t,n,r)},e.loadImageFile=e.loadFile}(it.API),function(e){function t(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):k2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):k2(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=It(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var c in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[c]=s.style[c];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var d=c[p],m=d.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||it.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,c){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,c){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,h).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=l.call(c,o,s);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,it.getPageSize=function(o,s,l){if(It(o)==="object"){var c=o;o=c.orientation,s=c.unit||s,l=c.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+s}var d,m=0,g=0;if(p.hasOwnProperty(f))m=p[f][1]/h,g=p[f][0]/h;else try{m=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>m&&(d=g,g=m,m=d);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>g&&(d=g,g=m,m=d)}return{width:g,height:m,unit:s,k:h,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(U2):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(it.API),it.API.addJS=function(e){return xA=e,this.internal.events.subscribe("postPutResources",function(){Yp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),yA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yp!==void 0&&yA!==void 0&&this.internal.out("/Names <</JavaScript "+Yp+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(a=0;a<c;a++){var f=n.internal.newObject();h.push(f);var p=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(it.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,o,s){var l,c=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var p,d=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},w=4;w<m;w+=2){if(w+=d,t.indexOf(f.charCodeAt(w+1))!==-1){p=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),g={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:p,numcomponents:f.charCodeAt(w+9)};break}d=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:c,index:r,alias:i}}return h}}(it.API);var du,Xp,bA,wA,SA,wce=function(){var e,t,n;function r(a){var o,s,l,c,h,f,p,d,m,g,w,b,y,x;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),m=(function(){var A,N;for(N=[],A=0;A<4;++A)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*h/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),a=(f!=null?f.data:void 0)||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(w=this.read(o)).indexOf(0),d=String.fromCharCode.apply(String,w.slice(0,p)),this.text[d]=String.fromCharCode.apply(String,w.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,c=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(f,p,d,m){var g,w,b,y,x,A,N,P,j,C,_,M,O,T,I,L,U,D,$,W,z,Y=Math.ceil((c.width-f)/d),re=Math.ceil((c.height-p)/m),E=c.width==Y&&c.height==re;for(T=o*Y,M=E?s:new Uint8Array(T*re),A=a.length,O=0,w=0;O<re&&l<A;){switch(a[l++]){case 0:for(y=U=0;U<T;y=U+=1)M[w++]=a[l++];break;case 1:for(y=D=0;D<T;y=D+=1)g=a[l++],x=y<o?0:M[w-o],M[w++]=(g+x)%256;break;case 2:for(y=$=0;$<T;y=$+=1)g=a[l++],b=(y-y%o)/o,I=O&&M[(O-1)*T+b*o+y%o],M[w++]=(I+g)%256;break;case 3:for(y=W=0;W<T;y=W+=1)g=a[l++],b=(y-y%o)/o,x=y<o?0:M[w-o],I=O&&M[(O-1)*T+b*o+y%o],M[w++]=(g+Math.floor((x+I)/2))%256;break;case 4:for(y=z=0;z<T;y=z+=1)g=a[l++],b=(y-y%o)/o,x=y<o?0:M[w-o],O===0?I=L=0:(I=M[(O-1)*T+b*o+y%o],L=b&&M[(O-1)*T+(b-1)*o+y%o]),N=x+I-L,P=Math.abs(N-x),C=Math.abs(N-I),_=Math.abs(N-L),j=P<=C&&P<=_?x:C<=_?I:L,M[w++]=(g+j)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!E){var R=((p+O*m)*c.width+f)*o,q=O*T;for(y=0;y<Y;y+=1){for(var ee=0;ee<o;ee+=1)s[R++]=M[q++];R+=(d-1)*o}}O++}}return a=Que(a),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,l,c,h,f,p,d;for(s=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+s.length),l=0,a=0,o=f=0,p=s.length;f<p;o=f+=3)c[l++]=s[o],c[l++]=s[o+1],c[l++]=s[o+2],c[l++]=(d=h[a++])!=null?d:255;return c},r.prototype.copyToImageData=function(a,o){var s,l,c,h,f,p,d,m,g,w,b;if(l=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,s=!0),m=(c=a.data||a).length,f=g||o,h=p=0,l===1)for(;h<m;)d=g?4*o[h/4]:p,w=f[d++],c[h++]=w,c[h++]=w,c[h++]=w,c[h++]=s?f[d++]:255,p=d;else for(;h<m;)d=g?4*o[h/4]:p,c[h++]=f[d++],c[h++]=f[d++],c[h++]=f[d++],c[h++]=s?f[d++]:255,p=d},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{t=lt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,l,c,h,f,p,d;if(this.animation){for(d=[],s=h=0,f=(p=this.animation.frames).length;h<f;s=++h)o=p[s],l=a.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,d.push(o.image=e(l));return d}},r.prototype.renderFrame=function(a,o){var s,l,c;return s=(l=this.animation.frames)[o],c=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?a.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&a.putImageData(c.imageData,c.xOffset,c.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,l,c,h,f,p=this;return s=0,f=this.animation,c=f.numFrames,l=f.frames,h=f.numPlays,(o=function(){var d,m;if(d=s++%c,m=l[d],p.renderFrame(a,d),c>1&&s/c<h)return p.animation._timeout=setTimeout(o,m.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Sce(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var s=null,l=null;a&&(s=t,l=o,t+=3*o);var c=!0,h=[],f=0,p=null,d=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],!(1&g)&&(p=null),d=g>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,A=e[t++],N=A>>6&1,P=1<<(7&A)+1,j=s,C=l,_=!1;A>>7&&(_=!0,j=t,C=P,t+=3*P);var M=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}h.push({x:w,y:b,width:y,height:x,has_local_palette:_,palette_offset:j,palette_size:C,data_offset:M,data_length:t-M,transparent_index:p,interlaced:!!N,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return m},this.frameInfo=function(T){if(T<0||T>=h.length)throw new Error("Frame index out of range.");return h[T]},this.decodeAndBlitFrameBGRA=function(T,I){var L=this.frameInfo(T),U=L.width*L.height,D=new Uint8Array(U);NA(e,L.data_offset,D,U);var $=L.palette_offset,W=L.transparent_index;W===null&&(W=256);var z=L.width,Y=n-z,re=z,E=4*(L.y*n+L.x),R=4*((L.y+L.height)*n+L.x),q=E,ee=4*Y;L.interlaced===!0&&(ee+=4*n*7);for(var H=8,te=0,X=D.length;te<X;++te){var G=D[te];if(re===0&&(re=z,(q+=ee)>=R&&(ee=4*Y+4*n*(H-1),q=E+(z+Y)*(H<<1),H>>=1)),G===W)q+=4;else{var ce=e[$+3*G],ae=e[$+3*G+1],le=e[$+3*G+2];I[q++]=le,I[q++]=ae,I[q++]=ce,I[q++]=255}--re}},this.decodeAndBlitFrameRGBA=function(T,I){var L=this.frameInfo(T),U=L.width*L.height,D=new Uint8Array(U);NA(e,L.data_offset,D,U);var $=L.palette_offset,W=L.transparent_index;W===null&&(W=256);var z=L.width,Y=n-z,re=z,E=4*(L.y*n+L.x),R=4*((L.y+L.height)*n+L.x),q=E,ee=4*Y;L.interlaced===!0&&(ee+=4*n*7);for(var H=8,te=0,X=D.length;te<X;++te){var G=D[te];if(re===0&&(re=z,(q+=ee)>=R&&(ee=4*Y+4*n*(H-1),q=E+(z+Y)*(H<<1),H>>=1)),G===W)q+=4;else{var ce=e[$+3*G],ae=e[$+3*G+1],le=e[$+3*G+2];I[q++]=ce,I[q++]=ae,I[q++]=le,I[q++]=255}--re}}}function NA(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,l=i+1,c=(1<<l)-1,h=0,f=0,p=0,d=e[t++],m=new Int32Array(4096),g=null;;){for(;h<16&&d!==0;)f|=e[t++]<<h,h+=8,d===1?d=e[t++]:--d;if(h<l)break;var w=f&c;if(f>>=l,h-=l,w!==a){if(w===o)break;for(var b=w<s?w:g,y=0,x=b;x>a;)x=m[x]>>8,++y;var A=x;if(p+y+(b!==w?1:0)>r)return void Ht.log("Warning, gif stream longer than expected.");n[p++]=A;var N=p+=y;for(b!==w&&(n[p++]=A),x=b;y--;)x=m[x],n[--N]=255&x,x>>=8;g!==null&&s<4096&&(m[s++]=g<<8|A,s>=c+1&&l<12&&(++l,c=c<<1|1)),g=w}else s=o+1,c=(1<<(l=i+1))-1,g=null}return p!==r&&Ht.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function n1(e){var t,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),p=new Array(65535),d=new Array(64),m=new Array(64),g=[],w=0,b=7,y=new Array(64),x=new Array(64),A=new Array(64),N=new Array(256),P=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function D(E,R){for(var q=0,ee=0,H=new Array,te=1;te<=16;te++){for(var X=1;X<=E[te];X++)H[R[ee]]=[],H[R[ee]][0]=q,H[R[ee]][1]=te,ee++,q++;q*=2}return H}function $(E){for(var R=E[0],q=E[1]-1;q>=0;)R&1<<q&&(w|=1<<b),q--,--b<0&&(w==255?(W(255),W(0)):W(w),b=7,w=0)}function W(E){g.push(E)}function z(E){W(E>>8&255),W(255&E)}function Y(E,R,q,ee,H){for(var te,X=H[0],G=H[240],ce=function(Ae,Te){var Re,Ie,ke,De,Le,Ge,Ue,mt,et,ut,Ne=0;for(et=0;et<8;++et){Re=Ae[Ne],Ie=Ae[Ne+1],ke=Ae[Ne+2],De=Ae[Ne+3],Le=Ae[Ne+4],Ge=Ae[Ne+5],Ue=Ae[Ne+6];var vt=Re+(mt=Ae[Ne+7]),ct=Re-mt,jn=Ie+Ue,Ot=Ie-Ue,Tt=ke+Ge,ir=ke-Ge,bt=De+Le,ws=De-Le,un=vt+bt,Li=vt-bt,Da=jn+Tt,cn=jn-Tt;Ae[Ne]=un+Da,Ae[Ne+4]=un-Da;var ft=.707106781*(cn+Li);Ae[Ne+2]=Li+ft,Ae[Ne+6]=Li-ft;var _t=.382683433*((un=ws+ir)-(cn=Ot+ct)),Ss=.5411961*un+_t,Xn=1.306562965*cn+_t,da=.707106781*(Da=ir+Ot),fa=ct+da,ot=ct-da;Ae[Ne+5]=ot+Ss,Ae[Ne+3]=ot-Ss,Ae[Ne+1]=fa+Xn,Ae[Ne+7]=fa-Xn,Ne+=8}for(Ne=0,et=0;et<8;++et){Re=Ae[Ne],Ie=Ae[Ne+8],ke=Ae[Ne+16],De=Ae[Ne+24],Le=Ae[Ne+32],Ge=Ae[Ne+40],Ue=Ae[Ne+48];var Mi=Re+(mt=Ae[Ne+56]),ha=Re-mt,Fr=Ie+Ue,_n=Ie-Ue,An=ke+Ge,Gr=ke-Ge,Tl=De+Le,Ia=De-Le,Di=Mi+Tl,Ii=Mi-Tl,$i=Fr+An,pa=Fr-An;Ae[Ne]=Di+$i,Ae[Ne+32]=Di-$i;var ci=.707106781*(pa+Ii);Ae[Ne+16]=Ii+ci,Ae[Ne+48]=Ii-ci;var ma=.382683433*((Di=Ia+Gr)-(pa=_n+ha)),Ns=.5411961*Di+ma,Fl=1.306562965*pa+ma,kl=.707106781*($i=Gr+_n),_l=ha+kl,El=ha-kl;Ae[Ne+40]=El+Ns,Ae[Ne+24]=El-Ns,Ae[Ne+8]=_l+Fl,Ae[Ne+56]=_l-Fl,Ne++}for(et=0;et<64;++et)ut=Ae[et]*Te[et],d[et]=ut>0?ut+.5|0:ut-.5|0;return d}(E,R),ae=0;ae<64;++ae)m[j[ae]]=ce[ae];var le=m[0]-q;q=m[0],le==0?$(ee[0]):($(ee[p[te=32767+le]]),$(f[te]));for(var xe=63;xe>0&&m[xe]==0;)xe--;if(xe==0)return $(X),q;for(var be,de=1;de<=xe;){for(var ie=de;m[de]==0&&de<=xe;)++de;var Ce=de-ie;if(Ce>=16){be=Ce>>4;for(var Fe=1;Fe<=be;++Fe)$(G);Ce&=15}te=32767+m[de],$(H[(Ce<<4)+p[te]]),$(f[te]),de++}return xe!=63&&$(X),q}function re(E){E=Math.min(Math.max(E,1),100),a!=E&&(function(R){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var H=o((q[ee]*R+50)/100);H=Math.min(Math.max(H,1),255),s[j[ee]]=H}for(var te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],X=0;X<64;X++){var G=o((te[X]*R+50)/100);G=Math.min(Math.max(G,1),255),l[j[X]]=G}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ae=0,le=0;le<8;le++)for(var xe=0;xe<8;xe++)c[ae]=1/(s[j[ae]]*ce[le]*ce[xe]*8),h[ae]=1/(l[j[ae]]*ce[le]*ce[xe]*8),ae++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),a=E)}this.encode=function(E,R){R&&re(R),g=new Array,w=0,b=7,z(65496),z(65504),z(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),z(1),z(1),W(0),W(0),function(){z(65499),z(132),W(0);for(var Ie=0;Ie<64;Ie++)W(s[Ie]);W(1);for(var ke=0;ke<64;ke++)W(l[ke])}(),function(Ie,ke){z(65472),z(17),W(8),z(ke),z(Ie),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(E.width,E.height),function(){z(65476),z(418),W(0);for(var Ie=0;Ie<16;Ie++)W(C[Ie+1]);for(var ke=0;ke<=11;ke++)W(_[ke]);W(16);for(var De=0;De<16;De++)W(M[De+1]);for(var Le=0;Le<=161;Le++)W(O[Le]);W(1);for(var Ge=0;Ge<16;Ge++)W(T[Ge+1]);for(var Ue=0;Ue<=11;Ue++)W(I[Ue]);W(17);for(var mt=0;mt<16;mt++)W(L[mt+1]);for(var et=0;et<=161;et++)W(U[et])}(),z(65498),z(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var q=0,ee=0,H=0;w=0,b=7,this.encode.displayName="_encode_";for(var te,X,G,ce,ae,le,xe,be,de,ie=E.data,Ce=E.width,Fe=E.height,Ae=4*Ce,Te=0;Te<Fe;){for(te=0;te<Ae;){for(ae=Ae*Te+te,xe=-1,be=0,de=0;de<64;de++)le=ae+(be=de>>3)*Ae+(xe=4*(7&de)),Te+be>=Fe&&(le-=Ae*(Te+1+be-Fe)),te+xe>=Ae&&(le-=te+xe-Ae+4),X=ie[le++],G=ie[le++],ce=ie[le++],y[de]=(P[X]+P[G+256>>0]+P[ce+512>>0]>>16)-128,x[de]=(P[X+768>>0]+P[G+1024>>0]+P[ce+1280>>0]>>16)-128,A[de]=(P[X+1280>>0]+P[G+1536>>0]+P[ce+1792>>0]>>16)-128;q=Y(y,c,q,t,r),ee=Y(x,h,ee,n,i),H=Y(A,h,H,n,i),te+=32}Te+=8}if(b>=0){var Re=[];Re[1]=b+1,Re[0]=(1<<b+1)-1,$(Re)}return z(65497),new Uint8Array(g)},e=e||50,function(){for(var E=String.fromCharCode,R=0;R<256;R++)N[R]=E(R)}(),t=D(C,_),n=D(T,I),r=D(M,O),i=D(L,U),function(){for(var E=1,R=2,q=1;q<=15;q++){for(var ee=E;ee<R;ee++)p[32767+ee]=q,f[32767+ee]=[],f[32767+ee][1]=q,f[32767+ee][0]=ee;for(var H=-(R-1);H<=-E;H++)p[32767+H]=q,f[32767+H]=[],f[32767+H][1]=q,f[32767+H][0]=R-1+H;E<<=1,R<<=1}}(),function(){for(var E=0;E<256;E++)P[E]=19595*E,P[E+256>>0]=38470*E,P[E+512>>0]=7471*E+32768,P[E+768>>0]=-11059*E,P[E+1024>>0]=-21709*E,P[E+1280>>0]=32768*E+8421375,P[E+1536>>0]=-27439*E,P[E+1792>>0]=-5329*E}(),re(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jA(e){function t(C){if(!C)throw Error("assert :P")}function n(C,_,M){for(var O=0;4>O;O++)if(C[_+O]!=M.charCodeAt(O))return!0;return!1}function r(C,_,M,O,T){for(var I=0;I<T;I++)C[_+I]=M[O+I]}function i(C,_,M,O){for(var T=0;T<O;T++)C[_+T]=M}function a(C){return new Int32Array(C)}function o(C,_){for(var M=[],O=0;O<C;O++)M.push(new _);return M}function s(C,_){var M=[];return function O(T,I,L){for(var U=L[I],D=0;D<U&&(T.push(L.length>I+1?[]:new _),!(L.length<I+1));D++)O(T[D],I+1,L)}(M,0,C),M}var l=function(){var C=this;function _(v,S){for(var k=1<<S-1>>>0;v&k;)k>>>=1;return k?(v&k-1)+k:v}function M(v,S,k,B,V){t(!(B%k));do v[S+(B-=k)]=V;while(0<B)}function O(v,S,k,B,V){if(t(2328>=V),512>=V)var J=a(512);else if((J=a(V))==null)return 0;return function(Q,Z,ne,oe,he,we){var Se,ve,Me=Z,je=1<<ne,pe=a(16),me=a(16);for(t(he!=0),t(oe!=null),t(Q!=null),t(0<ne),ve=0;ve<he;++ve){if(15<oe[ve])return 0;++pe[oe[ve]]}if(pe[0]==he)return 0;for(me[1]=0,Se=1;15>Se;++Se){if(pe[Se]>1<<Se)return 0;me[Se+1]=me[Se]+pe[Se]}for(ve=0;ve<he;++ve)Se=oe[ve],0<oe[ve]&&(we[me[Se]++]=ve);if(me[15]==1)return(oe=new T).g=0,oe.value=we[0],M(Q,Me,1,je,oe),je;var _e,$e=-1,Ee=je-1,Xe=0,qe=1,rt=1,Ve=1<<ne;for(ve=0,Se=1,he=2;Se<=ne;++Se,he<<=1){if(qe+=rt<<=1,0>(rt-=pe[Se]))return 0;for(;0<pe[Se];--pe[Se])(oe=new T).g=Se,oe.value=we[ve++],M(Q,Me+Xe,he,Ve,oe),Xe=_(Xe,Se)}for(Se=ne+1,he=2;15>=Se;++Se,he<<=1){if(qe+=rt<<=1,0>(rt-=pe[Se]))return 0;for(;0<pe[Se];--pe[Se]){if(oe=new T,(Xe&Ee)!=$e){for(Me+=Ve,_e=1<<($e=Se)-ne;15>$e&&!(0>=(_e-=pe[$e]));)++$e,_e<<=1;je+=Ve=1<<(_e=$e-ne),Q[Z+($e=Xe&Ee)].g=_e+ne,Q[Z+$e].value=Me-Z-$e}oe.g=Se-ne,oe.value=we[ve++],M(Q,Me+(Xe>>ne),he,Ve,oe),Xe=_(Xe,Se)}}return qe!=2*me[15]-1?0:je}(v,S,k,B,V,J)}function T(){this.value=this.g=0}function I(){this.value=this.g=0}function L(){this.G=o(5,T),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Jn,I)}function U(v,S,k,B){t(v!=null),t(S!=null),t(2147483648>B),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=S,v.pa=k,v.Jd=S,v.Yc=k+B,v.Zc=4<=B?k+B-4+1:k,te(v)}function D(v,S){for(var k=0;0<S--;)k|=G(v,128)<<S;return k}function $(v,S){var k=D(v,S);return X(v)?-k:k}function W(v,S,k,B){var V,J=0;for(t(v!=null),t(S!=null),t(4294967288>B),v.Sb=B,v.Ra=0,v.u=0,v.h=0,4<B&&(B=4),V=0;V<B;++V)J+=S[k+V]<<8*V;v.Ra=J,v.bb=B,v.oa=S,v.pa=k}function z(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Kl-8>>>0,++v.bb,v.u-=8;q(v)&&(v.h=1,v.u=0)}function Y(v,S){if(t(0<=S),!v.h&&S<=Vl){var k=R(v)&Gl[S];return v.u+=S,z(v),k}return v.h=1,v.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(v){return v.Ra>>>(v.u&Kl-1)>>>0}function q(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Kl}function ee(v,S){v.u=S,v.h=q(v)}function H(v){v.u>=Qc&&(t(v.u>=Qc),z(v))}function te(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function X(v){return D(v,1)}function G(v,S){var k=v.Ca;0>v.b&&te(v);var B=v.b,V=k*S>>>8,J=(v.I>>>B>V)+0;for(J?(k-=V,v.I-=V+1<<B>>>0):k=V+1,B=k,V=0;256<=B;)V+=8,B>>=8;return B=7^V+_r[B],v.b-=B,v.Ca=(k<<B)-1,J}function ce(v,S,k){v[S+0]=k>>24&255,v[S+1]=k>>16&255,v[S+2]=k>>8&255,v[S+3]=k>>0&255}function ae(v,S){return v[S+0]<<0|v[S+1]<<8}function le(v,S){return ae(v,S)|v[S+2]<<16}function xe(v,S){return ae(v,S)|ae(v,S+2)<<16}function be(v,S){var k=1<<S;return t(v!=null),t(0<S),v.X=a(k),v.X==null?0:(v.Mb=32-S,v.Xa=S,1)}function de(v,S){t(v!=null),t(S!=null),t(v.Xa==S.Xa),r(S.X,0,v.X,0,1<<S.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function Ce(v,S,k,B){t(k!=null),t(B!=null);var V=k[0],J=B[0];return V==0&&(V=(v*J+S/2)/S),J==0&&(J=(S*V+v/2)/v),0>=V||0>=J?0:(k[0]=V,B[0]=J,1)}function Fe(v,S){return v+(1<<S)-1>>>S}function Ae(v,S){return((4278255360&v)+(4278255360&S)>>>0&4278255360)+((16711935&v)+(16711935&S)>>>0&16711935)>>>0}function Te(v,S){C[S]=function(k,B,V,J,Q,Z,ne){var oe;for(oe=0;oe<Q;++oe){var he=C[v](Z[ne+oe-1],V,J+oe);Z[ne+oe]=Ae(k[B+oe],he)}}}function Re(){this.ud=this.hd=this.jd=0}function Ie(v,S){return((4278124286&(v^S))>>>1)+(v&S)>>>0}function ke(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function De(v,S){return ke(v+(v-S+.5>>1))}function Le(v,S,k){return Math.abs(S-k)-Math.abs(v-k)}function Ge(v,S,k,B,V,J,Q){for(B=J[Q-1],k=0;k<V;++k)J[Q+k]=B=Ae(v[S+k],B)}function Ue(v,S,k,B,V){var J;for(J=0;J<k;++J){var Q=v[S+J],Z=Q>>8&255,ne=16711935&(ne=(ne=16711935&Q)+((Z<<16)+Z));B[V+J]=(4278255360&Q)+ne>>>0}}function mt(v,S){S.jd=v>>0&255,S.hd=v>>8&255,S.ud=v>>16&255}function et(v,S,k,B,V,J){var Q;for(Q=0;Q<B;++Q){var Z=S[k+Q],ne=Z>>>8,oe=Z,he=255&(he=(he=Z>>>16)+((v.jd<<24>>24)*(ne<<24>>24)>>>5));oe=255&(oe=(oe=oe+((v.hd<<24>>24)*(ne<<24>>24)>>>5))+((v.ud<<24>>24)*(he<<24>>24)>>>5)),V[J+Q]=(4278255360&Z)+(he<<16)+oe}}function ut(v,S,k,B,V){C[S]=function(J,Q,Z,ne,oe,he,we,Se,ve){for(ne=we;ne<Se;++ne)for(we=0;we<ve;++we)oe[he++]=V(Z[B(J[Q++])])},C[v]=function(J,Q,Z,ne,oe,he,we){var Se=8>>J.b,ve=J.Ea,Me=J.K[0],je=J.w;if(8>Se)for(J=(1<<J.b)-1,je=(1<<Se)-1;Q<Z;++Q){var pe,me=0;for(pe=0;pe<ve;++pe)pe&J||(me=B(ne[oe++])),he[we++]=V(Me[me&je]),me>>=Se}else C["VP8LMapColor"+k](ne,oe,Me,je,he,we,Q,Z,ve)}}function Ne(v,S,k,B,V){for(k=S+k;S<k;){var J=v[S++];B[V++]=J>>16&255,B[V++]=J>>8&255,B[V++]=J>>0&255}}function vt(v,S,k,B,V){for(k=S+k;S<k;){var J=v[S++];B[V++]=J>>16&255,B[V++]=J>>8&255,B[V++]=J>>0&255,B[V++]=J>>24&255}}function ct(v,S,k,B,V){for(k=S+k;S<k;){var J=(Q=v[S++])>>16&240|Q>>12&15,Q=Q>>0&240|Q>>28&15;B[V++]=J,B[V++]=Q}}function jn(v,S,k,B,V){for(k=S+k;S<k;){var J=(Q=v[S++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;B[V++]=J,B[V++]=Q}}function Ot(v,S,k,B,V){for(k=S+k;S<k;){var J=v[S++];B[V++]=J>>0&255,B[V++]=J>>8&255,B[V++]=J>>16&255}}function Tt(v,S,k,B,V,J){if(J==0)for(k=S+k;S<k;)ce(B,((J=v[S++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),V+=32;else r(B,V,v,S,k)}function ir(v,S){C[S][0]=C[v+"0"],C[S][1]=C[v+"1"],C[S][2]=C[v+"2"],C[S][3]=C[v+"3"],C[S][4]=C[v+"4"],C[S][5]=C[v+"5"],C[S][6]=C[v+"6"],C[S][7]=C[v+"7"],C[S][8]=C[v+"8"],C[S][9]=C[v+"9"],C[S][10]=C[v+"10"],C[S][11]=C[v+"11"],C[S][12]=C[v+"12"],C[S][13]=C[v+"13"],C[S][14]=C[v+"0"],C[S][15]=C[v+"0"]}function bt(v){return v==Pv||v==Cv||v==tp||v==Ov}function ws(){this.eb=[],this.size=this.A=this.fb=0}function un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Li(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ws,this.f.kb=new un,this.sd=null}function Da(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function _t(v,S){var k=v.T,B=S.ba.f.RGBA,V=B.eb,J=B.fb+v.ka*B.A,Q=gi[S.ba.S],Z=v.y,ne=v.O,oe=v.f,he=v.N,we=v.ea,Se=v.W,ve=S.cc,Me=S.dc,je=S.Mc,pe=S.Nc,me=v.ka,_e=v.ka+v.T,$e=v.U,Ee=$e+1>>1;for(me==0?Q(Z,ne,null,null,oe,he,we,Se,oe,he,we,Se,V,J,null,null,$e):(Q(S.ec,S.fc,Z,ne,ve,Me,je,pe,oe,he,we,Se,V,J-B.A,V,J,$e),++k);me+2<_e;me+=2)ve=oe,Me=he,je=we,pe=Se,he+=v.Rc,Se+=v.Rc,J+=2*B.A,Q(Z,(ne+=2*v.fa)-v.fa,Z,ne,ve,Me,je,pe,oe,he,we,Se,V,J-B.A,V,J,$e);return ne+=v.fa,v.j+_e<v.o?(r(S.ec,S.fc,Z,ne,$e),r(S.cc,S.dc,oe,he,Ee),r(S.Mc,S.Nc,we,Se,Ee),k--):1&_e||Q(Z,ne,null,null,oe,he,we,Se,oe,he,we,Se,V,J+B.A,null,null,$e),k}function Ss(v,S,k){var B=v.F,V=[v.J];if(B!=null){var J=v.U,Q=S.ba.S,Z=Q==ep||Q==tp;S=S.ba.f.RGBA;var ne=[0],oe=v.ka;ne[0]=v.T,v.Kb&&(oe==0?--ne[0]:(--oe,V[0]-=v.width),v.j+v.ka+v.T==v.o&&(ne[0]=v.o-v.j-oe));var he=S.eb;oe=S.fb+oe*S.A,v=Kt(B,V[0],v.width,J,ne,he,oe+(Z?0:3),S.A),t(k==ne),v&&bt(Q)&&pi(he,oe,Z,J,ne,S.A)}return 0}function Xn(v){var S=v.ma,k=S.ba.S,B=11>k,V=k==Qh||k==Zh||k==ep||k==Av||k==12||bt(k);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Xc(S.Oa,v,V?11:12))return 0;if(V&&bt(k)&&Be(),v.da)alert("todo:use_scaling");else{if(B){if(S.Ib=ft,v.Kb){if(k=v.U+1>>1,S.memory=a(v.U+2*k),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+v.U,S.Mc=S.cc,S.Nc=S.dc+k,S.Ib=_t,Be()}}else alert("todo:EmitYUV");V&&(S.Jb=Ss,B&&ye())}if(B&&!h5){for(v=0;256>v;++v)Vk[v]=89858*(v-128)+rp>>np,Xk[v]=-22014*(v-128)+rp,Yk[v]=-45773*(v-128),Kk[v]=113618*(v-128)+rp>>np;for(v=ad;v<kv;++v)S=76283*(v-16)+rp>>np,Jk[v-ad]=Vr(S,255),Qk[v-ad]=Vr(S+8>>4,15);h5=1}return 1}function da(v){var S=v.ma,k=v.U,B=v.T;return t(!(1&v.ka)),0>=k||0>=B?0:(k=S.Ib(v,S),S.Jb!=null&&S.Jb(v,S,k),S.Dc+=k,1)}function fa(v){v.ma.memory=null}function ot(v,S,k,B){return Y(v,8)!=47?0:(S[0]=Y(v,14)+1,k[0]=Y(v,14)+1,B[0]=Y(v,1),Y(v,3)!=0?0:!v.h)}function Mi(v,S){if(4>v)return v+1;var k=v-2>>1;return(2+(1&v)<<k)+Y(S,k)+1}function ha(v,S){return 120<S?S-120:1<=(k=((k=Ek[S-1])>>4)*v+(8-(15&k)))?k:1;var k}function Fr(v,S,k){var B=R(k),V=v[S+=255&B].g-8;return 0<V&&(ee(k,k.u+8),B=R(k),S+=v[S].value,S+=B&(1<<V)-1),ee(k,k.u+v[S].g),v[S].value}function _n(v,S,k){return k.g+=v.g,k.value+=v.value<<S>>>0,t(8>=k.g),v.g}function An(v,S,k){var B=v.xc;return t((S=B==0?0:v.vc[v.md*(k>>B)+(S>>B)])<v.Wb),v.Ya[S]}function Gr(v,S,k,B){var V=v.ab,J=v.c*S,Q=v.C;S=Q+S;var Z=k,ne=B;for(B=v.Ta,k=v.Ua;0<V--;){var oe=v.gc[V],he=Q,we=S,Se=Z,ve=ne,Me=(ne=B,Z=k,oe.Ea);switch(t(he<we),t(we<=oe.nc),oe.hc){case 2:qh(Se,ve,(we-he)*Me,ne,Z);break;case 0:var je=he,pe=we,me=ne,_e=Z,$e=(Ve=oe).Ea;je==0&&(Nv(Se,ve,null,null,1,me,_e),Ge(Se,ve+1,0,0,$e-1,me,_e+1),ve+=$e,_e+=$e,++je);for(var Ee=1<<Ve.b,Xe=Ee-1,qe=Fe($e,Ve.b),rt=Ve.K,Ve=Ve.w+(je>>Ve.b)*qe;je<pe;){var kt=rt,Lt=Ve,Pt=1;for(Zc(Se,ve,me,_e-$e,1,me,_e);Pt<$e;){var Nt=(Pt&~Xe)+Ee;Nt>$e&&(Nt=$e),(0,So[kt[Lt++]>>8&15])(Se,ve+ +Pt,me,_e+Pt-$e,Nt-Pt,me,_e+Pt),Pt=Nt}ve+=$e,_e+=$e,++je&Xe||(Ve+=qe)}we!=oe.nc&&r(ne,Z-Me,ne,Z+(we-he-1)*Me,Me);break;case 1:for(Me=Se,pe=ve,$e=(Se=oe.Ea)-(_e=Se&~(me=(ve=1<<oe.b)-1)),je=Fe(Se,oe.b),Ee=oe.K,oe=oe.w+(he>>oe.b)*je;he<we;){for(Xe=Ee,qe=oe,rt=new Re,Ve=pe+_e,kt=pe+Se;pe<Ve;)mt(Xe[qe++],rt),Os(rt,Me,pe,ve,ne,Z),pe+=ve,Z+=ve;pe<kt&&(mt(Xe[qe++],rt),Os(rt,Me,pe,$e,ne,Z),pe+=$e,Z+=$e),++he&me||(oe+=je)}break;case 3:if(Se==ne&&ve==Z&&0<oe.b){for(pe=ne,Se=Me=Z+(we-he)*Me-(_e=(we-he)*Fe(oe.Ea,oe.b)),ve=ne,me=Z,je=[],_e=($e=_e)-1;0<=_e;--_e)je[_e]=ve[me+_e];for(_e=$e-1;0<=_e;--_e)pe[Se+_e]=je[_e];di(oe,he,we,ne,Me,ne,Z)}else di(oe,he,we,Se,ve,ne,Z)}Z=B,ne=k}ne!=k&&r(B,k,Z,ne,J)}function Tl(v,S){var k=v.V,B=v.Ba+v.c*v.C,V=S-v.C;if(t(S<=v.l.o),t(16>=V),0<V){var J=v.l,Q=v.Ta,Z=v.Ua,ne=J.width;if(Gr(v,V,k,B),V=Z=[Z],t((k=v.C)<(B=S)),t(J.v<J.va),B>J.o&&(B=J.o),k<J.j){var oe=J.j-k;k=J.j,V[0]+=oe*ne}if(k>=B?k=0:(V[0]+=4*J.v,J.ka=k-J.j,J.U=J.va-J.v,J.T=B-k,k=1),k){if(Z=Z[0],11>(k=v.ca).S){var he=k.f.RGBA,we=(B=k.S,V=J.U,J=J.T,oe=he.eb,he.A),Se=J;for(he=he.fb+v.Ma*he.A;0<Se--;){var ve=Q,Me=Z,je=V,pe=oe,me=he;switch(B){case Jh:Er(ve,Me,je,pe,me);break;case Qh:wr(ve,Me,je,pe,me);break;case Pv:wr(ve,Me,je,pe,me),pi(pe,me,0,je,1,0);break;case i5:Wa(ve,Me,je,pe,me);break;case Zh:Tt(ve,Me,je,pe,me,1);break;case Cv:Tt(ve,Me,je,pe,me,1),pi(pe,me,0,je,1,0);break;case ep:Tt(ve,Me,je,pe,me,0);break;case tp:Tt(ve,Me,je,pe,me,0),pi(pe,me,1,je,1,0);break;case Av:No(ve,Me,je,pe,me);break;case Ov:No(ve,Me,je,pe,me),Vt(pe,me,je,1,0);break;case a5:Ba(ve,Me,je,pe,me);break;default:t(0)}Z+=ne,he+=we}v.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=k.height)}}v.C=S,t(v.C<=v.i)}function Ia(v){var S;if(0<v.ua)return 0;for(S=0;S<v.Wb;++S){var k=v.Ya[S].G,B=v.Ya[S].H;if(0<k[1][B[1]+0].g||0<k[2][B[2]+0].g||0<k[3][B[3]+0].g)return 0}return 1}function Di(v,S,k,B,V,J){if(v.Z!=0){var Q=v.qd,Z=v.rd;for(t(Co[v.Z]!=null);S<k;++S)Co[v.Z](Q,Z,B,V,B,V,J),Q=B,Z=V,V+=J;v.qd=Q,v.rd=Z}}function Ii(v,S){var k=v.l.ma,B=k.Z==0||k.Z==1?v.l.j:v.C;if(B=v.C<B?B:v.C,t(S<=v.l.o),S>B){var V=v.l.width,J=k.ca,Q=k.tb+V*B,Z=v.V,ne=v.Ba+v.c*B,oe=v.gc;t(v.ab==1),t(oe[0].hc==3),Gh(oe[0],B,S,Z,ne,J,Q),Di(k,B,S,J,Q,V)}v.C=v.Ma=S}function $i(v,S,k,B,V,J,Q){var Z=v.$/B,ne=v.$%B,oe=v.m,he=v.s,we=k+v.$,Se=we;V=k+B*V;var ve=k+B*J,Me=280+he.ua,je=v.Pb?Z:16777216,pe=0<he.ua?he.Wa:null,me=he.wc,_e=we<ve?An(he,ne,Z):null;t(v.C<J),t(ve<=V);var $e=!1;e:for(;;){for(;$e||we<ve;){var Ee=0;if(Z>=je){var Xe=we-k;t((je=v).Pb),je.wd=je.m,je.xd=Xe,0<je.s.ua&&de(je.s.Wa,je.s.vb),je=Z+Mk}if(ne&me||(_e=An(he,ne,Z)),t(_e!=null),_e.Qb&&(S[we]=_e.qb,$e=!0),!$e)if(H(oe),_e.jc){Ee=oe,Xe=S;var qe=we,rt=_e.pd[R(Ee)&Jn-1];t(_e.jc),256>rt.g?(ee(Ee,Ee.u+rt.g),Xe[qe]=rt.value,Ee=0):(ee(Ee,Ee.u+rt.g-256),t(256<=rt.value),Ee=rt.value),Ee==0&&($e=!0)}else Ee=Fr(_e.G[0],_e.H[0],oe);if(oe.h)break;if($e||256>Ee){if(!$e)if(_e.nd)S[we]=(_e.qb|Ee<<8)>>>0;else{if(H(oe),$e=Fr(_e.G[1],_e.H[1],oe),H(oe),Xe=Fr(_e.G[2],_e.H[2],oe),qe=Fr(_e.G[3],_e.H[3],oe),oe.h)break;S[we]=(qe<<24|$e<<16|Ee<<8|Xe)>>>0}if($e=!1,++we,++ne>=B&&(ne=0,++Z,Q!=null&&Z<=J&&!(Z%16)&&Q(v,Z),pe!=null))for(;Se<we;)Ee=S[Se++],pe.X[(506832829*Ee&4294967295)>>>pe.Mb]=Ee}else if(280>Ee){if(Ee=Mi(Ee-256,oe),Xe=Fr(_e.G[4],_e.H[4],oe),H(oe),Xe=ha(B,Xe=Mi(Xe,oe)),oe.h)break;if(we-k<Xe||V-we<Ee)break e;for(qe=0;qe<Ee;++qe)S[we+qe]=S[we+qe-Xe];for(we+=Ee,ne+=Ee;ne>=B;)ne-=B,++Z,Q!=null&&Z<=J&&!(Z%16)&&Q(v,Z);if(t(we<=V),ne&me&&(_e=An(he,ne,Z)),pe!=null)for(;Se<we;)Ee=S[Se++],pe.X[(506832829*Ee&4294967295)>>>pe.Mb]=Ee}else{if(!(Ee<Me))break e;for($e=Ee-280,t(pe!=null);Se<we;)Ee=S[Se++],pe.X[(506832829*Ee&4294967295)>>>pe.Mb]=Ee;Ee=we,t(!($e>>>(Xe=pe).Xa)),S[Ee]=Xe.X[$e],$e=!0}$e||t(oe.h==q(oe))}if(v.Pb&&oe.h&&we<V)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&de(v.s.vb,v.s.Wa);else{if(oe.h)break e;Q!=null&&Q(v,Z>J?J:Z),v.a=0,v.$=we-k}return 1}return v.a=3,0}function pa(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var S=v.Wa;S!=null&&(S.X=null),v.vb=null,t(v!=null)}function ci(){var v=new Sv;return v==null?null:(v.a=0,v.xb=l5,ir("Predictor","VP8LPredictors"),ir("Predictor","VP8LPredictors_C"),ir("PredictorAdd","VP8LPredictorsAdd"),ir("PredictorAdd","VP8LPredictorsAdd_C"),qh=Ue,Os=et,Er=Ne,wr=vt,No=ct,Ba=jn,Wa=Ot,C.VP8LMapColor32b=Yl,C.VP8LMapColor8b=Vh,v)}function ma(v,S,k,B,V){var J=1,Q=[v],Z=[S],ne=B.m,oe=B.s,he=null,we=0;e:for(;;){if(k)for(;J&&Y(ne,1);){var Se=Q,ve=Z,Me=B,je=1,pe=Me.m,me=Me.gc[Me.ab],_e=Y(pe,2);if(Me.Oc&1<<_e)J=0;else{switch(Me.Oc|=1<<_e,me.hc=_e,me.Ea=Se[0],me.nc=ve[0],me.K=[null],++Me.ab,t(4>=Me.ab),_e){case 0:case 1:me.b=Y(pe,3)+2,je=ma(Fe(me.Ea,me.b),Fe(me.nc,me.b),0,Me,me.K),me.K=me.K[0];break;case 3:var $e,Ee=Y(pe,8)+1,Xe=16<Ee?0:4<Ee?1:2<Ee?2:3;if(Se[0]=Fe(me.Ea,Xe),me.b=Xe,$e=je=ma(Ee,1,0,Me,me.K)){var qe,rt=Ee,Ve=me,kt=1<<(8>>Ve.b),Lt=a(kt);if(Lt==null)$e=0;else{var Pt=Ve.K[0],Nt=Ve.w;for(Lt[0]=Ve.K[0][0],qe=1;qe<1*rt;++qe)Lt[qe]=Ae(Pt[Nt+qe],Lt[qe-1]);for(;qe<4*kt;++qe)Lt[qe]=0;Ve.K[0]=null,Ve.K[0]=Lt,$e=1}}je=$e;break;case 2:break;default:t(0)}J=je}}if(Q=Q[0],Z=Z[0],J&&Y(ne,1)&&!(J=1<=(we=Y(ne,4))&&11>=we)){B.a=3;break e}var zt;if(zt=J)t:{var Wt,yt,Cn,Lr=B,On=Q,Mr=Z,Mt=we,Yr=k,Xr=Lr.m,zn=Lr.s,Qn=[null],Nr=1,vi=0,xa=Lk[Mt];n:for(;;){if(Yr&&Y(Xr,1)){var Hn=Y(Xr,3)+2,qa=Fe(On,Hn),Es=Fe(Mr,Hn),eu=qa*Es;if(!ma(qa,Es,0,Lr,Qn))break n;for(Qn=Qn[0],zn.xc=Hn,Wt=0;Wt<eu;++Wt){var Oo=Qn[Wt]>>8&65535;Qn[Wt]=Oo,Oo>=Nr&&(Nr=Oo+1)}}if(Xr.h)break n;for(yt=0;5>yt;++yt){var fn=o5[yt];!yt&&0<Mt&&(fn+=1<<Mt),vi<fn&&(vi=fn)}var _v=o(Nr*xa,T),g5=Nr,v5=o(g5,L);if(v5==null)var ap=null;else t(65536>=g5),ap=v5;var od=a(vi);if(ap==null||od==null||_v==null){Lr.a=1;break n}var op=_v;for(Wt=Cn=0;Wt<Nr;++Wt){var zi=ap[Wt],tu=zi.G,nu=zi.H,y5=0,sp=1,x5=0;for(yt=0;5>yt;++yt){fn=o5[yt],tu[yt]=op,nu[yt]=Cn,!yt&&0<Mt&&(fn+=1<<Mt);i:{var lp,Ev=fn,up=Lr,sd=od,t_=op,n_=Cn,Lv=0,To=up.m,r_=Y(To,1);if(i(sd,0,0,Ev),r_){var i_=Y(To,1)+1,a_=Y(To,1),b5=Y(To,a_==0?1:8);sd[b5]=1,i_==2&&(sd[b5=Y(To,8)]=1);var cp=1}else{var w5=a(19),S5=Y(To,4)+4;if(19<S5){up.a=3;var dp=0;break i}for(lp=0;lp<S5;++lp)w5[_k[lp]]=Y(To,3);var Mv=void 0,ld=void 0,N5=up,o_=w5,fp=Ev,j5=sd,Dv=0,Fo=N5.m,A5=8,P5=o(128,T);r:for(;O(P5,0,7,o_,19);){if(Y(Fo,1)){var s_=2+2*Y(Fo,3);if((Mv=2+Y(Fo,s_))>fp)break r}else Mv=fp;for(ld=0;ld<fp&&Mv--;){H(Fo);var C5=P5[0+(127&R(Fo))];ee(Fo,Fo.u+C5.g);var ru=C5.value;if(16>ru)j5[ld++]=ru,ru!=0&&(A5=ru);else{var l_=ru==16,O5=ru-16,u_=Fk[O5],T5=Y(Fo,Tk[O5])+u_;if(ld+T5>fp)break r;for(var c_=l_?A5:0;0<T5--;)j5[ld++]=c_}}Dv=1;break r}Dv||(N5.a=3),cp=Dv}(cp=cp&&!To.h)&&(Lv=O(t_,n_,8,sd,Ev)),cp&&Lv!=0?dp=Lv:(up.a=3,dp=0)}if(dp==0)break n;if(sp&&kk[yt]==1&&(sp=op[Cn].g==0),y5+=op[Cn].g,Cn+=dp,3>=yt){var ud,Iv=od[0];for(ud=1;ud<fn;++ud)od[ud]>Iv&&(Iv=od[ud]);x5+=Iv}}if(zi.nd=sp,zi.Qb=0,sp&&(zi.qb=(tu[3][nu[3]+0].value<<24|tu[1][nu[1]+0].value<<16|tu[2][nu[2]+0].value)>>>0,y5==0&&256>tu[0][nu[0]+0].value&&(zi.Qb=1,zi.qb+=tu[0][nu[0]+0].value<<8)),zi.jc=!zi.Qb&&6>x5,zi.jc){var hp,Ga=zi;for(hp=0;hp<Jn;++hp){var ko=hp,_o=Ga.pd[ko],pp=Ga.G[0][Ga.H[0]+ko];256<=pp.value?(_o.g=pp.g+256,_o.value=pp.value):(_o.g=0,_o.value=0,ko>>=_n(pp,8,_o),ko>>=_n(Ga.G[1][Ga.H[1]+ko],16,_o),ko>>=_n(Ga.G[2][Ga.H[2]+ko],0,_o),_n(Ga.G[3][Ga.H[3]+ko],24,_o))}}}zn.vc=Qn,zn.Wb=Nr,zn.Ya=ap,zn.yc=_v,zt=1;break t}zt=0}if(!(J=zt)){B.a=3;break e}if(0<we){if(oe.ua=1<<we,!be(oe.Wa,we)){B.a=1,J=0;break e}}else oe.ua=0;var $v=B,F5=Q,d_=Z,Rv=$v.s,Bv=Rv.xc;if($v.c=F5,$v.i=d_,Rv.md=Fe(F5,Bv),Rv.wc=Bv==0?-1:(1<<Bv)-1,k){B.xb=Uk;break e}if((he=a(Q*Z))==null){B.a=1,J=0;break e}J=(J=$i(B,he,0,Q,Z,Z,null))&&!ne.h;break e}return J?(V!=null?V[0]=he:(t(he==null),t(k)),B.$=0,k||pa(oe)):pa(oe),J}function Ns(v,S){var k=v.c*v.i,B=k+S+16*S;return t(v.c<=S),v.V=a(B),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+k+S,1)}function Fl(v,S){var k=v.C,B=S-k,V=v.V,J=v.Ba+v.c*k;for(t(S<=v.l.o);0<B;){var Q=16<B?16:B,Z=v.l.ma,ne=v.l.width,oe=ne*Q,he=Z.ca,we=Z.tb+ne*k,Se=v.Ta,ve=v.Ua;Gr(v,Q,V,J),yn(Se,ve,he,we,oe),Di(Z,k,k+Q,he,we,ne),B-=Q,V+=Q*v.c,k+=Q}t(k==S),v.C=v.Ma=S}function kl(){this.ub=this.yd=this.td=this.Rb=0}function _l(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function El(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ah(){this.Yb=function(){var v=[];return function S(k,B,V){for(var J=V[B],Q=0;Q<J&&(k.push(V.length>B+1?[]:0),!(V.length<B+1));Q++)S(k[Q],B+1,V)}(v,0,[3,11]),v}()}function Z0(){this.jb=a(3),this.Wc=s([4,8],Ah),this.Xc=s([4,17],Ah)}function ev(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ll(){this.ld=this.La=this.dd=this.tc=0}function Ph(){this.Na=this.la=0}function tv(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Lc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nv(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ll),this.Y=0,this.ya=Array(new Lc),this.aa=0,this.l=new Ml}function Ch(){this.y=a(16),this.f=a(8),this.ea=a(8)}function rv(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new kl,this.Kc=new _l,this.ed=new ev,this.Qa=new El,this.Ic=this.$c=this.Aa=0,this.D=new nv,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,re),this.ia=0,this.pb=o(4,tv),this.Pa=new Z0,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ch),this.Hd=0,this.rb=Array(new Ph),this.sb=0,this.wa=Array(new Ll),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Lc),this.L=this.aa=0,this.gd=s([4,2],Ll),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ml(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function iv(){var v=new rv;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,id||(id=Fh)),v}function gn(v,S,k){return v.a==0&&(v.a=S,v.sc=k,v.cb=0),0}function Oh(v,S,k){return 3<=k&&v[S+0]==157&&v[S+1]==1&&v[S+2]==42}function Th(v,S){if(v==null)return 0;if(v.a=0,v.sc="OK",S==null)return gn(v,2,"null VP8Io passed to VP8GetHeaders()");var k=S.data,B=S.w,V=S.ha;if(4>V)return gn(v,7,"Truncated header.");var J=k[B+0]|k[B+1]<<8|k[B+2]<<16,Q=v.Od;if(Q.Rb=!(1&J),Q.td=J>>1&7,Q.yd=J>>4&1,Q.ub=J>>5,3<Q.td)return gn(v,3,"Incorrect keyframe parameters.");if(!Q.yd)return gn(v,4,"Frame not displayable.");B+=3,V-=3;var Z=v.Kc;if(Q.Rb){if(7>V)return gn(v,7,"cannot parse picture header");if(!Oh(k,B,V))return gn(v,3,"Bad code word");Z.c=16383&(k[B+4]<<8|k[B+3]),Z.Td=k[B+4]>>6,Z.i=16383&(k[B+6]<<8|k[B+5]),Z.Ud=k[B+6]>>6,B+=7,V-=7,v.za=Z.c+15>>4,v.Ub=Z.i+15>>4,S.width=Z.c,S.height=Z.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((J=v.Pa).jb,0,255,J.jb.length),t((J=v.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,i(J.Zb,0,0,J.Zb.length),i(J.Lb,0,0,J.Lb)}if(Q.ub>V)return gn(v,7,"bad partition length");U(J=v.m,k,B,Q.ub),B+=Q.ub,V-=Q.ub,Q.Rb&&(Z.Ld=X(J),Z.Kd=X(J)),Z=v.Qa;var ne,oe=v.Pa;if(t(J!=null),t(Z!=null),Z.Cb=X(J),Z.Cb){if(Z.Bb=X(J),X(J)){for(Z.Fb=X(J),ne=0;4>ne;++ne)Z.Zb[ne]=X(J)?$(J,7):0;for(ne=0;4>ne;++ne)Z.Lb[ne]=X(J)?$(J,6):0}if(Z.Bb)for(ne=0;3>ne;++ne)oe.jb[ne]=X(J)?D(J,8):255}else Z.Bb=0;if(J.Ka)return gn(v,3,"cannot parse segment header");if((Z=v.ed).zd=X(J),Z.Tb=D(J,6),Z.wb=D(J,3),Z.Pc=X(J),Z.Pc&&X(J)){for(oe=0;4>oe;++oe)X(J)&&(Z.vd[oe]=$(J,6));for(oe=0;4>oe;++oe)X(J)&&(Z.od[oe]=$(J,6))}if(v.L=Z.Tb==0?0:Z.zd?1:2,J.Ka)return gn(v,3,"cannot parse filter header");var he=V;if(V=ne=B,B=ne+he,Z=he,v.Xb=(1<<D(v.m,2))-1,he<3*(oe=v.Xb))k=7;else{for(ne+=3*oe,Z-=3*oe,he=0;he<oe;++he){var we=k[V+0]|k[V+1]<<8|k[V+2]<<16;we>Z&&(we=Z),U(v.Jc[+he],k,ne,we),ne+=we,Z-=we,V+=3}U(v.Jc[+oe],k,ne,Z),k=ne<B?0:5}if(k!=0)return gn(v,k,"cannot parse partitions");for(k=D(ne=v.m,7),V=X(ne)?$(ne,4):0,B=X(ne)?$(ne,4):0,Z=X(ne)?$(ne,4):0,oe=X(ne)?$(ne,4):0,ne=X(ne)?$(ne,4):0,he=v.Qa,we=0;4>we;++we){if(he.Cb){var Se=he.Zb[we];he.Fb||(Se+=k)}else{if(0<we){v.pb[we]=v.pb[0];continue}Se=k}var ve=v.pb[we];ve.Sc[0]=Tv[Vr(Se+V,127)],ve.Sc[1]=Fv[Vr(Se+0,127)],ve.Eb[0]=2*Tv[Vr(Se+B,127)],ve.Eb[1]=101581*Fv[Vr(Se+Z,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Tv[Vr(Se+oe,117)],ve.Qc[1]=Fv[Vr(Se+ne,127)],ve.lc=Se+ne}if(!Q.Rb)return gn(v,4,"Not a key frame.");for(X(J),Q=v.Pa,k=0;4>k;++k){for(V=0;8>V;++V)for(B=0;3>B;++B)for(Z=0;11>Z;++Z)oe=G(J,Bk[k][V][B][Z])?D(J,8):$k[k][V][B][Z],Q.Wc[k][V].Yb[B][Z]=oe;for(V=0;17>V;++V)Q.Xc[k][V]=Q.Wc[k][Wk[V]]}return v.kc=X(J),v.kc&&(v.Bd=D(J,8)),v.cb=1}function Fh(v,S,k,B,V,J,Q){var Z=S[V].Yb[k];for(k=0;16>V;++V){if(!G(v,Z[k+0]))return V;for(;!G(v,Z[k+1]);)if(Z=S[++V].Yb[0],k=0,V==16)return 16;var ne=S[V+1].Yb;if(G(v,Z[k+2])){var oe=v,he=0;if(G(oe,(Se=Z)[(we=k)+3]))if(G(oe,Se[we+6])){for(Z=0,we=2*(he=G(oe,Se[we+8]))+(Se=G(oe,Se[we+9+he])),he=0,Se=Dk[we];Se[Z];++Z)he+=he+G(oe,Se[Z]);he+=3+(8<<we)}else G(oe,Se[we+7])?(he=7+2*G(oe,165),he+=G(oe,145)):he=5+G(oe,159);else he=G(oe,Se[we+4])?3+G(oe,Se[we+5]):2;Z=ne[2]}else he=1,Z=ne[1];ne=Q+Ik[V],0>(oe=v).b&&te(oe);var we,Se=oe.b,ve=(we=oe.Ca>>1)-(oe.I>>Se)>>31;--oe.b,oe.Ca+=ve,oe.Ca|=1,oe.I-=(we+1&ve)<<Se,J[ne]=((he^ve)-ve)*B[(0<V)+0]}return 16}function Mc(v){var S=v.rb[v.sb-1];S.la=0,S.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function av(v,S){if(v==null)return 0;if(S==null)return gn(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Th(v,S))return 0;if(t(v.cb),S.ac==null||S.ac(S)){S.ob&&(v.L=0);var k=ip[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=S.v-k>>4,v.zb=S.j-k>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=S.o+15+k>>4,v.Hb=S.va+15+k>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var B=v.ed;for(k=0;4>k;++k){var V;if(v.Qa.Cb){var J=v.Qa.Lb[k];v.Qa.Fb||(J+=B.Tb)}else J=B.Tb;for(V=0;1>=V;++V){var Q=v.gd[k][V],Z=J;if(B.Pc&&(Z+=B.vd[0],V&&(Z+=B.od[0])),0<(Z=0>Z?0:63<Z?63:Z)){var ne=Z;0<B.wb&&(ne=4<B.wb?ne>>2:ne>>1)>9-B.wb&&(ne=9-B.wb),1>ne&&(ne=1),Q.dd=ne,Q.tc=2*Z+ne,Q.ld=40<=Z?2:15<=Z?1:0}else Q.tc=0;Q.La=V}}}k=0}else gn(v,6,"Frame setup failed"),k=v.a;if(k=k==0){if(k){v.$c=0,0<v.Aa||(v.Ic=e_);e:{k=v.Ic,B=4*(ne=v.za);var oe=32*ne,he=ne+1,we=0<v.L?ne*(0<v.Aa?2:1):0,Se=(v.Aa==2?2:1)*ne;if((Q=B+832+(V=3*(16*k+ip[v.L])/2*oe)+(J=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=Q)k=0;else{if(Q>v.Vb){if(v.Vb=0,v.Ec=a(Q),v.Fc=0,v.Ec==null){k=gn(v,1,"no memory during frame initialization.");break e}v.Vb=Q}Q=v.Ec,Z=v.Fc,v.Ac=Q,v.Bc=Z,Z+=B,v.Gd=o(oe,Ch),v.Hd=0,v.rb=o(he+1,Ph),v.sb=1,v.wa=we?o(we,Ll):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=ne),t(!0),v.oc=Q,v.pc=Z,Z+=832,v.ya=o(Se,Lc),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=ne),v.R=16*ne,v.B=8*ne,ne=(oe=ip[v.L])*v.R,oe=oe/2*v.B,v.sa=Q,v.ta=Z+ne,v.qa=v.sa,v.ra=v.ta+16*k*v.R+oe,v.Ha=v.qa,v.Ia=v.ra+8*k*v.B+oe,v.$c=0,Z+=V,v.mb=J?Q:null,v.nb=J?Z:null,t(Z+J<=v.Fc+v.Vb),Mc(v),i(v.Ac,v.Bc,0,B),k=1}}if(k){if(S.ka=0,S.y=v.sa,S.O=v.ta,S.f=v.qa,S.N=v.ra,S.ea=v.Ha,S.Vd=v.Ia,S.fa=v.R,S.Rc=v.B,S.F=null,S.J=0,!Yh){for(k=-255;255>=k;++k)En[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)za[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)rd[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)Zl[255+k]=0>k?0:255<k?255:k;Yh=1}Xl=lv,Ua=ov,ed=_h,Sr=sv,fi=Eh,vn=kh,Jl=Wc,Kh=Ps,td=wv,Ts=Uc,Fs=bv,jo=Wl,ks=zc,Ql=Uh,_s=Wh,Ao=va,nd=Ra,hi=xv,Ui[0]=ga,Ui[1]=uv,Ui[2]=hv,Ui[3]=pv,Ui[4]=Dh,Ui[5]=Rl,Ui[6]=Ih,Ui[7]=$c,Ui[8]=gv,Ui[9]=mv,Po[0]=Lh,Po[1]=dv,Po[2]=$a,Po[3]=Il,Po[4]=ar,Po[5]=fv,Po[6]=Mh,Ha[0]=xo,Ha[1]=cv,Ha[2]=vv,Ha[3]=Rc,Ha[4]=As,Ha[5]=yv,Ha[6]=Bc,k=1}else k=0}k&&(k=function(ve,Me){for(ve.M=0;ve.M<ve.Va;++ve.M){var je,pe=ve.Jc[ve.M&ve.Xb],me=ve.m,_e=ve;for(je=0;je<_e.za;++je){var $e=me,Ee=_e,Xe=Ee.Ac,qe=Ee.Bc+4*je,rt=Ee.zc,Ve=Ee.ya[Ee.aa+je];if(Ee.Qa.Bb?Ve.$b=G($e,Ee.Pa.jb[0])?2+G($e,Ee.Pa.jb[2]):G($e,Ee.Pa.jb[1]):Ve.$b=0,Ee.kc&&(Ve.Ad=G($e,Ee.Bd)),Ve.Za=!G($e,145)+0,Ve.Za){var kt=Ve.Ob,Lt=0;for(Ee=0;4>Ee;++Ee){var Pt,Nt=rt[0+Ee];for(Pt=0;4>Pt;++Pt){Nt=Rk[Xe[qe+Pt]][Nt];for(var zt=s5[G($e,Nt[0])];0<zt;)zt=s5[2*zt+G($e,Nt[zt])];Nt=-zt,Xe[qe+Pt]=Nt}r(kt,Lt,Xe,qe,4),Lt+=4,rt[0+Ee]=Nt}}else Nt=G($e,156)?G($e,128)?1:3:G($e,163)?2:0,Ve.Ob[0]=Nt,i(Xe,qe,Nt,4),i(rt,0,Nt,4);Ve.Dd=G($e,142)?G($e,114)?G($e,183)?1:3:2:0}if(_e.m.Ka)return gn(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(_e=pe,$e=(me=ve).rb[me.sb-1],Xe=me.rb[me.sb+me.ja],je=me.ya[me.aa+me.ja],qe=me.kc?je.Ad:0)$e.la=Xe.la=0,je.Za||($e.Na=Xe.Na=0),je.Hc=0,je.Gc=0,je.ia=0;else{var Wt,yt;if($e=Xe,Xe=_e,qe=me.Pa.Xc,rt=me.ya[me.aa+me.ja],Ve=me.pb[rt.$b],Ee=rt.ad,kt=0,Lt=me.rb[me.sb-1],Nt=Pt=0,i(Ee,kt,0,384),rt.Za)var Cn=0,Lr=qe[3];else{zt=a(16);var On=$e.Na+Lt.Na;if(On=id(Xe,qe[1],On,Ve.Eb,0,zt,0),$e.Na=Lt.Na=(0<On)+0,1<On)Xl(zt,0,Ee,kt);else{var Mr=zt[0]+3>>3;for(zt=0;256>zt;zt+=16)Ee[kt+zt]=Mr}Cn=1,Lr=qe[0]}var Mt=15&$e.la,Yr=15&Lt.la;for(zt=0;4>zt;++zt){var Xr=1&Yr;for(Mr=yt=0;4>Mr;++Mr)Mt=Mt>>1|(Xr=(On=id(Xe,Lr,On=Xr+(1&Mt),Ve.Sc,Cn,Ee,kt))>Cn)<<7,yt=yt<<2|(3<On?3:1<On?2:Ee[kt+0]!=0),kt+=16;Mt>>=4,Yr=Yr>>1|Xr<<7,Pt=(Pt<<8|yt)>>>0}for(Lr=Mt,Cn=Yr>>4,Wt=0;4>Wt;Wt+=2){for(yt=0,Mt=$e.la>>4+Wt,Yr=Lt.la>>4+Wt,zt=0;2>zt;++zt){for(Xr=1&Yr,Mr=0;2>Mr;++Mr)On=Xr+(1&Mt),Mt=Mt>>1|(Xr=0<(On=id(Xe,qe[2],On,Ve.Qc,0,Ee,kt)))<<3,yt=yt<<2|(3<On?3:1<On?2:Ee[kt+0]!=0),kt+=16;Mt>>=2,Yr=Yr>>1|Xr<<5}Nt|=yt<<4*Wt,Lr|=Mt<<4<<Wt,Cn|=(240&Yr)<<Wt}$e.la=Lr,Lt.la=Cn,rt.Hc=Pt,rt.Gc=Nt,rt.ia=43690&Nt?0:Ve.ia,qe=!(Pt|Nt)}if(0<me.L&&(me.wa[me.Y+me.ja]=me.gd[je.$b][je.Za],me.wa[me.Y+me.ja].La|=!qe),_e.Ka)return gn(ve,7,"Premature end-of-file encountered.")}if(Mc(ve),me=Me,_e=1,je=(pe=ve).D,$e=0<pe.L&&pe.M>=pe.zb&&pe.M<=pe.Va,pe.Aa==0)e:{if(je.M=pe.M,je.uc=$e,Yc(pe,je),_e=1,je=(yt=pe.D).Nb,$e=(Nt=ip[pe.L])*pe.R,Xe=Nt/2*pe.B,zt=16*je*pe.R,Mr=8*je*pe.B,qe=pe.sa,rt=pe.ta-$e+zt,Ve=pe.qa,Ee=pe.ra-Xe+Mr,kt=pe.Ha,Lt=pe.Ia-Xe+Mr,Yr=(Mt=yt.M)==0,Pt=Mt>=pe.Va-1,pe.Aa==2&&Yc(pe,yt),yt.uc)for(Xr=(On=pe).D.M,t(On.D.uc),yt=On.yb;yt<On.Hb;++yt){Cn=yt,Lr=Xr;var zn=(Qn=(fn=On).D).Nb;Wt=fn.R;var Qn=Qn.wa[Qn.Y+Cn],Nr=fn.sa,vi=fn.ta+16*zn*Wt+16*Cn,xa=Qn.dd,Hn=Qn.tc;if(Hn!=0)if(t(3<=Hn),fn.L==1)0<Cn&&Ao(Nr,vi,Wt,Hn+4),Qn.La&&hi(Nr,vi,Wt,Hn),0<Lr&&_s(Nr,vi,Wt,Hn+4),Qn.La&&nd(Nr,vi,Wt,Hn);else{var qa=fn.B,Es=fn.qa,eu=fn.ra+8*zn*qa+8*Cn,Oo=fn.Ha,fn=fn.Ia+8*zn*qa+8*Cn;zn=Qn.ld,0<Cn&&(Kh(Nr,vi,Wt,Hn+4,xa,zn),Ts(Es,eu,Oo,fn,qa,Hn+4,xa,zn)),Qn.La&&(jo(Nr,vi,Wt,Hn,xa,zn),Ql(Es,eu,Oo,fn,qa,Hn,xa,zn)),0<Lr&&(Jl(Nr,vi,Wt,Hn+4,xa,zn),td(Es,eu,Oo,fn,qa,Hn+4,xa,zn)),Qn.La&&(Fs(Nr,vi,Wt,Hn,xa,zn),ks(Es,eu,Oo,fn,qa,Hn,xa,zn))}}if(pe.ia&&alert("todo:DitherRow"),me.put!=null){if(yt=16*Mt,Mt=16*(Mt+1),Yr?(me.y=pe.sa,me.O=pe.ta+zt,me.f=pe.qa,me.N=pe.ra+Mr,me.ea=pe.Ha,me.W=pe.Ia+Mr):(yt-=Nt,me.y=qe,me.O=rt,me.f=Ve,me.N=Ee,me.ea=kt,me.W=Lt),Pt||(Mt-=Nt),Mt>me.o&&(Mt=me.o),me.F=null,me.J=null,pe.Fa!=null&&0<pe.Fa.length&&yt<Mt&&(me.J=Vc(pe,me,yt,Mt-yt),me.F=pe.mb,me.F==null&&me.F.length==0)){_e=gn(pe,3,"Could not decode alpha data.");break e}yt<me.j&&(Nt=me.j-yt,yt=me.j,t(!(1&Nt)),me.O+=pe.R*Nt,me.N+=pe.B*(Nt>>1),me.W+=pe.B*(Nt>>1),me.F!=null&&(me.J+=me.width*Nt)),yt<Mt&&(me.O+=me.v,me.N+=me.v>>1,me.W+=me.v>>1,me.F!=null&&(me.J+=me.v),me.ka=yt-me.j,me.U=me.va-me.v,me.T=Mt-yt,_e=me.put(me))}je+1!=pe.Ic||Pt||(r(pe.sa,pe.ta-$e,qe,rt+16*pe.R,$e),r(pe.qa,pe.ra-Xe,Ve,Ee+8*pe.B,Xe),r(pe.Ha,pe.Ia-Xe,kt,Lt+8*pe.B,Xe))}if(!_e)return gn(ve,6,"Output aborted.")}return 1}(v,S)),S.bc!=null&&S.bc(S),k&=1}return k?(v.cb=0,k):0}function Ri(v,S,k,B,V){V=v[S+k+32*B]+(V>>3),v[S+k+32*B]=-256&V?0>V?0:255:V}function Dl(v,S,k,B,V,J){Ri(v,S,0,k,B+V),Ri(v,S,1,k,B+J),Ri(v,S,2,k,B-J),Ri(v,S,3,k,B-V)}function kr(v){return(20091*v>>16)+v}function Dc(v,S,k,B){var V,J=0,Q=a(16);for(V=0;4>V;++V){var Z=v[S+0]+v[S+8],ne=v[S+0]-v[S+8],oe=(35468*v[S+4]>>16)-kr(v[S+12]),he=kr(v[S+4])+(35468*v[S+12]>>16);Q[J+0]=Z+he,Q[J+1]=ne+oe,Q[J+2]=ne-oe,Q[J+3]=Z-he,J+=4,S++}for(V=J=0;4>V;++V)Z=(v=Q[J+0]+4)+Q[J+8],ne=v-Q[J+8],oe=(35468*Q[J+4]>>16)-kr(Q[J+12]),Ri(k,B,0,0,Z+(he=kr(Q[J+4])+(35468*Q[J+12]>>16))),Ri(k,B,1,0,ne+oe),Ri(k,B,2,0,ne-oe),Ri(k,B,3,0,Z-he),J++,B+=32}function kh(v,S,k,B){var V=v[S+0]+4,J=35468*v[S+4]>>16,Q=kr(v[S+4]),Z=35468*v[S+1]>>16;Dl(k,B,0,V+Q,v=kr(v[S+1]),Z),Dl(k,B,1,V+J,v,Z),Dl(k,B,2,V-J,v,Z),Dl(k,B,3,V-Q,v,Z)}function ov(v,S,k,B,V){Dc(v,S,k,B),V&&Dc(v,S+16,k,B+4)}function _h(v,S,k,B){Ua(v,S+0,k,B,1),Ua(v,S+32,k,B+128,1)}function sv(v,S,k,B){var V;for(v=v[S+0]+4,V=0;4>V;++V)for(S=0;4>S;++S)Ri(k,B,S,V,v)}function Eh(v,S,k,B){v[S+0]&&Sr(v,S+0,k,B),v[S+16]&&Sr(v,S+16,k,B+4),v[S+32]&&Sr(v,S+32,k,B+128),v[S+48]&&Sr(v,S+48,k,B+128+4)}function lv(v,S,k,B){var V,J=a(16);for(V=0;4>V;++V){var Q=v[S+0+V]+v[S+12+V],Z=v[S+4+V]+v[S+8+V],ne=v[S+4+V]-v[S+8+V],oe=v[S+0+V]-v[S+12+V];J[0+V]=Q+Z,J[8+V]=Q-Z,J[4+V]=oe+ne,J[12+V]=oe-ne}for(V=0;4>V;++V)Q=(v=J[0+4*V]+3)+J[3+4*V],Z=J[1+4*V]+J[2+4*V],ne=J[1+4*V]-J[2+4*V],oe=v-J[3+4*V],k[B+0]=Q+Z>>3,k[B+16]=oe+ne>>3,k[B+32]=Q-Z>>3,k[B+48]=oe-ne>>3,B+=64}function Ic(v,S,k){var B,V=S-32,J=Kr,Q=255-v[V-1];for(B=0;B<k;++B){var Z,ne=J,oe=Q+v[S-1];for(Z=0;Z<k;++Z)v[S+Z]=ne[oe+v[V+Z]];S+=32}}function uv(v,S){Ic(v,S,4)}function cv(v,S){Ic(v,S,8)}function dv(v,S){Ic(v,S,16)}function $a(v,S){var k;for(k=0;16>k;++k)r(v,S+32*k,v,S-32,16)}function Il(v,S){var k;for(k=16;0<k;--k)i(v,S,v[S-1],16),S+=32}function $l(v,S,k){var B;for(B=0;16>B;++B)i(S,k+32*B,v,16)}function Lh(v,S){var k,B=16;for(k=0;16>k;++k)B+=v[S-1+32*k]+v[S+k-32];$l(B>>5,v,S)}function ar(v,S){var k,B=8;for(k=0;16>k;++k)B+=v[S-1+32*k];$l(B>>4,v,S)}function fv(v,S){var k,B=8;for(k=0;16>k;++k)B+=v[S+k-32];$l(B>>4,v,S)}function Mh(v,S){$l(128,v,S)}function dt(v,S,k){return v+2*S+k+2>>2}function hv(v,S){var k,B=S-32;for(B=new Uint8Array([dt(v[B-1],v[B+0],v[B+1]),dt(v[B+0],v[B+1],v[B+2]),dt(v[B+1],v[B+2],v[B+3]),dt(v[B+2],v[B+3],v[B+4])]),k=0;4>k;++k)r(v,S+32*k,B,0,B.length)}function pv(v,S){var k=v[S-1],B=v[S-1+32],V=v[S-1+64],J=v[S-1+96];ce(v,S+0,16843009*dt(v[S-1-32],k,B)),ce(v,S+32,16843009*dt(k,B,V)),ce(v,S+64,16843009*dt(B,V,J)),ce(v,S+96,16843009*dt(V,J,J))}function ga(v,S){var k,B=4;for(k=0;4>k;++k)B+=v[S+k-32]+v[S-1+32*k];for(B>>=3,k=0;4>k;++k)i(v,S+32*k,B,4)}function Dh(v,S){var k=v[S-1+0],B=v[S-1+32],V=v[S-1+64],J=v[S-1-32],Q=v[S+0-32],Z=v[S+1-32],ne=v[S+2-32],oe=v[S+3-32];v[S+0+96]=dt(B,V,v[S-1+96]),v[S+1+96]=v[S+0+64]=dt(k,B,V),v[S+2+96]=v[S+1+64]=v[S+0+32]=dt(J,k,B),v[S+3+96]=v[S+2+64]=v[S+1+32]=v[S+0+0]=dt(Q,J,k),v[S+3+64]=v[S+2+32]=v[S+1+0]=dt(Z,Q,J),v[S+3+32]=v[S+2+0]=dt(ne,Z,Q),v[S+3+0]=dt(oe,ne,Z)}function Ih(v,S){var k=v[S+1-32],B=v[S+2-32],V=v[S+3-32],J=v[S+4-32],Q=v[S+5-32],Z=v[S+6-32],ne=v[S+7-32];v[S+0+0]=dt(v[S+0-32],k,B),v[S+1+0]=v[S+0+32]=dt(k,B,V),v[S+2+0]=v[S+1+32]=v[S+0+64]=dt(B,V,J),v[S+3+0]=v[S+2+32]=v[S+1+64]=v[S+0+96]=dt(V,J,Q),v[S+3+32]=v[S+2+64]=v[S+1+96]=dt(J,Q,Z),v[S+3+64]=v[S+2+96]=dt(Q,Z,ne),v[S+3+96]=dt(Z,ne,ne)}function Rl(v,S){var k=v[S-1+0],B=v[S-1+32],V=v[S-1+64],J=v[S-1-32],Q=v[S+0-32],Z=v[S+1-32],ne=v[S+2-32],oe=v[S+3-32];v[S+0+0]=v[S+1+64]=J+Q+1>>1,v[S+1+0]=v[S+2+64]=Q+Z+1>>1,v[S+2+0]=v[S+3+64]=Z+ne+1>>1,v[S+3+0]=ne+oe+1>>1,v[S+0+96]=dt(V,B,k),v[S+0+64]=dt(B,k,J),v[S+0+32]=v[S+1+96]=dt(k,J,Q),v[S+1+32]=v[S+2+96]=dt(J,Q,Z),v[S+2+32]=v[S+3+96]=dt(Q,Z,ne),v[S+3+32]=dt(Z,ne,oe)}function $c(v,S){var k=v[S+0-32],B=v[S+1-32],V=v[S+2-32],J=v[S+3-32],Q=v[S+4-32],Z=v[S+5-32],ne=v[S+6-32],oe=v[S+7-32];v[S+0+0]=k+B+1>>1,v[S+1+0]=v[S+0+64]=B+V+1>>1,v[S+2+0]=v[S+1+64]=V+J+1>>1,v[S+3+0]=v[S+2+64]=J+Q+1>>1,v[S+0+32]=dt(k,B,V),v[S+1+32]=v[S+0+96]=dt(B,V,J),v[S+2+32]=v[S+1+96]=dt(V,J,Q),v[S+3+32]=v[S+2+96]=dt(J,Q,Z),v[S+3+64]=dt(Q,Z,ne),v[S+3+96]=dt(Z,ne,oe)}function mv(v,S){var k=v[S-1+0],B=v[S-1+32],V=v[S-1+64],J=v[S-1+96];v[S+0+0]=k+B+1>>1,v[S+2+0]=v[S+0+32]=B+V+1>>1,v[S+2+32]=v[S+0+64]=V+J+1>>1,v[S+1+0]=dt(k,B,V),v[S+3+0]=v[S+1+32]=dt(B,V,J),v[S+3+32]=v[S+1+64]=dt(V,J,J),v[S+3+64]=v[S+2+64]=v[S+0+96]=v[S+1+96]=v[S+2+96]=v[S+3+96]=J}function gv(v,S){var k=v[S-1+0],B=v[S-1+32],V=v[S-1+64],J=v[S-1+96],Q=v[S-1-32],Z=v[S+0-32],ne=v[S+1-32],oe=v[S+2-32];v[S+0+0]=v[S+2+32]=k+Q+1>>1,v[S+0+32]=v[S+2+64]=B+k+1>>1,v[S+0+64]=v[S+2+96]=V+B+1>>1,v[S+0+96]=J+V+1>>1,v[S+3+0]=dt(Z,ne,oe),v[S+2+0]=dt(Q,Z,ne),v[S+1+0]=v[S+3+32]=dt(k,Q,Z),v[S+1+32]=v[S+3+64]=dt(B,k,Q),v[S+1+64]=v[S+3+96]=dt(V,B,k),v[S+1+96]=dt(J,V,B)}function vv(v,S){var k;for(k=0;8>k;++k)r(v,S+32*k,v,S-32,8)}function Rc(v,S){var k;for(k=0;8>k;++k)i(v,S,v[S-1],8),S+=32}function js(v,S,k){var B;for(B=0;8>B;++B)i(S,k+32*B,v,8)}function xo(v,S){var k,B=8;for(k=0;8>k;++k)B+=v[S+k-32]+v[S-1+32*k];js(B>>4,v,S)}function yv(v,S){var k,B=4;for(k=0;8>k;++k)B+=v[S+k-32];js(B>>3,v,S)}function As(v,S){var k,B=4;for(k=0;8>k;++k)B+=v[S-1+32*k];js(B>>3,v,S)}function Bc(v,S){js(128,v,S)}function Bl(v,S,k){var B=v[S-k],V=v[S+0],J=3*(V-B)+jv[1020+v[S-2*k]-v[S+k]],Q=Xh[112+(J+4>>3)];v[S-k]=Kr[255+B+Xh[112+(J+3>>3)]],v[S+0]=Kr[255+V-Q]}function $h(v,S,k,B){var V=v[S+0],J=v[S+k];return mi[255+v[S-2*k]-v[S-k]]>B||mi[255+J-V]>B}function Rh(v,S,k,B){return 4*mi[255+v[S-k]-v[S+0]]+mi[255+v[S-2*k]-v[S+k]]<=B}function Bh(v,S,k,B,V){var J=v[S-3*k],Q=v[S-2*k],Z=v[S-k],ne=v[S+0],oe=v[S+k],he=v[S+2*k],we=v[S+3*k];return 4*mi[255+Z-ne]+mi[255+Q-oe]>B?0:mi[255+v[S-4*k]-J]<=V&&mi[255+J-Q]<=V&&mi[255+Q-Z]<=V&&mi[255+we-he]<=V&&mi[255+he-oe]<=V&&mi[255+oe-ne]<=V}function Wh(v,S,k,B){var V=2*B+1;for(B=0;16>B;++B)Rh(v,S+B,k,V)&&Bl(v,S+B,k)}function va(v,S,k,B){var V=2*B+1;for(B=0;16>B;++B)Rh(v,S+B*k,1,V)&&Bl(v,S+B*k,1)}function Ra(v,S,k,B){var V;for(V=3;0<V;--V)Wh(v,S+=4*k,k,B)}function xv(v,S,k,B){var V;for(V=3;0<V;--V)va(v,S+=4,k,B)}function bo(v,S,k,B,V,J,Q,Z){for(J=2*J+1;0<V--;){if(Bh(v,S,k,J,Q))if($h(v,S,k,Z))Bl(v,S,k);else{var ne=v,oe=S,he=k,we=ne[oe-2*he],Se=ne[oe-he],ve=ne[oe+0],Me=ne[oe+he],je=ne[oe+2*he],pe=27*(_e=jv[1020+3*(ve-Se)+jv[1020+we-Me]])+63>>7,me=18*_e+63>>7,_e=9*_e+63>>7;ne[oe-3*he]=Kr[255+ne[oe-3*he]+_e],ne[oe-2*he]=Kr[255+we+me],ne[oe-he]=Kr[255+Se+pe],ne[oe+0]=Kr[255+ve-pe],ne[oe+he]=Kr[255+Me-me],ne[oe+2*he]=Kr[255+je-_e]}S+=B}}function Bi(v,S,k,B,V,J,Q,Z){for(J=2*J+1;0<V--;){if(Bh(v,S,k,J,Q))if($h(v,S,k,Z))Bl(v,S,k);else{var ne=v,oe=S,he=k,we=ne[oe-he],Se=ne[oe+0],ve=ne[oe+he],Me=Xh[112+((je=3*(Se-we))+4>>3)],je=Xh[112+(je+3>>3)],pe=Me+1>>1;ne[oe-2*he]=Kr[255+ne[oe-2*he]+pe],ne[oe-he]=Kr[255+we+je],ne[oe+0]=Kr[255+Se-Me],ne[oe+he]=Kr[255+ve-pe]}S+=B}}function Wc(v,S,k,B,V,J){bo(v,S,k,1,16,B,V,J)}function Ps(v,S,k,B,V,J){bo(v,S,1,k,16,B,V,J)}function bv(v,S,k,B,V,J){var Q;for(Q=3;0<Q;--Q)Bi(v,S+=4*k,k,1,16,B,V,J)}function Wl(v,S,k,B,V,J){var Q;for(Q=3;0<Q;--Q)Bi(v,S+=4,1,k,16,B,V,J)}function wv(v,S,k,B,V,J,Q,Z){bo(v,S,V,1,8,J,Q,Z),bo(k,B,V,1,8,J,Q,Z)}function Uc(v,S,k,B,V,J,Q,Z){bo(v,S,1,V,8,J,Q,Z),bo(k,B,1,V,8,J,Q,Z)}function zc(v,S,k,B,V,J,Q,Z){Bi(v,S+4*V,V,1,8,J,Q,Z),Bi(k,B+4*V,V,1,8,J,Q,Z)}function Uh(v,S,k,B,V,J,Q,Z){Bi(v,S+4,1,V,8,J,Q,Z),Bi(k,B+4,1,V,8,J,Q,Z)}function Ul(){this.ba=new Li,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Hc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zh(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new T}function Sv(){this.xb=this.a=0,this.l=new Ml,this.ca=new Li,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zh,this.ab=0,this.gc=o(4,qc),this.Oc=0}function zl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ml,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cs(v,S,k,B,V,J,Q){for(v=v==null?0:v[S+0],S=0;S<Q;++S)V[J+S]=v+k[B+S]&255,v=V[J+S]}function Gc(v,S,k,B,V,J,Q){var Z;if(v==null)Cs(null,null,k,B,V,J,Q);else for(Z=0;Z<Q;++Z)V[J+Z]=v[S+Z]+k[B+Z]&255}function wo(v,S,k,B,V,J,Q){if(v==null)Cs(null,null,k,B,V,J,Q);else{var Z,ne=v[S+0],oe=ne,he=ne;for(Z=0;Z<Q;++Z)oe=he+(ne=v[S+Z])-oe,he=k[B+Z]+(-256&oe?0>oe?0:255:oe)&255,oe=ne,V[J+Z]=he}}function Vc(v,S,k,B){var V=S.width,J=S.o;if(t(v!=null&&S!=null),0>k||0>=B||k+B>J)return null;if(!v.Cc){if(v.ga==null){var Q;if(v.ga=new zl,(Q=v.ga==null)||(Q=S.width*S.o,t(v.Gb.length==0),v.Gb=a(Q),v.Uc=0,v.Gb==null?Q=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,Q=1),Q=!Q),!Q){Q=v.ga;var Z=v.Fa,ne=v.P,oe=v.qc,he=v.mb,we=v.nb,Se=ne+1,ve=oe-1,Me=Q.l;if(t(Z!=null&&he!=null&&S!=null),Co[0]=null,Co[1]=Cs,Co[2]=Gc,Co[3]=wo,Q.ca=he,Q.tb=we,Q.c=S.width,Q.i=S.height,t(0<Q.c&&0<Q.i),1>=oe)S=0;else if(Q.$a=Z[ne+0]>>0&3,Q.Z=Z[ne+0]>>2&3,Q.Lc=Z[ne+0]>>4&3,ne=Z[ne+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||ne)S=0;else if(Me.put=da,Me.ac=Xn,Me.bc=fa,Me.ma=Q,Me.width=S.width,Me.height=S.height,Me.Da=S.Da,Me.v=S.v,Me.va=S.va,Me.j=S.j,Me.o=S.o,Q.$a)e:{t(Q.$a==1),S=ci();t:for(;;){if(S==null){S=0;break e}if(t(Q!=null),Q.mc=S,S.c=Q.c,S.i=Q.i,S.l=Q.l,S.l.ma=Q,S.l.width=Q.c,S.l.height=Q.i,S.a=0,W(S.m,Z,Se,ve),!ma(Q.c,Q.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Ia(S.s)?(Q.ic=1,Z=S.c*S.i,S.Ta=null,S.Ua=0,S.V=a(Z),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(Q.ic=0,S=Ns(S,Q.c)),!S))break t;S=1;break e}Q.mc=null,S=0}else S=ve>=Q.c*Q.i;Q=!S}if(Q)return null;v.ga.Lc!=1?v.Ga=0:B=J-k}t(v.ga!=null),t(k+B<=J);e:{if(S=(Z=v.ga).c,J=Z.l.o,Z.$a==0){if(Se=v.rc,ve=v.Vc,Me=v.Fa,ne=v.P+1+k*S,oe=v.mb,he=v.nb+k*S,t(ne<=v.P+v.qc),Z.Z!=0)for(t(Co[Z.Z]!=null),Q=0;Q<B;++Q)Co[Z.Z](Se,ve,Me,ne,oe,he,S),Se=oe,ve=he,he+=S,ne+=S;else for(Q=0;Q<B;++Q)r(oe,he,Me,ne,S),Se=oe,ve=he,he+=S,ne+=S;v.rc=Se,v.Vc=ve}else{if(t(Z.mc!=null),S=k+B,t((Q=Z.mc)!=null),t(S<=Q.i),Q.C>=S)S=1;else if(Z.ic||ye(),Z.ic){Z=Q.V,Se=Q.Ba,ve=Q.c;var je=Q.i,pe=(Me=1,ne=Q.$/ve,oe=Q.$%ve,he=Q.m,we=Q.s,Q.$),me=ve*je,_e=ve*S,$e=we.wc,Ee=pe<_e?An(we,oe,ne):null;t(pe<=me),t(S<=je),t(Ia(we));t:for(;;){for(;!he.h&&pe<_e;){if(oe&$e||(Ee=An(we,oe,ne)),t(Ee!=null),H(he),256>(je=Fr(Ee.G[0],Ee.H[0],he)))Z[Se+pe]=je,++pe,++oe>=ve&&(oe=0,++ne<=S&&!(ne%16)&&Ii(Q,ne));else{if(!(280>je)){Me=0;break t}je=Mi(je-256,he);var Xe,qe=Fr(Ee.G[4],Ee.H[4],he);if(H(he),!(pe>=(qe=ha(ve,qe=Mi(qe,he)))&&me-pe>=je)){Me=0;break t}for(Xe=0;Xe<je;++Xe)Z[Se+pe+Xe]=Z[Se+pe+Xe-qe];for(pe+=je,oe+=je;oe>=ve;)oe-=ve,++ne<=S&&!(ne%16)&&Ii(Q,ne);pe<_e&&oe&$e&&(Ee=An(we,oe,ne))}t(he.h==q(he))}Ii(Q,ne>S?S:ne);break t}!Me||he.h&&pe<me?(Me=0,Q.a=he.h?5:3):Q.$=pe,S=Me}else S=$i(Q,Q.V,Q.Ba,Q.c,Q.i,S,Fl);if(!S){B=0;break e}}k+B>=J&&(v.Cc=1),B=1}if(!B)return null;if(v.Cc&&((B=v.ga)!=null&&(B.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+k*V}function F(v,S,k,B,V,J){for(;0<V--;){var Q,Z=v,ne=S+(k?1:0),oe=v,he=S+(k?0:3);for(Q=0;Q<B;++Q){var we=oe[he+4*Q];we!=255&&(we*=32897,Z[ne+4*Q+0]=Z[ne+4*Q+0]*we>>23,Z[ne+4*Q+1]=Z[ne+4*Q+1]*we>>23,Z[ne+4*Q+2]=Z[ne+4*Q+2]*we>>23)}S+=J}}function K(v,S,k,B,V){for(;0<B--;){var J;for(J=0;J<k;++J){var Q=v[S+2*J+0],Z=15&(oe=v[S+2*J+1]),ne=4369*Z,oe=(240&oe|oe>>4)*ne>>16;v[S+2*J+0]=(240&Q|Q>>4)*ne>>16&240|(15&Q|Q<<4)*ne>>16>>4&15,v[S+2*J+1]=240&oe|Z}S+=V}}function ue(v,S,k,B,V,J,Q,Z){var ne,oe,he=255;for(oe=0;oe<V;++oe){for(ne=0;ne<B;++ne){var we=v[S+ne];J[Q+4*ne]=we,he&=we}S+=k,Q+=Z}return he!=255}function fe(v,S,k,B,V){var J;for(J=0;J<V;++J)k[B+J]=v[S+J]>>8}function ye(){pi=F,Vt=K,Kt=ue,yn=fe}function Pe(v,S,k){C[v]=function(B,V,J,Q,Z,ne,oe,he,we,Se,ve,Me,je,pe,me,_e,$e){var Ee,Xe=$e-1>>1,qe=Z[ne+0]|oe[he+0]<<16,rt=we[Se+0]|ve[Me+0]<<16;t(B!=null);var Ve=3*qe+rt+131074>>2;for(S(B[V+0],255&Ve,Ve>>16,je,pe),J!=null&&(Ve=3*rt+qe+131074>>2,S(J[Q+0],255&Ve,Ve>>16,me,_e)),Ee=1;Ee<=Xe;++Ee){var kt=Z[ne+Ee]|oe[he+Ee]<<16,Lt=we[Se+Ee]|ve[Me+Ee]<<16,Pt=qe+kt+rt+Lt+524296,Nt=Pt+2*(kt+rt)>>3;Ve=Nt+qe>>1,qe=(Pt=Pt+2*(qe+Lt)>>3)+kt>>1,S(B[V+2*Ee-1],255&Ve,Ve>>16,je,pe+(2*Ee-1)*k),S(B[V+2*Ee-0],255&qe,qe>>16,je,pe+(2*Ee-0)*k),J!=null&&(Ve=Pt+rt>>1,qe=Nt+Lt>>1,S(J[Q+2*Ee-1],255&Ve,Ve>>16,me,_e+(2*Ee-1)*k),S(J[Q+2*Ee+0],255&qe,qe>>16,me,_e+(2*Ee+0)*k)),qe=kt,rt=Lt}1&$e||(Ve=3*qe+rt+131074>>2,S(B[V+$e-1],255&Ve,Ve>>16,je,pe+($e-1)*k),J!=null&&(Ve=3*rt+qe+131074>>2,S(J[Q+$e-1],255&Ve,Ve>>16,me,_e+($e-1)*k)))}}function Be(){gi[Jh]=zk,gi[Qh]=u5,gi[i5]=Hk,gi[Zh]=c5,gi[ep]=d5,gi[Av]=f5,gi[a5]=qk,gi[Pv]=u5,gi[Cv]=c5,gi[tp]=d5,gi[Ov]=f5}function Ye(v){return v&-16384?0>v?0:255:v>>Gk}function nt(v,S){return Ye((19077*v>>8)+(26149*S>>8)-14234)}function gt(v,S,k){return Ye((19077*v>>8)-(6419*S>>8)-(13320*k>>8)+8708)}function ht(v,S){return Ye((19077*v>>8)+(33050*S>>8)-17685)}function At(v,S,k,B,V){B[V+0]=nt(v,k),B[V+1]=gt(v,S,k),B[V+2]=ht(v,S)}function an(v,S,k,B,V){B[V+0]=ht(v,S),B[V+1]=gt(v,S,k),B[V+2]=nt(v,k)}function dn(v,S,k,B,V){var J=gt(v,S,k);S=J<<3&224|ht(v,S)>>3,B[V+0]=248&nt(v,k)|J>>5,B[V+1]=S}function Pn(v,S,k,B,V){var J=240&ht(v,S)|15;B[V+0]=240&nt(v,k)|gt(v,S,k)>>4,B[V+1]=J}function or(v,S,k,B,V){B[V+0]=255,At(v,S,k,B,V+1)}function Un(v,S,k,B,V){an(v,S,k,B,V),B[V+3]=255}function Wi(v,S,k,B,V){At(v,S,k,B,V),B[V+3]=255}function Vr(v,S){return 0>v?0:v>S?S:v}function ya(v,S,k){C[v]=function(B,V,J,Q,Z,ne,oe,he,we){for(var Se=he+(-2&we)*k;he!=Se;)S(B[V+0],J[Q+0],Z[ne+0],oe,he),S(B[V+1],J[Q+0],Z[ne+0],oe,he+k),V+=2,++Q,++ne,he+=2*k;1&we&&S(B[V+0],J[Q+0],Z[ne+0],oe,he)}}function Hh(v,S,k){return k==0?v==0?S==0?6:5:S==0?4:0:k}function Kc(v,S,k,B,V){switch(v>>>30){case 3:Ua(S,k,B,V,0);break;case 2:vn(S,k,B,V);break;case 1:Sr(S,k,B,V)}}function Yc(v,S){var k,B,V=S.M,J=S.Nb,Q=v.oc,Z=v.pc+40,ne=v.oc,oe=v.pc+584,he=v.oc,we=v.pc+600;for(k=0;16>k;++k)Q[Z+32*k-1]=129;for(k=0;8>k;++k)ne[oe+32*k-1]=129,he[we+32*k-1]=129;for(0<V?Q[Z-1-32]=ne[oe-1-32]=he[we-1-32]=129:(i(Q,Z-32-1,127,21),i(ne,oe-32-1,127,9),i(he,we-32-1,127,9)),B=0;B<v.za;++B){var Se=S.ya[S.aa+B];if(0<B){for(k=-1;16>k;++k)r(Q,Z+32*k-4,Q,Z+32*k+12,4);for(k=-1;8>k;++k)r(ne,oe+32*k-4,ne,oe+32*k+4,4),r(he,we+32*k-4,he,we+32*k+4,4)}var ve=v.Gd,Me=v.Hd+B,je=Se.ad,pe=Se.Hc;if(0<V&&(r(Q,Z-32,ve[Me].y,0,16),r(ne,oe-32,ve[Me].f,0,8),r(he,we-32,ve[Me].ea,0,8)),Se.Za){var me=Q,_e=Z-32+16;for(0<V&&(B>=v.za-1?i(me,_e,ve[Me].y[15],4):r(me,_e,ve[Me+1].y,0,4)),k=0;4>k;k++)me[_e+128+k]=me[_e+256+k]=me[_e+384+k]=me[_e+0+k];for(k=0;16>k;++k,pe<<=2)me=Q,_e=Z+p5[k],Ui[Se.Ob[k]](me,_e),Kc(pe,je,16*+k,me,_e)}else if(me=Hh(B,V,Se.Ob[0]),Po[me](Q,Z),pe!=0)for(k=0;16>k;++k,pe<<=2)Kc(pe,je,16*+k,Q,Z+p5[k]);for(k=Se.Gc,me=Hh(B,V,Se.Dd),Ha[me](ne,oe),Ha[me](he,we),pe=je,me=ne,_e=oe,255&(Se=k>>0)&&(170&Se?ed(pe,256,me,_e):fi(pe,256,me,_e)),Se=he,pe=we,255&(k>>=8)&&(170&k?ed(je,320,Se,pe):fi(je,320,Se,pe)),V<v.Ub-1&&(r(ve[Me].y,0,Q,Z+480,16),r(ve[Me].f,0,ne,oe+224,8),r(ve[Me].ea,0,he,we+224,8)),k=8*J*v.B,ve=v.sa,Me=v.ta+16*B+16*J*v.R,je=v.qa,Se=v.ra+8*B+k,pe=v.Ha,me=v.Ia+8*B+k,k=0;16>k;++k)r(ve,Me+k*v.R,Q,Z+32*k,16);for(k=0;8>k;++k)r(je,Se+k*v.B,ne,oe+32*k,8),r(pe,me+k*v.B,he,we+32*k,8)}}function Hl(v,S,k,B,V,J,Q,Z,ne){var oe=[0],he=[0],we=0,Se=ne!=null?ne.kd:0,ve=ne??new Hc;if(v==null||12>k)return 7;ve.data=v,ve.w=S,ve.ha=k,S=[S],k=[k],ve.gb=[ve.gb];e:{var Me=S,je=k,pe=ve.gb;if(t(v!=null),t(je!=null),t(pe!=null),pe[0]=0,12<=je[0]&&!n(v,Me[0],"RIFF")){if(n(v,Me[0]+8,"WEBP")){pe=3;break e}var me=xe(v,Me[0]+4);if(12>me||4294967286<me){pe=3;break e}if(Se&&me>je[0]-8){pe=7;break e}pe[0]=me,Me[0]+=12,je[0]-=12}pe=0}if(pe!=0)return pe;for(me=0<ve.gb[0],k=k[0];;){e:{var _e=v;je=S,pe=k;var $e=oe,Ee=he,Xe=Me=[0];if((Ve=we=[we])[0]=0,8>pe[0])pe=7;else{if(!n(_e,je[0],"VP8X")){if(xe(_e,je[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var qe=xe(_e,je[0]+8),rt=1+le(_e,je[0]+12);if(2147483648<=rt*(_e=1+le(_e,je[0]+15))){pe=3;break e}Xe!=null&&(Xe[0]=qe),$e!=null&&($e[0]=rt),Ee!=null&&(Ee[0]=_e),je[0]+=18,pe[0]-=18,Ve[0]=1}pe=0}}if(we=we[0],Me=Me[0],pe!=0)return pe;if(je=!!(2&Me),!me&&we)return 3;if(J!=null&&(J[0]=!!(16&Me)),Q!=null&&(Q[0]=je),Z!=null&&(Z[0]=0),Q=oe[0],Me=he[0],we&&je&&ne==null){pe=0;break}if(4>k){pe=7;break}if(me&&we||!me&&!we&&!n(v,S[0],"ALPH")){k=[k],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{qe=v,pe=S,me=k;var Ve=ve.gb;$e=ve.na,Ee=ve.P,Xe=ve.Sa,rt=22,t(qe!=null),t(me!=null),_e=pe[0];var kt=me[0];for(t($e!=null),t(Xe!=null),$e[0]=null,Ee[0]=null,Xe[0]=0;;){if(pe[0]=_e,me[0]=kt,8>kt){pe=7;break e}var Lt=xe(qe,_e+4);if(4294967286<Lt){pe=3;break e}var Pt=8+Lt+1&-2;if(rt+=Pt,0<Ve&&rt>Ve){pe=3;break e}if(!n(qe,_e,"VP8 ")||!n(qe,_e,"VP8L")){pe=0;break e}if(kt[0]<Pt){pe=7;break e}n(qe,_e,"ALPH")||($e[0]=qe,Ee[0]=_e+8,Xe[0]=Lt),_e+=Pt,kt-=Pt}}if(k=k[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],pe!=0)break}k=[k],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(Ve=v,pe=S,me=k,$e=ve.gb[0],Ee=ve.Ja,Xe=ve.xa,qe=pe[0],_e=!n(Ve,qe,"VP8 "),rt=!n(Ve,qe,"VP8L"),t(Ve!=null),t(me!=null),t(Ee!=null),t(Xe!=null),8>me[0])pe=7;else{if(_e||rt){if(Ve=xe(Ve,qe+4),12<=$e&&Ve>$e-12){pe=3;break e}if(Se&&Ve>me[0]-8){pe=7;break e}Ee[0]=Ve,pe[0]+=8,me[0]-=8,Xe[0]=rt}else Xe[0]=5<=me[0]&&Ve[qe+0]==47&&!(Ve[qe+4]>>5),Ee[0]=me[0];pe=0}if(k=k[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],S=S[0],pe!=0)break;if(4294967286<ve.Ja)return 3;if(Z==null||je||(Z[0]=ve.xa?2:1),Q=[Q],Me=[Me],ve.xa){if(5>k){pe=7;break}Z=Q,Se=Me,je=J,v==null||5>k?v=0:5<=k&&v[S+0]==47&&!(v[S+4]>>5)?(me=[0],Ve=[0],$e=[0],W(Ee=new E,v,S,k),ot(Ee,me,Ve,$e)?(Z!=null&&(Z[0]=me[0]),Se!=null&&(Se[0]=Ve[0]),je!=null&&(je[0]=$e[0]),v=1):v=0):v=0}else{if(10>k){pe=7;break}Z=Me,v==null||10>k||!Oh(v,S+3,k-3)?v=0:(Se=v[S+0]|v[S+1]<<8|v[S+2]<<16,je=16383&(v[S+7]<<8|v[S+6]),v=16383&(v[S+9]<<8|v[S+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=ve.Ja||!je||!v?v=0:(Q&&(Q[0]=je),Z&&(Z[0]=v),v=1))}if(!v||(Q=Q[0],Me=Me[0],we&&(oe[0]!=Q||he[0]!=Me)))return 3;ne!=null&&(ne[0]=ve,ne.offset=S-ne.w,t(4294967286>S-ne.w),t(ne.offset==ne.ha-k));break}return pe==0||pe==7&&we&&ne==null?(J!=null&&(J[0]|=ve.na!=null&&0<ve.na.length),B!=null&&(B[0]=Q),V!=null&&(V[0]=Me),0):pe}function Xc(v,S,k){var B=S.width,V=S.height,J=0,Q=0,Z=B,ne=V;if(S.Da=v!=null&&0<v.Da,S.Da&&(Z=v.cd,ne=v.bd,J=v.v,Q=v.j,11>k||(J&=-2,Q&=-2),0>J||0>Q||0>=Z||0>=ne||J+Z>B||Q+ne>V))return 0;if(S.v=J,S.j=Q,S.va=J+Z,S.o=Q+ne,S.U=Z,S.T=ne,S.da=v!=null&&0<v.da,S.da){if(!Ce(Z,ne,k=[v.ib],J=[v.hb]))return 0;S.ib=k[0],S.hb=J[0]}return S.ob=v!=null&&v.ob,S.Kb=v==null||!v.Sd,S.da&&(S.ob=S.ib<3*B/4&&S.hb<3*V/4,S.Kb=0),1}function Jc(v){if(v==null)return 2;if(11>v.S){var S=v.f.RGBA;S.fb+=(v.height-1)*S.A,S.A=-S.A}else S=v.f.kb,v=v.height,S.O+=(v-1)*S.fa,S.fa=-S.fa,S.N+=(v-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(v-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(v-1)*S.lb,S.lb=-S.lb);return 0}function ql(v,S,k,B){if(B==null||0>=v||0>=S)return 2;if(k!=null){if(k.Da){var V=k.cd,J=k.bd,Q=-2&k.v,Z=-2&k.j;if(0>Q||0>Z||0>=V||0>=J||Q+V>v||Z+J>S)return 2;v=V,S=J}if(k.da){if(!Ce(v,S,V=[k.ib],J=[k.hb]))return 2;v=V[0],S=J[0]}}B.width=v,B.height=S;e:{var ne=B.width,oe=B.height;if(v=B.S,0>=ne||0>=oe||!(v>=Jh&&13>v))v=2;else{if(0>=B.Rd&&B.sd==null){Q=J=V=S=0;var he=(Z=ne*m5[v])*oe;if(11>v||(J=(oe+1)/2*(S=(ne+1)/2),v==12&&(Q=(V=ne)*oe)),(oe=a(he+2*J+Q))==null){v=1;break e}B.sd=oe,11>v?((ne=B.f.RGBA).eb=oe,ne.fb=0,ne.A=Z,ne.size=he):((ne=B.f.kb).y=oe,ne.O=0,ne.fa=Z,ne.Fd=he,ne.f=oe,ne.N=0+he,ne.Ab=S,ne.Cd=J,ne.ea=oe,ne.W=0+he+J,ne.Db=S,ne.Ed=J,v==12&&(ne.F=oe,ne.J=0+he+2*J),ne.Tc=Q,ne.lb=V)}if(S=1,V=B.S,J=B.width,Q=B.height,V>=Jh&&13>V)if(11>V)v=B.f.RGBA,S&=(Z=Math.abs(v.A))*(Q-1)+J<=v.size,S&=Z>=J*m5[V],S&=v.eb!=null;else{v=B.f.kb,Z=(J+1)/2,he=(Q+1)/2,ne=Math.abs(v.fa),oe=Math.abs(v.Ab);var we=Math.abs(v.Db),Se=Math.abs(v.lb),ve=Se*(Q-1)+J;S&=ne*(Q-1)+J<=v.Fd,S&=oe*(he-1)+Z<=v.Cd,S=(S&=we*(he-1)+Z<=v.Ed)&ne>=J&oe>=Z&we>=Z,S&=v.y!=null,S&=v.f!=null,S&=v.ea!=null,V==12&&(S&=Se>=J,S&=ve<=v.Tc,S&=v.F!=null)}else S=0;v=S?0:2}}return v!=0||k!=null&&k.fd&&(v=Jc(B)),v}var Jn=64,Gl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vl=24,Kl=32,Qc=8,_r=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(v){return v},C.Predictor2=function(v,S,k){return S[k+0]},C.Predictor3=function(v,S,k){return S[k+1]},C.Predictor4=function(v,S,k){return S[k-1]},C.Predictor5=function(v,S,k){return Ie(Ie(v,S[k+1]),S[k+0])},C.Predictor6=function(v,S,k){return Ie(v,S[k-1])},C.Predictor7=function(v,S,k){return Ie(v,S[k+0])},C.Predictor8=function(v,S,k){return Ie(S[k-1],S[k+0])},C.Predictor9=function(v,S,k){return Ie(S[k+0],S[k+1])},C.Predictor10=function(v,S,k){return Ie(Ie(v,S[k-1]),Ie(S[k+0],S[k+1]))},C.Predictor11=function(v,S,k){var B=S[k+0];return 0>=Le(B>>24&255,v>>24&255,(S=S[k-1])>>24&255)+Le(B>>16&255,v>>16&255,S>>16&255)+Le(B>>8&255,v>>8&255,S>>8&255)+Le(255&B,255&v,255&S)?B:v},C.Predictor12=function(v,S,k){var B=S[k+0];return(ke((v>>24&255)+(B>>24&255)-((S=S[k-1])>>24&255))<<24|ke((v>>16&255)+(B>>16&255)-(S>>16&255))<<16|ke((v>>8&255)+(B>>8&255)-(S>>8&255))<<8|ke((255&v)+(255&B)-(255&S)))>>>0},C.Predictor13=function(v,S,k){var B=S[k-1];return(De((v=Ie(v,S[k+0]))>>24&255,B>>24&255)<<24|De(v>>16&255,B>>16&255)<<16|De(v>>8&255,B>>8&255)<<8|De(v>>0&255,B>>0&255))>>>0};var Nv=C.PredictorAdd0;C.PredictorAdd1=Ge,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var Zc=C.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var qh,di=C.ColorIndexInverseTransform,Yl=C.MapARGB,Gh=C.VP8LColorIndexInverseTransformAlpha,Vh=C.MapAlpha,So=C.VP8LPredictorsAdd=[];So.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Os,Er,wr,No,Ba,Wa,Xl,Ua,vn,ed,Sr,fi,Jl,Kh,td,Ts,Fs,jo,ks,Ql,_s,Ao,nd,hi,pi,Vt,Kt,yn,En=a(511),za=a(2041),rd=a(225),Zl=a(767),Yh=0,jv=za,Xh=rd,Kr=Zl,mi=En,Jh=0,Qh=1,i5=2,Zh=3,ep=4,Av=5,a5=6,Pv=7,Cv=8,tp=9,Ov=10,Tk=[2,3,7],Fk=[3,3,11],o5=[280,256,256,256,40],kk=[0,1,1,1,0],_k=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ek=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Lk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mk=8,Tv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],id=null,Dk=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ik=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],s5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$k=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Rk=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Bk=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Wk=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Po=[],Ui=[],Ha=[],Uk=1,l5=2,Co=[],gi=[];Pe("UpsampleRgbLinePair",At,3),Pe("UpsampleBgrLinePair",an,3),Pe("UpsampleRgbaLinePair",Wi,4),Pe("UpsampleBgraLinePair",Un,4),Pe("UpsampleArgbLinePair",or,4),Pe("UpsampleRgba4444LinePair",Pn,2),Pe("UpsampleRgb565LinePair",dn,2);var zk=C.UpsampleRgbLinePair,Hk=C.UpsampleBgrLinePair,u5=C.UpsampleRgbaLinePair,c5=C.UpsampleBgraLinePair,d5=C.UpsampleArgbLinePair,f5=C.UpsampleRgba4444LinePair,qk=C.UpsampleRgb565LinePair,np=16,rp=1<<np-1,ad=-227,kv=482,Gk=6,h5=0,Vk=a(256),Kk=a(256),Yk=a(256),Xk=a(256),Jk=a(kv-ad),Qk=a(kv-ad);ya("YuvToRgbRow",At,3),ya("YuvToBgrRow",an,3),ya("YuvToRgbaRow",Wi,4),ya("YuvToBgraRow",Un,4),ya("YuvToArgbRow",or,4),ya("YuvToRgba4444Row",Pn,2),ya("YuvToRgb565Row",dn,2);var p5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ip=[0,2,8],Zk=[8,7,6,4,4,2,2,2,1,1,1,1],e_=1;this.WebPDecodeRGBA=function(v,S,k,B,V){var J=Qh,Q=new Ul,Z=new Li;Q.ba=Z,Z.S=J,Z.width=[Z.width],Z.height=[Z.height];var ne=Z.width,oe=Z.height,he=new Da;if(he==null||v==null)var we=2;else t(he!=null),we=Hl(v,S,k,he.width,he.height,he.Pd,he.Qd,he.format,null);if(we!=0?ne=0:(ne!=null&&(ne[0]=he.width[0]),oe!=null&&(oe[0]=he.height[0]),ne=1),ne){Z.width=Z.width[0],Z.height=Z.height[0],B!=null&&(B[0]=Z.width),V!=null&&(V[0]=Z.height);e:{if(B=new Ml,(V=new Hc).data=v,V.w=S,V.ha=k,V.kd=1,S=[0],t(V!=null),((v=Hl(V.data,V.w,V.ha,null,null,null,S,null,V))==0||v==7)&&S[0]&&(v=4),(S=v)==0){if(t(Q!=null),B.data=V.data,B.w=V.w+V.offset,B.ha=V.ha-V.offset,B.put=da,B.ac=Xn,B.bc=fa,B.ma=Q,V.xa){if((v=ci())==null){Q=1;break e}if(function(Se,ve){var Me=[0],je=[0],pe=[0];t:for(;;){if(Se==null)return 0;if(ve==null)return Se.a=2,0;if(Se.l=ve,Se.a=0,W(Se.m,ve.data,ve.w,ve.ha),!ot(Se.m,Me,je,pe)){Se.a=3;break t}if(Se.xb=l5,ve.width=Me[0],ve.height=je[0],!ma(Me[0],je[0],1,Se,null))break t;return 1}return t(Se.a!=0),0}(v,B)){if(B=(S=ql(B.width,B.height,Q.Oa,Q.ba))==0){t:{B=v;n:for(;;){if(B==null){B=0;break t}if(t(B.s.yc!=null),t(B.s.Ya!=null),t(0<B.s.Wb),t((k=B.l)!=null),t((V=k.ma)!=null),B.xb!=0){if(B.ca=V.ba,B.tb=V.tb,t(B.ca!=null),!Xc(V.Oa,k,Zh)){B.a=2;break n}if(!Ns(B,k.width)||k.da)break n;if((k.da||bt(B.ca.S))&&ye(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&ye()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!be(B.s.vb,B.s.Wa.Xa)){B.a=1;break n}B.xb=0}if(!$i(B,B.V,B.Ba,B.c,B.i,k.o,Tl))break n;V.Dc=B.Ma,B=1;break t}t(B.a!=0),B=0}B=!B}B&&(S=v.a)}else S=v.a}else{if((v=new iv)==null){Q=1;break e}if(v.Fa=V.na,v.P=V.P,v.qc=V.Sa,Th(v,B)){if((S=ql(B.width,B.height,Q.Oa,Q.ba))==0){if(v.Aa=0,k=Q.Oa,t((V=v)!=null),k!=null){if(0<(ne=0>(ne=k.Md)?0:100<ne?255:255*ne/100)){for(oe=he=0;4>oe;++oe)12>(we=V.pb[oe]).lc&&(we.ia=ne*Zk[0>we.lc?0:we.lc]>>3),he|=we.ia;he&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=k.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}av(v,B)||(S=v.a)}}else S=v.a}S==0&&Q.Oa!=null&&Q.Oa.fd&&(S=Jc(Q.ba))}Q=S}J=Q!=0?null:11>J?Z.f.RGBA.eb:Z.f.kb.y}else J=null;return J};var m5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,_){for(var M="",O=0;O<4;O++)M+=String.fromCharCode(C[_++]);return M}function h(C,_){return(C[_+0]<<0|C[_+1]<<8|C[_+2]<<16)>>>0}function f(C,_){return(C[_+0]<<0|C[_+1]<<8|C[_+2]<<16|C[_+3]<<24)>>>0}new l;var p=[0],d=[0],m=[],g=new l,w=e,b=function(C,_){var M={},O=0,T=!1,I=0,L=0;if(M.frames=[],!function(R,q,ee,H){for(var te=0;te<H;te++)if(R[q+te]!=ee.charCodeAt(te))return!0;return!1}(C,_,"RIFF",4)){var U,D;for(f(C,_+=4),_+=8;_<C.length;){var $=c(C,_),W=f(C,_+=4);_+=4;var z=W+(1&W);switch($){case"VP8 ":case"VP8L":M.frames[O]===void 0&&(M.frames[O]={}),(E=M.frames[O]).src_off=T?L:_-8,E.src_size=I+W+8,O++,T&&(T=!1,I=0,L=0);break;case"VP8X":(E=M.header={}).feature_flags=C[_];var Y=_+4;E.canvas_width=1+h(C,Y),Y+=3,E.canvas_height=1+h(C,Y),Y+=3;break;case"ALPH":T=!0,I=z+8,L=_-8;break;case"ANIM":(E=M.header).bgcolor=f(C,_),Y=_+4,E.loop_count=(U=C)[(D=Y)+0]<<0|U[D+1]<<8,Y+=2;break;case"ANMF":var re,E;(E=M.frames[O]={}).offset_x=2*h(C,_),_+=3,E.offset_y=2*h(C,_),_+=3,E.width=1+h(C,_),_+=3,E.height=1+h(C,_),_+=3,E.duration=h(C,_),_+=3,re=C[_++],E.dispose=1&re,E.blend=re>>1&1}$!="ANMF"&&(_+=z)}return M}}(w,0);b.response=w,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,x=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],d=[y.canvas_width];for(var A=0;A<x.length&&x[A].blend!=0;A++);}var N=x[0],P=g.WebPDecodeRGBA(w,N.src_off,N.src_size,d,p);N.rgba=P,N.imgwidth=d[0],N.imgheight=p[0];for(var j=0;j<d[0]*p[0]*4;j++)m[j]=P[j];return this.width=d,this.height=p,this.data=m,this}(function(e){var t=function(){return typeof D2=="function"},n=function(p,d,m,g){var w=4,b=o;switch(g){case e.image_compression.FAST:w=1,b=a;break;case e.image_compression.MEDIUM:w=6,b=s;break;case e.image_compression.SLOW:w=9,b=l}p=r(p,d,m,b);var y=D2(p,{level:w});return e.__addimage__.arrayBufferToBinaryString(y)},r=function(p,d,m,g){for(var w,b,y,x=p.length/d,A=new Uint8Array(p.length+x),N=h(),P=0;P<x;P+=1){if(y=P*d,w=p.subarray(y,y+d),g)A.set(g(w,m,b),y+P);else{for(var j,C=N.length,_=[];j<C;j+=1)_[j]=N[j](w,m,b);var M=f(_.concat());A.set(_[M],y+P)}b=w}return A},i=function(p){var d=Array.apply([],p);return d.unshift(0),d},a=function(p,d){var m,g=[],w=p.length;g[0]=1;for(var b=0;b<w;b+=1)m=p[b-d]||0,g[b+1]=p[b]-m+256&255;return g},o=function(p,d,m){var g,w=[],b=p.length;w[0]=2;for(var y=0;y<b;y+=1)g=m&&m[y]||0,w[y+1]=p[y]-g+256&255;return w},s=function(p,d,m){var g,w,b=[],y=p.length;b[0]=3;for(var x=0;x<y;x+=1)g=p[x-d]||0,w=m&&m[x]||0,b[x+1]=p[x]+256-(g+w>>>1)&255;return b},l=function(p,d,m){var g,w,b,y,x=[],A=p.length;x[0]=4;for(var N=0;N<A;N+=1)g=p[N-d]||0,w=m&&m[N]||0,b=m&&m[N-d]||0,y=c(g,w,b),x[N+1]=p[N]-y+256&255;return x},c=function(p,d,m){if(p===d&&d===m)return p;var g=Math.abs(d-m),w=Math.abs(p-m),b=Math.abs(p+d-m-m);return g<=w&&g<=b?p:w<=b?d:m},h=function(){return[i,a,o,s,l]},f=function(p){var d=p.map(function(m){return m.reduce(function(g,w){return g+Math.abs(w)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(p,d,m,g){var w,b,y,x,A,N,P,j,C,_,M,O,T,I,L,U=this.decode.FLATE_DECODE,D="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(y=new wce(p)).imgData,b=y.bits,w=y.colorSpace,A=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){C=(j=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,M=new Uint8Array(C*y.colors),_=new Uint8Array(C);var $,W=y.pixelBitlength-y.bits;for(I=0,L=0;I<C;I++){for(T=j[I],$=0;$<W;)M[L++]=T>>>$&255,$+=y.bits;_[I]=T>>>$&255}}if(y.bits===16){C=(j=new Uint32Array(y.decodePixels().buffer)).length,M=new Uint8Array(C*(32/y.pixelBitlength)*y.colors),_=new Uint8Array(C*(32/y.pixelBitlength)),O=y.colors>1,I=0,L=0;for(var z=0;I<C;)T=j[I++],M[L++]=T>>>0&255,O&&(M[L++]=T>>>16&255,T=j[I++],M[L++]=T>>>0&255),_[z++]=T>>>16&255;b=8}g!==e.image_compression.NONE&&t()?(p=n(M,y.width*y.colors,y.colors,g),P=n(_,y.width,1,g)):(p=M,P=_,U=void 0)}if(y.colorType===3&&(w=this.color_spaces.INDEXED,N=y.palette,y.transparency.indexed)){var Y=y.transparency.indexed,re=0;for(I=0,C=Y.length;I<C;++I)re+=Y[I];if((re/=255)===C-1&&Y.indexOf(0)!==-1)x=[Y.indexOf(0)];else if(re!==C){for(j=y.decodePixels(),_=new Uint8Array(j.length),I=0,C=j.length;I<C;I++)_[I]=Y[j[I]];P=n(_,y.width,1)}}var E=function(R){var q;switch(R){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(g);return U===this.decode.FLATE_DECODE&&(D="/Predictor "+E+" "),D+="/Colors "+A+" /BitsPerComponent "+b+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:m,data:p,index:d,filter:U,decodeParameters:D,transparency:x,palette:N,sMask:P,predictor:E,width:y.width,height:y.height,bitsPerComponent:b,colorSpace:w}}}})(it.API),function(e){e.processGIF89A=function(t,n,r,i){var a=new Sce(t),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:s},h=new n1(100).encode(c,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A}(it.API),Vi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Ht.log("bit decode error:"+n)}},Vi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Vi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,c=this.palette[s];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Vi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Vi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=s,this.data[h+2]=o,this.data[h+3]=c}this.pos+=e}},Vi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,h=i*this.width*4+4*a;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=255}this.pos+=e}},Vi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Vi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Vi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new Vi(t,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new n1(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(it.API),jA.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new jA(t),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new n1(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(it.API),it.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,c=0;c<i;c+=4){var h=r[c],f=r[c+1],p=r[c+2],d=r[c+3];a[s++]=h,a[s++]=f,a[s++]=p,o[l++]=d}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},it.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},du=it.API,Xp=du.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=t.doKerning!==!1,p=0,d=e.length,m=0,g=s[0]||l,w=[];for(n=0;n<d;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(p=f&&It(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/h:0,w.push((s[r]||g)/l+p)),m=r;return w},bA=du.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return du.processArabic&&(e=du.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Xp.apply(this,arguments).reduce(function(a,o){return a+o},0)},wA=function(e,t,n,r){for(var i=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<n;)s+=t[a],a++;i.push(e.slice(0,a));var l=a;for(s=0;a!==o;)s+t[a]>r&&(i.push(e.slice(l,a)),s=0,l=a),s+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},SA=function(e,t,n){n||(n={});var r,i,a,o,s,l,c,h=[],f=[h],p=n.textIndent||0,d=0,m=0,g=e.split(" "),w=Xp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),y=[];g.map(function(A){(A=A.split(/\s*\n/)).length>1?y=y.concat(A.map(function(N,P){return(P&&N.length?`
`:"")+N})):y.push(A[0])}),g=y,l=bA.apply(this,[b,n])}for(a=0,o=g.length;a<o;a++){var x=0;if(r=g[a],l&&r[0]==`
`&&(r=r.substr(1),x=1),p+d+(m=(i=Xp.apply(this,[r,n])).reduce(function(A,N){return A+N},0))>t||x){if(m>t){for(s=wA.apply(this,[r,i,t-(p+d),t]),h.push(s.shift()),h=[s.pop()];s.length;)f.push([s.shift()]);m=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(A,N){return A+N},0)}else h=[r];f.push(h),p=m+l,d=w}else h.push(r),p+=d+m,d=w}return c=l?function(A,N){return(N?b:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(c)},du.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,c=[];for(s=0,l=r.length;s<l;s++)c=c.concat(SA.apply(this,[r[s],o,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var p,d,m,g,w=["{"];for(var b in f){if(p=f[b],isNaN(parseInt(b,10))?d="'"+b+"'":(b=parseInt(b,10),d=(d=a(b).slice(2)).slice(0,-1)+r[d.slice(-1)]),typeof p=="number")p<0?(m=a(p).slice(3),g="-"):(m=a(p).slice(2),g=""),m=g+m.slice(0,-1)+r[m.slice(-1)];else{if(It(p)!=="object")throw new Error("Don't know what to do with value type "+It(p)+".");m=o(p)}w.push(d+m)}return w.push("}"),w.join("")},s=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,d,m,g,w={},b=1,y=w,x=[],A="",N="",P=f.length-1,j=1;j<P;j+=1)(g=f[j])=="'"?p?(m=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(x.push([y,m]),y={},m=void 0):g=="}"?((d=x.pop())[0][d[1]]=y,m=void 0,y=d[0]):g=="-"?b=-1:m===void 0?n.hasOwnProperty(g)?(A+=n[g],m=parseInt(A,16)*b,b=1,A=""):A+=g:n.hasOwnProperty(g)?(N+=n[g],y[m]=parseInt(N,16)*b,b=1,m=void 0,N=""):N+=g;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var p=f.font,d=h.Unicode[p.postScriptName];d&&(p.metadata.Unicode={},p.metadata.Unicode.widths=d.widths,p.metadata.Unicode.kerning=d.kerning);var m=c.Unicode[p.postScriptName];m&&(p.metadata.Unicode.encoding=m,p.encoding=m.codePages[0])}])}(it.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(ef(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(it),function(e){function t(){return(lt.canvg?Promise.resolve(lt.canvg):k2(()=>import("./index.es-BbyOzyuU.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}it.API.addSvgAsImage=function(n,r,i,a,o,s,l,c){if(isNaN(r)||isNaN(i))throw Ht.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Ht.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=o;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(m){return m.fromString(f,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(p)}).then(function(){d.addImage(h.toDataURL("image/jpeg",1),r,i,a,o,l,c)})}}(),it.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},it.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],c=0,h=0,f=0;function p(m,g){var w,b=!1;for(w=0;w<m.length;w+=1)m[w]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=s.length;for(f=0;f<d;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(It(e)==="object"){for(i in e)if(a=e[i],p(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&p(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(c=0;c<a.length;c+=1)if(r=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(h=0;h<a[c].length;h+=1)typeof a[c][h]!="number"&&(r=!1);r===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?g.push("/"+m+" /"+n[m].value):g.push("/"+m+" "+n[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(it.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,p=a.length;f<p;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return h.join("");s=s.toString(16),h.push(c[4-s.length],s)}return h.join("")},r=function(a){var o,s,l,c,h,f,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(s=Object.keys(a).sort(function(d,m){return d-m})).length;f<p;f++)o=s[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(c=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,c=o.newObject,h=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),d="",m=0;m<p.length;m++)d+=String.fromCharCode(p[m]);var g=c();h({data:d,addLength1:!0,objectId:g}),l("endobj");var w=c();h({data:r(s.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+mu(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+mu(s.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+mu(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,c=o.newObject,h=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,p="",d=0;d<f.length;d++)p+=String.fromCharCode(f[d]);var m=c();h({data:p,addLength1:!0,objectId:m}),l("endobj");var g=c();h({data:r(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var w=c();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+mu(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=c();for(var b=0;b<s.metadata.hmtx.widths.length;b++)s.metadata.hmtx.widths[b]=parseInt(s.metadata.hmtx.widths[b]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+mu(s.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,c=a.y,h=a.options||{},f=a.mutex||{},p=f.pdfEscape,d=f.activeFontKey,m=f.fonts,g=d,w="",b=0,y="",x=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:s,x:l,y:c,options:h,mutex:f};for(y=s,g=d,Array.isArray(s)&&(y=s[0]),b=0;b<y.length;b+=1)m[g].metadata.hasOwnProperty("cmap")&&(o=m[g].metadata.cmap.unicode.codeMap[y[b].charCodeAt(0)]),o||y[b].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?w+=y[b]:w+="";var A="";return parseInt(g.slice(1))<14||x==="WinAnsiEncoding"?A=p(w,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(A=n(w,m[g])),f.isHex=!0,{text:A,x:l,y:c,options:h,mutex:f}};t.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?s.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):s.push(i(Object.assign({},l,{text:o[c]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(it),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(it.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,o,s,l,c,h,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,x=0;this.__bidiEngine__={};var A=function(O){var T=O.charCodeAt(),I=T>>8,L=g[I];return L!==void 0?f[256*L+(255&T)]:I===252||I===253?"AL":b.test(I)?"L":I===8?"R":"N"},N=function(O){for(var T,I=0;I<O.length;I++){if((T=A(O.charAt(I)))==="L")return!1;if(T==="R")return!0}return!1},P=function(O,T,I,L){var U,D,$,W,z=T[L];switch(z){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(z="AN");break;case"AL":y=!0,z="R";break;case"WS":z="N";break;case"CS":L<1||L+1>=T.length||(U=I[L-1])!=="EN"&&U!=="AN"||(D=T[L+1])!=="EN"&&D!=="AN"?z="N":y&&(D="AN"),z=D===U?D:"N";break;case"ES":z=(U=L>0?I[L-1]:"B")==="EN"&&L+1<T.length&&T[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&I[L-1]==="EN"){z="EN";break}if(y){z="N";break}for($=L+1,W=T.length;$<W&&T[$]==="ET";)$++;z=$<W&&T[$]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(W=T.length,$=L+1;$<W&&T[$]==="NSM";)$++;if($<W){var Y=O[L],re=Y>=1425&&Y<=2303||Y===64286;if(U=T[$],re&&(U==="R"||U==="AL")){z="R";break}}}z=L<1||(U=T[L-1])==="B"?"N":I[L-1];break;case"B":y=!1,i=!0,z=x;break;case"S":a=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":z="N"}return z},j=function(O,T,I){var L=O.split("");return I&&C(L,I,{hiLevel:x}),L.reverse(),T&&T.reverse(),L.join("")},C=function(O,T,I){var L,U,D,$,W,z=-1,Y=O.length,re=0,E=[],R=x?d:p,q=[];for(y=!1,i=!1,a=!1,U=0;U<Y;U++)q[U]=A(O[U]);for(D=0;D<Y;D++){if(W=re,E[D]=P(O,q,E,D),L=240&(re=R[W][m[E[D]]]),re&=15,T[D]=$=R[re][5],L>0)if(L===16){for(U=z;U<D;U++)T[U]=1;z=-1}else z=-1;if(R[re][6])z===-1&&(z=D);else if(z>-1){for(U=z;U<D;U++)T[U]=$;z=-1}q[D]==="B"&&(T[D]=0),I.hiLevel|=$}a&&function(ee,H,te){for(var X=0;X<te;X++)if(ee[X]==="S"){H[X]=x;for(var G=X-1;G>=0&&ee[G]==="WS";G--)H[G]=x}}(q,T,Y)},_=function(O,T,I,L,U){if(!(U.hiLevel<O)){if(O===1&&x===1&&!i)return T.reverse(),void(I&&I.reverse());for(var D,$,W,z,Y=T.length,re=0;re<Y;){if(L[re]>=O){for(W=re+1;W<Y&&L[W]>=O;)W++;for(z=re,$=W-1;z<$;z++,$--)D=T[z],T[z]=T[$],T[$]=D,I&&(D=I[z],I[z]=I[$],I[$]=D);re=W}re++}}},M=function(O,T,I){var L=O.split(""),U={hiLevel:x};return I||(I=[]),C(L,I,U),function(D,$,W){if(W.hiLevel!==0&&h)for(var z,Y=0;Y<D.length;Y++)$[Y]===1&&(z=w.indexOf(D[Y]))>=0&&(D[Y]=w[z+1])}(L,I,U),_(2,L,T,I,U),_(1,L,T,I,U),L.join("")};return this.__bidiEngine__.doBidiReorder=function(O,T,I){if(function(U,D){if(D)for(var $=0;$<U.length;$++)D[$]=$;s===void 0&&(s=N(U)),c===void 0&&(c=N(U))}(O,T),o||!l||c)if(o&&l&&s^c)x=s?1:0,O=j(O,T,I);else if(!o&&l&&c)x=s?1:0,O=M(O,T,I),O=j(O,T);else if(!o||s||l||c){if(o&&!l&&s^c)O=j(O,T),s?(x=0,O=M(O,T,I)):(x=1,O=M(O,T,I),O=j(O,T));else if(o&&s&&!l&&c)x=1,O=M(O,T,I),O=j(O,T);else if(!o&&!l&&s^c){var L=h;s?(x=1,O=M(O,T,I),x=0,h=!1,O=M(O,T,I),h=L):(x=0,O=M(O,T,I),O=j(O,T),x=1,h=!1,O=M(O,T,I),h=L,O=j(O,T))}}else x=0,O=M(O,T,I);else x=s?1:0,O=M(O,T,I);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,l=O.isOutputVisual,s=O.isInputRtl,c=O.isOutputRtl,h=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(it),it.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new fs(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Ice(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Nce(this.contents),this.head=new Ace(this),this.name=new Fce(this),this.cmap=new Nk(this),this.toUnicode={},this.hhea=new Pce(this),this.maxp=new kce(this),this.hmtx=new _ce(this),this.post=new Oce(this),this.os2=new Cce(this),this.loca=new Dce(this),this.glyf=new Ece(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,c;for(c=[],o=0,s=(l=this.bbox).length;o<s;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,o,s;for(o=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var ca,fs=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,o,s,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),Nce=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,o,s,l,c,h,f,p,d,m,g;for(g in d=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),o=Math.floor(f/l),h=16*d-f,(i=new fs).writeInt(this.scalarType),i.writeShort(d),i.writeShort(f),i.writeShort(o),i.writeShort(h),a=16*d,c=i.pos+a,s=null,m=[],n)for(p=n[g],i.writeString(g),i.writeInt(e(p)),i.writeInt(c),i.writeInt(p.length),m=m.concat(p),g==="head"&&(s=c),c+=p.length;c%4;)m.push(0),c++;return i.write(m),r=2981146554-e(i.data),i.pos=s+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,o;for(n=jk.call(n);n.length%4;)n.push(0);for(a=new fs(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),jce={}.hasOwnProperty,Ma=function(e,t){for(var n in t)jce.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};ca=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ace=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ma(t,ca),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new fs).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),AA=function(){function e(t,n){var r,i,a,o,s,l,c,h,f,p,d,m,g,w,b,y,x;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),p=d/2,t.pos+=6,a=function(){var A,N;for(N=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)N.push(t.readUInt16());return N}(),t.pos+=2,g=function(){var A,N;for(N=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)N.push(t.readUInt16());return N}(),c=function(){var A,N;for(N=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)N.push(t.readUInt16());return N}(),h=function(){var A,N;for(N=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)N.push(t.readUInt16());return N}(),i=(this.length-t.pos+this.offset)/2,s=function(){var A,N;for(N=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)N.push(t.readUInt16());return N}(),l=b=0,x=a.length;b<x;l=++b)for(w=a[l],r=y=m=g[l];m<=w?y<=w:y>=w;r=m<=w?++y:--y)h[l]===0?o=r+c[l]:(o=s[h[l]/2+(r-m)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}t.pos=f}return e.encode=function(t,n){var r,i,a,o,s,l,c,h,f,p,d,m,g,w,b,y,x,A,N,P,j,C,_,M,O,T,I,L,U,D,$,W,z,Y,re,E,R,q,ee,H,te,X,G,ce,ae,le;switch(L=new fs,o=Object.keys(t).sort(function(xe,be){return xe-be}),n){case"macroman":for(g=0,w=function(){var xe=[];for(m=0;m<256;++m)xe.push(0);return xe}(),y={0:0},a={},U=0,z=o.length;U<z;U++)y[G=t[i=o[U]]]==null&&(y[G]=++g),a[i]={old:t[i],new:y[t[i]]},w[i]=y[t[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(w),{charMap:a,subtable:L.data,maxGlyphID:g+1};case"unicode":for(T=[],f=[],x=0,y={},r={},b=c=null,D=0,Y=o.length;D<Y;D++)y[N=t[i=o[D]]]==null&&(y[N]=++x),r[i]={old:N,new:y[N]},s=y[N]-i,b!=null&&s===c||(b&&f.push(b),T.push(i),c=s),b=i;for(b&&f.push(b),f.push(65535),T.push(65535),M=2*(_=T.length),C=2*Math.pow(Math.log(_)/Math.LN2,2),p=Math.log(C/2)/Math.LN2,j=2*_-C,l=[],P=[],d=[],m=$=0,re=T.length;$<re;m=++$){if(O=T[m],h=f[m],O===65535){l.push(0),P.push(0);break}if(O-(I=r[O].new)>=32768)for(l.push(0),P.push(2*(d.length+_-m)),i=W=O;O<=h?W<=h:W>=h;i=O<=h?++W:--W)d.push(r[i].new);else l.push(I-O),P.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*_+2*d.length),L.writeUInt16(0),L.writeUInt16(M),L.writeUInt16(C),L.writeUInt16(p),L.writeUInt16(j),te=0,E=f.length;te<E;te++)i=f[te],L.writeUInt16(i);for(L.writeUInt16(0),X=0,R=T.length;X<R;X++)i=T[X],L.writeUInt16(i);for(ce=0,q=l.length;ce<q;ce++)s=l[ce],L.writeUInt16(s);for(ae=0,ee=P.length;ae<ee;ae++)A=P[ae],L.writeUInt16(A);for(le=0,H=d.length;le<H;le++)g=d[le],L.writeUInt16(g);return{charMap:r,subtable:L.data,maxGlyphID:x+1}}},e}(),Nk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ma(t,ca),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new AA(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=AA.encode(n,r),(a=new fs).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),Pce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ma(t,ca),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),Cce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ma(t,ca),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),Oce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ma(t,ca),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,c;for(c=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)c.push(n.readUInt32());return c}).call(this)}},t}(),Tce=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Fce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ma(t,ca),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,a,o,s,l,c,h,f,p,d;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=f=0,p=i.length;f<p;o=++f)a=i[o],n.pos=a.offset,h=n.readString(a.length),s=new Tce(h,a),c[d=a.nameID]==null&&(c[d]=[]),c[a.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),kce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ma(t,ca),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),_ce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ma(t,ca),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,a,o,s,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)f.push(n.readInt16());return f}(),this.widths=(function(){var h,f,p,d;for(d=[],h=0,f=(p=this.metrics).length;h<f;h++)o=p[h],d.push(o.advance);return d}).call(this),i=this.widths[this.widths.length-1],c=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)c.push(this.widths.push(i));return c},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),jk=[].slice,Ece=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ma(t,ca),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,a,o,s,l,c,h,f,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,s=(l=new fs(r.read(a))).readShort(),h=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[n]=s===-1?new Mce(l,h,p,c,f):new Lce(l,s,h,p,c,f),this.cache[n]))},t.prototype.encode=function(n,r,i){var a,o,s,l,c;for(s=[],o=[],l=0,c=r.length;l<c;l++)a=n[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},t}(),Lce=function(){function e(t,n,r,i,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Mce=function(){function e(t,n,r,i,a){var o,s;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new fs(jk.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Dce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ma(t,ca),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(a+=c)}for(var h=new Array(4*i.length),f=0;f<i.length;++f)h[4*f+3]=255&i[f],h[4*f+2]=(65280&i[f])>>8,h[4*f+1]=(16711680&i[f])>>16,h[4*f]=(4278190080&i[f])>>24;return h},t}(),Ice=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,o,s,l;for(i={},o=0,s=t.length;o<s;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,o,s,l,c,h,f,p,d,m,g,w,b;for(i in r=Nk.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),d={0:0},b=r.charMap)d[(l=b[i]).old]=l.new;for(m in p=r.maxGlyphID,o)m in d||(d[m]=p++);return h=function(y){var x,A;for(x in A={},y)A[y[x]]=x;return A}(d),f=Object.keys(h).sort(function(y,x){return y-x}),g=function(){var y,x,A;for(A=[],y=0,x=f.length;y<x;y++)s=f[y],A.push(h[s]);return A}(),a=this.font.glyf.encode(o,g,d),c=this.font.loca.encode(a.offsets,g),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e}();it.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,c;for(c=[],s=0,l=n.length;s<l;s++)r=n[s],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();const $ce=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:mce,AcroFormAppearance:Ze,AcroFormButton:In,AcroFormCheckBox:rf,AcroFormChoiceField:sl,AcroFormComboBox:ul,AcroFormEditBox:tf,AcroFormListBox:ll,AcroFormPasswordField:af,AcroFormPushButton:nf,AcroFormRadioButton:cl,AcroFormTextField:ss,GState:uh,ShadingPattern:qo,TilingPattern:Zs,default:it,jsPDF:it},Symbol.toStringTag,{value:"Module"}));var Ak={exports:{}};const Rce=m_($ce);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(r,i){e.exports=i(function(){try{return Rce}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Hs<"u"?Hs:typeof window<"u"?window:typeof self<"u"?self:Hs,function(n){return function(){var r={172:function(s,l){var c=this&&this.__extends||function(){var p=function(d,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(g[b]=w[b])},p(d,m)};return function(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(d,m);function g(){this.constructor=d}d.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var h=function(){function p(d,m,g){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=g,this.doc=d.getDocument()}return p}();l.HookData=h;var f=function(p){c(d,p);function d(m,g,w,b,y,x){var A=p.call(this,m,g,x)||this;return A.cell=w,A.row=b,A.column=y,A.section=b.section,A}return d}(h);l.CellHookData=f},340:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var h=c(4),f=c(136),p=c(744),d=c(776),m=c(664),g=c(972);function w(b){b.API.autoTable=function(){for(var y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];var A;y.length===1?A=y[0]:(console.error("Use of deprecated autoTable initiation"),A=y[2]||{},A.columns=y[0],A.body=y[1]);var N=(0,d.parseInput)(this,A),P=(0,g.createTable)(this,N);return(0,m.drawTable)(this,P),this},b.API.lastAutoTable=!1,b.API.previousAutoTable=!1,b.API.autoTable.previous=!1,b.API.autoTableText=function(y,x,A,N){(0,f.default)(y,x,A,N,this)},b.API.autoTableSetDefaults=function(y){return p.DocHandler.setDefaults(y,this),this},b.autoTableSetDefaults=function(y,x){p.DocHandler.setDefaults(y,x)},b.API.autoTableHtmlToJson=function(y,x){var A;if(x===void 0&&(x=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var N=new p.DocHandler(this),P=(0,h.parseHtml)(N,y,window,x,!1),j=P.head,C=P.body,_=((A=j[0])===null||A===void 0?void 0:A.map(function(M){return M.content}))||[];return{columns:_,rows:C,data:C}},b.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},b.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),b.API.autoTable.globalDefaults||(b.API.autoTable.globalDefaults={}),b.API.autoTable.globalDefaults.addPageContent=y,this},b.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=w},136:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function c(h,f,p,d,m){d=d||{};var g=1.15,w=m.internal.scaleFactor,b=m.internal.getFontSize()/w,y=m.getLineHeightFactor?m.getLineHeightFactor():g,x=b*y,A=/\r\n|\r|\n/g,N="",P=1;if((d.valign==="middle"||d.valign==="bottom"||d.halign==="center"||d.halign==="right")&&(N=typeof h=="string"?h.split(A):h,P=N.length||1),p+=b*(2-g),d.valign==="middle"?p-=P/2*x:d.valign==="bottom"&&(p-=P*x),d.halign==="center"||d.halign==="right"){var j=b;if(d.halign==="center"&&(j*=.5),N&&P>=1){for(var C=0;C<N.length;C++)m.text(N[C],f-m.getStringUnitWidth(N[C])*j,p),p+=x;return m}f-=m.getStringUnitWidth(h)*j}return d.halign==="justify"?m.text(h,f,p,{maxWidth:d.maxWidth||100,align:"justify"}):m.text(h,f,p),m}l.default=c},420:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(m,g,w){w.applyStyles(g,!0);var b=Array.isArray(m)?m:[m],y=b.map(function(x){return w.getTextWidth(x)}).reduce(function(x,A){return Math.max(x,A)},0);return y}l.getStringWidth=c;function h(m,g,w,b){var y=g.settings.tableLineWidth,x=g.settings.tableLineColor;m.applyStyles({lineWidth:y,lineColor:x});var A=f(y,!1);A&&m.rect(w.x,w.y,g.getWidth(m.pageSize().width),b.y-w.y,A)}l.addTableBorder=h;function f(m,g){var w=m>0,b=g||g===0;return w&&b?"DF":w?"S":b?"F":null}l.getFillStyle=f;function p(m,g){var w,b,y,x;if(m=m||g,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=g}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(w=m.left)!==null&&w!==void 0?w:g,top:(b=m.top)!==null&&b!==void 0?b:g,right:(y=m.right)!==null&&y!==void 0?y:g,bottom:(x=m.bottom)!==null&&x!==void 0?x:g}):(typeof m!="number"&&(m=g),{top:m,right:m,bottom:m,left:m})}l.parseSpacing=p;function d(m,g){var w=p(g.settings.margin,0);return m.pageSize().width-(w.left+w.right)}l.getPageAvailableWidth=d},796:function(s,l){var c=this&&this.__extends||function(){var d=function(m,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,b){w.__proto__=b}||function(w,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(w[y]=b[y])},d(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(m,g);function w(){this.constructor=m}m.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var h=function(d){c(m,d);function m(g){var w=d.call(this)||this;return w._element=g,w}return m}(Array);l.HtmlRowInput=h;function f(d){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/d,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function p(d){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[d]}l.getTheme=p},903:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var h=c(420);function f(w,b,y,x,A){var N={},P=1.3333333333333333,j=d(b,function(z){return A.getComputedStyle(z).backgroundColor});j!=null&&(N.fillColor=j);var C=d(b,function(z){return A.getComputedStyle(z).color});C!=null&&(N.textColor=C);var _=g(x,y);_&&(N.cellPadding=_);var M="borderTopColor",O=P*y,T=x.borderTopWidth;if(x.borderBottomWidth===T&&x.borderRightWidth===T&&x.borderLeftWidth===T){var I=(parseFloat(T)||0)/O;I&&(N.lineWidth=I)}else N.lineWidth={top:(parseFloat(x.borderTopWidth)||0)/O,right:(parseFloat(x.borderRightWidth)||0)/O,bottom:(parseFloat(x.borderBottomWidth)||0)/O,left:(parseFloat(x.borderLeftWidth)||0)/O},N.lineWidth.top||(N.lineWidth.right?M="borderRightColor":N.lineWidth.bottom?M="borderBottomColor":N.lineWidth.left&&(M="borderLeftColor"));var L=d(b,function(z){return A.getComputedStyle(z)[M]});L!=null&&(N.lineColor=L);var U=["left","right","center","justify"];U.indexOf(x.textAlign)!==-1&&(N.halign=x.textAlign),U=["middle","bottom","top"],U.indexOf(x.verticalAlign)!==-1&&(N.valign=x.verticalAlign);var D=parseInt(x.fontSize||"");isNaN(D)||(N.fontSize=D/P);var $=p(x);$&&(N.fontStyle=$);var W=(x.fontFamily||"").toLowerCase();return w.indexOf(W)!==-1&&(N.font=W),N}l.parseCss=f;function p(w){var b="";return(w.fontWeight==="bold"||w.fontWeight==="bolder"||parseInt(w.fontWeight)>=700)&&(b="bold"),(w.fontStyle==="italic"||w.fontStyle==="oblique")&&(b+="italic"),b}function d(w,b){var y=m(w,b);if(!y)return null;var x=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!x||!Array.isArray(x))return null;var A=[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])],N=parseInt(x[4]);return N===0||isNaN(A[0])||isNaN(A[1])||isNaN(A[2])?null:A}function m(w,b){var y=b(w);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?w.parentElement==null?null:m(w.parentElement,b):y}function g(w,b){var y=[w.paddingTop,w.paddingRight,w.paddingBottom,w.paddingLeft],x=96/(72/b),A=(parseInt(w.lineHeight)-parseInt(w.fontSize))/b/2,N=y.map(function(j){return parseInt(j||"0")/x}),P=(0,h.parseSpacing)(N,0);return A>P.top&&(P.top=A),A>P.bottom&&(P.bottom=A),P}},744:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},h=function(){function f(p){this.jsPDFDocument=p,this.userStyles={textColor:p.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle,font:p.internal.getFont().fontName,lineWidth:p.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:p.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(p,d){d===void 0&&(d=null),d?d.__autoTableDocumentDefaults=p:c=p},f.unifyColor=function(p){return Array.isArray(p)?p:typeof p=="number"?[p,p,p]:typeof p=="string"?[p]:null},f.prototype.applyStyles=function(p,d){var m,g,w;d===void 0&&(d=!1),p.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(p.fontStyle);var b=this.jsPDFDocument.internal.getFont(),y=b.fontStyle,x=b.fontName;if(p.font&&(x=p.font),p.fontStyle){y=p.fontStyle;var A=this.getFontList()[x];A&&A.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(A[0]),y=A[0])}if(this.jsPDFDocument.setFont(x,y),p.fontSize&&this.jsPDFDocument.setFontSize(p.fontSize),!d){var N=f.unifyColor(p.fillColor);N&&(m=this.jsPDFDocument).setFillColor.apply(m,N),N=f.unifyColor(p.textColor),N&&(g=this.jsPDFDocument).setTextColor.apply(g,N),N=f.unifyColor(p.lineColor),N&&(w=this.jsPDFDocument).setDrawColor.apply(w,N),typeof p.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(p.lineWidth)}},f.prototype.splitTextToSize=function(p,d,m){return this.jsPDFDocument.splitTextToSize(p,d,m)},f.prototype.rect=function(p,d,m,g,w){return this.jsPDFDocument.rect(p,d,m,g,w)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(p){return this.jsPDFDocument.getTextWidth(p)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(p){this.jsPDFDocument.setPage(p)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return c||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var p=this.jsPDFDocument.internal.pageSize;return p.width==null&&(p={width:p.getWidth(),height:p.getHeight()}),p},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var p=this.jsPDFDocument;return p.getLineHeightFactor?p.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(p){return p/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var p=this.jsPDFDocument.internal.getCurrentPageInfo();return p?p.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=h},4:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var h=c(903),f=c(796);function p(g,w,b,y,x){var A,N;y===void 0&&(y=!1),x===void 0&&(x=!1);var P;typeof w=="string"?P=b.document.querySelector(w):P=w;var j=Object.keys(g.getFontList()),C=g.scaleFactor(),_=[],M=[],O=[];if(!P)return console.error("Html table could not be found with input: ",w),{head:_,body:M,foot:O};for(var T=0;T<P.rows.length;T++){var I=P.rows[T],L=(N=(A=I==null?void 0:I.parentElement)===null||A===void 0?void 0:A.tagName)===null||N===void 0?void 0:N.toLowerCase(),U=d(j,C,b,I,y,x);U&&(L==="thead"?_.push(U):L==="tfoot"?O.push(U):M.push(U))}return{head:_,body:M,foot:O}}l.parseHtml=p;function d(g,w,b,y,x,A){for(var N=new f.HtmlRowInput(y),P=0;P<y.cells.length;P++){var j=y.cells[P],C=b.getComputedStyle(j);if(x||C.display!=="none"){var _=void 0;A&&(_=(0,h.parseCss)(g,j,w,C,b)),N.push({rowSpan:j.rowSpan,colSpan:j.colSpan,styles:_,_element:j,content:m(j)})}}var M=b.getComputedStyle(y);if(N.length>0&&(x||M.display!=="none"))return N}function m(g){var w=g.cloneNode(!0);return w.innerHTML=w.innerHTML.replace(/\n/g,"").replace(/ +/g," "),w.innerHTML=w.innerHTML.split(/<br.*?>/).map(function(b){return b.trim()}).join(`
`),w.innerText||w.textContent||""}},776:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var h=c(4),f=c(356),p=c(420),d=c(744),m=c(792);function g(P,j){var C=new d.DocHandler(P),_=C.getDocumentOptions(),M=C.getGlobalOptions();(0,m.default)(C,M,_,j);var O=(0,f.assign)({},M,_,j),T;typeof window<"u"&&(T=window);var I=w(M,_,j),L=b(M,_,j),U=y(C,O),D=A(C,O,T);return{id:j.tableId,content:D,hooks:L,styles:I,settings:U}}l.parseInput=g;function w(P,j,C){for(var _={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},M=function(L){if(L==="columnStyles"){var U=P[L],D=j[L],$=C[L];_.columnStyles=(0,f.assign)({},U,D,$)}else{var W=[P,j,C],z=W.map(function(Y){return Y[L]||{}});_[L]=(0,f.assign)({},z[0],z[1],z[2])}},O=0,T=Object.keys(_);O<T.length;O++){var I=T[O];M(I)}return _}function b(P,j,C){for(var _=[P,j,C],M={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,T=_;O<T.length;O++){var I=T[O];I.didParseCell&&M.didParseCell.push(I.didParseCell),I.willDrawCell&&M.willDrawCell.push(I.willDrawCell),I.didDrawCell&&M.didDrawCell.push(I.didDrawCell),I.willDrawPage&&M.willDrawPage.push(I.willDrawPage),I.didDrawPage&&M.didDrawPage.push(I.didDrawPage)}return M}function y(P,j){var C,_,M,O,T,I,L,U,D,$,W,z,Y=(0,p.parseSpacing)(j.margin,40/P.scaleFactor()),re=(C=x(P,j.startY))!==null&&C!==void 0?C:Y.top,E;j.showFoot===!0?E="everyPage":j.showFoot===!1?E="never":E=(_=j.showFoot)!==null&&_!==void 0?_:"everyPage";var R;j.showHead===!0?R="everyPage":j.showHead===!1?R="never":R=(M=j.showHead)!==null&&M!==void 0?M:"everyPage";var q=(O=j.useCss)!==null&&O!==void 0?O:!1,ee=j.theme||(q?"plain":"striped"),H=!!j.horizontalPageBreak,te=(T=j.horizontalPageBreakRepeat)!==null&&T!==void 0?T:null;return{includeHiddenHtml:(I=j.includeHiddenHtml)!==null&&I!==void 0?I:!1,useCss:q,theme:ee,startY:re,margin:Y,pageBreak:(L=j.pageBreak)!==null&&L!==void 0?L:"auto",rowPageBreak:(U=j.rowPageBreak)!==null&&U!==void 0?U:"auto",tableWidth:(D=j.tableWidth)!==null&&D!==void 0?D:"auto",showHead:R,showFoot:E,tableLineWidth:($=j.tableLineWidth)!==null&&$!==void 0?$:0,tableLineColor:(W=j.tableLineColor)!==null&&W!==void 0?W:200,horizontalPageBreak:H,horizontalPageBreakRepeat:te,horizontalPageBreakBehaviour:(z=j.horizontalPageBreakBehaviour)!==null&&z!==void 0?z:"afterAllRows"}}function x(P,j){var C=P.getLastAutoTable(),_=P.scaleFactor(),M=P.pageNumber(),O=!1;if(C&&C.startPageNumber){var T=C.startPageNumber+C.pageNumber-1;O=T===M}return typeof j=="number"?j:(j==null||j===!1)&&O&&(C==null?void 0:C.finalY)!=null?C.finalY+20/_:null}function A(P,j,C){var _=j.head||[],M=j.body||[],O=j.foot||[];if(j.html){var T=j.includeHiddenHtml;if(C){var I=(0,h.parseHtml)(P,j.html,C,T,j.useCss)||{};_=I.head||_,M=I.body||_,O=I.foot||_}else console.error("Cannot parse html in non browser environment")}var L=j.columns||N(_,M,O);return{columns:L,head:_,body:M,foot:O}}function N(P,j,C){var _=P[0]||j[0]||C[0]||[],M=[];return Object.keys(_).filter(function(O){return O!=="_element"}).forEach(function(O){var T=1,I;Array.isArray(_)?I=_[parseInt(O)]:I=_[O],typeof I=="object"&&!Array.isArray(I)&&(T=(I==null?void 0:I.colSpan)||1);for(var L=0;L<T;L++){var U=void 0;Array.isArray(_)?U=M.length:U=O+(L>0?"_".concat(L):"");var D={dataKey:U};M.push(D)}}),M}},792:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function c(f,p,d,m){for(var g=function(x){x&&typeof x!="object"&&console.error("The options parameter should be of type object, is: "+typeof x),typeof x.extendWidth<"u"&&(x.tableWidth=x.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof x.margins<"u"&&(typeof x.margin>"u"&&(x.margin=x.margins),console.error("Use of deprecated option: margins, use margin instead.")),x.startY&&typeof x.startY!="number"&&(console.error("Invalid value for startY option",x.startY),delete x.startY),!x.didDrawPage&&(x.afterPageContent||x.beforePageContent||x.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),x.didDrawPage=function(O){f.applyStyles(f.userStyles),x.beforePageContent&&x.beforePageContent(O),f.applyStyles(f.userStyles),x.afterPageContent&&x.afterPageContent(O),f.applyStyles(f.userStyles),x.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){x[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var T=O[0],I=O[1];x[I]&&(console.error("Use of deprecated option ".concat(I,". Use ").concat(T," instead")),x[T]=x[I])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var T=typeof O=="string"?O:O[0],I=typeof O=="string"?O:O[1];typeof x[T]<"u"&&(typeof x.styles[I]>"u"&&(x.styles[I]=x[T]),console.error("Use of deprecated option: "+T+", use the style "+I+" instead."))});for(var A=0,N=["styles","bodyStyles","headStyles","footStyles"];A<N.length;A++){var P=N[A];h(x[P]||{})}for(var j=x.columnStyles||{},C=0,_=Object.keys(j);C<_.length;C++){var M=_[C];h(j[M]||{})}},w=0,b=[p,d,m];w<b.length;w++){var y=b[w];g(y)}}l.default=c;function h(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var h=c(796),f=c(172),p=c(420),d=function(){function b(y,x){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=x.columns,this.head=x.head,this.body=x.body,this.foot=x.foot}return b.prototype.getHeadHeight=function(y){return this.head.reduce(function(x,A){return x+A.getMaxCellHeight(y)},0)},b.prototype.getFootHeight=function(y){return this.foot.reduce(function(x,A){return x+A.getMaxCellHeight(y)},0)},b.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},b.prototype.callCellHooks=function(y,x,A,N,P,j){for(var C=0,_=x;C<_.length;C++){var M=_[C],O=new f.CellHookData(y,this,A,N,P,j),T=M(O)===!1;if(A.text=Array.isArray(A.text)?A.text:[A.text],T)return!1}return!0},b.prototype.callEndPageHooks=function(y,x){y.applyStyles(y.userStyles);for(var A=0,N=this.hooks.didDrawPage;A<N.length;A++){var P=N[A];P(new f.HookData(y,this,x))}},b.prototype.callWillDrawPageHooks=function(y,x){for(var A=0,N=this.hooks.willDrawPage;A<N.length;A++){var P=N[A];P(new f.HookData(y,this,x))}},b.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var x=this.columns.reduce(function(N,P){return N+P.wrappedWidth},0);return x}else{var A=this.settings.margin;return y-A.left-A.right}},b}();l.Table=d;var m=function(){function b(y,x,A,N,P){P===void 0&&(P=!1),this.height=0,this.raw=y,y instanceof h.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=x,this.section=A,this.cells=N,this.spansMultiplePages=P}return b.prototype.getMaxCellHeight=function(y){var x=this;return y.reduce(function(A,N){var P;return Math.max(A,((P=x.cells[N.index])===null||P===void 0?void 0:P.height)||0)},0)},b.prototype.hasRowSpan=function(y){var x=this;return y.filter(function(A){var N=x.cells[A.index];return N?N.rowSpan>1:!1}).length>0},b.prototype.canEntireRowFit=function(y,x){return this.getMaxCellHeight(x)<=y},b.prototype.getMinimumRowHeight=function(y,x){var A=this;return y.reduce(function(N,P){var j=A.cells[P.index];if(!j)return 0;var C=x.getLineHeight(j.styles.fontSize),_=j.padding("vertical"),M=_+C;return M>N?M:N},0)},b}();l.Row=m;var g=function(){function b(y,x,A){var N,P;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=x,this.section=A,this.raw=y;var j=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,j=(P=(N=y.content)!==null&&N!==void 0?N:y.title)!==null&&P!==void 0?P:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var C=j!=null?""+j:"",_=/\r\n|\r|\n/g;this.text=C.split(_)}return b.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var x=this.height-this.padding("vertical");y=this.y+x/2+this.padding("top")}var A;if(this.styles.halign==="right")A=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var N=this.width-this.padding("horizontal");A=this.x+N/2+this.padding("left")}else A=this.x+this.padding("left");return{x:A,y}},b.prototype.getContentHeight=function(y,x){x===void 0&&(x=1.15);var A=Array.isArray(this.text)?this.text.length:1,N=this.styles.fontSize/y*x,P=A*N+this.padding("vertical");return Math.max(P,this.styles.minCellHeight)},b.prototype.padding=function(y){var x=(0,p.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?x.top+x.bottom:y==="horizontal"?x.left+x.right:x[y]},b}();l.Cell=g;var w=function(){function b(y,x,A){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=x,this.index=A}return b.prototype.getMaxCustomCellWidth=function(y){for(var x=0,A=0,N=y.allRows();A<N.length;A++){var P=N[A],j=P.cells[this.index];j&&typeof j.styles.cellWidth=="number"&&(x=Math.max(x,j.styles.cellWidth))}return x},b}();l.Column=w},356:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(h,f,p,d,m){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(h),w=1;w<arguments.length;w++){var b=arguments[w];if(b!=null)for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(g[y]=b[y])}return g}l.assign=c},972:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var h=c(744),f=c(260),p=c(324),d=c(796),m=c(356);function g(P,j){var C=new h.DocHandler(P),_=w(j,C.scaleFactor()),M=new f.Table(j,_);return(0,p.calculateWidths)(C,M),C.applyStyles(C.userStyles),M}l.createTable=g;function w(P,j){var C=P.content,_=A(C.columns);if(C.head.length===0){var M=y(_,"head");M&&C.head.push(M)}if(C.foot.length===0){var M=y(_,"foot");M&&C.foot.push(M)}var O=P.settings.theme,T=P.styles;return{columns:_,head:b("head",C.head,_,T,O,j),body:b("body",C.body,_,T,O,j),foot:b("foot",C.foot,_,T,O,j)}}function b(P,j,C,_,M,O){var T={},I=j.map(function(L,U){for(var D=0,$={},W=0,z=0,Y=0,re=C;Y<re.length;Y++){var E=re[Y];if(T[E.index]==null||T[E.index].left===0)if(z===0){var R=void 0;Array.isArray(L)?R=L[E.index-W-D]:R=L[E.dataKey];var q={};typeof R=="object"&&!Array.isArray(R)&&(q=(R==null?void 0:R.styles)||{});var ee=N(P,E,U,M,_,O,q),H=new f.Cell(R,ee,P);$[E.dataKey]=H,$[E.index]=H,z=H.colSpan-1,T[E.index]={left:H.rowSpan-1,times:z}}else z--,W++;else T[E.index].left--,z=T[E.index].times,D++}return new f.Row(L,U,P,$)});return I}function y(P,j){var C={};return P.forEach(function(_){if(_.raw!=null){var M=x(j,_.raw);M!=null&&(C[_.dataKey]=M)}}),Object.keys(C).length>0?C:null}function x(P,j){if(P==="head"){if(typeof j=="object")return j.header||j.title||null;if(typeof j=="string"||typeof j=="number")return j}else if(P==="foot"&&typeof j=="object")return j.footer;return null}function A(P){return P.map(function(j,C){var _,M,O;return typeof j=="object"?O=(M=(_=j.dataKey)!==null&&_!==void 0?_:j.key)!==null&&M!==void 0?M:C:O=C,new f.Column(O,j,C)})}function N(P,j,C,_,M,O,T){var I=(0,d.getTheme)(_),L;P==="head"?L=M.headStyles:P==="body"?L=M.bodyStyles:P==="foot"&&(L=M.footStyles);var U=(0,m.assign)({},I.table,I[P],M.styles,L),D=M.columnStyles[j.dataKey]||M.columnStyles[j.index]||{},$=P==="body"?D:{},W=P==="body"&&C%2===0?(0,m.assign)({},I.alternateRow,M.alternateRowStyles):{},z=(0,d.defaultStyles)(O),Y=(0,m.assign)({},z,U,W,$);return(0,m.assign)(Y,T)}},664:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var h=c(420),f=c(260),p=c(744),d=c(356),m=c(136),g=c(224);function w(D,$){var W=$.settings,z=W.startY,Y=W.margin,re={x:Y.left,y:z},E=$.getHeadHeight($.columns)+$.getFootHeight($.columns),R=z+Y.bottom+E;if(W.pageBreak==="avoid"){var q=$.body,ee=q.reduce(function(X,G){return X+G.height},0);R+=ee}var H=new p.DocHandler(D);(W.pageBreak==="always"||W.startY!=null&&R>H.pageSize().height)&&(U(H),re.y=Y.top),$.callWillDrawPageHooks(H,re);var te=(0,d.assign)({},re);$.startPageNumber=H.pageNumber(),W.horizontalPageBreak?b(H,$,te,re):(H.applyStyles(H.userStyles),(W.showHead==="firstPage"||W.showHead==="everyPage")&&$.head.forEach(function(X){return M(H,$,X,re,$.columns)}),H.applyStyles(H.userStyles),$.body.forEach(function(X,G){var ce=G===$.body.length-1;_(H,$,X,ce,te,re,$.columns)}),H.applyStyles(H.userStyles),(W.showFoot==="lastPage"||W.showFoot==="everyPage")&&$.foot.forEach(function(X){return M(H,$,X,re,$.columns)})),(0,h.addTableBorder)(H,$,te,re),$.callEndPageHooks(H,re),$.finalY=re.y,D.lastAutoTable=$,D.previousAutoTable=$,D.autoTable&&(D.autoTable.previous=$),H.applyStyles(H.userStyles)}l.drawTable=w;function b(D,$,W,z){var Y=(0,g.calculateAllColumnsCanFitInPage)(D,$),re=$.settings;if(re.horizontalPageBreakBehaviour==="afterAllRows")Y.forEach(function(ee,H){D.applyStyles(D.userStyles),H>0?L(D,$,W,z,ee.columns,!0):y(D,$,z,ee.columns),x(D,$,W,z,ee.columns),N(D,$,z,ee.columns)});else for(var E=-1,R=Y[0],q=function(){var ee=E;if(R){D.applyStyles(D.userStyles);var H=R.columns;E>=0?L(D,$,W,z,H,!0):y(D,$,z,H),ee=A(D,$,E+1,z,H),N(D,$,z,H)}var te=ee-E;Y.slice(1).forEach(function(X){D.applyStyles(D.userStyles),L(D,$,W,z,X.columns,!0),A(D,$,E+1,z,X.columns,te),N(D,$,z,X.columns)}),E=ee};E<$.body.length-1;)q()}function y(D,$,W,z){var Y=$.settings;D.applyStyles(D.userStyles),(Y.showHead==="firstPage"||Y.showHead==="everyPage")&&$.head.forEach(function(re){return M(D,$,re,W,z)})}function x(D,$,W,z,Y){D.applyStyles(D.userStyles),$.body.forEach(function(re,E){var R=E===$.body.length-1;_(D,$,re,R,W,z,Y)})}function A(D,$,W,z,Y,re){D.applyStyles(D.userStyles),re=re??$.body.length;var E=Math.min(W+re,$.body.length),R=-1;return $.body.slice(W,E).forEach(function(q,ee){var H=W+ee===$.body.length-1,te=I(D,$,H,z);q.canEntireRowFit(te,Y)&&(M(D,$,q,z,Y),R=W+ee)}),R}function N(D,$,W,z){var Y=$.settings;D.applyStyles(D.userStyles),(Y.showFoot==="lastPage"||Y.showFoot==="everyPage")&&$.foot.forEach(function(re){return M(D,$,re,W,z)})}function P(D,$,W){var z=W.getLineHeight(D.styles.fontSize),Y=D.padding("vertical"),re=Math.floor(($-Y)/z);return Math.max(0,re)}function j(D,$,W,z){var Y={};D.spansMultiplePages=!0,D.height=0;for(var re=0,E=0,R=W.columns;E<R.length;E++){var q=R[E],ee=D.cells[q.index];if(ee){Array.isArray(ee.text)||(ee.text=[ee.text]);var H=new f.Cell(ee.raw,ee.styles,ee.section);H=(0,d.assign)(H,ee),H.text=[];var te=P(ee,$,z);ee.text.length>te&&(H.text=ee.text.splice(te,ee.text.length));var X=z.scaleFactor(),G=z.getLineHeightFactor();ee.contentHeight=ee.getContentHeight(X,G),ee.contentHeight>=$&&(ee.contentHeight=$,H.styles.minCellHeight-=$),ee.contentHeight>D.height&&(D.height=ee.contentHeight),H.contentHeight=H.getContentHeight(X,G),H.contentHeight>re&&(re=H.contentHeight),Y[q.index]=H}}var ce=new f.Row(D.raw,-1,D.section,Y,!0);ce.height=re;for(var ae=0,le=W.columns;ae<le.length;ae++){var q=le[ae],H=ce.cells[q.index];H&&(H.height=ce.height);var ee=D.cells[q.index];ee&&(ee.height=D.height)}return ce}function C(D,$,W,z){var Y=D.pageSize().height,re=z.settings.margin,E=re.top+re.bottom,R=Y-E;$.section==="body"&&(R-=z.getHeadHeight(z.columns)+z.getFootHeight(z.columns));var q=$.getMinimumRowHeight(z.columns,D),ee=q<W;if(q>R)return console.error("Will not be able to print row ".concat($.index," correctly since it's minimum height is larger than page height")),!0;if(!ee)return!1;var H=$.hasRowSpan(z.columns),te=$.getMaxCellHeight(z.columns)>R;return te?(H&&console.error("The content of row ".concat($.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(H||z.settings.rowPageBreak==="avoid")}function _(D,$,W,z,Y,re,E){var R=I(D,$,z,re);if(W.canEntireRowFit(R,E))M(D,$,W,re,E);else if(C(D,W,R,$)){var q=j(W,R,$,D);M(D,$,W,re,E),L(D,$,Y,re,E),_(D,$,q,z,Y,re,E)}else L(D,$,Y,re,E),_(D,$,W,z,Y,re,E)}function M(D,$,W,z,Y){z.x=$.settings.margin.left;for(var re=0,E=Y;re<E.length;re++){var R=E[re],q=W.cells[R.index];if(!q){z.x+=R.width;continue}D.applyStyles(q.styles),q.x=z.x,q.y=z.y;var ee=$.callCellHooks(D,$.hooks.willDrawCell,q,W,R,z);if(ee===!1){z.x+=R.width;continue}O(D,q,z);var H=q.getTextPos();(0,m.default)(q.text,H.x,H.y,{halign:q.styles.halign,valign:q.styles.valign,maxWidth:Math.ceil(q.width-q.padding("left")-q.padding("right"))},D.getDocument()),$.callCellHooks(D,$.hooks.didDrawCell,q,W,R,z),z.x+=R.width}z.y+=W.height}function O(D,$,W){var z=$.styles;if(D.getDocument().setFillColor(D.getDocument().getFillColor()),typeof z.lineWidth=="number"){var Y=(0,h.getFillStyle)(z.lineWidth,z.fillColor);Y&&D.rect($.x,W.y,$.width,$.height,Y)}else typeof z.lineWidth=="object"&&(z.fillColor&&D.rect($.x,W.y,$.width,$.height,"F"),T(D,$,W,z.lineWidth))}function T(D,$,W,z){var Y,re,E,R;z.top&&(Y=W.x,re=W.y,E=W.x+$.width,R=W.y,z.right&&(E+=.5*z.right),z.left&&(Y-=.5*z.left),q(z.top,Y,re,E,R)),z.bottom&&(Y=W.x,re=W.y+$.height,E=W.x+$.width,R=W.y+$.height,z.right&&(E+=.5*z.right),z.left&&(Y-=.5*z.left),q(z.bottom,Y,re,E,R)),z.left&&(Y=W.x,re=W.y,E=W.x,R=W.y+$.height,z.top&&(re-=.5*z.top),z.bottom&&(R+=.5*z.bottom),q(z.left,Y,re,E,R)),z.right&&(Y=W.x+$.width,re=W.y,E=W.x+$.width,R=W.y+$.height,z.top&&(re-=.5*z.top),z.bottom&&(R+=.5*z.bottom),q(z.right,Y,re,E,R));function q(ee,H,te,X,G){D.getDocument().setLineWidth(ee),D.getDocument().line(H,te,X,G,"S")}}function I(D,$,W,z){var Y=$.settings.margin.bottom,re=$.settings.showFoot;return(re==="everyPage"||re==="lastPage"&&W)&&(Y+=$.getFootHeight($.columns)),D.pageSize().height-z.y-Y}function L(D,$,W,z,Y,re){Y===void 0&&(Y=[]),re===void 0&&(re=!1),D.applyStyles(D.userStyles),$.settings.showFoot==="everyPage"&&!re&&$.foot.forEach(function(R){return M(D,$,R,z,Y)}),$.callEndPageHooks(D,z);var E=$.settings.margin;(0,h.addTableBorder)(D,$,W,z),U(D),$.pageNumber++,$.pageCount++,z.x=E.left,z.y=E.top,W.y=E.top,$.callWillDrawPageHooks(D,z),$.settings.showHead==="everyPage"&&($.head.forEach(function(R){return M(D,$,R,z,Y)}),D.applyStyles(D.userStyles))}l.addPage=L;function U(D){var $=D.pageNumber();D.setPage($+1);var W=D.pageNumber();return W===$?(D.addPage(),!0):!1}},224:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var h=c(420);function f(d,m,g){var w;g===void 0&&(g={});var b=(0,h.getPageAvailableWidth)(d,m),y=new Map,x=[],A=[],N=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?N=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(N=[m.settings.horizontalPageBreakRepeat]),N.forEach(function(_){var M=m.columns.find(function(O){return O.dataKey===_||O.index===_});M&&!y.has(M.index)&&(y.set(M.index,!0),x.push(M.index),A.push(m.columns[M.index]),b-=M.wrappedWidth)});for(var P=!0,j=(w=g==null?void 0:g.start)!==null&&w!==void 0?w:0;j<m.columns.length;){if(y.has(j)){j++;continue}var C=m.columns[j].wrappedWidth;if(P||b>=C)P=!1,x.push(j),A.push(m.columns[j]),b-=C;else break;j++}return{colIndexes:x,columns:A,lastIndex:j-1}}function p(d,m){for(var g=[],w=0;w<m.columns.length;w++){var b=f(d,m,{start:w});b.columns.length&&(g.push(b),w=b.lastIndex)}return g}l.calculateAllColumnsCanFitInPage=p},324:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var h=c(420);function f(x,A){p(x,A);var N=[],P=0;A.columns.forEach(function(C){var _=C.getMaxCustomCellWidth(A);_?C.width=_:(C.width=C.wrappedWidth,N.push(C)),P+=C.width});var j=A.getWidth(x.pageSize().width)-P;j&&(j=d(N,j,function(C){return Math.max(C.minReadableWidth,C.minWidth)})),j&&(j=d(N,j,function(C){return C.minWidth})),j=Math.abs(j),!A.settings.horizontalPageBreak&&j>.1/x.scaleFactor()&&(j=j<1?j:Math.round(j),console.warn("Of the table content, ".concat(j," units width could not fit page"))),g(A),w(A,x),m(A)}l.calculateWidths=f;function p(x,A){var N=x.scaleFactor(),P=A.settings.horizontalPageBreak,j=(0,h.getPageAvailableWidth)(x,A);A.allRows().forEach(function(C){for(var _=0,M=A.columns;_<M.length;_++){var O=M[_],T=C.cells[O.index];if(T){var I=A.hooks.didParseCell;A.callCellHooks(x,I,T,C,O,null);var L=T.padding("horizontal");T.contentWidth=(0,h.getStringWidth)(T.text,T.styles,x)+L;var U=(0,h.getStringWidth)(T.text.join(" ").split(/[^\S\u00A0]+/),T.styles,x);if(T.minReadableWidth=U+T.padding("horizontal"),typeof T.styles.cellWidth=="number")T.minWidth=T.styles.cellWidth,T.wrappedWidth=T.styles.cellWidth;else if(T.styles.cellWidth==="wrap"||P===!0)T.contentWidth>j?(T.minWidth=j,T.wrappedWidth=j):(T.minWidth=T.contentWidth,T.wrappedWidth=T.contentWidth);else{var D=10/N;T.minWidth=T.styles.minCellWidth||D,T.wrappedWidth=T.contentWidth,T.minWidth>T.wrappedWidth&&(T.wrappedWidth=T.minWidth)}}}}),A.allRows().forEach(function(C){for(var _=0,M=A.columns;_<M.length;_++){var O=M[_],T=C.cells[O.index];if(T&&T.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,T.wrappedWidth),O.minWidth=Math.max(O.minWidth,T.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,T.minReadableWidth);else{var I=A.styles.columnStyles[O.dataKey]||A.styles.columnStyles[O.index]||{},L=I.cellWidth||I.minCellWidth;L&&typeof L=="number"&&(O.minWidth=L,O.wrappedWidth=L)}T&&(T.colSpan>1&&!O.minWidth&&(O.minWidth=T.minWidth),T.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=T.minWidth))}})}function d(x,A,N){for(var P=A,j=x.reduce(function(D,$){return D+$.wrappedWidth},0),C=0;C<x.length;C++){var _=x[C],M=_.wrappedWidth/j,O=P*M,T=_.width+O,I=N(_),L=T<I?I:T;A-=L-_.width,_.width=L}if(A=Math.round(A*1e10)/1e10,A){var U=x.filter(function(D){return A<0?D.width>N(D):!0});U.length&&(A=d(U,A,N))}return A}l.resizeColumns=d;function m(x){for(var A={},N=1,P=x.allRows(),j=0;j<P.length;j++)for(var C=P[j],_=0,M=x.columns;_<M.length;_++){var O=M[_],T=A[O.index];if(N>1)N--,delete C.cells[O.index];else if(T)T.cell.height+=C.height,N=T.cell.colSpan,delete C.cells[O.index],T.left--,T.left<=1&&delete A[O.index];else{var I=C.cells[O.index];if(!I)continue;if(I.height=C.height,I.rowSpan>1){var L=P.length-j,U=I.rowSpan>L?L:I.rowSpan;A[O.index]={cell:I,left:U,row:C}}}}}function g(x){for(var A=x.allRows(),N=0;N<A.length;N++)for(var P=A[N],j=null,C=0,_=0,M=0;M<x.columns.length;M++){var O=x.columns[M];if(_-=1,_>1&&x.columns[M+1])C+=O.width,delete P.cells[O.index];else if(j){var T=j;delete P.cells[O.index],j=null,T.width=O.width+C}else{var T=P.cells[O.index];if(!T)continue;if(_=T.colSpan,C=0,T.colSpan>1){j=T,C+=O.width;continue}T.width=O.width+C}}}function w(x,A){for(var N={count:0,height:0},P=0,j=x.allRows();P<j.length;P++){for(var C=j[P],_=0,M=x.columns;_<M.length;_++){var O=M[_],T=C.cells[O.index];if(T){A.applyStyles(T.styles,!0);var I=T.width-T.padding("horizontal");if(T.styles.overflow==="linebreak")T.text=A.splitTextToSize(T.text,I+1/A.scaleFactor(),{fontSize:T.styles.fontSize});else if(T.styles.overflow==="ellipsize")T.text=b(T.text,I,T.styles,A,"...");else if(T.styles.overflow==="hidden")T.text=b(T.text,I,T.styles,A,"");else if(typeof T.styles.overflow=="function"){var L=T.styles.overflow(T.text,I);typeof L=="string"?T.text=[L]:T.text=L}T.contentHeight=T.getContentHeight(A.scaleFactor(),A.getLineHeightFactor());var U=T.contentHeight/T.rowSpan;T.rowSpan>1&&N.count*N.height<U*T.rowSpan?N={height:U,count:T.rowSpan}:N&&N.count>0&&N.height>U&&(U=N.height),U>C.height&&(C.height=U)}}N.count--}}function b(x,A,N,P,j){return x.map(function(C){return y(C,A,N,P,j)})}l.ellipsize=b;function y(x,A,N,P,j){var C=1e4*P.scaleFactor();if(A=Math.ceil(A*C)/C,A>=(0,h.getStringWidth)(x,N,P))return x;for(;A<(0,h.getStringWidth)(x+j,N,P)&&!(x.length<=1);)x=x.substring(0,x.length-1);return x.trim()+j}},964:function(s){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}s.exports=n}},i={};function a(s){var l=i[s];if(l!==void 0)return l.exports;var c=i[s]={exports:{}};return r[s].call(c.exports,c,c.exports,a),c.exports}var o={};return function(){var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var l=a(340),c=a(776),h=a(664),f=a(972),p=a(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return p.Table}});var d=a(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return d.CellHookData}});var m=a(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return m.Row}});function g(A){(0,l.default)(A)}s.applyPlugin=g;function w(A,N){var P=(0,c.parseInput)(A,N),j=(0,f.createTable)(A,P);(0,h.drawTable)(A,j)}function b(A,N){var P=(0,c.parseInput)(A,N);return(0,f.createTable)(A,P)}s.__createTable=b;function y(A,N){(0,h.drawTable)(A,N)}s.__drawTable=y;try{var x=a(964);x.jsPDF&&(x=x.jsPDF),g(x)}catch{}s.default=w}(),o}()})})(Ak);var Bce=Ak.exports;const Jp=Rt(Bce);async function Pk(e,t,n,r="flight-report"){const i=new it;let a=20;const o=[251,191,36],s=[31,41,55],l=[34,197,94],c=[239,68,68];i.setFillColor(...o),i.rect(0,0,210,40,"F"),i.setFontSize(24),i.setTextColor(255,255,255),i.setFont(void 0,"bold"),i.text("FLIGHT REPORT",105,25,{align:"center"}),a=50,i.setFillColor(245,245,245),i.roundedRect(15,a-5,180,45,3,3,"F"),i.setFontSize(12),i.setTextColor(...s),i.setFont(void 0,"normal"),i.text(`Flight: ${e.metadata.name}`,20,a),a+=7,i.text(`Date: ${at(new Date,"dd/MM/yyyy")}`,20,a),a+=7,i.text(`Aircraft: ${e.configuration.aircraftModel||"C-130"}`,20,a),a+=7,i.text(`Start Time: ${at(e.configuration.startTime,"HH:mm")}`,20,a);const h=e.legs[e.legs.length-1],f=h==null?void 0:h.waypoints[h.waypoints.length-1];if(f!=null&&f.eta&&(i.text(`Final ETA: ${at(f.eta,"HH:mm")}`,120,a-21),f.actualTime)){const P=f.actualTime.getTime()>f.eta.getTime();i.setTextColor(...P?c:l),i.text(`Actual Arrival: ${at(f.actualTime,"HH:mm")}`,120,a-14),i.setTextColor(...s)}a+=20,i.setFillColor(...o),i.rect(15,a-5,180,10,"F"),i.setFontSize(14),i.setFont(void 0,"bold"),i.setTextColor(255,255,255),i.text("Fuel Readings",20,a+2),i.setTextColor(...s),i.setFont(void 0,"normal"),a+=15;const p=e.legs.find(P=>P.type==="taxi"),d=(p==null?void 0:p.fuelReads)||[],m=[...d,...t||[]];if(m.length>0){const P=m.map(j=>{const C=mr(j.fuelGauges),M=d.includes(j)||j.waypointId==="taxi-start"?"Starting Fuel":j.waypointId||"Free Point";return[at(j.time,"HH:mm"),M,C.toFixed(1),j.eicasFOB.toFixed(1),j.fuelUsedAtBOP.toFixed(1),j.fuelGapFromPlan.toFixed(1),j.note||""]});Jp(i,{startY:a,head:[["Time","Waypoint",`Gauges
Total`,`EICAS
FOB`,`Fuel
Used`,`Gap from
Plan`,"Note"]],body:P,theme:"striped",headStyles:{fillColor:s,fontSize:9,cellPadding:2},bodyStyles:{fontSize:8,cellPadding:2,overflow:"linebreak"},margin:{left:15,right:15},columnStyles:{0:{cellWidth:15},1:{cellWidth:25},2:{cellWidth:18},3:{cellWidth:18},4:{cellWidth:18},5:{cellWidth:20},6:{cellWidth:66,overflow:"linebreak",fontSize:7}},tableWidth:"auto"}),a=i.lastAutoTable.finalY+15}else i.setFontSize(10),i.text("No fuel readings recorded",20,a),a+=15;i.setFillColor(...o),i.rect(15,a-5,180,10,"F"),i.setFontSize(14),i.setFont(void 0,"bold"),i.setTextColor(255,255,255),i.text("Updated Waypoints",20,a+2),i.setTextColor(...s),i.setFont(void 0,"normal"),a+=15;const g=[];if(e.legs.forEach((P,j)=>{P.waypoints.forEach(C=>{var _,M;C.isActual&&g.push([`Leg ${j+1}`,C.name,C.eta?at(C.eta,"HH:mm"):"--",C.actualTime?at(C.actualTime,"HH:mm"):"--",((_=C.fob)==null?void 0:_.toFixed(1))||"--",((M=C.actualFob)==null?void 0:M.toFixed(1))||"--",C.groundSpeed||"--",C.actualGroundSpeed||"--",C.note||""])})}),g.length>0?(Jp(i,{startY:a,head:[["Leg","Waypoint",`Plan
ETA`,`Actual
ETA`,`Plan
FOB`,`Actual
FOB`,`Plan
GS`,`Actual
GS`,"Note"]],body:g,theme:"striped",headStyles:{fillColor:s,fontSize:8,cellPadding:2},bodyStyles:{fontSize:7,cellPadding:2},margin:{left:15,right:15},columnStyles:{0:{cellWidth:10},1:{cellWidth:25},2:{cellWidth:15},3:{cellWidth:15},4:{cellWidth:12},5:{cellWidth:12},6:{cellWidth:12},7:{cellWidth:12},8:{cellWidth:67,overflow:"linebreak",fontSize:6}},tableWidth:"auto",didParseCell:function(P){if(P.section==="body"&&P.column.index===5){const j=parseFloat(P.row.raw[4]),C=parseFloat(P.row.raw[5]);!isNaN(j)&&!isNaN(C)&&(C<j?P.cell.styles.textColor=c:C>j&&(P.cell.styles.textColor=l))}if(P.section==="body"&&P.column.index===3){const j=P.row.raw[2],C=P.row.raw[3];j!=="--"&&C!=="--"&&j<C?P.cell.styles.textColor=c:j!=="--"&&C!=="--"&&j>C&&(P.cell.styles.textColor=l)}}}),a=i.lastAutoTable.finalY+15):(i.setFontSize(10),i.text("No waypoints were updated",20,a),a+=15),a>250&&(i.addPage(),a=20),i.setFillColor(...o),i.rect(15,a-5,180,10,"F"),i.setFontSize(14),i.setFont(void 0,"bold"),i.setTextColor(255,255,255),i.text("Action Log",20,a+2),i.setTextColor(...s),i.setFont(void 0,"normal"),a+=15,n.length>0){const P=(C,_)=>{C=C.replace(/([,;:|])(?=\S)/g,"$1 ");const M=C.split(/\s+/),O=[];let T="";return M.forEach(I=>{if(I.length>_){T&&(O.push(T),T="");for(let L=0;L<I.length;L+=_-5){const U=I.substring(L,L+_-5);O.push(U+(L+_-5<I.length?"-":""))}}else T.length+I.length+1>_?(T&&O.push(T),T=I):T=T?T+" "+I:I}),T&&O.push(T),O.join(`
`)},j=n.map(C=>{let _=C.details;return _.length>250&&(_=_.substring(0,247)+"..."),_=P(_,55),[at(C.timestamp,"HH:mm"),C.action.length>30?C.action.substring(0,27)+"...":C.action,_]});Jp(i,{startY:a,head:[["Time","Action","Details"]],body:j,theme:"grid",headStyles:{fillColor:s,textColor:[255,255,255],fontSize:9,cellPadding:3,halign:"left"},bodyStyles:{fontSize:9,cellPadding:4,overflow:"linebreak",cellWidth:"wrap",valign:"top",lineColor:[200,200,200],lineWidth:.1},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:15,right:15},columnStyles:{0:{cellWidth:20,halign:"center"},1:{cellWidth:40,overflow:"hidden"},2:{cellWidth:105,overflow:"linebreak",fontSize:7.5,cellPadding:2,minCellHeight:8}},tableWidth:165,styles:{overflow:"linebreak",fontSize:9},showHead:"everyPage",pageBreak:"auto",rowPageBreak:"auto",willDrawCell:function(C){if(C.section==="body"&&C.column.index===2){const _=C.cell.text.join(" ");if(_.includes("FOB:")||_.includes("Time:")){const M=_.match(/FOB:\s*\+/),O=_.match(/FOB:\s*-/),T=_.match(/Time:\s*\+/),I=_.match(/Time:\s*-/);M||I?C.cell.styles.textColor=l:(O||T)&&(C.cell.styles.textColor=c)}}}}),a=i.lastAutoTable.finalY+15}else i.setFontSize(10),i.text("No actions logged",20,a),a+=15;a>220&&(i.addPage(),a=20),i.setFillColor(...o),i.rect(15,a-5,180,10,"F"),i.setFontSize(14),i.setFont(void 0,"bold"),i.setTextColor(255,255,255),i.text("Flight Summary",20,a+2),i.setTextColor(...s),i.setFont(void 0,"normal"),a+=15;const w=e.legs.reduce((P,j)=>P+(j.distance||0),0),b=e.configuration.fuelOnBoard||0,y=(f==null?void 0:f.actualFob)||(f==null?void 0:f.fob)||0,x=b-y,A=[["Total Distance",`${w.toFixed(0)} nm`],["Planned Fuel",`${b.toFixed(1)} klb`],["Final Fuel",`${y.toFixed(1)} klb`],["Fuel Used",`${x.toFixed(1)} klb`],["Number of Legs",e.legs.length.toString()],["Waypoints Updated",g.length.toString()],["Actions Logged",n.length.toString()]];Jp(i,{startY:a,body:A,theme:"plain",margin:{left:15,right:100},styles:{fontSize:11,cellPadding:3},alternateRowStyles:{fillColor:[250,250,250]},columnStyles:{0:{fontStyle:"bold",textColor:s},1:{halign:"right",textColor:o,fontStyle:"bold"}}});const N=i.internal.getNumberOfPages();for(let P=1;P<=N;P++)i.setPage(P),i.setFontSize(8),i.setTextColor(150,150,150),i.text(`Page ${P} of ${N}`,105,285,{align:"center"}),i.text(`Generated on ${at(new Date,"dd/MM/yyyy HH:mm")}`,15,285);i.save(`${r}.pdf`)}async function Ck(e,t="flight-data"){const n={metadata:{exportDate:new Date().toISOString(),version:"1.0",...e.metadata},configuration:e.configuration,legs:e.legs,fuel:e.fuel,alternates:e.alternates,remarks:e.remarks},r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.download=`${t}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}async function Ok(e){return prompt("Save flight report as:",e)}function Wce(){const e=He(Y=>Y.activePlan),t=He(Y=>Y.actualPlan),n=He(Y=>Y.updateActualPlan),r=He(Y=>Y.setCurrentLeg),i=He(Y=>Y.setCurrentLegIndex);He(Y=>Y.currentLegId);const a=He(Y=>Y.currentLegIndex),o=He(Y=>Y.actionLog),s=He(Y=>Y.addActionLogEntry);He(Y=>Y.fuelReads);const l=He(Y=>Y.clearAllUserInputs),c=Ur(Y=>Y.setAppFlow),[h,f]=se.useState("fuel"),[p,d]=se.useState(a),[m,g]=se.useState(!1),[w,b]=se.useState(!1),[y,x]=se.useState(!1),[A,N]=se.useState(!1),[P,j]=se.useState(!1),{isConnected:C,sendTakeoff:_,sendPlanUpdate:M}=e5();if(console.log("EngineerView - activePlan:",e),console.log("EngineerView - actualPlan:",t),!e||!t)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Flight Plan"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"The flight plan could not be loaded."}),u.jsx(Ke,{onClick:()=>c({type:"planning"}),children:"Back to Planning"})]})});const O=[{id:"fuel",label:"Fuel",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:"progress",label:"Progress",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"waypoints",label:"Waypoints",icon:u.jsxs("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"graph",label:"Graph",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}],T=()=>{a===0&&g(!0)},I=Y=>{const re={...t,configuration:{...t.configuration,startTime:Y},legs:t.legs.map((E,R)=>({...E,waypoints:E.waypoints.map((q,ee)=>{let H=0;for(let X=0;X<R;X++)t.legs[X].waypoints.forEach(ce=>{H+=ce.eet||0});for(let X=0;X<=ee;X++)H+=E.waypoints[X].eet||0;const te=new Date(Y.getTime()+H*60*1e3);return{...q,eta:te}})}))};n(re),s("TAKEOFF",`Takeoff confirmed at ${at(Y,"HH:mm")}`),C&&(_(Y),M(re)),t.legs.length>1&&(i(1),r(t.legs[1].id),d(1))},L=()=>{x(!0)},U=async()=>{x(!1);try{const Y=await Ok(`${t.metadata.name.replace(/[^a-z0-9]/gi,"_")}_${at(new Date,"yyyy-MM-dd")}`);if(Y){const re=[];t.legs.forEach(E=>{E.fuelReads&&E.fuelReads.length>0&&re.push(...E.fuelReads)}),await Pk(t,re,o,Y),await Ck(t,`${Y}_data`),alert("Flight report and data exported successfully!")}c({type:"planning"})}catch(Y){console.error("Error exporting flight data:",Y),alert("Error exporting flight data. Please try again.")}},D=()=>{switch(h){case"fuel":return u.jsx(ZF,{});case"progress":return u.jsx(Oue,{selectedLegIndex:p});case"waypoints":return u.jsx(ek,{});case"graph":return u.jsx(tk,{});default:return null}},$=t.legs[t.legs.length-1],W=$==null?void 0:$.waypoints[$.waypoints.length-1],z=(W==null?void 0:W.eta)||t.configuration.startTime;return u.jsxs(Qw,{children:[u.jsxs("div",{className:"h-full grid",style:{gridTemplateRows:"auto auto 1fr auto"},children:[u.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{children:u.jsx("h1",{className:"text-lg font-bold text-black-1",children:t.metadata.name})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{size:"sm",variant:"secondary",onClick:()=>c({type:"welcome"}),children:" Home"}),u.jsxs(Ke,{size:"sm",variant:"secondary",onClick:()=>N(!0),className:"flex items-center gap-1",children:[u.jsx(Mue,{size:16}),"970 2/3 Calc"]}),u.jsx(Ke,{size:"sm",variant:"danger",onClick:()=>{confirm(`Are you sure you want to clear all input data?

This will remove:
 All fuel readings
 All waypoint updates
 970 2/3 calculations
 Action log entries`)&&(l(),s("SYSTEM","All user inputs cleared"))},children:"Clear inputs data"}),u.jsx(Ke,{size:"sm",variant:C?"success":"secondary",onClick:()=>b(!0),children:C?" Synced":" Sync"}),a===0&&u.jsxs(Ke,{size:"sm",variant:"primary",onClick:T,children:[" ",t.configuration.startTime&&t.configuration.startTime instanceof Date&&t.configuration.startTime.getTime()>0?"Update Takeoff":"Takeoff"]}),u.jsx(Ke,{size:"sm",variant:"danger",onClick:L,children:" End Flight"})]})]})}),u.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-2",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex gap-2 overflow-x-auto",children:t.legs.map((Y,re)=>u.jsx("button",{onClick:()=>{if(a===0&&re>0&&!(t.configuration.startTime&&t.configuration.startTime instanceof Date&&t.configuration.startTime.getTime()>0)){j(!0);return}d(re),r(Y.id),i(re)},className:tt("px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors",p===re?"bg-yellow-400 text-black":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(()=>{var q,ee;if(Y.type==="taxi")return"Taxi";const R=t.legs.slice(0,re+1).filter(H=>H.type!=="taxi").length;try{if(Y.waypoints&&Array.isArray(Y.waypoints)&&Y.waypoints.length>=2){const H=(q=Y.waypoints[0])==null?void 0:q.name,te=(ee=Y.waypoints[Y.waypoints.length-1])==null?void 0:ee.name;if(H&&te&&typeof H=="string"&&typeof te=="string")return`${R}. ${H} - ${te}`}}catch(H){console.warn("Error getting waypoint names for leg",re,H)}return`${R}. Leg`})()},Y.id))}),a>0&&u.jsxs("div",{className:"ml-4 text-center",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"ETA"}),u.jsx("p",{className:"text-2xl font-bold text-black",children:at(z,"HH:mm")})]})]})}),u.jsx("div",{className:"overflow-y-auto bg-background p-4",children:D()}),u.jsx(KF,{tabs:O,activeTab:h,onTabChange:f})]}),u.jsx(Zw,{isOpen:m,onClose:()=>g(!1),onConfirm:I}),u.jsx(nk,{isOpen:w,onClose:()=>b(!1)}),u.jsx(gl,{isOpen:y,onClose:()=>x(!1),onConfirm:U,title:"End Flight",message:"Are you sure you want to end this flight? You will be prompted to save the flight report.",confirmText:"End Flight",cancelText:"Cancel",variant:"warning"}),u.jsx(Iue,{isOpen:A,onClose:()=>N(!1)}),u.jsx(gl,{isOpen:P,onClose:()=>j(!1),title:"Takeoff Required",message:"Enter takeoff time to start the next leg",confirmText:"",variant:"warning",children:u.jsx("div",{className:"flex justify-center mt-4",children:u.jsx(Ke,{variant:"primary",onClick:()=>{j(!1),g(!0)},children:" Takeoff"})})})]})}function Uce({selectedLegIndex:e=0}){const t=He(d=>d.actualPlan),n=He(d=>d.currentLegIndex);if(!t)return null;const r=e!==void 0?e:n,i=t.legs.flatMap(d=>d.waypoints),a=i.filter(d=>d.isActual),o=a.length/i.length*100,s=t.configuration.startTime,l=h6(new Date,s),c=Math.floor(l/60),h=l%60,f=t.legs.reduce((d,m)=>d+m.distance,0),p=a.reduce((d,m)=>d+(m.distance||0),0);return u.jsxs("div",{className:"bg-white p-4 space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Flight Progress"}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[o.toFixed(0),"%"]})]}),u.jsxs("div",{className:"relative w-full bg-gray-200 rounded-full h-3",children:[u.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${o}%`}}),u.jsx("div",{className:"absolute top-0 transition-all duration-500 -translate-y-1 -translate-x-2",style:{left:`${Math.min(o,95)}%`},children:u.jsx("span",{className:"text-blue-600 text-lg",children:""})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Elapsed Time"}),u.jsxs("div",{className:"text-lg font-semibold",children:[c,"h ",h,"m"]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Waypoints"}),u.jsxs("div",{className:"text-lg font-semibold",children:[a.length," / ",i.length]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Distance"}),u.jsxs("div",{className:"text-lg font-semibold",children:[p.toFixed(0)," / ",f.toFixed(0)," nm"]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Started"}),u.jsx("div",{className:"text-lg font-semibold",children:at(s,"HH:mm")})]})]}),u.jsxs("div",{className:"border-t pt-3",children:[u.jsx("h4",{className:"font-medium mb-2",children:r===n?"Current Leg":`Selected Leg ${r+1}`}),(()=>{var m;const d=t.legs[r];return d?u.jsxs("div",{className:"text-sm space-y-1",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"text-gray-600",children:["Leg ",r+1,":"]})," ",u.jsx("span",{className:"font-medium",children:d.type.toUpperCase()})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Altitude:"})," ",u.jsxs("span",{className:"font-medium",children:[((m=d.altitude)==null?void 0:m.toLocaleString())||0," ft"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Wind:"})," ",u.jsxs("span",{className:"font-medium",children:[(()=>{const g=Math.round(d.wind||0);return g>0?`+${g}`:g})()," kts",(()=>{const g=d.wind||0;return g>0?" (tailwind)":g<0?" (headwind)":" (no wind)"})()]})]})]}):u.jsx("p",{className:"text-gray-600",children:"No leg selected"})})()]})]})}function zce(){const e=He(T=>T.activePlan),t=He(T=>T.actualPlan),n=He(T=>T.updateActualPlan),r=He(T=>T.setCurrentLeg),i=He(T=>T.setCurrentLegIndex);He(T=>T.currentLegId);const a=He(T=>T.currentLegIndex),o=He(T=>T.actionLog),s=He(T=>T.addActionLogEntry);He(T=>T.fuelReads);const l=Ur(T=>T.setAppFlow),[c,h]=se.useState("waypoints"),[f,p]=se.useState(a),[d,m]=se.useState(!1),[g,w]=se.useState(!1),{isConnected:b,sendTakeoff:y,sendPlanUpdate:x}=e5();if(console.log("NavigatorView - activePlan:",e),console.log("NavigatorView - actualPlan:",t),!e||!t)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Flight Plan"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"The flight plan could not be loaded."}),u.jsx(Ke,{onClick:()=>l({type:"planning"}),children:"Back to Planning"})]})});const A=[{id:"fuel",label:"Fuel",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:"progress",label:"Progress",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"waypoints",label:"Waypoints",icon:u.jsxs("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"graph",label:"Graph",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}],N=()=>{a===0&&m(!0)},P=T=>{const I={...t,configuration:{...t.configuration,startTime:T},legs:t.legs.map((L,U)=>({...L,waypoints:L.waypoints.map((D,$)=>{let W=0;for(let Y=0;Y<U;Y++)t.legs[Y].waypoints.forEach(E=>{W+=E.eet||0});for(let Y=0;Y<=$;Y++)W+=L.waypoints[Y].eet||0;const z=new Date(T.getTime()+W*60*1e3);return{...D,eta:z}})}))};n(I),s("TAKEOFF",`Takeoff confirmed at ${at(T,"HH:mm")}`),b&&(y(T),x(I)),t.legs.length>1&&(i(1),r(t.legs[1].id),p(1))},j=async()=>{if(confirm("Are you sure you want to end navigation? You will be prompted to save the flight report."))try{const T=await Ok(`${t.metadata.name.replace(/[^a-z0-9]/gi,"_")}_${at(new Date,"yyyy-MM-dd")}`);if(T){const I=[];t.legs.forEach(L=>{L.fuelReads&&L.fuelReads.length>0&&I.push(...L.fuelReads)}),await Pk(t,I,o,T),await Ck(t,`${T}_data`),alert("Flight report and data exported successfully!")}l({type:"planning"})}catch(T){console.error("Error exporting flight data:",T),alert("Error exporting flight data. Please try again.")}},C=()=>{switch(c){case"fuel":return u.jsx(ZF,{});case"progress":return u.jsx(Uce,{selectedLegIndex:f});case"waypoints":return u.jsx(ek,{});case"graph":return u.jsx(tk,{});default:return null}},_=t.legs[t.legs.length-1],M=_==null?void 0:_.waypoints[_.waypoints.length-1],O=(M==null?void 0:M.eta)||t.configuration.startTime;return u.jsxs(Qw,{children:[u.jsxs("div",{className:"h-full grid",style:{gridTemplateRows:"auto auto 1fr auto"},children:[u.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{children:u.jsx("h1",{className:"text-lg font-bold text-black-1",children:t.metadata.name})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{size:"sm",variant:b?"success":"secondary",onClick:()=>w(!0),children:b?" Synced":" Sync"}),a===0&&u.jsx(Ke,{size:"sm",variant:"primary",onClick:N,children:" Takeoff"}),u.jsx(Ke,{size:"sm",variant:"danger",onClick:j,children:" End Navigation"})]})]})}),u.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-2",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex gap-2 overflow-x-auto",children:t.legs.map((T,I)=>u.jsx("button",{onClick:()=>{p(I),r(T.id),i(I)},className:tt("px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors",f===I?"bg-yellow-400 text-black":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(()=>{var D,$;if(T.type==="taxi")return"Taxi";const U=t.legs.slice(0,I+1).filter(W=>W.type!=="taxi").length;try{if(T.waypoints&&Array.isArray(T.waypoints)&&T.waypoints.length>=2){const W=(D=T.waypoints[0])==null?void 0:D.name,z=($=T.waypoints[T.waypoints.length-1])==null?void 0:$.name;if(W&&z&&typeof W=="string"&&typeof z=="string")return`${U}. ${W} - ${z}`}}catch(W){console.warn("Error getting waypoint names for leg",I,W)}return`${U}. Leg`})()},T.id))}),a>0&&u.jsxs("div",{className:"ml-4 text-center",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"ETA"}),u.jsx("p",{className:"text-2xl font-bold text-black",children:at(O,"HH:mm")})]})]})}),u.jsx("div",{className:"overflow-y-auto bg-background p-4",children:C()}),u.jsx(KF,{tabs:A,activeTab:c,onTabChange:h})]}),u.jsx(Zw,{isOpen:d,onClose:()=>m(!1),onConfirm:P}),u.jsx(nk,{isOpen:g,onClose:()=>w(!1)})]})}function Hce(){const e=He(p=>p.actualPlan);if(!e)return null;const t=e.configuration.startTime,n=h6(new Date,t),r=e.legs.reduce((p,d)=>p+d.distance,0),i=e.legs.flatMap(p=>p.waypoints),a=i.filter(p=>p.isActual),o=i.filter(p=>!p.isActual),s=a.reduce((p,d)=>p+(d.distance||0),0),l=r-s,c=n>0?s/n*60:0,h=c>0?l/c*60:0,f=tx(new Date,h);return u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Flight Progress"}),u.jsxs("div",{className:"text-2xl font-bold text-primary",children:[(a.length/i.length*100).toFixed(0),"%"]}),u.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[a.length," of ",i.length," waypoints"]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Elapsed Time"}),u.jsxs("div",{className:"text-2xl font-bold",children:[Math.floor(n/60),"h ",n%60,"m"]}),u.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Started at ",at(t,"HH:mm")]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Distance Covered"}),u.jsxs("div",{className:"text-2xl font-bold",children:[s.toFixed(0)," nm"]}),u.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["of ",r.toFixed(0)," nm total"]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Est. Arrival"}),u.jsx("div",{className:"text-2xl font-bold",children:at(f,"HH:mm")}),u.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["~",Math.round(h)," min remaining"]})]})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Current Status"}),o.length>0?u.jsxs("div",{className:"text-blue-800",children:[u.jsxs("p",{className:"font-medium",children:["Next Waypoint: ",o[0].name]}),u.jsxs("p",{className:"text-sm mt-1",children:["ETA: ",o[0].eta?at(o[0].eta,"HH:mm"):"N/A"]}),o[0].distance&&u.jsxs("p",{className:"text-sm",children:["Distance: ",o[0].distance.toFixed(1)," nm"]})]}):u.jsx("p",{className:"text-blue-800",children:"All waypoints completed - Approaching destination"})]})]})}function qce(){const e=He(a=>a.actualPlan),t=He(a=>a.currentWaypointId);if(!e)return null;const n=e.legs.flatMap(a=>a.waypoints.map(o=>({...o,legId:a.id}))),r=n.findIndex(a=>!a.isActual),i=n.slice(Math.max(0,r-1),r+4);return u.jsxs("div",{className:"p-4 border-t border-gray-200",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Waypoint Sequence"}),u.jsx("div",{className:"space-y-2",children:i.map((a,o)=>{var l;const s=!a.isActual&&((l=n.filter(c=>!c.isActual)[0])==null?void 0:l.id)===a.id;return u.jsx("div",{className:tt("border rounded-lg p-3 transition-all",a.isActual&&"bg-gray-100 opacity-60",s&&"border-primary bg-blue-50 shadow-md",t===a.id&&"ring-2 ring-primary"),children:u.jsx("div",{className:"flex justify-between items-start",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.name,a.isActual&&u.jsx("span",{className:"text-xs bg-gray-600 text-white px-2 py-0.5 rounded",children:"PASSED"}),s&&u.jsx("span",{className:"text-xs bg-primary text-white px-2 py-0.5 rounded",children:"NEXT"})]}),u.jsxs("div",{className:"text-sm text-gray-600 mt-1 grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:["ETA: ",a.eta?at(a.eta,"HH:mm"):"N/A"]}),a.altitude&&u.jsxs("div",{children:["Alt: ",a.altitude.toLocaleString()," ft"]}),a.distance&&u.jsxs("div",{children:["Dist: ",a.distance.toFixed(1)," nm"]}),a.heading&&u.jsxs("div",{children:["HDG: ",a.heading,""]})]}),a.note&&u.jsxs("div",{className:"mt-2 text-sm bg-yellow-50 border border-yellow-200 rounded p-2",children:[u.jsx("span",{className:"font-medium text-yellow-800",children:"Note:"})," ",a.note]})]})})},a.id)})}),n.filter(a=>!a.isActual).length>4&&u.jsxs("p",{className:"text-sm text-gray-500 text-center mt-3",children:["+",n.filter(a=>!a.isActual).length-4," more waypoints"]})]})}function Gce(){const e=He(f=>f.actualPlan),t=He(f=>f.fuelReads);if(!e)return null;const n=e.configuration.fuelOnBoard,r=t.reduce((f,p)=>f+p.amount,0),i=n-r,a=i/n*100,o=e.legs.flatMap(f=>f.waypoints),s=o.filter(f=>f.isActual).length/o.length,c=r/(s||.01)-r,h=i<c?"critical":i<c*1.2?"warning":"good";return u.jsxs("div",{className:"bg-white p-4 space-y-4 h-full flex flex-col",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Fuel Status"}),u.jsx("div",{className:"bg-gray-100 rounded-lg p-4",children:u.jsxs("div",{className:"relative h-40 w-full",children:[u.jsx("div",{className:"absolute inset-0 bg-gray-300 rounded-lg overflow-hidden",children:u.jsx("div",{className:tt("absolute bottom-0 left-0 right-0 transition-all duration-500",h==="critical"&&"bg-danger",h==="warning"&&"bg-warning",h==="good"&&"bg-success"),style:{height:`${a}%`}})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold",children:i.toFixed(1)}),u.jsx("div",{className:"text-sm text-gray-600",children:"klbs"})]})})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Capacity"}),u.jsxs("div",{className:"text-lg font-semibold",children:[n.toFixed(1)," klb"]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Used"}),u.jsxs("div",{className:"text-lg font-semibold",children:[r.toFixed(1)," klb"]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Est. Needed"}),u.jsxs("div",{className:"text-lg font-semibold",children:[c.toFixed(1)," klb"]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Reserve"}),u.jsxs("div",{className:tt("text-lg font-semibold",h==="critical"&&"text-danger",h==="warning"&&"text-warning",h==="good"&&"text-success"),children:[(i-c).toFixed(1)," klb"]})]})]}),h!=="good"&&u.jsxs("div",{className:tt("rounded-lg p-3 text-sm",h==="critical"&&"bg-red-50 border border-red-200 text-red-800",h==="warning"&&"bg-yellow-50 border border-yellow-200 text-yellow-800"),children:[u.jsx("div",{className:"font-semibold mb-1",children:h==="critical"?" Critical Fuel Level":" Low Fuel Warning"}),u.jsx("div",{children:h==="critical"?"Fuel reserves are below required minimums. Consider diversion.":"Fuel reserves are approaching minimum levels. Monitor closely."})]}),t.length>0&&u.jsxs("div",{className:"text-sm text-gray-600 border-t pt-3",children:[u.jsxs("div",{children:["Last fuel read: ",t[t.length-1].amount.toFixed(1)," klb"]}),u.jsx("div",{className:"text-xs",children:new Date(t[t.length-1].timestamp).toLocaleTimeString()})]})]})}function Vce(){const e=He(w=>w.activePlan),t=He(w=>w.actualPlan),n=He(w=>w.updateActualPlan),r=He(w=>w.currentLegIndex),i=He(w=>w.setCurrentLegIndex),a=He(w=>w.setCurrentLeg),o=He(w=>w.addActionLogEntry),s=Ur(w=>w.setAppFlow),[l,c]=se.useState(!1);if(!e||!t)return u.jsx("div",{children:"No active flight plan"});const h=()=>{r===0&&c(!0)},f=w=>{const b={...t,configuration:{...t.configuration,startTime:w},legs:t.legs.map((y,x)=>({...y,waypoints:y.waypoints.map((A,N)=>{let P=0;for(let C=0;C<x;C++)t.legs[C].waypoints.forEach(M=>{P+=M.eet||0});for(let C=0;C<=N;C++)P+=y.waypoints[C].eet||0;const j=new Date(w.getTime()+P*60*1e3);return{...A,eta:j}})}))};n(b),o("TAKEOFF",`Takeoff confirmed at ${at(w,"HH:mm")}`),t.legs.length>1&&(i(1),a(t.legs[1].id))},p=()=>{confirm("Are you sure you want to exit pilot mode?")&&s({type:"planning"})},m=t.legs.reduce((w,b)=>w+b.distance,0)/150*60,g=new Date(t.configuration.startTime.getTime()+m*6e4);return u.jsxs(Qw,{children:[u.jsxs("div",{className:"h-full grid",style:{gridTemplateRows:"auto 1fr"},children:[u.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-bold text-black-1",children:t.metadata.name}),r>0&&u.jsxs("p",{className:"text-sm text-label-gray",children:["ETA: ",at(g,"HH:mm")]})]}),u.jsxs("div",{className:"flex gap-2",children:[r===0&&u.jsx(Ke,{size:"sm",variant:"primary",onClick:h,children:" Takeoff"}),u.jsx(Ke,{size:"sm",variant:"secondary",onClick:p,children:" Exit Pilot Mode"})]})]})}),u.jsxs("div",{className:"flex overflow-hidden",children:[u.jsxs("div",{className:"w-2/3 bg-white border-r border-gray-200 flex flex-col",children:[u.jsx("div",{className:"p-4 border-b border-gray-200",children:u.jsx("h2",{className:"text-lg font-semibold",children:"Flight Overview"})}),u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsx(Hce,{}),u.jsx(qce,{})]})]}),u.jsx("div",{className:"w-1/3 flex flex-col",children:u.jsx(Gce,{})})]})]}),u.jsx(Zw,{isOpen:l,onClose:()=>c(!1),onConfirm:f})]})}function PA({role:e}){const t=Ur(i=>i.setAppFlow),n=()=>{t({type:"planning"})},r={navigator:"Navigator",pilot:"Pilot",engineer:"Engineer"}[e];return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[r," Mode - No Active Flight"]}),u.jsx("p",{className:"text-gray-600",children:"Waiting to join an active flight. You can join when an Engineer starts broadcasting flight data."})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[u.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How to Join a Flight:"}),u.jsxs("ol",{className:"text-sm text-blue-800 text-left space-y-1",children:[u.jsx("li",{children:"1. Ensure you're on the same network as the Engineer"}),u.jsx("li",{children:"2. Wait for the Engineer to start broadcasting"}),u.jsx("li",{children:"3. Select the flight when it appears"}),u.jsx("li",{children:"4. Start receiving real-time updates"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Ke,{onClick:()=>{},variant:"secondary",className:"w-full",disabled:!0,children:"Searching for Flights..."}),u.jsx(Ke,{onClick:n,variant:"ghost",className:"w-full",children:"Back to Planning"})]})]})})}const fu={id:"test-csv-4engines",zeroFuelWeight:100,fuelOnBoard:25.7,drag:"withPods",oddEven:"even",startTime:new Date,landingInNegev:!1},Qp={id:"test-leg-4engines",type:"lrc1010",distance:1200,initialFuel:25.7,isa:10,specialCondition:"minimum4Engines",altitudeMode:"cc"};function Kce(){const[e,t]=se.useState([]);return se.useEffect(()=>{const n=Wb(Qp,fu,"minimum4Engines");t(n),console.log("4 Engines Test Results:"),console.log("Configuration:",fu),console.log("Leg:",Qp),console.log("Calculated Segments:",n)},[]),u.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"4 Engines Calculation Test"}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Test Configuration"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:["ZFW: ",fu.zeroFuelWeight," lbs"]}),u.jsxs("div",{children:["Initial Fuel: ",fu.fuelOnBoard," lbs"]}),u.jsxs("div",{children:["Total Weight: ",fu.zeroFuelWeight+fu.fuelOnBoard," lbs"]}),u.jsx("div",{children:"Drag: 60 (with pods)"}),u.jsxs("div",{children:["ISA: ",Qp.isa,"C"]}),u.jsxs("div",{children:["Distance: ",Qp.distance," nm"]}),u.jsx("div",{children:"Altitude: Even"}),u.jsx("div",{children:"Method: 1010"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calculated Segments vs Expected (CSV)"}),u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b",children:[u.jsx("th",{className:"text-left py-2",children:"Segment"}),u.jsx("th",{className:"text-center py-2",children:"Altitude"}),u.jsx("th",{className:"text-center py-2",children:"IAS"}),u.jsx("th",{className:"text-center py-2",children:"TAS"}),u.jsx("th",{className:"text-center py-2",children:"Fuel Rate"}),u.jsx("th",{className:"text-center py-2",children:"Remaining Fuel"}),u.jsx("th",{className:"text-center py-2",children:"Status"})]})}),u.jsx("tbody",{children:e.map((n,r)=>{const i=[{alt:24,ias:184,tas:277,fuelRate:4.4,remaining:24.1},{alt:26,ias:179,tas:278,fuelRate:4.2,remaining:19.9},{alt:26,ias:177,tas:275,fuelRate:4.1,remaining:15.8},{alt:28,ias:171,tas:275,fuelRate:3.9,remaining:11.9},{alt:28,ias:169,tas:272,fuelRate:3.9,remaining:8}][r],a=i&&Math.round(n.startAltitude/1e3)===i.alt,o=i&&Math.abs(n.indicatedAirSpeed-i.ias)<=5,s=i&&Math.abs(n.trueAirSpeed-i.tas)<=5,l=i&&Math.abs(n.fuelConsumptionPerHour-i.fuelRate)<=.2,c=i&&Math.abs(n.remainingFuel-i.remaining)<=.5,h=a&&o&&s&&l&&c;return u.jsxs("tr",{className:"border-b",children:[u.jsx("td",{className:"py-2",children:r+1}),u.jsx("td",{className:"text-center py-2",children:u.jsxs("div",{className:a?"text-green-600":"text-red-600",children:[Math.round(n.startAltitude/1e3),"k",i&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",i.alt,"k"]})]})}),u.jsx("td",{className:"text-center py-2",children:u.jsxs("div",{className:o?"text-green-600":"text-red-600",children:[n.indicatedAirSpeed,i&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",i.ias]})]})}),u.jsx("td",{className:"text-center py-2",children:u.jsxs("div",{className:s?"text-green-600":"text-red-600",children:[n.trueAirSpeed,i&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",i.tas]})]})}),u.jsx("td",{className:"text-center py-2",children:u.jsxs("div",{className:l?"text-green-600":"text-red-600",children:[n.fuelConsumptionPerHour.toFixed(1),i&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",i.fuelRate]})]})}),u.jsx("td",{className:"text-center py-2",children:u.jsxs("div",{className:c?"text-green-600":"text-red-600",children:[n.remainingFuel.toFixed(1),i&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",i.remaining]})]})}),u.jsx("td",{className:"text-center py-2",children:h?u.jsx("span",{className:"text-green-600",children:""}):u.jsx("span",{className:"text-red-600",children:""})})]},n.id)})})]}),e.length===0&&u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Calculating..."})]})]})}function Yce(){const e=Ur(r=>r.appFlow);qt(r=>r.plans);const t=qt(r=>r.currentPlanId),n=()=>{switch(e.type){case"welcome":return u.jsx(ZD,{});case"planning":return console.log("AppRouter: Planning mode, currentPlanId:",t),t?u.jsx(hue,{}):u.jsx(sI,{});case"confirmNav":case"confirmPilot":case"confirmEng":return u.jsx(vue,{});case"navEmpty":return u.jsx(PA,{role:"navigator"});case"pilotEmpty":return u.jsx(PA,{role:"pilot"});case"nav":return u.jsx(zce,{});case"pilot":return u.jsx(Vce,{});case"eng":return u.jsx(Wce,{});default:return u.jsx(eI,{})}};return u.jsxs(LM,{children:[u.jsx(J1,{path:"/test-4engines",element:u.jsx(Kce,{})}),u.jsx(J1,{path:"/*",element:n()})]})}function Xce({message:e,onClose:t}){return se.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"bg-red-600 text-white px-6 py-4 rounded-lg shadow-xl max-w-md pointer-events-auto",children:u.jsxs("div",{className:"flex items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Error"}),u.jsx("p",{className:"text-sm",children:e})]}),u.jsx("button",{onClick:t,className:"ml-4 text-white hover:text-red-200 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})}function Jce(){console.log("App component rendering...");try{const{error:e,setError:t}=Ur();return console.log("Store loaded, error state:",e),u.jsx(IM,{children:u.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[u.jsx("div",{className:"fixed bottom-4 left-4 text-xs text-gray-400 z-50",children:"by Maor Boker"}),u.jsx(Yce,{}),e&&u.jsx(Xce,{message:e,onClose:()=>t(null)})]})})}catch(e){return console.error("Error in App component:",e),u.jsxs("div",{children:["Error loading app: ",String(e)]})}}window.addEventListener("error",e=>{console.error("Global error:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)});console.log("main.tsx loading...");const dm=document.getElementById("root");console.log("Root element:",dm);if(dm){console.log("Creating React root...");try{r1.createRoot(dm).render(u.jsx(ge.StrictMode,{children:u.jsx(Jce,{})})),console.log("React root created")}catch(e){console.error("Error creating React root:",e),dm.innerHTML=`<div style="color: red; padding: 20px;">Error loading app: ${e}</div>`}}else console.error("Root element not found!"),document.body.innerHTML='<div style="color: red; padding: 20px;">Root element not found!</div>';export{It as _,Hs as c,Rt as g};

</script>
<style>
*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}body{--tw-bg-opacity: 1;background-color:rgb(247 245 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(26 26 26 / var(--tw-text-opacity, 1));font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}input[type=text],input[type=number],input[type=date],input[type=datetime-local],textarea,select{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}input[type=text]:focus,input[type=number]:focus,input[type=date]:focus,input[type=datetime-local]:focus,textarea:focus,select:focus{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}input:focus,textarea:focus,select:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(93 21 245 / var(--tw-ring-opacity, 1));--tw-ring-opacity: .5}.container{width:100%}@media (min-width: 475px){.container{max-width:475px}}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.primary-button{display:flex;height:60px;width:300px;align-items:center;justify-content:center;border-radius:25px;--tw-bg-opacity: 1;background-color:rgb(93 21 245 / var(--tw-bg-opacity, 1));font-weight:600;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.primary-button:hover{--tw-bg-opacity: 1;background-color:rgb(74 15 219 / var(--tw-bg-opacity, 1))}.secondary-button{display:flex;height:60px;width:300px;align-items:center;justify-content:center;border-radius:25px;border-width:2px;--tw-border-opacity: 1;border-color:rgb(93 21 245 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));font-weight:600;--tw-text-opacity: 1;color:rgb(93 21 245 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.secondary-button:hover{--tw-bg-opacity: 1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.panel{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-radius:15px;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.5rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.panel:hover{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.label-text{font-size:16px;--tw-text-opacity: 1;color:rgb(122 115 115 / var(--tw-text-opacity, 1))}.value-text{font-size:16px;font-weight:500;--tw-text-opacity: 1;color:rgb(79 79 79 / var(--tw-text-opacity, 1))}svg{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}button:hover svg{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover-lift{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.hover-lift:hover{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-bottom-40{bottom:-10rem}.-left-40{left:-10rem}.-right-40{right:-10rem}.-top-40{top:-10rem}.bottom-0{bottom:0}.bottom-2{bottom:.5rem}.bottom-20{bottom:5rem}.bottom-4{bottom:1rem}.left-0{left:0}.left-2{left:.5rem}.left-20{left:5rem}.left-4{left:1rem}.right-0{right:0}.right-2{right:.5rem}.right-20{right:5rem}.right-4{right:1rem}.right-40{right:10rem}.top-0{top:0}.top-20{top:5rem}.top-40{top:10rem}.top-8{top:2rem}.top-full{top:100%}.z-10{z-index:10}.z-40{z-index:40}.z-50{z-index:50}.mx-0{margin-left:0;margin-right:0}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-4{margin-left:1rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mt-0\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-12{margin-top:3rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-10{height:2.5rem}.h-14{height:3.5rem}.h-16{height:4rem}.h-2{height:.5rem}.h-20{height:5rem}.h-24{height:6rem}.h-3{height:.75rem}.h-32{height:8rem}.h-4{height:1rem}.h-40{height:10rem}.h-48{height:12rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-80{height:20rem}.h-9{height:2.25rem}.h-\[90vh\]{height:90vh}.h-button-mobile{height:48px}.h-full{height:100%}.h-screen{height:100vh}.max-h-48{max-height:12rem}.max-h-60{max-height:15rem}.max-h-96{max-height:24rem}.max-h-\[60vh\]{max-height:60vh}.max-h-\[700px\]{max-height:700px}.max-h-\[80vh\]{max-height:80vh}.max-h-\[90vh\]{max-height:90vh}.min-h-0{min-height:0px}.min-h-screen{min-height:100vh}.w-1\/3{width:33.333333%}.w-10{width:2.5rem}.w-12{width:3rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\/3{width:66.666667%}.w-20{width:5rem}.w-24{width:6rem}.w-32{width:8rem}.w-4{width:1rem}.w-48{width:12rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-8{width:2rem}.w-80{width:20rem}.w-96{width:24rem}.w-full{width:100%}.min-w-\[150px\]{min-width:150px}.min-w-max{min-width:-moz-max-content;min-width:max-content}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-4xl{max-width:56rem}.max-w-6xl{max-width:72rem}.max-w-lg{max-width:32rem}.max-w-md{max-width:28rem}.max-w-sm{max-width:24rem}.max-w-xs{max-width:20rem}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.border-collapse{border-collapse:collapse}.-translate-x-2{--tw-translate-x: -.5rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-rotate-90{--tw-rotate: -90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-90{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-105{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-95{--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-\[0\.98\]{--tw-scale-x: .98;--tw-scale-y: .98;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.touch-manipulation{touch-action:manipulation}.resize-none{resize:none}.list-inside{list-style-position:inside}.list-decimal{list-style-type:decimal}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-100>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(243 244 246 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-line{white-space:pre-line}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-button{border-radius:25px}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-panel{border-radius:15px}.rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-400{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-blue-600{--tw-border-opacity: 1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.border-danger{--tw-border-opacity: 1;border-color:rgb(255 59 48 / var(--tw-border-opacity, 1))}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-green-300{--tw-border-opacity: 1;border-color:rgb(134 239 172 / var(--tw-border-opacity, 1))}.border-primary{--tw-border-opacity: 1;border-color:rgb(93 21 245 / var(--tw-border-opacity, 1))}.border-purple-200{--tw-border-opacity: 1;border-color:rgb(233 213 255 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-yellow-200{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.border-yellow-300{--tw-border-opacity: 1;border-color:rgb(253 224 71 / var(--tw-border-opacity, 1))}.bg-background{--tw-bg-opacity: 1;background-color:rgb(247 245 246 / var(--tw-bg-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-black\/30{background-color:#0000004d}.bg-black\/50{background-color:#00000080}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-blue-700{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.bg-danger{--tw-bg-opacity: 1;background-color:rgb(255 59 48 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-gray-900\/30{background-color:#1118274d}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-nav-bar{--tw-bg-opacity: 1;background-color:rgb(209 220 253 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-orange-500{--tw-bg-opacity: 1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.bg-primary{--tw-bg-opacity: 1;background-color:rgb(93 21 245 / var(--tw-bg-opacity, 1))}.bg-primary\/10{background-color:#5d15f51a}.bg-primary\/5{background-color:#5d15f50d}.bg-purple-50{--tw-bg-opacity: 1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.bg-purple-500{--tw-bg-opacity: 1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity: 1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-purple-700{--tw-bg-opacity: 1;background-color:rgb(126 34 206 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-success{--tw-bg-opacity: 1;background-color:rgb(52 199 89 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.bg-warning{--tw-bg-opacity: 1;background-color:rgb(255 149 0 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/20{background-color:#fff3}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-yellow-400{--tw-bg-opacity: 1;background-color:rgb(250 204 21 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-yellow-600{--tw-bg-opacity: 1;background-color:rgb(202 138 4 / var(--tw-bg-opacity, 1))}.bg-opacity-50{--tw-bg-opacity: .5}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-purple-600{--tw-gradient-from: #9333ea var(--tw-gradient-from-position);--tw-gradient-to: rgb(147 51 234 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-900{--tw-gradient-from: #581c87 var(--tw-gradient-from-position);--tw-gradient-to: rgb(88 28 135 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-900\/50{--tw-gradient-from: rgb(88 28 135 / .5) var(--tw-gradient-from-position);--tw-gradient-to: rgb(88 28 135 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-transparent{--tw-gradient-from: transparent var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-purple-800{--tw-gradient-to: rgb(107 33 168 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #6b21a8 var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-white\/10{--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), rgb(255 255 255 / .1) var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-blue-600{--tw-gradient-to: #2563eb var(--tw-gradient-to-position)}.to-blue-900{--tw-gradient-to: #1e3a8a var(--tw-gradient-to-position)}.to-blue-900\/50{--tw-gradient-to: rgb(30 58 138 / .5) var(--tw-gradient-to-position)}.to-transparent{--tw-gradient-to: transparent var(--tw-gradient-to-position)}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-1{padding-bottom:.25rem}.pb-2{padding-bottom:.5rem}.pb-4{padding-bottom:1rem}.pb-6{padding-bottom:1.5rem}.pl-10{padding-left:2.5rem}.pr-3{padding-right:.75rem}.pt-2{padding-top:.5rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-end{text-align:end}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-5xl{font-size:3rem;line-height:1}.text-6xl{font-size:3.75rem;line-height:1}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.capitalize{text-transform:capitalize}.leading-normal{line-height:1.5}.leading-relaxed{line-height:1.625}.leading-snug{line-height:1.375}.tracking-wide{letter-spacing:.025em}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-black-1{--tw-text-opacity: 1;color:rgb(26 26 26 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-blue-900{--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.text-danger{--tw-text-opacity: 1;color:rgb(255 59 48 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-label-gray{--tw-text-opacity: 1;color:rgb(122 115 115 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-orange-700{--tw-text-opacity: 1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.text-primary{--tw-text-opacity: 1;color:rgb(93 21 245 / var(--tw-text-opacity, 1))}.text-purple-700{--tw-text-opacity: 1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.text-purple-900{--tw-text-opacity: 1;color:rgb(88 28 135 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-success{--tw-text-opacity: 1;color:rgb(52 199 89 / var(--tw-text-opacity, 1))}.text-value-gray{--tw-text-opacity: 1;color:rgb(79 79 79 / var(--tw-text-opacity, 1))}.text-warning{--tw-text-opacity: 1;color:rgb(255 149 0 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\/50{color:#ffffff80}.text-white\/70{color:#ffffffb3}.text-white\/80{color:#fffc}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.text-yellow-600{--tw-text-opacity: 1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.text-yellow-700{--tw-text-opacity: 1;color:rgb(161 98 7 / var(--tw-text-opacity, 1))}.text-yellow-800{--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.text-yellow-900{--tw-text-opacity: 1;color:rgb(113 63 18 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.line-through{text-decoration-line:line-through}.opacity-0{opacity:0}.opacity-10{opacity:.1}.opacity-20{opacity:.2}.opacity-60{opacity:.6}.opacity-75{opacity:.75}.opacity-80{opacity:.8}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.ring-2{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-primary{--tw-ring-opacity: 1;--tw-ring-color: rgb(93 21 245 / var(--tw-ring-opacity, 1))}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-3xl{--tw-blur: blur(64px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-md{--tw-backdrop-blur: blur(12px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}@supports (padding: max(0px)){.pt-safe{padding-top:max(1rem,env(safe-area-inset-top))}.pb-safe{padding-bottom:max(1rem,env(safe-area-inset-bottom))}.pl-safe{padding-left:max(1rem,env(safe-area-inset-left))}.pr-safe{padding-right:max(1rem,env(safe-area-inset-right))}}input[type=datetime-local]{font-size:14px;line-height:1.5;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;text-align:left!important;direction:ltr!important;padding-left:40px!important;padding-right:12px!important}input[type=datetime-local]::-webkit-calendar-picker-indicator{position:absolute;left:10px;cursor:pointer;background-position:center;background-size:20px;opacity:1}input[type=datetime-local]::-webkit-datetime-edit{padding-left:0;text-align:left!important;display:inline-block;position:relative;left:0}input[type=datetime-local]::-webkit-datetime-edit-fields-wrapper{display:inline-block;text-align:left!important;padding:0;position:relative;left:0}input[type=datetime-local]::-webkit-datetime-edit-text{padding:0 2px}input[type=datetime-local]::-webkit-datetime-edit-year-field,input[type=datetime-local]::-webkit-datetime-edit-month-field,input[type=datetime-local]::-webkit-datetime-edit-day-field,input[type=datetime-local]::-webkit-datetime-edit-hour-field,input[type=datetime-local]::-webkit-datetime-edit-minute-field{padding:0 2px}@keyframes fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes slideInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes unicornSpin{0%{transform:rotate(0) scale(1)}50%{transform:rotate(180deg) scale(1.2)}to{transform:rotate(360deg) scale(1)}}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.animate-fadeIn{animation:fadeIn .6s ease-out forwards}.animate-slideInRight{animation:slideInRight .5s ease-out forwards}.animate-slideInLeft{animation:slideInLeft .5s ease-out forwards}.animate-scaleIn{animation:scaleIn .4s ease-out forwards}.animate-float{animation:float 3s ease-in-out infinite}.animate-unicornSpin{animation:unicornSpin 2s ease-in-out infinite}.animate-bounce{animation:bounce 1s ease-in-out infinite}.animate-shimmer{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:shimmer 1.5s infinite}.file\:mr-4::file-selector-button{margin-right:1rem}.file\:rounded-full::file-selector-button{border-radius:9999px}.file\:border-0::file-selector-button{border-width:0px}.file\:bg-primary::file-selector-button{--tw-bg-opacity: 1;background-color:rgb(93 21 245 / var(--tw-bg-opacity, 1))}.file\:bg-transparent::file-selector-button{background-color:transparent}.file\:px-4::file-selector-button{padding-left:1rem;padding-right:1rem}.file\:py-2::file-selector-button{padding-top:.5rem;padding-bottom:.5rem}.file\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\:font-medium::file-selector-button{font-weight:500}.file\:font-semibold::file-selector-button{font-weight:600}.file\:text-white::file-selector-button{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.placeholder\:text-gray-500::-moz-placeholder{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.placeholder\:text-gray-500::placeholder{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.last\:border-b-0:last-child{border-bottom-width:0px}.hover\:-translate-y-1:hover{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:scale-105:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:border-blue-800:hover{--tw-border-opacity: 1;border-color:rgb(30 64 175 / var(--tw-border-opacity, 1))}.hover\:border-gray-300:hover{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.hover\:border-primary:hover{--tw-border-opacity: 1;border-color:rgb(93 21 245 / var(--tw-border-opacity, 1))}.hover\:bg-black\/40:hover{background-color:#0006}.hover\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-300:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-green-600:hover{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.hover\:bg-primary-hover:hover{--tw-bg-opacity: 1;background-color:rgb(74 15 219 / var(--tw-bg-opacity, 1))}.hover\:bg-primary\/5:hover{background-color:#5d15f50d}.hover\:bg-purple-50:hover{--tw-bg-opacity: 1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-700:hover{--tw-bg-opacity: 1;background-color:rgb(126 34 206 / var(--tw-bg-opacity, 1))}.hover\:bg-red-600:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\:bg-red-700:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.hover\:bg-white\/10:hover{background-color:#ffffff1a}.hover\:text-black:hover{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.hover\:text-blue-800:hover{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.hover\:text-blue-900:hover{--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.hover\:text-gray-600:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.hover\:text-gray-700:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.hover\:text-gray-800:hover{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.hover\:text-primary:hover{--tw-text-opacity: 1;color:rgb(93 21 245 / var(--tw-text-opacity, 1))}.hover\:text-red-200:hover{--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.hover\:text-red-500:hover{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.hover\:text-red-800:hover{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.hover\:text-white:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.hover\:text-yellow-900:hover{--tw-text-opacity: 1;color:rgb(113 63 18 / var(--tw-text-opacity, 1))}.hover\:shadow-lg:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:shadow-md:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:shadow-xl:hover{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:file\:bg-primary-hover::file-selector-button:hover{--tw-bg-opacity: 1;background-color:rgb(74 15 219 / var(--tw-bg-opacity, 1))}.focus\:border-transparent:focus{border-color:transparent}.focus\:bg-gray-100:focus{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-1:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\:ring-primary:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(93 21 245 / var(--tw-ring-opacity, 1))}.focus-visible\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\:ring-danger:focus-visible{--tw-ring-opacity: 1;--tw-ring-color: rgb(255 59 48 / var(--tw-ring-opacity, 1))}.focus-visible\:ring-green-500:focus-visible{--tw-ring-opacity: 1;--tw-ring-color: rgb(34 197 94 / var(--tw-ring-opacity, 1))}.focus-visible\:ring-primary:focus-visible{--tw-ring-opacity: 1;--tw-ring-color: rgb(93 21 245 / var(--tw-ring-opacity, 1))}.focus-visible\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.active\:scale-95:active{--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.disabled\:pointer-events-none:disabled{pointer-events:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:bg-gray-300:disabled{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.disabled\:opacity-50:disabled{opacity:.5}@media (min-width: 640px){.sm\:left-\[5vw\]{left:5vw}.sm\:right-\[5vw\]{right:5vw}.sm\:top-\[5vh\]{top:5vh}.sm\:mx-0{margin-left:0;margin-right:0}.sm\:mx-auto{margin-left:auto;margin-right:auto}.sm\:h-16{height:4rem}.sm\:h-\[90vh\]{height:90vh}.sm\:h-button{height:60px}.sm\:h-button-sm{height:40px}.sm\:w-\[90vw\]{width:90vw}.sm\:w-button{width:300px}.sm\:max-w-3xl{max-width:48rem}.sm\:max-w-none{max-width:none}.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\:flex-row{flex-direction:row}.sm\:justify-between{justify-content:space-between}.sm\:gap-2{gap:.5rem}.sm\:gap-6{gap:1.5rem}.sm\:rounded-2xl{border-radius:1rem}.sm\:p-6{padding:1.5rem}.sm\:px-4{padding-left:1rem;padding-right:1rem}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\:px-8{padding-left:2rem;padding-right:2rem}.sm\:py-2{padding-top:.5rem;padding-bottom:.5rem}.sm\:text-base{font-size:1rem;line-height:1.5rem}.sm\:text-lg{font-size:1.125rem;line-height:1.75rem}}@media (min-width: 768px){.md\:left-auto{left:auto}.md\:right-4{right:1rem}.md\:w-auto{width:auto}.md\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1024px){.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}.overflow-y-auto,.overflow-x-auto,.overflow-auto{-webkit-overflow-scrolling:touch;overscroll-behavior:contain}.touch-manipulation{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}button,[role=button],.clickable{min-height:44px;min-width:44px}input[type=text],input[type=number],input[type=email],input[type=tel],textarea,select{font-size:16px;-webkit-appearance:none}.panel{-webkit-tap-highlight-color:transparent}.transition-transform,.transform{transform:translateZ(0)}.no-pull-refresh{overscroll-behavior-y:contain}svg{touch-action:none}svg.interactive{touch-action:manipulation}

</style>
<script>
if('serviceWorker' in navigator && window.location.protocol !== 'file:') {window.addEventListener('load', () => {navigator.serviceWorker.register('/sw.js', { scope: '/' })})}
</script>
  <body>
    <div id="root"></div>

<script>
// PWA Installation and Standalone Mode Support
(function() {
  // Basic service worker for offline caching (skip for file:// protocol)
  if ('serviceWorker' in navigator && window.location.protocol !== 'file:') {
    // Create a minimal service worker
    const swCode = `
      const CACHE_NAME = 'chubby-unicorn-v1';
      
      self.addEventListener('install', event => {
        self.skipWaiting();
      });
      
      self.addEventListener('activate', event => {
        event.waitUntil(clients.claim());
      });
      
      self.addEventListener('fetch', event => {
        event.respondWith(
          caches.match(event.request).then(response => {
            return response || fetch(event.request).catch(() => {
              return new Response('Offline - content not available', {
                status: 503,
                statusText: 'Service Unavailable'
              });
            });
          })
        );
      });
    `;
    
    try {
      const blob = new Blob([swCode], { type: 'application/javascript' });
      const swUrl = URL.createObjectURL(blob);
      navigator.serviceWorker.register(swUrl).then(() => {
        console.log(' Service Worker registered');
      }).catch(err => {
        console.log('Service Worker registration failed:', err);
      });
    } catch (e) {
      console.log('Service Worker setup failed:', e);
    }
  }

  // Check if running in standalone mode
  const isStandalone = window.matchMedia('(display-mode: standalone)').matches || 
                      window.navigator.standalone || 
                      document.referrer.includes('android-app://');

  // Install prompt handler
  let deferredPrompt = null;
  
  // Create install banner
  function createInstallBanner() {
    const banner = document.createElement('div');
    banner.id = 'pwa-install-banner';
    banner.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: linear-gradient(135deg, #2F54EB 0%, #1a3cc7 100%);
      color: white;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      z-index: 10000;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      animation: slideDown 0.3s ease-out;
    `;
    
    banner.innerHTML = `
      <div>
        <div style="font-weight: 600; font-size: 16px; margin-bottom: 2px;">
          Install Chubby Unicorn
        </div>
        <div style="font-size: 14px; opacity: 0.9;">
          Get the full app experience - works offline!
        </div>
      </div>
      <div style="display: flex; gap: 10px;">
        <button onclick="installApp()" style="
          background: white;
          color: #2F54EB;
          border: none;
          padding: 8px 20px;
          border-radius: 20px;
          font-weight: 600;
          cursor: pointer;
          font-size: 14px;
        ">Install App</button>
        <button onclick="dismissBanner()" style="
          background: transparent;
          color: white;
          border: 1px solid rgba(255,255,255,0.3);
          padding: 8px 16px;
          border-radius: 20px;
          cursor: pointer;
          font-size: 14px;
        ">Not Now</button>
      </div>
    `;
    
    document.body.appendChild(banner);
  }
  
  // Install app function
  window.installApp = async function() {
    const banner = document.getElementById('pwa-install-banner');
    if (deferredPrompt) {
      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      if (outcome === 'accepted') {
        console.log(' App installed');
        if (banner) banner.remove();
      }
      deferredPrompt = null;
    } else {
      // Show manual install instructions
      showManualInstallInstructions();
    }
  };
  
  // Dismiss banner
  window.dismissBanner = function() {
    const banner = document.getElementById('pwa-install-banner');
    if (banner) banner.remove();
    sessionStorage.setItem('install-banner-dismissed', 'true');
  };
  
  // Show manual install instructions
  function showManualInstallInstructions() {
    const isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
    const isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor) && !isChrome;
    const isEdge = /Edg/.test(navigator.userAgent);
    
    let instructions = '';
    if (isChrome) {
      instructions = '<li>Click menu ()</li><li>Select "More tools  Create shortcut"</li><li>Check "Open as window"</li><li>Click "Create"</li>';
    } else if (isSafari) {
      instructions = '<li>Click Share ()</li><li>Select "Add to Dock" (Mac) or "Add to Home Screen" (iOS)</li>';
    } else if (isEdge) {
      instructions = '<li>Click menu ()</li><li>Select "Apps  Install this site as an app"</li>';
    } else {
      instructions = '<li>Look for install option in browser menu</li>';
    }
    
    alert('To install as app:\n' + instructions.replace(/<[^>]*>/g, ''));
  }

  // Listen for install prompt
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    
    // Show install banner if not dismissed
    if (!isStandalone && !sessionStorage.getItem('install-banner-dismissed')) {
      setTimeout(createInstallBanner, 2000);
    }
  });

  // Add standalone indicator
  if (isStandalone) {
    document.body.classList.add('standalone-mode');
    console.log(' Running in standalone mode');
  }

  // Offline detection
  window.addEventListener('online', () => {
    document.body.classList.remove('offline');
  });

  window.addEventListener('offline', () => {
    document.body.classList.add('offline');
  });
})();
</script>

<style>
/* Offline indicator */
body.offline::before {
  content: 'Offline Mode';
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  background: #ff9500;
  color: white;
  padding: 4px 12px;
  font-size: 12px;
  font-weight: 500;
  border-radius: 0 0 4px 4px;
  z-index: 9999;
}

/* Animation for install banner */
@keyframes slideDown {
  from { transform: translateY(-100%); }
  to { transform: translateY(0); }
}
</style>
  </body>
</html>