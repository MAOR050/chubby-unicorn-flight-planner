var f_=Object.defineProperty;var h_=(e,t,n)=>t in e?f_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Qn=(e,t,n)=>h_(e,typeof t!="symbol"?t+"":t,n);function p_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function m_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Pk={exports:{}},Ig={},Ck={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=Symbol.for("react.element"),g_=Symbol.for("react.portal"),y_=Symbol.for("react.fragment"),v_=Symbol.for("react.strict_mode"),x_=Symbol.for("react.profiler"),b_=Symbol.for("react.provider"),w_=Symbol.for("react.context"),S_=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),j_=Symbol.for("react.memo"),k_=Symbol.for("react.lazy"),_5=Symbol.iterator;function A_(e){return e===null||typeof e!="object"?null:(e=_5&&e[_5]||e["@@iterator"],typeof e=="function"?e:null)}var Ok={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tk=Object.assign,Fk={};function gc(e,t,n){this.props=e,this.context=t,this.refs=Fk,this.updater=n||Ok}gc.prototype.isReactComponent={};gc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _k(){}_k.prototype=gc.prototype;function q2(e,t,n){this.props=e,this.context=t,this.refs=Fk,this.updater=n||Ok}var G2=q2.prototype=new _k;G2.constructor=q2;Tk(G2,gc.prototype);G2.isPureReactComponent=!0;var E5=Array.isArray,Ek=Object.prototype.hasOwnProperty,V2={current:null},Lk={key:!0,ref:!0,__self:!0,__source:!0};function Mk(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ek.call(t,r)&&!Lk.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:ch,type:e,key:i,ref:o,props:a,_owner:V2.current}}function P_(e,t){return{$$typeof:ch,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function K2(e){return typeof e=="object"&&e!==null&&e.$$typeof===ch}function C_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var L5=/\/+/g;function zy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C_(""+e.key):t.toString(36)}function Zp(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ch:case g_:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+zy(o,0):r,E5(a)?(n="",e!=null&&(n=e.replace(L5,"$&/")+"/"),Zp(a,t,n,"",function(c){return c})):a!=null&&(K2(a)&&(a=P_(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(L5,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",E5(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+zy(i,s);o+=Zp(i,t,n,l,a)}else if(l=A_(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+zy(i,s++),o+=Zp(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function mp(e,t,n){if(e==null)return e;var r=[],a=0;return Zp(e,r,"","",function(i){return t.call(n,i,a++)}),r}function O_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cr={current:null},em={transition:null},T_={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:em,ReactCurrentOwner:V2};function Dk(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:mp,forEach:function(e,t,n){mp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mp(e,function(){t++}),t},toArray:function(e){return mp(e,function(t){return t})||[]},only:function(e){if(!K2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};St.Component=gc;St.Fragment=y_;St.Profiler=x_;St.PureComponent=q2;St.StrictMode=v_;St.Suspense=N_;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T_;St.act=Dk;St.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tk({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=V2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Ek.call(t,l)&&!Lk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:ch,type:e.type,key:a,ref:i,props:r,_owner:o}};St.createContext=function(e){return e={$$typeof:w_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b_,_context:e},e.Consumer=e};St.createElement=Mk;St.createFactory=function(e){var t=Mk.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:S_,render:e}};St.isValidElement=K2;St.lazy=function(e){return{$$typeof:k_,_payload:{_status:-1,_result:e},_init:O_}};St.memo=function(e,t){return{$$typeof:j_,type:e,compare:t===void 0?null:t}};St.startTransition=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}};St.unstable_act=Dk;St.useCallback=function(e,t){return Cr.current.useCallback(e,t)};St.useContext=function(e){return Cr.current.useContext(e)};St.useDebugValue=function(){};St.useDeferredValue=function(e){return Cr.current.useDeferredValue(e)};St.useEffect=function(e,t){return Cr.current.useEffect(e,t)};St.useId=function(){return Cr.current.useId()};St.useImperativeHandle=function(e,t,n){return Cr.current.useImperativeHandle(e,t,n)};St.useInsertionEffect=function(e,t){return Cr.current.useInsertionEffect(e,t)};St.useLayoutEffect=function(e,t){return Cr.current.useLayoutEffect(e,t)};St.useMemo=function(e,t){return Cr.current.useMemo(e,t)};St.useReducer=function(e,t,n){return Cr.current.useReducer(e,t,n)};St.useRef=function(e){return Cr.current.useRef(e)};St.useState=function(e){return Cr.current.useState(e)};St.useSyncExternalStore=function(e,t,n){return Cr.current.useSyncExternalStore(e,t,n)};St.useTransition=function(){return Cr.current.useTransition()};St.version="18.3.1";Ck.exports=St;var se=Ck.exports;const ge=Rt(se),F_=p_({__proto__:null,default:ge},[se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __=se,E_=Symbol.for("react.element"),L_=Symbol.for("react.fragment"),M_=Object.prototype.hasOwnProperty,D_=__.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I_={key:!0,ref:!0,__self:!0,__source:!0};function Ik(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)M_.call(t,r)&&!I_.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:E_,type:e,key:i,ref:o,props:a,_owner:D_.current}}Ig.Fragment=L_;Ig.jsx=Ik;Ig.jsxs=Ik;Pk.exports=Ig;var u=Pk.exports,i1={},$k={exports:{}},la={},Rk={exports:{}},Bk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,z){var Y=B.length;B.push(z);e:for(;0<Y;){var ie=Y-1>>>1,_=B[ie];if(0<a(_,z))B[ie]=z,B[Y]=_,Y=ie;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var z=B[0],Y=B.pop();if(Y!==z){B[0]=Y;e:for(var ie=0,_=B.length,D=_>>>1;ie<D;){var q=2*(ie+1)-1,te=B[q],H=q+1,Z=B[H];if(0>a(te,Y))H<_&&0>a(Z,te)?(B[ie]=Z,B[H]=Y,ie=H):(B[ie]=te,B[q]=Y,ie=q);else if(H<_&&0>a(Z,Y))B[ie]=Z,B[H]=Y,ie=H;else break e}}return z}function a(B,z){var Y=B.sortIndex-z.sortIndex;return Y!==0?Y:B.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=B)r(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(c)}}function j(B){if(g=!1,v(B),!m)if(n(l)!==null)m=!0,L(N);else{var z=n(c);z!==null&&R(j,z.startTime-B)}}function N(B,z){m=!1,g&&(g=!1,b(T),T=-1),f=!0;var Y=p;try{for(v(z),d=n(l);d!==null&&(!(d.expirationTime>z)||B&&!C());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,p=d.priorityLevel;var _=ie(d.expirationTime<=z);z=e.unstable_now(),typeof _=="function"?d.callback=_:d===n(l)&&r(l),v(z)}else r(l);d=n(l)}if(d!==null)var D=!0;else{var q=n(c);q!==null&&R(j,q.startTime-z),D=!1}return D}finally{d=null,p=Y,f=!1}}var A=!1,k=null,T=-1,E=5,U=-1;function C(){return!(e.unstable_now()-U<E)}function P(){if(k!==null){var B=e.unstable_now();U=B;var z=!0;try{z=k(!0,B)}finally{z?I():(A=!1,k=null)}}else A=!1}var I;if(typeof x=="function")I=function(){x(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,W=M.port2;M.port1.onmessage=P,I=function(){W.postMessage(null)}}else I=function(){w(P,0)};function L(B){k=B,A||(A=!0,I())}function R(B,z){T=w(function(){B(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,L(N))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var Y=p;p=z;try{return B()}finally{p=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=p;p=B;try{return z()}finally{p=Y}},e.unstable_scheduleCallback=function(B,z,Y){var ie=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,B){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=Y+_,B={id:h++,callback:z,priorityLevel:B,startTime:Y,expirationTime:_,sortIndex:-1},Y>ie?(B.sortIndex=Y,t(c,B),n(l)===null&&B===n(c)&&(g?(b(T),T=-1):g=!0,R(j,Y-ie))):(B.sortIndex=_,t(l,B),m||f||(m=!0,L(N))),B},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(B){var z=p;return function(){var Y=p;p=z;try{return B.apply(this,arguments)}finally{p=Y}}}})(Bk);Rk.exports=Bk;var $_=Rk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_=se,oa=$_;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wk=new Set,of={};function Sl(e,t){Bu(e,t),Bu(e+"Capture",t)}function Bu(e,t){for(of[e]=t,e=0;e<t.length;e++)Wk.add(t[e])}var oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o1=Object.prototype.hasOwnProperty,B_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M5={},D5={};function W_(e){return o1.call(D5,e)?!0:o1.call(M5,e)?!1:B_.test(e)?D5[e]=!0:(M5[e]=!0,!1)}function U_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z_(e,t,n,r){if(t===null||typeof t>"u"||U_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Or(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rr[e]=new Or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rr[t]=new Or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rr[e]=new Or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rr[e]=new Or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rr[e]=new Or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rr[e]=new Or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rr[e]=new Or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rr[e]=new Or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rr[e]=new Or(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y2=/[\-:]([a-z])/g;function X2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Y2,X2);rr[t]=new Or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Y2,X2);rr[t]=new Or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Y2,X2);rr[t]=new Or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rr[e]=new Or(e,1,!1,e.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rr[e]=new Or(e,1,!1,e.toLowerCase(),null,!0,!0)});function J2(e,t,n,r){var a=rr.hasOwnProperty(t)?rr[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(z_(t,n,a,r)&&(n=null),r||a===null?W_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mo=R_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gp=Symbol.for("react.element"),gu=Symbol.for("react.portal"),yu=Symbol.for("react.fragment"),Q2=Symbol.for("react.strict_mode"),s1=Symbol.for("react.profiler"),Uk=Symbol.for("react.provider"),zk=Symbol.for("react.context"),Z2=Symbol.for("react.forward_ref"),l1=Symbol.for("react.suspense"),u1=Symbol.for("react.suspense_list"),eb=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),Hk=Symbol.for("react.offscreen"),I5=Symbol.iterator;function cd(e){return e===null||typeof e!="object"?null:(e=I5&&e[I5]||e["@@iterator"],typeof e=="function"?e:null)}var ln=Object.assign,Hy;function Ld(e){if(Hy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hy=t&&t[1]||""}return`
`+Hy+e}var qy=!1;function Gy(e,t){if(!e||qy)return"";qy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{qy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ld(e):""}function H_(e){switch(e.tag){case 5:return Ld(e.type);case 16:return Ld("Lazy");case 13:return Ld("Suspense");case 19:return Ld("SuspenseList");case 0:case 2:case 15:return e=Gy(e.type,!1),e;case 11:return e=Gy(e.type.render,!1),e;case 1:return e=Gy(e.type,!0),e;default:return""}}function c1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yu:return"Fragment";case gu:return"Portal";case s1:return"Profiler";case Q2:return"StrictMode";case l1:return"Suspense";case u1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zk:return(e.displayName||"Context")+".Consumer";case Uk:return(e._context.displayName||"Context")+".Provider";case Z2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eb:return t=e.displayName||null,t!==null?t:c1(e.type)||"Memo";case Ro:t=e._payload,e=e._init;try{return c1(e(t))}catch{}}return null}function q_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c1(t);case 8:return t===Q2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ls(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G_(e){var t=qk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yp(e){e._valueTracker||(e._valueTracker=G_(e))}function Gk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function d1(e,t){var n=t.checked;return ln({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ls(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vk(e,t){t=t.checked,t!=null&&J2(e,"checked",t,!1)}function f1(e,t){Vk(e,t);var n=ls(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?h1(e,t.type,n):t.hasOwnProperty("defaultValue")&&h1(e,t.type,ls(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function R5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function h1(e,t,n){(t!=="number"||fm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Md=Array.isArray;function Fu(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ls(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function p1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return ln({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function B5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(We(92));if(Md(n)){if(1<n.length)throw Error(We(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ls(n)}}function Kk(e,t){var n=ls(t.value),r=ls(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function W5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vp,Xk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vp=vp||document.createElement("div"),vp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V_=["Webkit","ms","Moz","O"];Object.keys(Rd).forEach(function(e){V_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rd[t]=Rd[e]})});function Jk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rd.hasOwnProperty(e)&&Rd[e]?(""+t).trim():t+"px"}function Qk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Jk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var K_=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g1(e,t){if(t){if(K_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function y1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=null;function tb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var x1=null,_u=null,Eu=null;function U5(e){if(e=hh(e)){if(typeof x1!="function")throw Error(We(280));var t=e.stateNode;t&&(t=Ug(t),x1(e.stateNode,e.type,t))}}function Zk(e){_u?Eu?Eu.push(e):Eu=[e]:_u=e}function eA(){if(_u){var e=_u,t=Eu;if(Eu=_u=null,U5(e),t)for(e=0;e<t.length;e++)U5(t[e])}}function tA(e,t){return e(t)}function nA(){}var Vy=!1;function rA(e,t,n){if(Vy)return e(t,n);Vy=!0;try{return tA(e,t,n)}finally{Vy=!1,(_u!==null||Eu!==null)&&(nA(),eA())}}function lf(e,t){var n=e.stateNode;if(n===null)return null;var r=Ug(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(We(231,t,typeof n));return n}var b1=!1;if(oo)try{var dd={};Object.defineProperty(dd,"passive",{get:function(){b1=!0}}),window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{b1=!1}function Y_(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Bd=!1,hm=null,pm=!1,w1=null,X_={onError:function(e){Bd=!0,hm=e}};function J_(e,t,n,r,a,i,o,s,l){Bd=!1,hm=null,Y_.apply(X_,arguments)}function Q_(e,t,n,r,a,i,o,s,l){if(J_.apply(this,arguments),Bd){if(Bd){var c=hm;Bd=!1,hm=null}else throw Error(We(198));pm||(pm=!0,w1=c)}}function Nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function aA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function z5(e){if(Nl(e)!==e)throw Error(We(188))}function Z_(e){var t=e.alternate;if(!t){if(t=Nl(e),t===null)throw Error(We(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return z5(a),e;if(i===r)return z5(a),t;i=i.sibling}throw Error(We(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(We(189))}}if(n.alternate!==r)throw Error(We(190))}if(n.tag!==3)throw Error(We(188));return n.stateNode.current===n?e:t}function iA(e){return e=Z_(e),e!==null?oA(e):null}function oA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oA(e);if(t!==null)return t;e=e.sibling}return null}var sA=oa.unstable_scheduleCallback,H5=oa.unstable_cancelCallback,eE=oa.unstable_shouldYield,tE=oa.unstable_requestPaint,xn=oa.unstable_now,nE=oa.unstable_getCurrentPriorityLevel,nb=oa.unstable_ImmediatePriority,lA=oa.unstable_UserBlockingPriority,mm=oa.unstable_NormalPriority,rE=oa.unstable_LowPriority,uA=oa.unstable_IdlePriority,$g=null,Ci=null;function aE(e){if(Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot($g,e,void 0,(e.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:sE,iE=Math.log,oE=Math.LN2;function sE(e){return e>>>=0,e===0?32:31-(iE(e)/oE|0)|0}var xp=64,bp=4194304;function Dd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=Dd(s):(i&=o,i!==0&&(r=Dd(i)))}else o=n&~a,o!==0?r=Dd(o):i!==0&&(r=Dd(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ii(t),a=1<<n,r|=e[n],t&=~a;return r}function lE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ii(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=lE(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function S1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cA(){var e=xp;return xp<<=1,!(xp&4194240)&&(xp=64),e}function Ky(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ii(t),e[t]=n}function cE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ii(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function rb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ii(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var $t=0;function dA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fA,ab,hA,pA,mA,N1=!1,wp=[],Jo=null,Qo=null,Zo=null,uf=new Map,cf=new Map,Uo=[],dE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q5(e,t){switch(e){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Zo=null;break;case"pointerover":case"pointerout":uf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cf.delete(t.pointerId)}}function fd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=hh(t),t!==null&&ab(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function fE(e,t,n,r,a){switch(t){case"focusin":return Jo=fd(Jo,e,t,n,r,a),!0;case"dragenter":return Qo=fd(Qo,e,t,n,r,a),!0;case"mouseover":return Zo=fd(Zo,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return uf.set(i,fd(uf.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,cf.set(i,fd(cf.get(i)||null,e,t,n,r,a)),!0}return!1}function gA(e){var t=qs(e.target);if(t!==null){var n=Nl(t);if(n!==null){if(t=n.tag,t===13){if(t=aA(n),t!==null){e.blockedOn=t,mA(e.priority,function(){hA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=j1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);v1=r,n.target.dispatchEvent(r),v1=null}else return t=hh(n),t!==null&&ab(t),e.blockedOn=n,!1;t.shift()}return!0}function G5(e,t,n){tm(e)&&n.delete(t)}function hE(){N1=!1,Jo!==null&&tm(Jo)&&(Jo=null),Qo!==null&&tm(Qo)&&(Qo=null),Zo!==null&&tm(Zo)&&(Zo=null),uf.forEach(G5),cf.forEach(G5)}function hd(e,t){e.blockedOn===t&&(e.blockedOn=null,N1||(N1=!0,oa.unstable_scheduleCallback(oa.unstable_NormalPriority,hE)))}function df(e){function t(a){return hd(a,e)}if(0<wp.length){hd(wp[0],e);for(var n=1;n<wp.length;n++){var r=wp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jo!==null&&hd(Jo,e),Qo!==null&&hd(Qo,e),Zo!==null&&hd(Zo,e),uf.forEach(t),cf.forEach(t),n=0;n<Uo.length;n++)r=Uo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Uo.length&&(n=Uo[0],n.blockedOn===null);)gA(n),n.blockedOn===null&&Uo.shift()}var Lu=mo.ReactCurrentBatchConfig,ym=!0;function pE(e,t,n,r){var a=$t,i=Lu.transition;Lu.transition=null;try{$t=1,ib(e,t,n,r)}finally{$t=a,Lu.transition=i}}function mE(e,t,n,r){var a=$t,i=Lu.transition;Lu.transition=null;try{$t=4,ib(e,t,n,r)}finally{$t=a,Lu.transition=i}}function ib(e,t,n,r){if(ym){var a=j1(e,t,n,r);if(a===null)av(e,t,r,vm,n),q5(e,r);else if(fE(a,e,t,n,r))r.stopPropagation();else if(q5(e,r),t&4&&-1<dE.indexOf(e)){for(;a!==null;){var i=hh(a);if(i!==null&&fA(i),i=j1(e,t,n,r),i===null&&av(e,t,r,vm,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else av(e,t,r,null,n)}}var vm=null;function j1(e,t,n,r){if(vm=null,e=tb(r),e=qs(e),e!==null)if(t=Nl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=aA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vm=e,null}function yA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nE()){case nb:return 1;case lA:return 4;case mm:case rE:return 16;case uA:return 536870912;default:return 16}default:return 16}}var Go=null,ob=null,nm=null;function vA(){if(nm)return nm;var e,t=ob,n=t.length,r,a="value"in Go?Go.value:Go.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return nm=a.slice(e,1<r?1-r:void 0)}function rm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sp(){return!0}function V5(){return!1}function ua(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Sp:V5,this.isPropagationStopped=V5,this}return ln(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),t}var yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sb=ua(yc),fh=ln({},yc,{view:0,detail:0}),gE=ua(fh),Yy,Xy,pd,Rg=ln({},fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pd&&(pd&&e.type==="mousemove"?(Yy=e.screenX-pd.screenX,Xy=e.screenY-pd.screenY):Xy=Yy=0,pd=e),Yy)},movementY:function(e){return"movementY"in e?e.movementY:Xy}}),K5=ua(Rg),yE=ln({},Rg,{dataTransfer:0}),vE=ua(yE),xE=ln({},fh,{relatedTarget:0}),Jy=ua(xE),bE=ln({},yc,{animationName:0,elapsedTime:0,pseudoElement:0}),wE=ua(bE),SE=ln({},yc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NE=ua(SE),jE=ln({},yc,{data:0}),Y5=ua(jE),kE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PE[e])?!!t[e]:!1}function lb(){return CE}var OE=ln({},fh,{key:function(e){if(e.key){var t=kE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lb,charCode:function(e){return e.type==="keypress"?rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TE=ua(OE),FE=ln({},Rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X5=ua(FE),_E=ln({},fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lb}),EE=ua(_E),LE=ln({},yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),ME=ua(LE),DE=ln({},Rg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IE=ua(DE),$E=[9,13,27,32],ub=oo&&"CompositionEvent"in window,Wd=null;oo&&"documentMode"in document&&(Wd=document.documentMode);var RE=oo&&"TextEvent"in window&&!Wd,xA=oo&&(!ub||Wd&&8<Wd&&11>=Wd),J5=" ",Q5=!1;function bA(e,t){switch(e){case"keyup":return $E.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vu=!1;function BE(e,t){switch(e){case"compositionend":return wA(t);case"keypress":return t.which!==32?null:(Q5=!0,J5);case"textInput":return e=t.data,e===J5&&Q5?null:e;default:return null}}function WE(e,t){if(vu)return e==="compositionend"||!ub&&bA(e,t)?(e=vA(),nm=ob=Go=null,vu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xA&&t.locale!=="ko"?null:t.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UE[e.type]:t==="textarea"}function SA(e,t,n,r){Zk(r),t=xm(t,"onChange"),0<t.length&&(n=new sb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ud=null,ff=null;function zE(e){EA(e,0)}function Bg(e){var t=wu(e);if(Gk(t))return e}function HE(e,t){if(e==="change")return t}var NA=!1;if(oo){var Qy;if(oo){var Zy="oninput"in document;if(!Zy){var eS=document.createElement("div");eS.setAttribute("oninput","return;"),Zy=typeof eS.oninput=="function"}Qy=Zy}else Qy=!1;NA=Qy&&(!document.documentMode||9<document.documentMode)}function tS(){Ud&&(Ud.detachEvent("onpropertychange",jA),ff=Ud=null)}function jA(e){if(e.propertyName==="value"&&Bg(ff)){var t=[];SA(t,ff,e,tb(e)),rA(zE,t)}}function qE(e,t,n){e==="focusin"?(tS(),Ud=t,ff=n,Ud.attachEvent("onpropertychange",jA)):e==="focusout"&&tS()}function GE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bg(ff)}function VE(e,t){if(e==="click")return Bg(t)}function KE(e,t){if(e==="input"||e==="change")return Bg(t)}function YE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var si=typeof Object.is=="function"?Object.is:YE;function hf(e,t){if(si(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!o1.call(t,a)||!si(e[a],t[a]))return!1}return!0}function nS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rS(e,t){var n=nS(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nS(n)}}function kA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AA(){for(var e=window,t=fm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fm(e.document)}return t}function cb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XE(e){var t=AA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kA(n.ownerDocument.documentElement,n)){if(r!==null&&cb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=rS(n,i);var o=rS(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JE=oo&&"documentMode"in document&&11>=document.documentMode,xu=null,k1=null,zd=null,A1=!1;function aS(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A1||xu==null||xu!==fm(r)||(r=xu,"selectionStart"in r&&cb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zd&&hf(zd,r)||(zd=r,r=xm(k1,"onSelect"),0<r.length&&(t=new sb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xu)))}function Np(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bu={animationend:Np("Animation","AnimationEnd"),animationiteration:Np("Animation","AnimationIteration"),animationstart:Np("Animation","AnimationStart"),transitionend:Np("Transition","TransitionEnd")},ev={},PA={};oo&&(PA=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function Wg(e){if(ev[e])return ev[e];if(!bu[e])return e;var t=bu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in PA)return ev[e]=t[n];return e}var CA=Wg("animationend"),OA=Wg("animationiteration"),TA=Wg("animationstart"),FA=Wg("transitionend"),_A=new Map,iS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(e,t){_A.set(e,t),Sl(t,[e])}for(var tv=0;tv<iS.length;tv++){var nv=iS[tv],QE=nv.toLowerCase(),ZE=nv[0].toUpperCase()+nv.slice(1);hs(QE,"on"+ZE)}hs(CA,"onAnimationEnd");hs(OA,"onAnimationIteration");hs(TA,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(FA,"onTransitionEnd");Bu("onMouseEnter",["mouseout","mouseover"]);Bu("onMouseLeave",["mouseout","mouseover"]);Bu("onPointerEnter",["pointerout","pointerover"]);Bu("onPointerLeave",["pointerout","pointerover"]);Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));function oS(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Q_(r,t,void 0,e),e.currentTarget=null}function EA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;oS(a,s,c),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;oS(a,s,c),i=l}}}if(pm)throw e=w1,pm=!1,w1=null,e}function Jt(e,t){var n=t[F1];n===void 0&&(n=t[F1]=new Set);var r=e+"__bubble";n.has(r)||(LA(t,e,2,!1),n.add(r))}function rv(e,t,n){var r=0;t&&(r|=4),LA(n,e,r,t)}var jp="_reactListening"+Math.random().toString(36).slice(2);function pf(e){if(!e[jp]){e[jp]=!0,Wk.forEach(function(n){n!=="selectionchange"&&(eL.has(n)||rv(n,!1,e),rv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jp]||(t[jp]=!0,rv("selectionchange",!1,t))}}function LA(e,t,n,r){switch(yA(t)){case 1:var a=pE;break;case 4:a=mE;break;default:a=ib}n=a.bind(null,t,n,e),a=void 0,!b1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function av(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=qs(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}rA(function(){var c=i,h=tb(n),d=[];e:{var p=_A.get(e);if(p!==void 0){var f=sb,m=e;switch(e){case"keypress":if(rm(n)===0)break e;case"keydown":case"keyup":f=TE;break;case"focusin":m="focus",f=Jy;break;case"focusout":m="blur",f=Jy;break;case"beforeblur":case"afterblur":f=Jy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=K5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=vE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=EE;break;case CA:case OA:case TA:f=wE;break;case FA:f=ME;break;case"scroll":f=gE;break;case"wheel":f=IE;break;case"copy":case"cut":case"paste":f=NE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=X5}var g=(t&4)!==0,w=!g&&e==="scroll",b=g?p!==null?p+"Capture":null:p;g=[];for(var x=c,v;x!==null;){v=x;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,b!==null&&(j=lf(x,b),j!=null&&g.push(mf(x,j,v)))),w)break;x=x.return}0<g.length&&(p=new f(p,m,null,n,h),d.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==v1&&(m=n.relatedTarget||n.fromElement)&&(qs(m)||m[so]))break e;if((f||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?qs(m):null,m!==null&&(w=Nl(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=K5,j="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=X5,j="onPointerLeave",b="onPointerEnter",x="pointer"),w=f==null?p:wu(f),v=m==null?p:wu(m),p=new g(j,x+"leave",f,n,h),p.target=w,p.relatedTarget=v,j=null,qs(h)===c&&(g=new g(b,x+"enter",m,n,h),g.target=v,g.relatedTarget=w,j=g),w=j,f&&m)t:{for(g=f,b=m,x=0,v=g;v;v=au(v))x++;for(v=0,j=b;j;j=au(j))v++;for(;0<x-v;)g=au(g),x--;for(;0<v-x;)b=au(b),v--;for(;x--;){if(g===b||b!==null&&g===b.alternate)break t;g=au(g),b=au(b)}g=null}else g=null;f!==null&&sS(d,p,f,g,!1),m!==null&&w!==null&&sS(d,w,m,g,!0)}}e:{if(p=c?wu(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var N=HE;else if(Z5(p))if(NA)N=KE;else{N=GE;var A=qE}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=VE);if(N&&(N=N(e,c))){SA(d,N,n,h);break e}A&&A(e,p,c),e==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&h1(p,"number",p.value)}switch(A=c?wu(c):window,e){case"focusin":(Z5(A)||A.contentEditable==="true")&&(xu=A,k1=c,zd=null);break;case"focusout":zd=k1=xu=null;break;case"mousedown":A1=!0;break;case"contextmenu":case"mouseup":case"dragend":A1=!1,aS(d,n,h);break;case"selectionchange":if(JE)break;case"keydown":case"keyup":aS(d,n,h)}var k;if(ub)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else vu?bA(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(xA&&n.locale!=="ko"&&(vu||T!=="onCompositionStart"?T==="onCompositionEnd"&&vu&&(k=vA()):(Go=h,ob="value"in Go?Go.value:Go.textContent,vu=!0)),A=xm(c,T),0<A.length&&(T=new Y5(T,e,null,n,h),d.push({event:T,listeners:A}),k?T.data=k:(k=wA(n),k!==null&&(T.data=k)))),(k=RE?BE(e,n):WE(e,n))&&(c=xm(c,"onBeforeInput"),0<c.length&&(h=new Y5("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=k))}EA(d,t)})}function mf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xm(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=lf(e,n),i!=null&&r.unshift(mf(e,i,a)),i=lf(e,t),i!=null&&r.push(mf(e,i,a))),e=e.return}return r}function au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sS(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,a?(l=lf(n,i),l!=null&&o.unshift(mf(n,l,s))):a||(l=lf(n,i),l!=null&&o.push(mf(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tL=/\r\n?/g,nL=/\u0000|\uFFFD/g;function lS(e){return(typeof e=="string"?e:""+e).replace(tL,`
`).replace(nL,"")}function kp(e,t,n){if(t=lS(t),lS(e)!==t&&n)throw Error(We(425))}function bm(){}var P1=null,C1=null;function O1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var T1=typeof setTimeout=="function"?setTimeout:void 0,rL=typeof clearTimeout=="function"?clearTimeout:void 0,uS=typeof Promise=="function"?Promise:void 0,aL=typeof queueMicrotask=="function"?queueMicrotask:typeof uS<"u"?function(e){return uS.resolve(null).then(e).catch(iL)}:T1;function iL(e){setTimeout(function(){throw e})}function iv(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),df(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);df(t)}function es(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vc=Math.random().toString(36).slice(2),ki="__reactFiber$"+vc,gf="__reactProps$"+vc,so="__reactContainer$"+vc,F1="__reactEvents$"+vc,oL="__reactListeners$"+vc,sL="__reactHandles$"+vc;function qs(e){var t=e[ki];if(t)return t;for(var n=e.parentNode;n;){if(t=n[so]||n[ki]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cS(e);e!==null;){if(n=e[ki])return n;e=cS(e)}return t}e=n,n=e.parentNode}return null}function hh(e){return e=e[ki]||e[so],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function Ug(e){return e[gf]||null}var _1=[],Su=-1;function ps(e){return{current:e}}function tn(e){0>Su||(e.current=_1[Su],_1[Su]=null,Su--)}function Xt(e,t){Su++,_1[Su]=e.current,e.current=t}var us={},br=ps(us),Rr=ps(!1),dl=us;function Wu(e,t){var n=e.type.contextTypes;if(!n)return us;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Br(e){return e=e.childContextTypes,e!=null}function wm(){tn(Rr),tn(br)}function dS(e,t,n){if(br.current!==us)throw Error(We(168));Xt(br,t),Xt(Rr,n)}function MA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(We(108,q_(e)||"Unknown",a));return ln({},n,r)}function Sm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||us,dl=br.current,Xt(br,e),Xt(Rr,Rr.current),!0}function fS(e,t,n){var r=e.stateNode;if(!r)throw Error(We(169));n?(e=MA(e,t,dl),r.__reactInternalMemoizedMergedChildContext=e,tn(Rr),tn(br),Xt(br,e)):tn(Rr),Xt(Rr,n)}var Xi=null,zg=!1,ov=!1;function DA(e){Xi===null?Xi=[e]:Xi.push(e)}function lL(e){zg=!0,DA(e)}function ms(){if(!ov&&Xi!==null){ov=!0;var e=0,t=$t;try{var n=Xi;for($t=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xi=null,zg=!1}catch(a){throw Xi!==null&&(Xi=Xi.slice(e+1)),sA(nb,ms),a}finally{$t=t,ov=!1}}return null}var Nu=[],ju=0,Nm=null,jm=0,wa=[],Sa=0,fl=null,Ji=1,Qi="";function Ds(e,t){Nu[ju++]=jm,Nu[ju++]=Nm,Nm=e,jm=t}function IA(e,t,n){wa[Sa++]=Ji,wa[Sa++]=Qi,wa[Sa++]=fl,fl=e;var r=Ji;e=Qi;var a=32-ii(r)-1;r&=~(1<<a),n+=1;var i=32-ii(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ji=1<<32-ii(t)+a|n<<a|r,Qi=i+e}else Ji=1<<i|n<<a|r,Qi=e}function db(e){e.return!==null&&(Ds(e,1),IA(e,1,0))}function fb(e){for(;e===Nm;)Nm=Nu[--ju],Nu[ju]=null,jm=Nu[--ju],Nu[ju]=null;for(;e===fl;)fl=wa[--Sa],wa[Sa]=null,Qi=wa[--Sa],wa[Sa]=null,Ji=wa[--Sa],wa[Sa]=null}var ia=null,ra=null,nn=!1,ei=null;function $A(e,t){var n=Na(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ia=e,ra=es(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ia=e,ra=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fl!==null?{id:Ji,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Na(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ia=e,ra=null,!0):!1;default:return!1}}function E1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function L1(e){if(nn){var t=ra;if(t){var n=t;if(!hS(e,t)){if(E1(e))throw Error(We(418));t=es(n.nextSibling);var r=ia;t&&hS(e,t)?$A(r,n):(e.flags=e.flags&-4097|2,nn=!1,ia=e)}}else{if(E1(e))throw Error(We(418));e.flags=e.flags&-4097|2,nn=!1,ia=e}}}function pS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ia=e}function Ap(e){if(e!==ia)return!1;if(!nn)return pS(e),nn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!O1(e.type,e.memoizedProps)),t&&(t=ra)){if(E1(e))throw RA(),Error(We(418));for(;t;)$A(e,t),t=es(t.nextSibling)}if(pS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ra=es(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ra=null}}else ra=ia?es(e.stateNode.nextSibling):null;return!0}function RA(){for(var e=ra;e;)e=es(e.nextSibling)}function Uu(){ra=ia=null,nn=!1}function hb(e){ei===null?ei=[e]:ei.push(e)}var uL=mo.ReactCurrentBatchConfig;function md(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(We(309));var r=n.stateNode}if(!r)throw Error(We(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(We(284));if(!n._owner)throw Error(We(290,e))}return e}function Pp(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mS(e){var t=e._init;return t(e._payload)}function BA(e){function t(b,x){if(e){var v=b.deletions;v===null?(b.deletions=[x],b.flags|=16):v.push(x)}}function n(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function a(b,x){return b=as(b,x),b.index=0,b.sibling=null,b}function i(b,x,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<x?(b.flags|=2,x):v):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function s(b,x,v,j){return x===null||x.tag!==6?(x=hv(v,b.mode,j),x.return=b,x):(x=a(x,v),x.return=b,x)}function l(b,x,v,j){var N=v.type;return N===yu?h(b,x,v.props.children,j,v.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ro&&mS(N)===x.type)?(j=a(x,v.props),j.ref=md(b,x,v),j.return=b,j):(j=cm(v.type,v.key,v.props,null,b.mode,j),j.ref=md(b,x,v),j.return=b,j)}function c(b,x,v,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=pv(v,b.mode,j),x.return=b,x):(x=a(x,v.children||[]),x.return=b,x)}function h(b,x,v,j,N){return x===null||x.tag!==7?(x=tl(v,b.mode,j,N),x.return=b,x):(x=a(x,v),x.return=b,x)}function d(b,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=hv(""+x,b.mode,v),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gp:return v=cm(x.type,x.key,x.props,null,b.mode,v),v.ref=md(b,null,x),v.return=b,v;case gu:return x=pv(x,b.mode,v),x.return=b,x;case Ro:var j=x._init;return d(b,j(x._payload),v)}if(Md(x)||cd(x))return x=tl(x,b.mode,v,null),x.return=b,x;Pp(b,x)}return null}function p(b,x,v,j){var N=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:s(b,x,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gp:return v.key===N?l(b,x,v,j):null;case gu:return v.key===N?c(b,x,v,j):null;case Ro:return N=v._init,p(b,x,N(v._payload),j)}if(Md(v)||cd(v))return N!==null?null:h(b,x,v,j,null);Pp(b,v)}return null}function f(b,x,v,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(v)||null,s(x,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gp:return b=b.get(j.key===null?v:j.key)||null,l(x,b,j,N);case gu:return b=b.get(j.key===null?v:j.key)||null,c(x,b,j,N);case Ro:var A=j._init;return f(b,x,v,A(j._payload),N)}if(Md(j)||cd(j))return b=b.get(v)||null,h(x,b,j,N,null);Pp(x,j)}return null}function m(b,x,v,j){for(var N=null,A=null,k=x,T=x=0,E=null;k!==null&&T<v.length;T++){k.index>T?(E=k,k=null):E=k.sibling;var U=p(b,k,v[T],j);if(U===null){k===null&&(k=E);break}e&&k&&U.alternate===null&&t(b,k),x=i(U,x,T),A===null?N=U:A.sibling=U,A=U,k=E}if(T===v.length)return n(b,k),nn&&Ds(b,T),N;if(k===null){for(;T<v.length;T++)k=d(b,v[T],j),k!==null&&(x=i(k,x,T),A===null?N=k:A.sibling=k,A=k);return nn&&Ds(b,T),N}for(k=r(b,k);T<v.length;T++)E=f(k,b,T,v[T],j),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?T:E.key),x=i(E,x,T),A===null?N=E:A.sibling=E,A=E);return e&&k.forEach(function(C){return t(b,C)}),nn&&Ds(b,T),N}function g(b,x,v,j){var N=cd(v);if(typeof N!="function")throw Error(We(150));if(v=N.call(v),v==null)throw Error(We(151));for(var A=N=null,k=x,T=x=0,E=null,U=v.next();k!==null&&!U.done;T++,U=v.next()){k.index>T?(E=k,k=null):E=k.sibling;var C=p(b,k,U.value,j);if(C===null){k===null&&(k=E);break}e&&k&&C.alternate===null&&t(b,k),x=i(C,x,T),A===null?N=C:A.sibling=C,A=C,k=E}if(U.done)return n(b,k),nn&&Ds(b,T),N;if(k===null){for(;!U.done;T++,U=v.next())U=d(b,U.value,j),U!==null&&(x=i(U,x,T),A===null?N=U:A.sibling=U,A=U);return nn&&Ds(b,T),N}for(k=r(b,k);!U.done;T++,U=v.next())U=f(k,b,T,U.value,j),U!==null&&(e&&U.alternate!==null&&k.delete(U.key===null?T:U.key),x=i(U,x,T),A===null?N=U:A.sibling=U,A=U);return e&&k.forEach(function(P){return t(b,P)}),nn&&Ds(b,T),N}function w(b,x,v,j){if(typeof v=="object"&&v!==null&&v.type===yu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case gp:e:{for(var N=v.key,A=x;A!==null;){if(A.key===N){if(N=v.type,N===yu){if(A.tag===7){n(b,A.sibling),x=a(A,v.props.children),x.return=b,b=x;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ro&&mS(N)===A.type){n(b,A.sibling),x=a(A,v.props),x.ref=md(b,A,v),x.return=b,b=x;break e}n(b,A);break}else t(b,A);A=A.sibling}v.type===yu?(x=tl(v.props.children,b.mode,j,v.key),x.return=b,b=x):(j=cm(v.type,v.key,v.props,null,b.mode,j),j.ref=md(b,x,v),j.return=b,b=j)}return o(b);case gu:e:{for(A=v.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(b,x.sibling),x=a(x,v.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else t(b,x);x=x.sibling}x=pv(v,b.mode,j),x.return=b,b=x}return o(b);case Ro:return A=v._init,w(b,x,A(v._payload),j)}if(Md(v))return m(b,x,v,j);if(cd(v))return g(b,x,v,j);Pp(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(b,x.sibling),x=a(x,v),x.return=b,b=x):(n(b,x),x=hv(v,b.mode,j),x.return=b,b=x),o(b)):n(b,x)}return w}var zu=BA(!0),WA=BA(!1),km=ps(null),Am=null,ku=null,pb=null;function mb(){pb=ku=Am=null}function gb(e){var t=km.current;tn(km),e._currentValue=t}function M1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mu(e,t){Am=e,pb=ku=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ir=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(pb!==e)if(e={context:e,memoizedValue:t,next:null},ku===null){if(Am===null)throw Error(We(308));ku=e,Am.dependencies={lanes:0,firstContext:e}}else ku=ku.next=e;return t}var Gs=null;function yb(e){Gs===null?Gs=[e]:Gs.push(e)}function UA(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,yb(t)):(n.next=a.next,a.next=n),t.interleaved=n,lo(e,r)}function lo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bo=!1;function vb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function no(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ts(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,lo(e,n)}return a=r.interleaved,a===null?(t.next=t,yb(r)):(t.next=a.next,a.next=t),r.interleaved=t,lo(e,n)}function am(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rb(e,n)}}function gS(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pm(e,t,n,r){var a=e.updateQueue;Bo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==o&&(s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=l))}if(i!==null){var d=a.baseState;o=0,h=c=l=null,s=i;do{var p=s.lane,f=s.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(p=t,f=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(f,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(f,d,p):m,p==null)break e;d=ln({},d,p);break e;case 2:Bo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=f,l=d):h=h.next=f,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(h===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);pl|=o,e.lanes=o,e.memoizedState=d}}function yS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(We(191,a));a.call(r)}}}var ph={},Oi=ps(ph),yf=ps(ph),vf=ps(ph);function Vs(e){if(e===ph)throw Error(We(174));return e}function xb(e,t){switch(Xt(vf,t),Xt(yf,e),Xt(Oi,ph),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:m1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=m1(t,e)}tn(Oi),Xt(Oi,t)}function Hu(){tn(Oi),tn(yf),tn(vf)}function HA(e){Vs(vf.current);var t=Vs(Oi.current),n=m1(t,e.type);t!==n&&(Xt(yf,e),Xt(Oi,n))}function bb(e){yf.current===e&&(tn(Oi),tn(yf))}var on=ps(0);function Cm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sv=[];function wb(){for(var e=0;e<sv.length;e++)sv[e]._workInProgressVersionPrimary=null;sv.length=0}var im=mo.ReactCurrentDispatcher,lv=mo.ReactCurrentBatchConfig,hl=0,sn=null,Dn=null,Gn=null,Om=!1,Hd=!1,xf=0,cL=0;function sr(){throw Error(We(321))}function Sb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function Nb(e,t,n,r,a,i){if(hl=i,sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,im.current=e===null||e.memoizedState===null?pL:mL,e=n(r,a),Hd){i=0;do{if(Hd=!1,xf=0,25<=i)throw Error(We(301));i+=1,Gn=Dn=null,t.updateQueue=null,im.current=gL,e=n(r,a)}while(Hd)}if(im.current=Tm,t=Dn!==null&&Dn.next!==null,hl=0,Gn=Dn=sn=null,Om=!1,t)throw Error(We(300));return e}function jb(){var e=xf!==0;return xf=0,e}function Ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?sn.memoizedState=Gn=e:Gn=Gn.next=e,Gn}function Oa(){if(Dn===null){var e=sn.alternate;e=e!==null?e.memoizedState:null}else e=Dn.next;var t=Gn===null?sn.memoizedState:Gn.next;if(t!==null)Gn=t,Dn=e;else{if(e===null)throw Error(We(310));Dn=e,e={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Gn===null?sn.memoizedState=Gn=e:Gn=Gn.next=e}return Gn}function bf(e,t){return typeof t=="function"?t(e):t}function uv(e){var t=Oa(),n=t.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=e;var r=Dn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,c=i;do{var h=c.lane;if((hl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,sn.lanes|=h,pl|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=s,si(r,t.memoizedState)||(Ir=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,sn.lanes|=i,pl|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cv(e){var t=Oa(),n=t.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);si(i,t.memoizedState)||(Ir=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function qA(){}function GA(e,t){var n=sn,r=Oa(),a=t(),i=!si(r.memoizedState,a);if(i&&(r.memoizedState=a,Ir=!0),r=r.queue,kb(YA.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,wf(9,KA.bind(null,n,r,a,t),void 0,null),Vn===null)throw Error(We(349));hl&30||VA(n,t,a)}return a}function VA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KA(e,t,n,r){t.value=n,t.getSnapshot=r,XA(t)&&JA(e)}function YA(e,t,n){return n(function(){XA(t)&&JA(e)})}function XA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch{return!0}}function JA(e){var t=lo(e,1);t!==null&&oi(t,e,1,-1)}function vS(e){var t=Ni();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bf,lastRenderedState:e},t.queue=e,e=e.dispatch=hL.bind(null,sn,e),[t.memoizedState,e]}function wf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function QA(){return Oa().memoizedState}function om(e,t,n,r){var a=Ni();sn.flags|=e,a.memoizedState=wf(1|t,n,void 0,r===void 0?null:r)}function Hg(e,t,n,r){var a=Oa();r=r===void 0?null:r;var i=void 0;if(Dn!==null){var o=Dn.memoizedState;if(i=o.destroy,r!==null&&Sb(r,o.deps)){a.memoizedState=wf(t,n,i,r);return}}sn.flags|=e,a.memoizedState=wf(1|t,n,i,r)}function xS(e,t){return om(8390656,8,e,t)}function kb(e,t){return Hg(2048,8,e,t)}function ZA(e,t){return Hg(4,2,e,t)}function eP(e,t){return Hg(4,4,e,t)}function tP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nP(e,t,n){return n=n!=null?n.concat([e]):null,Hg(4,4,tP.bind(null,t,e),n)}function Ab(){}function rP(e,t){var n=Oa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aP(e,t){var n=Oa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function iP(e,t,n){return hl&21?(si(n,t)||(n=cA(),sn.lanes|=n,pl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ir=!0),e.memoizedState=n)}function dL(e,t){var n=$t;$t=n!==0&&4>n?n:4,e(!0);var r=lv.transition;lv.transition={};try{e(!1),t()}finally{$t=n,lv.transition=r}}function oP(){return Oa().memoizedState}function fL(e,t,n){var r=rs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sP(e))lP(t,n);else if(n=UA(e,t,n,r),n!==null){var a=Pr();oi(n,e,r,a),uP(n,t,r)}}function hL(e,t,n){var r=rs(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sP(e))lP(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,si(s,o)){var l=t.interleaved;l===null?(a.next=a,yb(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=UA(e,t,a,r),n!==null&&(a=Pr(),oi(n,e,r,a),uP(n,t,r))}}function sP(e){var t=e.alternate;return e===sn||t!==null&&t===sn}function lP(e,t){Hd=Om=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rb(e,n)}}var Tm={readContext:Ca,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},pL={readContext:Ca,useCallback:function(e,t){return Ni().memoizedState=[e,t===void 0?null:t],e},useContext:Ca,useEffect:xS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,om(4194308,4,tP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return om(4194308,4,e,t)},useInsertionEffect:function(e,t){return om(4,2,e,t)},useMemo:function(e,t){var n=Ni();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ni();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fL.bind(null,sn,e),[r.memoizedState,e]},useRef:function(e){var t=Ni();return e={current:e},t.memoizedState=e},useState:vS,useDebugValue:Ab,useDeferredValue:function(e){return Ni().memoizedState=e},useTransition:function(){var e=vS(!1),t=e[0];return e=dL.bind(null,e[1]),Ni().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sn,a=Ni();if(nn){if(n===void 0)throw Error(We(407));n=n()}else{if(n=t(),Vn===null)throw Error(We(349));hl&30||VA(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,xS(YA.bind(null,r,i,e),[e]),r.flags|=2048,wf(9,KA.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ni(),t=Vn.identifierPrefix;if(nn){var n=Qi,r=Ji;n=(r&~(1<<32-ii(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mL={readContext:Ca,useCallback:rP,useContext:Ca,useEffect:kb,useImperativeHandle:nP,useInsertionEffect:ZA,useLayoutEffect:eP,useMemo:aP,useReducer:uv,useRef:QA,useState:function(){return uv(bf)},useDebugValue:Ab,useDeferredValue:function(e){var t=Oa();return iP(t,Dn.memoizedState,e)},useTransition:function(){var e=uv(bf)[0],t=Oa().memoizedState;return[e,t]},useMutableSource:qA,useSyncExternalStore:GA,useId:oP,unstable_isNewReconciler:!1},gL={readContext:Ca,useCallback:rP,useContext:Ca,useEffect:kb,useImperativeHandle:nP,useInsertionEffect:ZA,useLayoutEffect:eP,useMemo:aP,useReducer:cv,useRef:QA,useState:function(){return cv(bf)},useDebugValue:Ab,useDeferredValue:function(e){var t=Oa();return Dn===null?t.memoizedState=e:iP(t,Dn.memoizedState,e)},useTransition:function(){var e=cv(bf)[0],t=Oa().memoizedState;return[e,t]},useMutableSource:qA,useSyncExternalStore:GA,useId:oP,unstable_isNewReconciler:!1};function Ka(e,t){if(e&&e.defaultProps){t=ln({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function D1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ln({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qg={isMounted:function(e){return(e=e._reactInternals)?Nl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pr(),a=rs(e),i=no(r,a);i.payload=t,n!=null&&(i.callback=n),t=ts(e,i,a),t!==null&&(oi(t,e,a,r),am(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pr(),a=rs(e),i=no(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ts(e,i,a),t!==null&&(oi(t,e,a,r),am(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pr(),r=rs(e),a=no(n,r);a.tag=2,t!=null&&(a.callback=t),t=ts(e,a,r),t!==null&&(oi(t,e,r,n),am(t,e,r))}};function bS(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!hf(n,r)||!hf(a,i):!0}function cP(e,t,n){var r=!1,a=us,i=t.contextType;return typeof i=="object"&&i!==null?i=Ca(i):(a=Br(t)?dl:br.current,r=t.contextTypes,i=(r=r!=null)?Wu(e,a):us),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function wS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qg.enqueueReplaceState(t,t.state,null)}function I1(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},vb(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ca(i):(i=Br(t)?dl:br.current,a.context=Wu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(D1(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&qg.enqueueReplaceState(a,a.state,null),Pm(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qu(e,t){try{var n="",r=t;do n+=H_(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function dv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yL=typeof WeakMap=="function"?WeakMap:Map;function dP(e,t,n){n=no(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_m||(_m=!0,K1=r),$1(e,t)},n}function fP(e,t,n){n=no(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){$1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$1(e,t),typeof r!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function SS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yL;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=FL.bind(null,e,t,n),t.then(e,e))}function NS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jS(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=no(-1,1),t.tag=2,ts(n,t,1))),n.lanes|=1),e)}var vL=mo.ReactCurrentOwner,Ir=!1;function kr(e,t,n,r){t.child=e===null?WA(t,null,n,r):zu(t,e.child,n,r)}function kS(e,t,n,r,a){n=n.render;var i=t.ref;return Mu(t,a),r=Nb(e,t,n,r,i,a),n=jb(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,uo(e,t,a)):(nn&&n&&db(t),t.flags|=1,kr(e,t,r,a),t.child)}function AS(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!Lb(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hP(e,t,i,r,a)):(e=cm(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:hf,n(o,r)&&e.ref===t.ref)return uo(e,t,a)}return t.flags|=1,e=as(i,r),e.ref=t.ref,e.return=t,t.child=e}function hP(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(hf(i,r)&&e.ref===t.ref)if(Ir=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Ir=!0);else return t.lanes=e.lanes,uo(e,t,a)}return R1(e,t,n,r,a)}function pP(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Pu,ea),ea|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(Pu,ea),ea|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Xt(Pu,ea),ea|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Xt(Pu,ea),ea|=r;return kr(e,t,a,n),t.child}function mP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function R1(e,t,n,r,a){var i=Br(n)?dl:br.current;return i=Wu(t,i),Mu(t,a),n=Nb(e,t,n,r,i,a),r=jb(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,uo(e,t,a)):(nn&&r&&db(t),t.flags|=1,kr(e,t,n,a),t.child)}function PS(e,t,n,r,a){if(Br(n)){var i=!0;Sm(t)}else i=!1;if(Mu(t,a),t.stateNode===null)sm(e,t),cP(t,n,r),I1(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ca(c):(c=Br(n)?dl:br.current,c=Wu(t,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&wS(t,o,r,c),Bo=!1;var p=t.memoizedState;o.state=p,Pm(t,r,o,a),l=t.memoizedState,s!==r||p!==l||Rr.current||Bo?(typeof h=="function"&&(D1(t,n,h,r),l=t.memoizedState),(s=Bo||bS(t,n,s,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zA(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ka(t.type,s),o.props=c,d=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ca(l):(l=Br(n)?dl:br.current,l=Wu(t,l));var f=n.getDerivedStateFromProps;(h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||p!==l)&&wS(t,o,r,l),Bo=!1,p=t.memoizedState,o.state=p,Pm(t,r,o,a);var m=t.memoizedState;s!==d||p!==m||Rr.current||Bo?(typeof f=="function"&&(D1(t,n,f,r),m=t.memoizedState),(c=Bo||bS(t,n,c,r,p,m,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return B1(e,t,n,r,i,a)}function B1(e,t,n,r,a,i){mP(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&fS(t,n,!1),uo(e,t,i);r=t.stateNode,vL.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zu(t,e.child,null,i),t.child=zu(t,null,s,i)):kr(e,t,s,i),t.memoizedState=r.state,a&&fS(t,n,!0),t.child}function gP(e){var t=e.stateNode;t.pendingContext?dS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dS(e,t.context,!1),xb(e,t.containerInfo)}function CS(e,t,n,r,a){return Uu(),hb(a),t.flags|=256,kr(e,t,n,r),t.child}var W1={dehydrated:null,treeContext:null,retryLane:0};function U1(e){return{baseLanes:e,cachePool:null,transitions:null}}function yP(e,t,n){var r=t.pendingProps,a=on.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Xt(on,a&1),e===null)return L1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kg(o,r,0,null),e=tl(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=U1(n),t.memoizedState=W1,e):Pb(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return xL(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=as(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=as(s,i):(i=tl(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?U1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=W1,r}return i=e.child,e=i.sibling,r=as(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pb(e,t){return t=Kg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cp(e,t,n,r){return r!==null&&hb(r),zu(t,e.child,null,n),e=Pb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xL(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=dv(Error(We(422))),Cp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Kg({mode:"visible",children:r.children},a,0,null),i=tl(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&zu(t,e.child,null,o),t.child.memoizedState=U1(o),t.memoizedState=W1,i);if(!(t.mode&1))return Cp(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(We(419)),r=dv(i,r,void 0),Cp(e,t,o,r)}if(s=(o&e.childLanes)!==0,Ir||s){if(r=Vn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,lo(e,a),oi(r,e,a,-1))}return Eb(),r=dv(Error(We(421))),Cp(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=_L.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ra=es(a.nextSibling),ia=t,nn=!0,ei=null,e!==null&&(wa[Sa++]=Ji,wa[Sa++]=Qi,wa[Sa++]=fl,Ji=e.id,Qi=e.overflow,fl=t),t=Pb(t,r.children),t.flags|=4096,t)}function OS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),M1(e.return,t,n)}function fv(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function vP(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(kr(e,t,r.children,n),r=on.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&OS(e,n,t);else if(e.tag===19)OS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xt(on,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Cm(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),fv(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Cm(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}fv(t,!0,n,null,i);break;case"together":fv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function uo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,n=as(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=as(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bL(e,t,n){switch(t.tag){case 3:gP(t),Uu();break;case 5:HA(t);break;case 1:Br(t.type)&&Sm(t);break;case 4:xb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Xt(km,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xt(on,on.current&1),t.flags|=128,null):n&t.child.childLanes?yP(e,t,n):(Xt(on,on.current&1),e=uo(e,t,n),e!==null?e.sibling:null);Xt(on,on.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vP(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Xt(on,on.current),r)break;return null;case 22:case 23:return t.lanes=0,pP(e,t,n)}return uo(e,t,n)}var xP,z1,bP,wP;xP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};z1=function(){};bP=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Vs(Oi.current);var i=null;switch(n){case"input":a=d1(e,a),r=d1(e,r),i=[];break;case"select":a=ln({},a,{value:void 0}),r=ln({},r,{value:void 0}),i=[];break;case"textarea":a=p1(e,a),r=p1(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bm)}g1(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(of.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(s=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(of.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Jt("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};wP=function(e,t,n,r){n!==r&&(t.flags|=4)};function gd(e,t){if(!nn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wL(e,t,n){var r=t.pendingProps;switch(fb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(t),null;case 1:return Br(t.type)&&wm(),lr(t),null;case 3:return r=t.stateNode,Hu(),tn(Rr),tn(br),wb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ap(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ei!==null&&(J1(ei),ei=null))),z1(e,t),lr(t),null;case 5:bb(t);var a=Vs(vf.current);if(n=t.type,e!==null&&t.stateNode!=null)bP(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(We(166));return lr(t),null}if(e=Vs(Oi.current),Ap(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ki]=t,r[gf]=i,e=(t.mode&1)!==0,n){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(a=0;a<Id.length;a++)Jt(Id[a],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":$5(r,i),Jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Jt("invalid",r);break;case"textarea":B5(r,i),Jt("invalid",r)}g1(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&kp(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&kp(r.textContent,s,e),a=["children",""+s]):of.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Jt("scroll",r)}switch(n){case"input":yp(r),R5(r,i,!0);break;case"textarea":yp(r),W5(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bm)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ki]=t,e[gf]=r,xP(e,t,!1,!1),t.stateNode=e;e:{switch(o=y1(n,r),n){case"dialog":Jt("cancel",e),Jt("close",e),a=r;break;case"iframe":case"object":case"embed":Jt("load",e),a=r;break;case"video":case"audio":for(a=0;a<Id.length;a++)Jt(Id[a],e);a=r;break;case"source":Jt("error",e),a=r;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),a=r;break;case"details":Jt("toggle",e),a=r;break;case"input":$5(e,r),a=d1(e,r),Jt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=ln({},r,{value:void 0}),Jt("invalid",e);break;case"textarea":B5(e,r),a=p1(e,r),Jt("invalid",e);break;default:a=r}g1(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?Qk(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xk(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sf(e,l):typeof l=="number"&&sf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(of.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Jt("scroll",e):l!=null&&J2(e,i,l,o))}switch(n){case"input":yp(e),R5(e,r,!1);break;case"textarea":yp(e),W5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ls(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Fu(e,!!r.multiple,i,!1):r.defaultValue!=null&&Fu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=bm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lr(t),null;case 6:if(e&&t.stateNode!=null)wP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(We(166));if(n=Vs(vf.current),Vs(Oi.current),Ap(t)){if(r=t.stateNode,n=t.memoizedProps,r[ki]=t,(i=r.nodeValue!==n)&&(e=ia,e!==null))switch(e.tag){case 3:kp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kp(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ki]=t,t.stateNode=r}return lr(t),null;case 13:if(tn(on),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nn&&ra!==null&&t.mode&1&&!(t.flags&128))RA(),Uu(),t.flags|=98560,i=!1;else if(i=Ap(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(We(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(We(317));i[ki]=t}else Uu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lr(t),i=!1}else ei!==null&&(J1(ei),ei=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||on.current&1?$n===0&&($n=3):Eb())),t.updateQueue!==null&&(t.flags|=4),lr(t),null);case 4:return Hu(),z1(e,t),e===null&&pf(t.stateNode.containerInfo),lr(t),null;case 10:return gb(t.type._context),lr(t),null;case 17:return Br(t.type)&&wm(),lr(t),null;case 19:if(tn(on),i=t.memoizedState,i===null)return lr(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)gd(i,!1);else{if($n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Cm(e),o!==null){for(t.flags|=128,gd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xt(on,on.current&1|2),t.child}e=e.sibling}i.tail!==null&&xn()>Gu&&(t.flags|=128,r=!0,gd(i,!1),t.lanes=4194304)}else{if(!r)if(e=Cm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!nn)return lr(t),null}else 2*xn()-i.renderingStartTime>Gu&&n!==1073741824&&(t.flags|=128,r=!0,gd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xn(),t.sibling=null,n=on.current,Xt(on,r?n&1|2:n&1),t):(lr(t),null);case 22:case 23:return _b(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ea&1073741824&&(lr(t),t.subtreeFlags&6&&(t.flags|=8192)):lr(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function SL(e,t){switch(fb(t),t.tag){case 1:return Br(t.type)&&wm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hu(),tn(Rr),tn(br),wb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bb(t),null;case 13:if(tn(on),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));Uu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tn(on),null;case 4:return Hu(),null;case 10:return gb(t.type._context),null;case 22:case 23:return _b(),null;case 24:return null;default:return null}}var Op=!1,gr=!1,NL=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Au(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pn(e,t,r)}else n.current=null}function H1(e,t,n){try{n()}catch(r){pn(e,t,r)}}var TS=!1;function jL(e,t){if(P1=ym,e=AA(),cb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||a!==0&&d.nodeType!==3||(s=o+a),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++c===a&&(s=o),p===i&&++h===r&&(l=o),(f=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=f}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(C1={focusedElem:e,selectionRange:n},ym=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){t=Je;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,w=m.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ka(t.type,g),w);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(j){pn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}return m=TS,TS=!1,m}function qd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&H1(t,n,i)}a=a.next}while(a!==r)}}function Gg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function q1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function SP(e){var t=e.alternate;t!==null&&(e.alternate=null,SP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ki],delete t[gf],delete t[F1],delete t[oL],delete t[sL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NP(e){return e.tag===5||e.tag===3||e.tag===4}function FS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function G1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bm));else if(r!==4&&(e=e.child,e!==null))for(G1(e,t,n),e=e.sibling;e!==null;)G1(e,t,n),e=e.sibling}function V1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(V1(e,t,n),e=e.sibling;e!==null;)V1(e,t,n),e=e.sibling}var er=null,Ja=!1;function Eo(e,t,n){for(n=n.child;n!==null;)jP(e,t,n),n=n.sibling}function jP(e,t,n){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount($g,n)}catch{}switch(n.tag){case 5:gr||Au(n,t);case 6:var r=er,a=Ja;er=null,Eo(e,t,n),er=r,Ja=a,er!==null&&(Ja?(e=er,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):er.removeChild(n.stateNode));break;case 18:er!==null&&(Ja?(e=er,n=n.stateNode,e.nodeType===8?iv(e.parentNode,n):e.nodeType===1&&iv(e,n),df(e)):iv(er,n.stateNode));break;case 4:r=er,a=Ja,er=n.stateNode.containerInfo,Ja=!0,Eo(e,t,n),er=r,Ja=a;break;case 0:case 11:case 14:case 15:if(!gr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&H1(n,t,o),a=a.next}while(a!==r)}Eo(e,t,n);break;case 1:if(!gr&&(Au(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){pn(n,t,s)}Eo(e,t,n);break;case 21:Eo(e,t,n);break;case 22:n.mode&1?(gr=(r=gr)||n.memoizedState!==null,Eo(e,t,n),gr=r):Eo(e,t,n);break;default:Eo(e,t,n)}}function _S(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new NL),t.forEach(function(r){var a=EL.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Ha(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:er=s.stateNode,Ja=!1;break e;case 3:er=s.stateNode.containerInfo,Ja=!0;break e;case 4:er=s.stateNode.containerInfo,Ja=!0;break e}s=s.return}if(er===null)throw Error(We(160));jP(i,o,a),er=null,Ja=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){pn(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kP(t,e),t=t.sibling}function kP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ha(t,e),bi(e),r&4){try{qd(3,e,e.return),Gg(3,e)}catch(g){pn(e,e.return,g)}try{qd(5,e,e.return)}catch(g){pn(e,e.return,g)}}break;case 1:Ha(t,e),bi(e),r&512&&n!==null&&Au(n,n.return);break;case 5:if(Ha(t,e),bi(e),r&512&&n!==null&&Au(n,n.return),e.flags&32){var a=e.stateNode;try{sf(a,"")}catch(g){pn(e,e.return,g)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&Vk(a,i),y1(s,o);var c=y1(s,i);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Qk(a,d):h==="dangerouslySetInnerHTML"?Xk(a,d):h==="children"?sf(a,d):J2(a,h,d,c)}switch(s){case"input":f1(a,i);break;case"textarea":Kk(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Fu(a,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fu(a,!!i.multiple,i.defaultValue,!0):Fu(a,!!i.multiple,i.multiple?[]:"",!1))}a[gf]=i}catch(g){pn(e,e.return,g)}}break;case 6:if(Ha(t,e),bi(e),r&4){if(e.stateNode===null)throw Error(We(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){pn(e,e.return,g)}}break;case 3:if(Ha(t,e),bi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{df(t.containerInfo)}catch(g){pn(e,e.return,g)}break;case 4:Ha(t,e),bi(e);break;case 13:Ha(t,e),bi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Tb=xn())),r&4&&_S(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(gr=(c=gr)||h,Ha(t,e),gr=c):Ha(t,e),bi(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(Je=e,h=e.child;h!==null;){for(d=Je=h;Je!==null;){switch(p=Je,f=p.child,p.tag){case 0:case 11:case 14:case 15:qd(4,p,p.return);break;case 1:Au(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){pn(r,n,g)}}break;case 5:Au(p,p.return);break;case 22:if(p.memoizedState!==null){LS(d);continue}}f!==null?(f.return=p,Je=f):LS(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{a=d.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Jk("display",o))}catch(g){pn(e,e.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){pn(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ha(t,e),bi(e),r&4&&_S(e);break;case 21:break;default:Ha(t,e),bi(e)}}function bi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(NP(n)){var r=n;break e}n=n.return}throw Error(We(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(sf(a,""),r.flags&=-33);var i=FS(e);V1(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=FS(e);G1(e,s,o);break;default:throw Error(We(161))}}catch(l){pn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kL(e,t,n){Je=e,AP(e)}function AP(e,t,n){for(var r=(e.mode&1)!==0;Je!==null;){var a=Je,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Op;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||gr;s=Op;var c=gr;if(Op=o,(gr=l)&&!c)for(Je=a;Je!==null;)o=Je,l=o.child,o.tag===22&&o.memoizedState!==null?MS(a):l!==null?(l.return=o,Je=l):MS(a);for(;i!==null;)Je=i,AP(i),i=i.sibling;Je=a,Op=s,gr=c}ES(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Je=i):ES(e)}}function ES(e){for(;Je!==null;){var t=Je;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gr||Gg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gr)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ka(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yS(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yS(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&df(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}gr||t.flags&512&&q1(t)}catch(p){pn(t,t.return,p)}}if(t===e){Je=null;break}if(n=t.sibling,n!==null){n.return=t.return,Je=n;break}Je=t.return}}function LS(e){for(;Je!==null;){var t=Je;if(t===e){Je=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Je=n;break}Je=t.return}}function MS(e){for(;Je!==null;){var t=Je;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gg(4,t)}catch(l){pn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){pn(t,a,l)}}var i=t.return;try{q1(t)}catch(l){pn(t,i,l)}break;case 5:var o=t.return;try{q1(t)}catch(l){pn(t,o,l)}}}catch(l){pn(t,t.return,l)}if(t===e){Je=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Je=s;break}Je=t.return}}var AL=Math.ceil,Fm=mo.ReactCurrentDispatcher,Cb=mo.ReactCurrentOwner,ka=mo.ReactCurrentBatchConfig,Pt=0,Vn=null,Tn=null,nr=0,ea=0,Pu=ps(0),$n=0,Sf=null,pl=0,Vg=0,Ob=0,Gd=null,Dr=null,Tb=0,Gu=1/0,Yi=null,_m=!1,K1=null,ns=null,Tp=!1,Vo=null,Em=0,Vd=0,Y1=null,lm=-1,um=0;function Pr(){return Pt&6?xn():lm!==-1?lm:lm=xn()}function rs(e){return e.mode&1?Pt&2&&nr!==0?nr&-nr:uL.transition!==null?(um===0&&(um=cA()),um):(e=$t,e!==0||(e=window.event,e=e===void 0?16:yA(e.type)),e):1}function oi(e,t,n,r){if(50<Vd)throw Vd=0,Y1=null,Error(We(185));dh(e,n,r),(!(Pt&2)||e!==Vn)&&(e===Vn&&(!(Pt&2)&&(Vg|=n),$n===4&&zo(e,nr)),Wr(e,r),n===1&&Pt===0&&!(t.mode&1)&&(Gu=xn()+500,zg&&ms()))}function Wr(e,t){var n=e.callbackNode;uE(e,t);var r=gm(e,e===Vn?nr:0);if(r===0)n!==null&&H5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&H5(n),t===1)e.tag===0?lL(DS.bind(null,e)):DA(DS.bind(null,e)),aL(function(){!(Pt&6)&&ms()}),n=null;else{switch(dA(r)){case 1:n=nb;break;case 4:n=lA;break;case 16:n=mm;break;case 536870912:n=uA;break;default:n=mm}n=LP(n,PP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function PP(e,t){if(lm=-1,um=0,Pt&6)throw Error(We(327));var n=e.callbackNode;if(Du()&&e.callbackNode!==n)return null;var r=gm(e,e===Vn?nr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lm(e,r);else{t=r;var a=Pt;Pt|=2;var i=OP();(Vn!==e||nr!==t)&&(Yi=null,Gu=xn()+500,el(e,t));do try{OL();break}catch(s){CP(e,s)}while(!0);mb(),Fm.current=i,Pt=a,Tn!==null?t=0:(Vn=null,nr=0,t=$n)}if(t!==0){if(t===2&&(a=S1(e),a!==0&&(r=a,t=X1(e,a))),t===1)throw n=Sf,el(e,0),zo(e,r),Wr(e,xn()),n;if(t===6)zo(e,r);else{if(a=e.current.alternate,!(r&30)&&!PL(a)&&(t=Lm(e,r),t===2&&(i=S1(e),i!==0&&(r=i,t=X1(e,i))),t===1))throw n=Sf,el(e,0),zo(e,r),Wr(e,xn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(We(345));case 2:Is(e,Dr,Yi);break;case 3:if(zo(e,r),(r&130023424)===r&&(t=Tb+500-xn(),10<t)){if(gm(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Pr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=T1(Is.bind(null,e,Dr,Yi),t);break}Is(e,Dr,Yi);break;case 4:if(zo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-ii(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AL(r/1960))-r,10<r){e.timeoutHandle=T1(Is.bind(null,e,Dr,Yi),r);break}Is(e,Dr,Yi);break;case 5:Is(e,Dr,Yi);break;default:throw Error(We(329))}}}return Wr(e,xn()),e.callbackNode===n?PP.bind(null,e):null}function X1(e,t){var n=Gd;return e.current.memoizedState.isDehydrated&&(el(e,t).flags|=256),e=Lm(e,t),e!==2&&(t=Dr,Dr=n,t!==null&&J1(t)),e}function J1(e){Dr===null?Dr=e:Dr.push.apply(Dr,e)}function PL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!si(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zo(e,t){for(t&=~Ob,t&=~Vg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ii(t),r=1<<n;e[n]=-1,t&=~r}}function DS(e){if(Pt&6)throw Error(We(327));Du();var t=gm(e,0);if(!(t&1))return Wr(e,xn()),null;var n=Lm(e,t);if(e.tag!==0&&n===2){var r=S1(e);r!==0&&(t=r,n=X1(e,r))}if(n===1)throw n=Sf,el(e,0),zo(e,t),Wr(e,xn()),n;if(n===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e,Dr,Yi),Wr(e,xn()),null}function Fb(e,t){var n=Pt;Pt|=1;try{return e(t)}finally{Pt=n,Pt===0&&(Gu=xn()+500,zg&&ms())}}function ml(e){Vo!==null&&Vo.tag===0&&!(Pt&6)&&Du();var t=Pt;Pt|=1;var n=ka.transition,r=$t;try{if(ka.transition=null,$t=1,e)return e()}finally{$t=r,ka.transition=n,Pt=t,!(Pt&6)&&ms()}}function _b(){ea=Pu.current,tn(Pu)}function el(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rL(n)),Tn!==null)for(n=Tn.return;n!==null;){var r=n;switch(fb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wm();break;case 3:Hu(),tn(Rr),tn(br),wb();break;case 5:bb(r);break;case 4:Hu();break;case 13:tn(on);break;case 19:tn(on);break;case 10:gb(r.type._context);break;case 22:case 23:_b()}n=n.return}if(Vn=e,Tn=e=as(e.current,null),nr=ea=t,$n=0,Sf=null,Ob=Vg=pl=0,Dr=Gd=null,Gs!==null){for(t=0;t<Gs.length;t++)if(n=Gs[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Gs=null}return e}function CP(e,t){do{var n=Tn;try{if(mb(),im.current=Tm,Om){for(var r=sn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Om=!1}if(hl=0,Gn=Dn=sn=null,Hd=!1,xf=0,Cb.current=null,n===null||n.return===null){$n=1,Sf=t,Tn=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=nr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=s,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=NS(o);if(f!==null){f.flags&=-257,jS(f,o,s,i,t),f.mode&1&&SS(i,c,t),t=f,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){SS(i,c,t),Eb();break e}l=Error(We(426))}}else if(nn&&s.mode&1){var w=NS(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),jS(w,o,s,i,t),hb(qu(l,s));break e}}i=l=qu(l,s),$n!==4&&($n=2),Gd===null?Gd=[i]:Gd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=dP(i,l,t);gS(i,b);break e;case 1:s=l;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ns===null||!ns.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=fP(i,s,t);gS(i,j);break e}}i=i.return}while(i!==null)}FP(n)}catch(N){t=N,Tn===n&&n!==null&&(Tn=n=n.return);continue}break}while(!0)}function OP(){var e=Fm.current;return Fm.current=Tm,e===null?Tm:e}function Eb(){($n===0||$n===3||$n===2)&&($n=4),Vn===null||!(pl&268435455)&&!(Vg&268435455)||zo(Vn,nr)}function Lm(e,t){var n=Pt;Pt|=2;var r=OP();(Vn!==e||nr!==t)&&(Yi=null,el(e,t));do try{CL();break}catch(a){CP(e,a)}while(!0);if(mb(),Pt=n,Fm.current=r,Tn!==null)throw Error(We(261));return Vn=null,nr=0,$n}function CL(){for(;Tn!==null;)TP(Tn)}function OL(){for(;Tn!==null&&!eE();)TP(Tn)}function TP(e){var t=EP(e.alternate,e,ea);e.memoizedProps=e.pendingProps,t===null?FP(e):Tn=t,Cb.current=null}function FP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=SL(n,t),n!==null){n.flags&=32767,Tn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$n=6,Tn=null;return}}else if(n=wL(n,t,ea),n!==null){Tn=n;return}if(t=t.sibling,t!==null){Tn=t;return}Tn=t=e}while(t!==null);$n===0&&($n=5)}function Is(e,t,n){var r=$t,a=ka.transition;try{ka.transition=null,$t=1,TL(e,t,n,r)}finally{ka.transition=a,$t=r}return null}function TL(e,t,n,r){do Du();while(Vo!==null);if(Pt&6)throw Error(We(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(cE(e,i),e===Vn&&(Tn=Vn=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tp||(Tp=!0,LP(mm,function(){return Du(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ka.transition,ka.transition=null;var o=$t;$t=1;var s=Pt;Pt|=4,Cb.current=null,jL(e,n),kP(n,e),XE(C1),ym=!!P1,C1=P1=null,e.current=n,kL(n),tE(),Pt=s,$t=o,ka.transition=i}else e.current=n;if(Tp&&(Tp=!1,Vo=e,Em=a),i=e.pendingLanes,i===0&&(ns=null),aE(n.stateNode),Wr(e,xn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(_m)throw _m=!1,e=K1,K1=null,e;return Em&1&&e.tag!==0&&Du(),i=e.pendingLanes,i&1?e===Y1?Vd++:(Vd=0,Y1=e):Vd=0,ms(),null}function Du(){if(Vo!==null){var e=dA(Em),t=ka.transition,n=$t;try{if(ka.transition=null,$t=16>e?16:e,Vo===null)var r=!1;else{if(e=Vo,Vo=null,Em=0,Pt&6)throw Error(We(331));var a=Pt;for(Pt|=4,Je=e.current;Je!==null;){var i=Je,o=i.child;if(Je.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Je=c;Je!==null;){var h=Je;switch(h.tag){case 0:case 11:case 15:qd(8,h,i)}var d=h.child;if(d!==null)d.return=h,Je=d;else for(;Je!==null;){h=Je;var p=h.sibling,f=h.return;if(SP(h),h===c){Je=null;break}if(p!==null){p.return=f,Je=p;break}Je=f}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Je=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Je=o;else e:for(;Je!==null;){if(i=Je,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qd(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Je=b;break e}Je=i.return}}var x=e.current;for(Je=x;Je!==null;){o=Je;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Je=v;else e:for(o=x;Je!==null;){if(s=Je,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Gg(9,s)}}catch(N){pn(s,s.return,N)}if(s===o){Je=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,Je=j;break e}Je=s.return}}if(Pt=a,ms(),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot($g,e)}catch{}r=!0}return r}finally{$t=n,ka.transition=t}}return!1}function IS(e,t,n){t=qu(n,t),t=dP(e,t,1),e=ts(e,t,1),t=Pr(),e!==null&&(dh(e,1,t),Wr(e,t))}function pn(e,t,n){if(e.tag===3)IS(e,e,n);else for(;t!==null;){if(t.tag===3){IS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))){e=qu(n,e),e=fP(t,e,1),t=ts(t,e,1),e=Pr(),t!==null&&(dh(t,1,e),Wr(t,e));break}}t=t.return}}function FL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pr(),e.pingedLanes|=e.suspendedLanes&n,Vn===e&&(nr&n)===n&&($n===4||$n===3&&(nr&130023424)===nr&&500>xn()-Tb?el(e,0):Ob|=n),Wr(e,t)}function _P(e,t){t===0&&(e.mode&1?(t=bp,bp<<=1,!(bp&130023424)&&(bp=4194304)):t=1);var n=Pr();e=lo(e,t),e!==null&&(dh(e,t,n),Wr(e,n))}function _L(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_P(e,n)}function EL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(We(314))}r!==null&&r.delete(t),_P(e,n)}var EP;EP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rr.current)Ir=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ir=!1,bL(e,t,n);Ir=!!(e.flags&131072)}else Ir=!1,nn&&t.flags&1048576&&IA(t,jm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sm(e,t),e=t.pendingProps;var a=Wu(t,br.current);Mu(t,n),a=Nb(null,t,r,e,a,n);var i=jb();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Br(r)?(i=!0,Sm(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,vb(t),a.updater=qg,t.stateNode=a,a._reactInternals=t,I1(t,r,e,n),t=B1(null,t,r,!0,i,n)):(t.tag=0,nn&&i&&db(t),kr(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sm(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=ML(r),e=Ka(r,e),a){case 0:t=R1(null,t,r,e,n);break e;case 1:t=PS(null,t,r,e,n);break e;case 11:t=kS(null,t,r,e,n);break e;case 14:t=AS(null,t,r,Ka(r.type,e),n);break e}throw Error(We(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ka(r,a),R1(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ka(r,a),PS(e,t,r,a,n);case 3:e:{if(gP(t),e===null)throw Error(We(387));r=t.pendingProps,i=t.memoizedState,a=i.element,zA(e,t),Pm(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=qu(Error(We(423)),t),t=CS(e,t,r,n,a);break e}else if(r!==a){a=qu(Error(We(424)),t),t=CS(e,t,r,n,a);break e}else for(ra=es(t.stateNode.containerInfo.firstChild),ia=t,nn=!0,ei=null,n=WA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uu(),r===a){t=uo(e,t,n);break e}kr(e,t,r,n)}t=t.child}return t;case 5:return HA(t),e===null&&L1(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,O1(r,a)?o=null:i!==null&&O1(r,i)&&(t.flags|=32),mP(e,t),kr(e,t,o,n),t.child;case 6:return e===null&&L1(t),null;case 13:return yP(e,t,n);case 4:return xb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zu(t,null,r,n):kr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ka(r,a),kS(e,t,r,a,n);case 7:return kr(e,t,t.pendingProps,n),t.child;case 8:return kr(e,t,t.pendingProps.children,n),t.child;case 12:return kr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Xt(km,r._currentValue),r._currentValue=o,i!==null)if(si(i.value,o)){if(i.children===a.children&&!Rr.current){t=uo(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=no(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),M1(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(We(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),M1(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Mu(t,n),a=Ca(a),r=r(a),t.flags|=1,kr(e,t,r,n),t.child;case 14:return r=t.type,a=Ka(r,t.pendingProps),a=Ka(r.type,a),AS(e,t,r,a,n);case 15:return hP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ka(r,a),sm(e,t),t.tag=1,Br(r)?(e=!0,Sm(t)):e=!1,Mu(t,n),cP(t,r,a),I1(t,r,a,n),B1(null,t,r,!0,e,n);case 19:return vP(e,t,n);case 22:return pP(e,t,n)}throw Error(We(156,t.tag))};function LP(e,t){return sA(e,t)}function LL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(e,t,n,r){return new LL(e,t,n,r)}function Lb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ML(e){if(typeof e=="function")return Lb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Z2)return 11;if(e===eb)return 14}return 2}function as(e,t){var n=e.alternate;return n===null?(n=Na(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cm(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")Lb(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case yu:return tl(n.children,a,i,t);case Q2:o=8,a|=8;break;case s1:return e=Na(12,n,t,a|2),e.elementType=s1,e.lanes=i,e;case l1:return e=Na(13,n,t,a),e.elementType=l1,e.lanes=i,e;case u1:return e=Na(19,n,t,a),e.elementType=u1,e.lanes=i,e;case Hk:return Kg(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uk:o=10;break e;case zk:o=9;break e;case Z2:o=11;break e;case eb:o=14;break e;case Ro:o=16,r=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Na(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function tl(e,t,n,r){return e=Na(7,e,r,t),e.lanes=n,e}function Kg(e,t,n,r){return e=Na(22,e,r,t),e.elementType=Hk,e.lanes=n,e.stateNode={isHidden:!1},e}function hv(e,t,n){return e=Na(6,e,null,t),e.lanes=n,e}function pv(e,t,n){return t=Na(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DL(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ky(0),this.expirationTimes=Ky(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ky(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mb(e,t,n,r,a,i,o,s,l){return e=new DL(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Na(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vb(i),e}function IL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function MP(e){if(!e)return us;e=e._reactInternals;e:{if(Nl(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var n=e.type;if(Br(n))return MA(e,n,t)}return t}function DP(e,t,n,r,a,i,o,s,l){return e=Mb(n,r,!0,e,a,i,o,s,l),e.context=MP(null),n=e.current,r=Pr(),a=rs(n),i=no(r,a),i.callback=t??null,ts(n,i,a),e.current.lanes=a,dh(e,a,r),Wr(e,r),e}function Yg(e,t,n,r){var a=t.current,i=Pr(),o=rs(a);return n=MP(n),t.context===null?t.context=n:t.pendingContext=n,t=no(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ts(a,t,o),e!==null&&(oi(e,a,o,i),am(e,a,o)),o}function Mm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $S(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Db(e,t){$S(e,t),(e=e.alternate)&&$S(e,t)}function $L(){return null}var IP=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ib(e){this._internalRoot=e}Xg.prototype.render=Ib.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));Yg(e,t,null,null)};Xg.prototype.unmount=Ib.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ml(function(){Yg(null,e,null,null)}),t[so]=null}};function Xg(e){this._internalRoot=e}Xg.prototype.unstable_scheduleHydration=function(e){if(e){var t=pA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Uo.length&&t!==0&&t<Uo[n].priority;n++);Uo.splice(n,0,e),n===0&&gA(e)}};function $b(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function RS(){}function RL(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=Mm(o);i.call(c)}}var o=DP(t,r,e,0,null,!1,!1,"",RS);return e._reactRootContainer=o,e[so]=o.current,pf(e.nodeType===8?e.parentNode:e),ml(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var c=Mm(l);s.call(c)}}var l=Mb(e,0,!1,null,null,!1,!1,"",RS);return e._reactRootContainer=l,e[so]=l.current,pf(e.nodeType===8?e.parentNode:e),ml(function(){Yg(t,l,n,r)}),l}function Qg(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Mm(o);s.call(l)}}Yg(t,o,e,a)}else o=RL(n,t,e,a,r);return Mm(o)}fA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dd(t.pendingLanes);n!==0&&(rb(t,n|1),Wr(t,xn()),!(Pt&6)&&(Gu=xn()+500,ms()))}break;case 13:ml(function(){var r=lo(e,1);if(r!==null){var a=Pr();oi(r,e,1,a)}}),Db(e,1)}};ab=function(e){if(e.tag===13){var t=lo(e,134217728);if(t!==null){var n=Pr();oi(t,e,134217728,n)}Db(e,134217728)}};hA=function(e){if(e.tag===13){var t=rs(e),n=lo(e,t);if(n!==null){var r=Pr();oi(n,e,t,r)}Db(e,t)}};pA=function(){return $t};mA=function(e,t){var n=$t;try{return $t=e,t()}finally{$t=n}};x1=function(e,t,n){switch(t){case"input":if(f1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ug(r);if(!a)throw Error(We(90));Gk(r),f1(r,a)}}}break;case"textarea":Kk(e,n);break;case"select":t=n.value,t!=null&&Fu(e,!!n.multiple,t,!1)}};tA=Fb;nA=ml;var BL={usingClientEntryPoint:!1,Events:[hh,wu,Ug,Zk,eA,Fb]},yd={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WL={bundleType:yd.bundleType,version:yd.version,rendererPackageName:yd.rendererPackageName,rendererConfig:yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iA(e),e===null?null:e.stateNode},findFiberByHostInstance:yd.findFiberByHostInstance||$L,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{$g=Fp.inject(WL),Ci=Fp}catch{}}la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BL;la.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$b(t))throw Error(We(200));return IL(e,t,null,n)};la.createRoot=function(e,t){if(!$b(e))throw Error(We(299));var n=!1,r="",a=IP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Mb(e,1,!1,null,null,n,!1,r,a),e[so]=t.current,pf(e.nodeType===8?e.parentNode:e),new Ib(t)};la.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=iA(t),e=e===null?null:e.stateNode,e};la.flushSync=function(e){return ml(e)};la.hydrate=function(e,t,n){if(!Jg(t))throw Error(We(200));return Qg(null,e,t,!0,n)};la.hydrateRoot=function(e,t,n){if(!$b(e))throw Error(We(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=IP;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=DP(t,null,e,1,n??null,a,!1,i,o),e[so]=t.current,pf(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xg(t)};la.render=function(e,t,n){if(!Jg(t))throw Error(We(200));return Qg(null,e,t,!1,n)};la.unmountComponentAtNode=function(e){if(!Jg(e))throw Error(We(40));return e._reactRootContainer?(ml(function(){Qg(null,null,e,!1,function(){e._reactRootContainer=null,e[so]=null})}),!0):!1};la.unstable_batchedUpdates=Fb;la.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jg(n))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return Qg(e,t,n,!1,r)};la.version="18.3.1-next-f1338f8080-20240426";function $P(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($P)}catch(e){console.error(e)}}$P(),$k.exports=la;var UL=$k.exports,BS=UL;i1.createRoot=BS.createRoot,i1.hydrateRoot=BS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(this,arguments)}var Ko;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ko||(Ko={}));const WS="popstate";function zL(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:s}=r.location;return Q1("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:BP(a)}return qL(t,n,null,e)}function Bn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HL(){return Math.random().toString(36).substr(2,8)}function US(e,t){return{usr:e.state,key:e.key,idx:t}}function Q1(e,t,n,r){return n===void 0&&(n=null),Nf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xc(t):t,{state:n,key:t&&t.key||r||HL()})}function BP(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function qL(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,s=Ko.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Nf({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){s=Ko.Pop;let w=h(),b=w==null?null:w-c;c=w,l&&l({action:s,location:g.location,delta:b})}function p(w,b){s=Ko.Push;let x=Q1(g.location,w,b);c=h()+1;let v=US(x,c),j=g.createHref(x);try{o.pushState(v,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&l&&l({action:s,location:g.location,delta:1})}function f(w,b){s=Ko.Replace;let x=Q1(g.location,w,b);c=h();let v=US(x,c),j=g.createHref(x);o.replaceState(v,"",j),i&&l&&l({action:s,location:g.location,delta:0})}function m(w){let b=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof w=="string"?w:BP(w);return x=x.replace(/ $/,"%20"),Bn(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let g={get action(){return s},get location(){return e(a,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(WS,d),l=w,()=>{a.removeEventListener(WS,d),l=null}},createHref(w){return t(a,w)},createURL:m,encodeLocation(w){let b=m(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:f,go(w){return o.go(w)}};return g}var zS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zS||(zS={}));function GL(e,t,n){return n===void 0&&(n="/"),VL(e,t,n)}function VL(e,t,n,r){let a=typeof t=="string"?xc(t):t,i=zP(a.pathname||"/",n);if(i==null)return null;let o=WP(e);KL(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=oM(i);s=rM(o[l],c)}return s}function WP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Bn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=nl([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(Bn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),WP(i.children,t,h,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:tM(c,i.index),routesMeta:h})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of UP(i.path))a(i,o,l)}),t}function UP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=UP(r.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function KL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YL=/^:[\w-]+$/,XL=3,JL=2,QL=1,ZL=10,eM=-2,HS=e=>e==="*";function tM(e,t){let n=e.split("/"),r=n.length;return n.some(HS)&&(r+=eM),t&&(r+=JL),n.filter(a=>!HS(a)).reduce((a,i)=>a+(YL.test(i)?XL:i===""?QL:ZL),r)}function nM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function rM(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",d=aM({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:nl([i,d.pathname]),pathnameBase:fM(nl([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=nl([i,d.pathnameBase]))}return o}function aM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=iM(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:p,isOptional:f}=h;if(p==="*"){let g=s[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[d];return f&&!m?c[p]=void 0:c[p]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function iM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),RP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function oM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return RP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?xc(e):e;return{pathname:n?n.startsWith("/")?n:lM(n,t):t,search:hM(r),hash:pM(a)}}function lM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function mv(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cM(e,t){let n=uM(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dM(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=xc(e):(a=Nf({},e),Bn(!a.pathname||!a.pathname.includes("?"),mv("?","pathname","search",a)),Bn(!a.pathname||!a.pathname.includes("#"),mv("#","pathname","hash",a)),Bn(!a.search||!a.search.includes("#"),mv("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;a.pathname=p.join("/")}s=d>=0?t[d]:"/"}let l=sM(a,s),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const nl=e=>e.join("/").replace(/\/\/+/g,"/"),fM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const HP=["post","put","patch","delete"];new Set(HP);const gM=["get",...HP];new Set(gM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jf.apply(this,arguments)}const Rb=se.createContext(null),yM=se.createContext(null),Zg=se.createContext(null),e0=se.createContext(null),bc=se.createContext({outlet:null,matches:[],isDataRoute:!1}),qP=se.createContext(null);function t0(){return se.useContext(e0)!=null}function GP(){return t0()||Bn(!1),se.useContext(e0).location}function VP(e){se.useContext(Zg).static||se.useLayoutEffect(e)}function KP(){let{isDataRoute:e}=se.useContext(bc);return e?TM():vM()}function vM(){t0()||Bn(!1);let e=se.useContext(Rb),{basename:t,future:n,navigator:r}=se.useContext(Zg),{matches:a}=se.useContext(bc),{pathname:i}=GP(),o=JSON.stringify(cM(a,n.v7_relativeSplatPath)),s=se.useRef(!1);return VP(()=>{s.current=!0}),se.useCallback(function(c,h){if(h===void 0&&(h={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=dM(c,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:nl([t,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[t,r,o,i,e])}function xM(e,t){return bM(e,t)}function bM(e,t,n,r){t0()||Bn(!1);let{navigator:a}=se.useContext(Zg),{matches:i}=se.useContext(bc),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=GP(),h;if(t){var d;let w=typeof t=="string"?xc(t):t;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||Bn(!1),h=w}else h=c;let p=h.pathname||"/",f=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=GL(e,{pathname:f}),g=kM(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:nl([l,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:nl([l,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&g?se.createElement(e0.Provider,{value:{location:jf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ko.Pop}},g):g}function wM(){let e=OM(),t=mM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},t),n?se.createElement("pre",{style:a},n):null,null)}const SM=se.createElement(wM,null);class NM extends se.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?se.createElement(bc.Provider,{value:this.props.routeContext},se.createElement(qP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jM(e){let{routeContext:t,match:n,children:r}=e,a=se.useContext(Rb);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),se.createElement(bc.Provider,{value:t},r)}function kM(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(a=n)==null?void 0:a.errors;if(s!=null){let h=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);h>=0||Bn(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:f}=n,m=d.route.loader&&p[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,p)=>{let f,m=!1,g=null,w=null;n&&(f=s&&d.route.id?s[d.route.id]:void 0,g=d.route.errorElement||SM,l&&(c<0&&p===0?(FM("route-fallback"),m=!0,w=null):c===p&&(m=!0,w=d.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,p+1)),x=()=>{let v;return f?v=g:m?v=w:d.route.Component?v=se.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=h,se.createElement(jM,{match:d,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?se.createElement(NM,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var YP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(YP||{}),XP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(XP||{});function AM(e){let t=se.useContext(Rb);return t||Bn(!1),t}function PM(e){let t=se.useContext(yM);return t||Bn(!1),t}function CM(e){let t=se.useContext(bc);return t||Bn(!1),t}function JP(e){let t=CM(),n=t.matches[t.matches.length-1];return n.route.id||Bn(!1),n.route.id}function OM(){var e;let t=se.useContext(qP),n=PM(),r=JP();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function TM(){let{router:e}=AM(YP.UseNavigateStable),t=JP(XP.UseNavigateStable),n=se.useRef(!1);return VP(()=>{n.current=!0}),se.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,jf({fromRouteId:t},i)))},[e,t])}const qS={};function FM(e,t,n){qS[e]||(qS[e]=!0)}function _M(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Z1(e){Bn(!1)}function EM(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Ko.Pop,navigator:i,static:o=!1,future:s}=e;t0()&&Bn(!1);let l=t.replace(/^\/*/,"/"),c=se.useMemo(()=>({basename:l,navigator:i,static:o,future:jf({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof r=="string"&&(r=xc(r));let{pathname:h="/",search:d="",hash:p="",state:f=null,key:m="default"}=r,g=se.useMemo(()=>{let w=zP(h,l);return w==null?null:{location:{pathname:w,search:d,hash:p,state:f,key:m},navigationType:a}},[l,h,d,p,f,m,a]);return g==null?null:se.createElement(Zg.Provider,{value:c},se.createElement(e0.Provider,{children:n,value:g}))}function LM(e){let{children:t,location:n}=e;return xM(ex(t),n)}new Promise(()=>{});function ex(e,t){t===void 0&&(t=[]);let n=[];return se.Children.forEach(e,(r,a)=>{if(!se.isValidElement(r))return;let i=[...t,a];if(r.type===se.Fragment){n.push.apply(n,ex(r.props.children,i));return}r.type!==Z1&&Bn(!1),!r.props.index||!r.props.children||Bn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ex(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const MM="6";try{window.__reactRouterVersion=MM}catch{}const DM="startTransition",GS=F_[DM];function IM(e){let{basename:t,children:n,future:r,window:a}=e,i=se.useRef();i.current==null&&(i.current=zL({window:a,v5Compat:!0}));let o=i.current,[s,l]=se.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=se.useCallback(d=>{c&&GS?GS(()=>l(d)):l(d)},[l,c]);return se.useLayoutEffect(()=>o.listen(h),[o,h]),se.useEffect(()=>_M(r),[r]),se.createElement(EM,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}var VS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(VS||(VS={}));var KS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(KS||(KS={}));const $M={},YS=e=>{let t;const n=new Set,r=(h,d)=>{const p=typeof h=="function"?h(t):h;if(!Object.is(p,t)){const f=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(m=>m(t,f))}},a=()=>t,l={setState:r,getState:a,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{($M?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,a,l);return l},RM=e=>e?YS(e):YS;var QP={exports:{}},ZP={},eC={exports:{}},tC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=se;function BM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WM=typeof Object.is=="function"?Object.is:BM,UM=Vu.useState,zM=Vu.useEffect,HM=Vu.useLayoutEffect,qM=Vu.useDebugValue;function GM(e,t){var n=t(),r=UM({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return HM(function(){a.value=n,a.getSnapshot=t,gv(a)&&i({inst:a})},[e,n,t]),zM(function(){return gv(a)&&i({inst:a}),e(function(){gv(a)&&i({inst:a})})},[e]),qM(n),n}function gv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!WM(e,n)}catch{return!0}}function VM(e,t){return t()}var KM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VM:GM;tC.useSyncExternalStore=Vu.useSyncExternalStore!==void 0?Vu.useSyncExternalStore:KM;eC.exports=tC;var YM=eC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=se,XM=YM;function JM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QM=typeof Object.is=="function"?Object.is:JM,ZM=XM.useSyncExternalStore,e8=n0.useRef,t8=n0.useEffect,n8=n0.useMemo,r8=n0.useDebugValue;ZP.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=e8(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=n8(function(){function l(f){if(!c){if(c=!0,h=f,f=r(f),a!==void 0&&o.hasValue){var m=o.value;if(a(m,f))return d=m}return d=f}if(m=d,QM(h,f))return m;var g=r(f);return a!==void 0&&a(m,g)?(h=f,m):(h=f,d=g)}var c=!1,h,d,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=ZM(e,i[0],i[1]);return t8(function(){o.hasValue=!0,o.value=s},[s]),r8(s),s};QP.exports=ZP;var a8=QP.exports;const i8=Rt(a8),nC={},{useDebugValue:o8}=ge,{useSyncExternalStoreWithSelector:s8}=i8;let XS=!1;const l8=e=>e;function u8(e,t=l8,n){(nC?"production":void 0)!=="production"&&n&&!XS&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),XS=!0);const r=s8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return o8(r),r}const c8=e=>{(nC?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?RM(e):e,n=(r,a)=>u8(t,r,a);return Object.assign(n,t),n},r0=e=>c8,d8={};function f8(e,t){let n;try{n=e()}catch{return}return{getItem:a=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),s=(i=n.getItem(a))!=null?i:null;return s instanceof Promise?s.then(o):o(s)},setItem:(a,i)=>n.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>n.removeItem(a)}}const kf=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return kf(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return kf(r)(n)}}}},h8=(e,t)=>(n,r,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,b)=>({...b,...w}),...t},o=!1;const s=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...w)},r,a);const h=kf(i.serialize),d=()=>{const w=i.partialize({...r()});let b;const x=h({state:w,version:i.version}).then(v=>c.setItem(i.name,v)).catch(v=>{b=v});if(b)throw b;return x},p=a.setState;a.setState=(w,b)=>{p(w,b),d()};const f=e((...w)=>{n(...w),d()},r,a);let m;const g=()=>{var w;if(!c)return;o=!1,s.forEach(x=>x(r()));const b=((w=i.onRehydrateStorage)==null?void 0:w.call(i,r()))||void 0;return kf(c.getItem.bind(c))(i.name).then(x=>{if(x)return i.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return i.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var v;return m=i.merge(x,(v=r())!=null?v:f),n(m,!0),d()}).then(()=>{b==null||b(m,void 0),o=!0,l.forEach(x=>x(m))}).catch(x=>{b==null||b(void 0,x)})};return a.persist={setOptions:w=>{i={...i,...w},w.getStorage&&(c=w.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:w=>(s.add(w),()=>{s.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},g(),m||f},p8=(e,t)=>(n,r,a)=>{let i={storage:f8(()=>localStorage),partialize:g=>g,version:0,merge:(g,w)=>({...w,...g}),...t},o=!1;const s=new Set,l=new Set;let c=i.storage;if(!c)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,a);const h=()=>{const g=i.partialize({...r()});return c.setItem(i.name,{state:g,version:i.version})},d=a.setState;a.setState=(g,w)=>{d(g,w),h()};const p=e((...g)=>{n(...g),h()},r,a);a.getInitialState=()=>p;let f;const m=()=>{var g,w;if(!c)return;o=!1,s.forEach(x=>{var v;return x((v=r())!=null?v:p)});const b=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(g=r())!=null?g:p))||void 0;return kf(c.getItem.bind(c))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return[!0,i.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var v;const[j,N]=x;if(f=i.merge(N,(v=r())!=null?v:p),n(f,!0),j)return h()}).then(()=>{b==null||b(f,void 0),f=r(),o=!0,l.forEach(x=>x(f))}).catch(x=>{b==null||b(void 0,x)})};return a.persist={setOptions:g=>{i={...i,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(s.add(g),()=>{s.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},i.skipHydration||m(),f||p},m8=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((d8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),h8(e,t)):p8(e,t),a0=m8,Ur=r0()(a0(e=>({appFlow:{type:"welcome"},setAppFlow:t=>e({appFlow:t}),error:null,setError:t=>e({error:t}),isLoading:!1,setIsLoading:t=>e({isLoading:t}),foreFlightApiKey:localStorage.getItem("foreflight_api_key"),setForeFlightApiKey:t=>{t?localStorage.setItem("foreflight_api_key",t):localStorage.removeItem("foreflight_api_key"),e({foreFlightApiKey:t})}}),{name:"app-store",partialize:e=>({foreFlightApiKey:e.foreFlightApiKey})}));function rC(e){switch(e){case"withPods":return 60;case"withoutPods":return 40;case"drag102":return 20;default:const t=parseFloat(e);return isNaN(t)?40:t}}function mr(e){return e.no1+e.no2+e.no3+e.no4+e.lhAUX+e.rhAUX+e.lhEXT+e.rhEXT+(e.additionalTanks||0)}function g8(e){switch(e){case"taxi":return"Taxi";case"lrc970":return"LRC 970";case"lrc950":return"LRC 950 (3.5 Engine)";case"lrc1010":return"LRC 1010";case"lowNavigation":return"Low Navigation";case"shield":return"Shield";case"holding":return"Holding";case"airRefueling":return"Air Refueling";case"anchor":return"Anchor";default:return e}}var aC=(e=>(e.PLANNING="planning",e.READY="ready",e.COMPLETE="complete",e))(aC||{});function Kd(e){const t={tripFuel:0,finalHour:0,tripFuel10Percent:0,holding:3,unusable:1,total:0,spareFuel:0};t.tripFuel=e.legs.reduce((r,a)=>r+(a.fuelConsumed||0),0);const n=e.legs[e.legs.length-1];if(n&&n.segments.length>0){const a=(n.segments[n.segments.length-1].fuelConsumptionPerHour||0)/1e3;t.finalHour=a>=4?a:4}else t.finalHour=4;return e.configuration.landingInNegev?t.tripFuel10Percent=t.tripFuel*.1:t.tripFuel10Percent=(t.tripFuel+t.finalHour)*.1,t.total=t.tripFuel+t.finalHour+t.tripFuel10Percent+t.holding+t.unusable,t.spareFuel=e.configuration.fuelOnBoard-t.total,t}function JS(e){return{id:e,name:e,isActual:!1,note:"",coordinate:{latitude:0,longitude:0},heading:0,distance:0,distanceRemain:0,totalDistance:0,eet:0,toEET:0,eta:null,fob:0,fuelOnBoard:0,altitude:0,groundSpeed:0,trueAirSpeed:0,ias:0,wind:0,windVelocity:0,headTail:0,isa:0,temp:0,magDec:0,magHDG:0,velPlan:0}}function Bb(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function y8(){return{id:Bb(),tailNumber:void 0,zeroFuelWeight:85,fuelOnBoard:30,drag:"withoutPods",oddEven:"even",startTime:new Date,landingInNegev:!1}}function tx(e="lrc970"){const t={id:Bb(),type:e,waitingMinutes:0,fuelChange:0,altitude:0,altitudeMode:"cc",wind:0,zfwChange:0,distance:0,isa:0,totalDistance:0,initialWeight:0,initialFuel:0,fuelConsumed:0,fuelRemaining:0,endOfFlightWeight:0,legDuration:0,totalDuration:0,tripFuel:0,segments:[],waypoints:[],fuelReads:[],requiredFinalHour:0,previousLegAltitude:0,previousLegSpeed:0,firstClimbLeg:!1,specialCondition:"normal"};return e==="lrc950"&&(t.fuelEfficiencyPercent=9),t}function QS(e){return{metadata:{id:Bb(),name:e,state:aC.PLANNING,createdAt:new Date,updatedAt:new Date},configuration:y8(),legs:[]}}function i0(e){let t=0,n=0,r=0,a=0;for(const s of e)r+=s.temp*s.distance,t+=s.distance,a+=s.headTail*s.distance,n+=s.distance;const i=t>0?r/t:0,o=n>0?a/n:0;return{isa:i,wind:o}}function v8(e,t,n){const r=e*Math.PI/180,a=n*Math.PI/180,o=r+Math.PI-a;return t*Math.cos(o)}function x8(e,t){const n=new Map;if(console.log(`
Mapping waypoints to segment [${e.startDistance}-${e.endDistance}]:`),console.log(`Total waypoints: ${t.length}`),t.length===1){const a=t[0];if(console.log(`  Single waypoint ${a.name}: covers entire leg, distance: ${a.distance}, ISA: ${a.temp}, Wind: ${a.headTail}`),e.endDistance>0){const i=e.endDistance-e.startDistance;console.log(`    -> Single waypoint covers entire segment: ${i} nm`),n.set(a,i)}return n}let r=0;for(let a=0;a<t.length;a++){const i=t[a],o=r,s=r+i.distance;console.log(`  Waypoint ${i.name}: range [${o}-${s}], distance: ${i.distance}, ISA: ${i.temp}, Wind: ${i.headTail}`);const l=e.startDistance,c=e.endDistance;if(s>l&&o<c){const h=Math.max(o,l),p=Math.min(s,c)-h;p>0&&(console.log(`    -> Overlaps with segment: ${p} nm`),n.set(i,p))}r+=i.distance}return console.log(`  Total waypoints overlapping: ${n.size}`),n}function b8(e,t){const n=x8(e,t),r=e.endDistance-e.startDistance;console.log(`
Calculating weighted averages for segment distance: ${r} nm`);let a=0,i=0;n.forEach((l,c)=>{const h=(c.temp||0)*l,d=(c.headTail||0)*l;console.log(`  ${c.name}: distance=${l}, temp=${c.temp}, wind=${c.headTail}`),console.log(`    -> temp contribution: ${h}, wind contribution: ${d}`),a+=h,i+=d});const o=r>0?a/r:0,s=r>0?i/r:0;return console.log(`  Weighted sums: temp=${a}, wind=${i}`),console.log(`  Final averages: ISA=${o}, Wind=${s}`),{isa:Math.round(o*1e4)/1e4,wind:Math.round(s*1e4)/1e4}}function w8(e,t){if(console.log(`
=== updateSegmentsWithWaypointData called ===`),console.log(`Segments: ${e.length}, Waypoints: ${t.length}`),t.length===0)return console.log("No waypoints, returning segments unchanged"),e;console.log("Waypoints:"),t.forEach((r,a)=>{console.log(`  [${a}] ${r.name}: distance=${r.distance}, ISA=${r.temp}, Wind=${r.headTail}, windDir=${r.wind}, windVel=${r.windVelocity}`)});const n=e.map((r,a)=>{console.log(`
--- Processing segment ${a} ---`);const i=b8(r,t),o={...r,isa:i.isa,projectedWind:i.wind};return console.log(`Segment ${a} updated: ISA ${r.isa} -> ${o.isa}, Wind ${r.projectedWind} -> ${o.projectedWind}`),o});return console.log(`
=== updateSegmentsWithWaypointData complete ===
`),n}const Ls={ISA:[-10,-5,0,5,10,15,17,20,25],altitude:[1e4,12e3,14e3,16e3,18e3,2e4,22e3,24e3,26e3,28e3,3e4],data:[[1.302,1.361,1.423,1.489,1.558,1.631,1.707,1.787,1.872,1.96,2.053],[1.318,1.378,1.441,1.508,1.578,1.652,1.729,1.811,1.896,1.986,2.08],[1.335,1.395,1.459,1.527,1.598,1.673,1.752,1.835,1.921,2.012,2.108],[1.351,1.413,1.478,1.546,1.618,1.694,1.774,1.858,1.946,2.039,2.136],[1.368,1.43,1.496,1.566,1.639,1.716,1.797,1.882,1.972,2.066,2.164],[1.385,1.448,1.515,1.585,1.66,1.738,1.82,1.907,1.997,2.093,2.193],[1.391,1.455,1.522,1.593,1.668,1.746,1.829,1.916,2.008,2.104,2.205],[1.402,1.466,1.534,1.605,1.681,1.76,1.844,1.932,2.024,2.121,2.222],[1.419,1.484,1.553,1.625,1.702,1.783,1.867,1.956,2.05,2.148,2.251]]},S8={weight:[95,105,115,125,135,145,155,165,175],altitude:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],data:[[2.7,2.44,2.24,2.08,1.97,1.9,1.83,1.8,1.79,1.81,1.86,1.92,2.01,2.11,2.23,2.36],[3.04,2.72,2.47,2.28,2.14,2.05,1.96,1.92,1.9,1.92,1.96,2.02,2.11,2.21,2.33,2.47],[3.44,3.04,2.73,2.5,2.33,2.21,2.11,2.05,2.02,2.03,2.07,2.13,2.21,2.32,2.44,2.58],[3.91,3.41,3.03,2.75,2.54,2.39,2.27,2.19,2.15,2.15,2.18,2.24,2.33,2.43,2.56,2.7],[4.47,3.85,3.38,3.03,2.78,2.59,2.44,2.35,2.3,2.29,2.31,2.37,2.45,2.56,2.68,2.83],[5.13,4.36,3.78,3.35,3.04,2.82,2.64,2.53,2.46,2.44,2.45,2.5,2.58,2.69,2.81,2.96],[5.92,4.96,4.24,3.72,3.35,3.07,2.86,2.72,2.64,2.6,2.61,2.65,2.73,2.83,2.96,3.11],[6.84,5.65,4.77,4.14,3.69,3.36,3.11,2.94,2.83,2.78,2.78,2.81,2.89,2.99,3.11,3.26],[7.94,6.46,5.37,4.61,4.07,3.68,3.38,3.18,3.05,2.98,2.97,2.99,3.06,3.15,3.28,3.42]]},yv=S8;function iC(e,t,n,r,a){let i=0,o=e.length-1,s=0,l=t.length-1;for(let v=0;v<e.length-1;v++)if(r>=e[v]&&r<=e[v+1]){i=v,o=v+1;break}for(let v=0;v<t.length-1;v++)if(a>=t[v]&&a<=t[v+1]){s=v,l=v+1;break}if(r<=e[0]&&(i=o=0),r>=e[e.length-1]&&(i=o=e.length-1),a<=t[0]&&(s=l=0),a>=t[t.length-1]&&(s=l=t.length-1),i===o&&s===l)return n[s][i];const c=n[s][i],h=n[l][i],d=n[s][o],p=n[l][o],f=e[i],m=e[o],g=t[s],w=t[l];if(f===m&&g===w)return c;if(f===m)return c+(a-g)/(w-g)*(h-c);if(g===w)return c+(r-f)/(m-f)*(d-c);const b=c*(m-r)/(m-f)+d*(r-f)/(m-f),x=h*(m-r)/(m-f)+p*(r-f)/(m-f);return b*(w-a)/(w-g)+x*(a-g)/(w-g)}function Wb(e,t,n){if(n==="normal"||e.type==="taxi")return[];const r=e.distance||0,a=F8(e);console.log("calculateSpecialConditionSegments input:",{specialCondition:n,legDistance:e.distance,totalDistance:r,legType:e.type,legId:e.id});const i=t.zeroFuelWeight||85,o=i*1e3;console.log("Special condition weight check:",{configZfw:i,zfwLbs:o,configFuelOnBoard:t.fuelOnBoard});const s=_8(t.drag),l=t.oddEven==="even",c=e.isa||0;let h=0;if(e.waypoints&&e.waypoints.length>0){const{wind:p}=i0(e.waypoints);h=p,console.log(`Special condition ${n}: Using waypoint average wind: ${h.toFixed(1)} kts`)}let d=[];switch(n){case"minimum3Engines":console.log("Calculating 3 engines segments..."),d=j8(r,a,o,s,l,c,h,e,t);break;case"minimum4Engines":console.log("Calculating 4 engines segments...");try{d=P8(r,a,o,s,l,c,h,e,t)}catch(p){console.error("4 Engines calculation failed:",p),d=[]}break;case"lossOfPressure":console.log("Calculating loss of pressure segments...");try{d=C8(r,a,o,s,l,c,h,e,t)}catch(p){console.error("Loss of pressure calculation failed:",p),d=[]}break;case"tenPercent":console.log("Calculating 10% addition segments...");try{d=T8(r,a,o,s,l,c,h,e,t)}catch(p){console.error("10% addition calculation failed:",p),d=[]}break;default:d=[]}return d.length>0&&e.waypoints&&e.waypoints.length>0&&(d=w8(d,e.waypoints),console.log(`Updated ${n} segments with waypoint wind/ISA data`)),console.log(`calculateSpecialConditionSegments result for ${n}:`,d.length,"segments"),d}function N8(e,t,n){const a=((t/2-40)*(3e-4*e+.0076)+(6e-4*e*e-.0421*e+1.395)-n*n*2e-5+.0012*n+.0011+.02)*4*1.2;return Math.max(a,1)}function j8(e,t,n,r,a,i,o,s,l){if(!s)return console.error("3 Engines: No leg provided"),[];if(console.log("3 Engines calculation inputs:",{totalDistance:e,totalDurationMinutes:t,zfwLbs:n.toFixed(2),totalWeightLbs:(n+(s.initialFuel||26.7)).toFixed(2),dragValue:r,isEven:a,isa:i,initialFuelLbs:s.initialFuel,unitsInKlb:!0}),!e||e===0)return console.log("3 Engines: No distance, returning empty segments"),[];const c=[],h=s.initialFuel&&s.initialFuel>10?s.initialFuel:l.fuelOnBoard||0,d=h*1e3,p=8e3;console.log("3 Engines - Fuel check:",{initialFuelFromLeg:s.initialFuel,initialFuelConfig:h,unitsInKlb:!0,totalFuelLbs:d,minimumFuelLbs:p,totalWeightLbs:n+d});const f=[];let m=p,g=0;const b=e/252*60,x=Math.ceil(b/60);for(console.log(`3 Engines: Estimated ${x} segments for ${e}nm`);g<e&&m<d;){const j=n+m,N=k8(j,i,r,a),A=A8(N,j,i,r),k=o0(A,N,i),T=k+o,E=N8(N,j,i),U=e-g;let C;U<=T?C=U:C=T;const P=C/T*60,I=E*(P/60),M=m+I,W=n+M;console.log(`3 Engines segment ${f.length+1}:`,{altitudeFt:N*1e3,altitudeThousands:N,endWeightLbs:j.toFixed(1),startWeightLbs:W.toFixed(1),ias:Math.round(A),tas:Math.round(k),fuelRateLbsHr:E.toFixed(1),fuelConsumedLbs:I.toFixed(1),endFuelLbs:m.toFixed(1),startFuelLbs:M.toFixed(1)}),f.push({altitude:N*1e3,ias:Math.round(A),tas:Math.round(k),groundSpeed:Math.round(T),distance:C,duration:Math.round(P),fuelRate:E,fuelConsumed:I,startFuel:M,endFuel:m,startWeight:W,endWeight:j}),m=M,g+=C}let v=0;return f.reverse().forEach((j,N)=>{let A=j.distance;const k={id:`3eng-${N}`,startDistance:v,endDistance:v+A,startAltitude:j.altitude,endAltitude:j.altitude,duration:j.duration,fuelConsumed:j.fuelConsumed,fuelConsumptionPerHour:j.fuelRate,groundSpeed:j.groundSpeed,trueAirSpeed:j.tas,indicatedAirSpeed:j.ias,initialFuel:j.startFuel,remainingFuel:j.endFuel,cumulativeDistance:v+A,isa:i,projectedWind:o,initialWeight:j.startWeight};c.push(k),v+=A}),console.log("3 Engines final segments vs CSV:"),console.log("CSV expected: 5 segments with altitudes 16,16,18,18,20k and remaining fuel ending at 8.0"),console.log(`Calculated: ${c.length} segments`),console.log("Total distance calculated:",v,"vs expected:",e),console.log("Is using direct lbs:",n<1e3),c.forEach((j,N)=>{const A=n<1e3?j.fuelConsumptionPerHour.toFixed(1):(j.fuelConsumptionPerHour/1e3).toFixed(1),k=n<1e3?j.remainingFuel.toFixed(1):(j.remainingFuel/1e3).toFixed(1);console.log(`Segment ${N+1}:`,{distance:j.endDistance-j.startDistance,cumulative:j.endDistance,altitude:j.startAltitude/1e3,ias:j.indicatedAirSpeed,fuelRate:A,remaining:k})}),c}function k8(e,t,n,r){const a=e<1e3?e:e/1e3,i=a-80+t*(a*a*57e-5-.0486*a+4.99)/10+n/6;let o=Math.round(6e-4*i*i-.317*i+33.943);console.log("3 Engines altitude calc:",{weightLbs:e.toFixed(1),weightKlb:a.toFixed(1),square:i.toFixed(2),rawR:(6e-4*i*i-.317*i+33.943).toFixed(2),roundedR:o,isa:t,drag:n,isEven:r});const s=r?28:29;return o=Math.min(o,s),o=Math.max(o,10),r&&o%2===1?o=Math.max(o-1,10):!r&&o%2===0&&o<s&&(o=o+1),console.log(`3 Engines altitude final: ${o}k ft (even=${r})`),o}function A8(e,t,n,r){const a=t<1e3?t:t/1e3;if(e<=25){const i=(5e-5*e*e+.0186*e+.6014)*(a-80)/2+.0261*e*e-2.8854*e+225.43-.16*n-r*.19;return Math.max(i,140)}else{const o=1.09765*(a-80)/2+169.6-.16*n-8*(e-25)/5-r*.19;return Math.max(o,140)}}function o0(e,t,n){const r=t*1e3,a=Math.min(...Ls.altitude),i=Math.max(...Ls.altitude),o=Math.min(...Ls.ISA),s=Math.max(...Ls.ISA),l=Math.max(a,Math.min(i,r)),c=Math.max(o,Math.min(s,n));try{const h=iC(Ls.altitude,Ls.ISA,Ls.data,l,c);return e*Math.sqrt(h)}catch(h){return console.error("Special condition SMOE TAS calculation failed, falling back:",h),e*(1+t*.02)}}function P8(e,t,n,r,a,i,o,s,l){if(!s)return console.error("4 Engines: No leg provided"),[];if(console.log("4 Engines calculation inputs:",{totalDistance:e,zfwLbs:n.toFixed(2),dragValue:r,isEven:a,isa:i,unitsInKlb:!0}),!e||e===0)return console.log("4 Engines: No distance, returning empty segments"),[];const c=[],h=8e3,d=s.initialFuel&&s.initialFuel>10?s.initialFuel:l.fuelOnBoard||0,p=d*1e3;console.log("4 Engines - Fuel check:",{initialFuelFromLeg:s.initialFuel,initialFuelConfig:d,totalFuelLbs:p,minimumFuelLbs:h,totalWeightLbs:n+p});const f=[];let m=h,g=0;const b=e/275*60,x=Math.ceil(b/60);for(console.log(`4 Engines: Estimated ${x} segments for ${e}nm`),console.log("Starting fuel available:",p-h,"lbs");g<e&&m<p;){const j=n+m,N=oC(j,i,r,a),A=sC(N,j,i,r),k=o0(A,N,i),T=k+o,E=Ub(N,j,i,r),U=e-g;let C;U<=T?C=U:C=T;const P=C/T*60,I=E*(P/60),M=m+I,W=n+M;console.log(`4 Engines segment ${f.length+1}:`,{altitudeFt:N*1e3,endWeightLbs:j.toFixed(1),startWeightLbs:W.toFixed(1),ias:Math.round(A),tas:Math.round(k),fuelRateLbsHr:E.toFixed(1),fuelConsumedLbs:I.toFixed(1),endFuelLbs:m.toFixed(1),startFuelLbs:M.toFixed(1)}),f.push({altitude:N*1e3,ias:Math.round(A),tas:Math.round(k),groundSpeed:Math.round(T),distance:C,duration:Math.round(P),fuelRate:E,fuelConsumed:I,startFuel:M,endFuel:m,startWeight:W,endWeight:j}),m=M,g+=C}let v=0;return f.reverse().forEach((j,N)=>{let A=j.distance;const k={id:`4eng-${N}`,startDistance:v,endDistance:v+A,startAltitude:j.altitude,endAltitude:j.altitude,duration:j.duration,fuelConsumed:j.fuelConsumed,fuelConsumptionPerHour:j.fuelRate,groundSpeed:j.groundSpeed,trueAirSpeed:j.tas,indicatedAirSpeed:j.ias,initialFuel:j.startFuel,remainingFuel:j.endFuel,cumulativeDistance:v+A,isa:i,projectedWind:o,initialWeight:j.startWeight};c.push(k),v+=A}),console.log("4 Engines final segments vs CSV:"),console.log("CSV expected: 5 segments with altitudes 24,26,26,28,28k and remaining fuel ending at 8.0"),console.log(`Calculated: ${c.length} segments`),console.log("Total distance calculated:",v,"vs expected:",e),c.forEach((j,N)=>{console.log(`Segment ${N+1}:`,{distance:j.endDistance-j.startDistance,cumulative:j.endDistance,altitude:j.startAltitude/1e3,ias:j.indicatedAirSpeed,fuelRate:(j.fuelConsumptionPerHour/1e3).toFixed(1),remaining:(j.remainingFuel/1e3).toFixed(1)})}),c}function oC(e,t,n,r){const a=e/1e3,i=a-80+t*(a*.0075-.07)+n/6;let o=Math.round(i*i*3e-4-.2569*i+40.57);const s=r?28:29;return o=Math.min(o,s),o=Math.max(o,10),r&&o%2===1?o=Math.max(o-1,10):!r&&o%2===0&&o<s&&(o=o+1),console.log(`4 Engines altitude: ${o}k ft (weight: ${a} klb)`),o}function sC(e,t,n,r){const i=(t/1e3-80)/2;if(e<=25){const o=i*(5e-5*e*e+.0186*e+.6014)+.0261*e*e-2.8854*e+225.43-.16*n-r*.19;return Math.max(o,140)}else{const s=i*1.09765+169.6-.16*n-8*(e-25)/5-r*.19;return Math.max(s,140)}}function Ub(e,t,n,r=40){const i=((t/1e3/2-40)*(3e-4*e+.0076)+(6e-4*e*e-.0421*e+1.395)-n*n*2e-5+.0012*n+.0011+r/20*.01)*4;return Math.max(i*1e3,1e3)}function C8(e,t,n,r,a,i,o,s,l){if(!s)return console.error("Loss of Pressure: No leg provided"),[];console.log("Loss of Pressure calculation inputs:",{totalDistance:e,zfwLbs:n.toFixed(2),pressureAltitudeLimit:s.pressureAltitudeLimit,unitsInKlb:!0});const c=[],h=8e3,d=s.initialFuel&&s.initialFuel>10?s.initialFuel:(l==null?void 0:l.fuelOnBoard)||0,p=d*1e3,f=s.pressureAltitudeLimit||1e4,m=f/1e3;console.log("Loss of Pressure - Fuel check:",{initialFuelFromLeg:s.initialFuel,initialFuelConfig:d,unitsInKlb:!0,totalFuelLbs:p,minimumFuelLbs:h,totalWeightLbs:n+p});const g=[];let w=h,b=0;const v=e/200*60,j=Math.ceil(v/60);for(console.log(`Loss of Pressure: Estimated ${j} segments for ${e}nm`);b<e&&w<p;){const A=n+w,k=O8(m,A,i,r),T=o0(k,m,i),E=T+o,U=Ub(m,A,i,r),C=e-b;let P;C<=E?P=C:P=E;const I=P/E*60,M=U*(I/60),W=w+M,L=n+W;console.log(`Loss of Pressure segment ${g.length+1}:`,{altitudeFt:f,endWeightLbs:A.toFixed(1),startWeightLbs:L.toFixed(1),ias:Math.round(k),tas:Math.round(T),fuelRateLbsHr:U.toFixed(1),fuelConsumedLbs:M.toFixed(1),endFuelLbs:w.toFixed(1),startFuelLbs:W.toFixed(1)}),g.push({altitude:f,ias:Math.round(k),tas:Math.round(T),groundSpeed:Math.round(E),distance:P,duration:Math.round(I),fuelRate:U,fuelConsumed:M,startFuel:W,endFuel:w,startWeight:L,endWeight:A}),w=W,b+=P}let N=0;return g.reverse().forEach((A,k)=>{let T=A.distance;const E={id:`lop-${k}`,startDistance:N,endDistance:N+T,startAltitude:A.altitude,endAltitude:A.altitude,duration:A.duration,fuelConsumed:A.fuelConsumed,fuelConsumptionPerHour:A.fuelRate,groundSpeed:A.groundSpeed,trueAirSpeed:A.tas,indicatedAirSpeed:A.ias,initialFuel:A.startFuel,remainingFuel:A.endFuel,cumulativeDistance:N+T,isa:i,projectedWind:o,initialWeight:A.startWeight};c.push(E),N+=T}),console.log("Loss of Pressure calculation complete:",{altitude:f,totalDistance:e,calculatedDistance:N,numSegments:c.length,minimumFuel:h}),c}function O8(e,t,n,r){const a=t<1e3?t:t/1e3,i=1.09765*(a-80)/2+169.6-.16*n;let o;return e<25?o=(5e-5*e*e+.0186*e+.6014)*(a-80)/2+.0261*e*e-2.8854*e+225.43-.16*n-r*.19:o=i-8*(e-25)/5-r*.19,Math.round(Math.max(o,140))}function T8(e,t,n,r,a,i,o,s,l){var N;if(!s)return console.error("10% Addition: No leg provided"),[];if(console.log("10% Addition calculation inputs:",{totalDistance:e,zfwLbs:n.toFixed(2),dragValue:r,isEven:a,isa:i,unitsInKlb:!0}),!e||e===0)return console.log("10% Addition: No distance, returning empty segments"),[];const c=[],h=s.initialFuel&&s.initialFuel>10?s.initialFuel:(l==null?void 0:l.fuelOnBoard)||0,d=h*1e3,p=8e3;console.log("10% Addition - Fuel check:",{initialFuelFromLeg:s.initialFuel,initialFuelConfig:h,unitsInKlb:!0,totalFuelLbs:d,minimumFuelLbs:p,totalWeightLbs:n+d});const f=[];let m=p,g=0;const w=1.1,x=e/260*60,v=Math.ceil(x/60);for(console.log(`10% Addition: Estimated ${v} segments for ${e}nm`);g<e&&m<d;){const A=n+m,k=oC(A,i,r,a),T=sC(k,A,i,r),E=o0(T,k,i),U=E+o,C=Ub(k,A,i,r),P=C*w,I=e-g;let M;I<=U?M=I:M=U;const W=M/U*60,L=P*(W/60),R=m+L,B=n+R;console.log(`10% Addition segment ${f.length+1}:`,{altitudeFt:k*1e3,endWeightLbs:A.toFixed(1),startWeightLbs:B.toFixed(1),ias:Math.round(T),tas:Math.round(E),baseFuelRateLbsHr:C.toFixed(1),fuelRateLbsHr:P.toFixed(1),fuelConsumedLbs:L.toFixed(1),endFuelLbs:m.toFixed(1),startFuelLbs:R.toFixed(1)}),f.push({altitude:k*1e3,ias:Math.round(T),tas:Math.round(E),groundSpeed:Math.round(U),distance:M,duration:Math.round(W),fuelRate:P,fuelConsumed:L,startFuel:R,endFuel:m,startWeight:B,endWeight:A}),m=R,g+=M}let j=0;return f.reverse().forEach((A,k)=>{let T=A.distance;const E={id:`10pct-${k}`,startDistance:j,endDistance:j+T,startAltitude:A.altitude,endAltitude:A.altitude,duration:A.duration,fuelConsumed:A.fuelConsumed,fuelConsumptionPerHour:A.fuelRate,remainingFuel:A.endFuel,initialFuel:A.startFuel,initialWeight:A.startWeight,endWeight:A.endWeight,ias:A.ias,tas:A.tas,groundSpeed:A.groundSpeed,isa:i,wind:o,point:k===0?"climb":"cruise"};c.push(E),j+=T}),console.log("10% Addition calculation complete:",{segmentCount:c.length,totalDistance:j,totalFuelUsed:c.reduce((A,k)=>A+k.fuelConsumed,0),finalRemainingFuel:(N=c[c.length-1])==null?void 0:N.remainingFuel}),c}function F8(e,t){return e.duration&&e.duration>0?e.duration:(e.distance||0)/250*60}function _8(e){if(typeof e=="number")return e;switch(e){case"withPods":return 60;case"withoutPods":return 40;default:return 40}}function nx(e){switch(e){case"normal":return"Normal State";case"minimum4Engines":return"4 Engines";case"minimum3Engines":return"3 Engines";case"lossOfPressure":return"Loss of Pressure";case"tenPercent":return"10% Addition";default:return e}}function s0(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function E8(e,t){if(console.log("calculateHoldingSegments called for:",{legId:e.id,waitingMinutes:e.waitingMinutes,altitude:e.altitude,initialWeight:e.initialWeight}),!e.waitingMinutes||e.waitingMinutes<=0)return console.log("No waiting time specified for holding leg"),[];const n=[],r=e.altitude||1e4,a=e.waitingMinutes/60,i=e.initialWeight||150,o=r/1e3,s=iC(yv.weight,yv.altitude,yv.data,i,o),l=s*1e3,c=l*a,h=(e.initialFuel||0)*1e3,d=h-c,p={id:s0(),point:"cruise",altitude:r,initialWeight:i,distance:0,accumulatedDistance:0,ias:180,trueAirSpeed:200,groundSpeed:0,duration:e.waitingMinutes,cumulativeTime:0,initialFuel:h,fuelConsumptionPerHour:l,fuelConsumptionPerSegment:c,cumulativeFuelConsumed:0,remainingFuel:d,isa:e.isa||0,altitude25Factor:r>25e3?1:0,projectedWind:0,startDistance:0,endDistance:0,startAltitude:r,endAltitude:r,fuelConsumed:c};return n.push(p),console.log("Holding segment created:",{duration:e.waitingMinutes,fuelConsumed:c,fuelRateKlbPerHour:s,fuelRateLbsPerHour:l,altitude:r,weight:i}),n}function L8(e,t){if(console.log("calculateAnchorSegments called for:",{legId:e.id,waitingMinutes:e.waitingMinutes,altitude:e.altitude}),!e.waitingMinutes||e.waitingMinutes<=0)return console.log("No waiting time specified for anchor leg"),[];const n=[],r=e.altitude||1e4,a=4200,i=e.waitingMinutes/60,o=a*i,s=(e.initialFuel||0)*1e3,l=s-o,c={id:s0(),point:"cruise",altitude:r,initialWeight:0,distance:0,accumulatedDistance:0,ias:180,trueAirSpeed:200,groundSpeed:0,duration:e.waitingMinutes,cumulativeTime:0,initialFuel:s,fuelConsumptionPerHour:a,fuelConsumptionPerSegment:o,cumulativeFuelConsumed:0,remainingFuel:l,isa:e.isa||0,altitude25Factor:r>25e3?1:0,projectedWind:e.wind||0,startDistance:0,endDistance:0,startAltitude:r,endAltitude:r,fuelConsumed:o};return n.push(c),console.log("Anchor segment created:",{duration:e.waitingMinutes,fuelConsumed:o,fuelRate:a,altitude:r}),n}function Ta(e,t){var b;if(console.log("calculateSegmentsFixed called for:",{legId:e.id,legType:e.type,legDistance:e.distance,waypoints:((b=e.waypoints)==null?void 0:b.length)||0,specialCondition:e.specialCondition,legISA:e.isa,previousLegAltitude:e.previousLegAltitude,currentLegAltitude:e.altitude,altitudeMode:e.altitudeMode}),e.type==="taxi")return[];if(e.type==="anchor")return L8(e);if(e.type==="holding")return E8(e);if(e.distance===0)return[];if(e.specialCondition&&e.specialCondition!=="normal")return Wb(e,t||{},e.specialCondition);const n=[],r=rC((t==null?void 0:t.drag)||"withoutPods"),a=((t==null?void 0:t.zeroFuelWeight)||85)*1e3,i=(t==null?void 0:t.oddEven)||"odd",o=e.isa||0;o===30&&console.log(" CALCULATING NORMAL SEGMENTS WITH ISA +30 ");let s=e.wind||0,l=e.isa||0;if(e.waypoints&&e.waypoints.length>0){const x=i0(e.waypoints);l=x.isa,s=x.wind,console.log("Using weighted averages from waypoints:",{avgIsa:l,avgWind:s}),console.log("Using leg ISA for altitude calculation:",{isaForAltitude:o})}const c=e.initialFuel||(t==null?void 0:t.fuelOnBoard)||0;c===0&&console.error("No fuel available! Check leg.initialFuel and configuration.fuelOnBoard");let h=c*1e3;console.log("Initial fuel setup:",{legInitialFuel:e.initialFuel,configFuelOnBoard:t==null?void 0:t.fuelOnBoard,fuelInKlb:c,remainingFuelLbs:h,zfw:a,totalInitialWeight:a+h});let d=0,p=a+h,f=e.altitude;e.altitudeMode==="cc"&&(f=ZS(p,o,r,i,e.type));const m=e.previousLegAltitude||0;let g=0;if(f>m&&(g=R8(f,m,p,o)),console.log(" CLIMB SEGMENT DECISION:",{legId:e.id,legType:e.type,previousLegAltitude:e.previousLegAltitude,startAltitude:m,cruiseAltitude:f,altitudeDifference:f-m,needsClimb:f>m,climbDistance:g,totalLegDistance:e.distance,willCreateClimbSegment:g>0&&g<e.distance&&f>m}),g>0&&g<e.distance&&f>m){const x=I8(0,g,f,h,o,s,e.type,r,a,m);n.push(x),d=g,h=x.remainingFuel,p=a+h}let w=e.distance-d;for(;w>.1;){e.altitudeMode==="cc"&&(f=ZS(p,o,r,i,e.type));const x=lC(f,p,r,e.type,o),v=uC(x,f,o),N=Math.max(v+s,50),A=Math.min(N,w);console.log(`Creating cruise segment ${n.length+1}:`,{remainingFuelBefore:h/1e3,segmentDistance:A,legType:e.type,fuelEfficiencyPercent:e.fuelEfficiencyPercent});const k=$8(d,A,f,h,o,s,e.type,r,a,e.fuelEfficiencyPercent);n.push(k),d+=A,console.log(`Segment ${n.length}:`,{initialFuel:(k.initialFuel/1e3).toFixed(1),fuelConsumed:k.fuelConsumed,remainingFuel:(k.remainingFuel/1e3).toFixed(1)}),h=k.remainingFuel,p=a+h,w-=A}return e.waypoints&&e.waypoints.length>0&&M8(n,e.waypoints),console.log(`Created ${n.length} segments:`,n.map((x,v)=>({index:v,distance:x.endDistance-x.startDistance,altitude:x.endAltitude,initialFuelKlb:(x.initialFuel/1e3).toFixed(3),fuelConsumedLbs:x.fuelConsumed,remainingFuelKlb:(x.remainingFuel/1e3).toFixed(3)}))),n}function M8(e,t){const n=[];let r=0;for(const a of t)r+=a.distance,n.push(r);for(const a of e){const i=a.startDistance,o=a.endDistance,s=o-i;if(s===0)continue;let l=0,c=0,h=0,d=0;for(let p=0;p<t.length;p++){const f=t[p],m=n[p];if(m>i&&d<o){const g=Math.max(d,i),b=Math.min(m,o)-g;if(b>0){const x=b/s;l+=f.temp*x,c+=f.headTail*x,h+=x}}d=m}h>0&&(a.projectedWind=c,D8(a))}}function D8(e){if(!e.initialWeight)return;e.endAltitude;const t=e.projectedWind;if(e.startAltitude<e.endAltitude)return;const n=e.trueAirSpeed,r=Math.max(n+t,50),i=(e.endDistance-e.startDistance)/r*60;if(e.fuelConsumptionPerHour){const o=e.fuelConsumptionPerHour*(i/60);e.fuelConsumed=Math.round(o*10)/10,e.remainingFuel=e.initialFuel-o}e.duration=Math.round(i),e.groundSpeed=Math.round(r)}function I8(e,t,n,r,a,i,o,s,l,c=0){const h=l+r;console.log("[CLIMB] Weight calculation:",{zfw:l,zfwInThousands:l/1e3,initialFuelLbs:r,totalWeightLbs:h,totalWeightThousands:h/1e3,startAltitude:c,targetAltitude:n});const d=n/1e3,p=c/1e3,f=h/1e3,m=43e-5*Math.pow(d,3)-.0155*Math.pow(d,2)+.4814*d-.9915,g=(f+a*(f*.01-.3)-80)/2,w=(227e-7*Math.pow(d,2)+.0222)*g,b=m*Math.pow(Math.E,w)+s/12,x=43e-5*Math.pow(p,3)-.0155*Math.pow(p,2)+.4814*p-.9915,v=(f+a*(f*.01-.3)-80)/2,j=(227e-7*Math.pow(p,2)+.0222)*v,N=x*Math.pow(Math.E,j)+s/12,A=Math.max(0,b-N),k=.021*Math.pow(d,3)-.9036*Math.pow(d,2)+46.384*d-37.85,T=(f+a*(f*.0085-.3)-80)/2,E=(Math.pow(d,2)*2e-5-d*4e-6+.023)*T,U=k*Math.pow(Math.E,E)/1e3+.00833333*s,C=.021*Math.pow(p,3)-.9036*Math.pow(p,2)+46.384*p-37.85,P=(f+a*(f*.0085-.3)-80)/2,I=(Math.pow(p,2)*2e-5-p*4e-6+.023)*P,M=C*Math.pow(Math.E,I)/1e3+.00833333*s,W=Math.max(0,U-M),L=W*1e3;return console.log("Climb segment creation:",{zfw:l,initialFuelLbs:r,initialFuelKlb:r/1e3,initialWeight:h,initialWeightStored:h/1e3,startAltitude:c,targetAltitude:n,altitudeClimb:n-c,startAltInThousands:p,targetAltInThousands:d,weightInThousands:f,duration:A,fuelConsumedLbs:L,fuelConsumedKlb:W,remainingFuelLbs:r-L,remainingFuelKlb:(r-L)/1e3}),{id:s0(),point:"climb",altitude:n,startDistance:e,endDistance:e+t,startAltitude:c,endAltitude:n,distance:t,accumulatedDistance:e+t,ias:0,trueAirSpeed:0,groundSpeed:0,duration:Math.round(A),cumulativeTime:0,initialFuel:r,fuelConsumptionPerHour:0,fuelConsumptionPerSegment:Math.round(L*10)/10,cumulativeFuelConsumed:0,remainingFuel:Math.max(r-L,0),isa:a,altitude25Factor:n>25e3?1:0,projectedWind:i,initialWeight:parseFloat((h/1e3).toFixed(1)),fuelConsumed:Math.round(L*10)/10,indicatedAirSpeed:0}}function $8(e,t,n,r,a,i,o,s,l,c){const h=l+r;console.log("[CRUISE] Weight calculation:",{zfw:l,zfwInThousands:l/1e3,initialFuelLbs:r,totalWeightLbs:h,totalWeightThousands:h/1e3}),console.log("Cruise segment weight calc:",{zfw:l,initialFuel:r,initialWeight:h,storedWeight:parseFloat((h/1e3).toFixed(1))});const d=lC(n,h,s,o,a),p=uC(d,n,a),f=Math.max(p+i,50),m=t/f*60;let g=W8(n,h,a,s,o);if(o==="lrc950"){const b=c||9,x=g;g=g*(1-b/100),console.log(`LRC 950 fuel efficiency: ${b}% reduction, original: ${x.toFixed(1)} lbs/hr, new: ${g.toFixed(1)} lbs/hr`)}const w=g*(m/60);return{id:s0(),point:"cruise",altitude:n,startDistance:e,endDistance:e+t,startAltitude:n,endAltitude:n,distance:t,accumulatedDistance:e+t,ias:Math.round(d),trueAirSpeed:Math.round(p),groundSpeed:Math.round(f),duration:Math.round(m),cumulativeTime:0,initialFuel:r,fuelConsumptionPerHour:Math.round(g*10)/10,fuelConsumptionPerSegment:Math.round(w*10)/10,cumulativeFuelConsumed:0,remainingFuel:Math.max(r-w,0),isa:a,altitude25Factor:n>25e3?1:0,projectedWind:i,initialWeight:parseFloat((h/1e3).toFixed(1)),fuelConsumed:Math.round(w*10)/10,indicatedAirSpeed:Math.round(d)}}function R8(e,t,n,r,a){const i=n/1e3,o=e/1e3,s=t/1e3,l=.00145*Math.pow(o,3)-.0445*Math.pow(o,2)+1.2121*o-1.5798,c=(i+r*(.0083*i-.253)-80)/2,h=(3e-5*Math.pow(o,2)-2e-4*o+.0295)*c,d=l*Math.pow(2.71828,h),p=.00145*Math.pow(s,3)-.0445*Math.pow(s,2)+1.2121*s-1.5798,f=(i+r*(.0083*i-.253)-80)/2,m=(3e-5*Math.pow(s,2)-2e-4*s+.0295)*f,g=p*Math.pow(2.71828,m);return Math.max(0,d-g)}function ZS(e,t,n,r,a){const i=e/1e3;let o;a==="lrc1010"?o=i-80+t*(i*.0075-.07)+n/6:o=i-80+t*(i*.0075-.07)+i*.0413+.7+n/6;const s=(o*o*3e-4-.2569*o+40.57)*1e3;let l=Math.round(s/1e3)*1e3;const c=l/1e3;return(r==="odd"&&c%2===0||r==="even"&&c%2===1)&&(l=l<s?l+1e3:l-1e3),Math.max(Math.min(l,r==="odd"?29e3:28e3),1e4)}function lC(e,t,n,r,a){const i=e/1e3,o=t/1e3;if(r==="lrc970"||r==="lrc950"||r==="lrc1010"){if(o>154.999)return i<20?Math.round(i*i*.03-2.6*i+246):Math.round(.2*i+202);if(i<25.01){const s=(5e-5*i*i+.0186*i+.6014)*(o-80)/2+.0261*i*i-2.8854*i+225.43-.16*a-n*.19;return Math.round(s)}else{const l=1.09765*(o-80)/2+169.60000000000002-.16*a-8*(i-25)/5-n*.19;return Math.round(l)}}switch(r){case"lowNavigation":return 240;case"shield":return 220;default:return 180}}function B8(e,t,n){const l=t*.3048,c=288.15-.0065*l,h=c+n,d=Math.pow(1-.0065*l/288.15,9.80665/(287.053*.0065)),p=101325*d,f=101325/(287.053*288.15),m=p/(287.053*h),g=f/m,w=e*Math.sqrt(g);return n===20&&t===2e4&&e===189&&console.log("ISA +20 Test Case (Physics-based):",{expected:277,calculated:w.toFixed(1),densityRatio:g.toFixed(4),sqrtDensityRatio:Math.sqrt(g).toFixed(4),temperatureISA:c.toFixed(1),actualTemperature:h.toFixed(1)}),n===30&&t===2e4&&e===189&&console.log("ISA +30 Test Case (Physics-based):",{expected:276,calculated:w.toFixed(1),densityRatio:g.toFixed(4),sqrtDensityRatio:Math.sqrt(g).toFixed(4),temperatureISA:c.toFixed(1),actualTemperature:h.toFixed(1)}),console.log("TAS Physics calculation:",{altitude:t,altitudeMeters:l,isa:n,ias:e,temperatureISA:c.toFixed(1),actualTemperature:h.toFixed(1),pressureRatio:d.toFixed(4),densityRatio:g.toFixed(4),tas:w.toFixed(1)}),w}function uC(e,t,n){return console.log("TAS calculation inputs:",{ias:e,altitude:t,isa:n,method:"Mathematical formula (Excel-based)"}),B8(e,t,n)}function W8(e,t,n,r,a){const i=e/1e3,o=t/1e3;if(a==="lrc970"||a==="lrc950"||a==="lrc1010"){const s=((o/2-40)*(3e-4*i+.0076)+(6e-4*i*i-.0421*i+1.395)-Math.pow(n,2)*2e-5+.0012*n+.0011+r/20*.01)*4;return Math.max(s*1e3,150)}switch(a){case"lowNavigation":const s=((o/2-40)*(3e-4*i+.0076)+(6e-4*i*i-.0421*i+1.395)-Math.pow(n,2)*2e-5+.0012*n+.0011+r/20*.01)*4;return Math.max(s*1.03*1e3,150);case"shield":const l=7.5,c=o/150,h=1+i/50;return l*c*h*4*1e3;case"holding":return(4.5+n*.1+r*.02)*4*1e3;case"airRefueling":const p=8,f=o/140;return(p*f+n*.1+r*.02)*4*1e3;default:return 4e3}}function zr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function cs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function U8(e,t){const n=+zr(e);return cs(e,n+t)}const cC=6048e5,z8=864e5,dC=6e4;let H8={};function l0(){return H8}function Af(e,t){var s,l,c,h;const n=l0(),r=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,a=zr(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Dm(e){return Af(e,{weekStartsOn:1})}function fC(e){const t=zr(e),n=t.getFullYear(),r=cs(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Dm(r),i=cs(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Dm(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function e3(e){const t=zr(e);return t.setHours(0,0,0,0),t}function t3(e){const t=zr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function q8(e,t){const n=e3(e),r=e3(t),a=+n-t3(n),i=+r-t3(r);return Math.round((a-i)/z8)}function G8(e){const t=fC(e),n=cs(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Dm(n)}function rx(e,t){return U8(e,t*dC)}function V8(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function K8(e){if(!V8(e)&&typeof e!="number")return!1;const t=zr(e);return!isNaN(Number(t))}function Y8(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function X8(e,t){return+zr(e)-+zr(t)}function hC(e,t,n){const r=X8(e,t)/dC;return Y8(n==null?void 0:n.roundingMethod)(r)}function J8(e){const t=zr(e),n=cs(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Q8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Z8=(e,t,n)=>{let r;const a=Q8[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vv(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const e7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},t7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},r7={date:vv({formats:e7,defaultWidth:"full"}),time:vv({formats:t7,defaultWidth:"full"}),dateTime:vv({formats:n7,defaultWidth:"full"})},a7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i7=(e,t,n,r)=>a7[e];function vd(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const o7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},u7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},c7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f7=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},h7={ordinalNumber:f7,era:vd({values:o7,defaultWidth:"wide"}),quarter:vd({values:s7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vd({values:l7,defaultWidth:"wide"}),day:vd({values:u7,defaultWidth:"wide"}),dayPeriod:vd({values:c7,defaultWidth:"wide",formattingValues:d7,defaultFormattingWidth:"wide"})};function xd(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?m7(s,d=>d.test(o)):p7(s,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=t.slice(o.length);return{value:c,rest:h}}}function p7(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function m7(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function g7(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const y7=/^(\d+)(th|st|nd|rd)?/i,v7=/\d+/i,x7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},b7={any:[/^b/i,/^(a|c)/i]},w7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S7={any:[/1/i,/2/i,/3/i,/4/i]},N7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},j7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},A7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},C7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},O7={ordinalNumber:g7({matchPattern:y7,parsePattern:v7,valueCallback:e=>parseInt(e,10)}),era:xd({matchPatterns:x7,defaultMatchWidth:"wide",parsePatterns:b7,defaultParseWidth:"any"}),quarter:xd({matchPatterns:w7,defaultMatchWidth:"wide",parsePatterns:S7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xd({matchPatterns:N7,defaultMatchWidth:"wide",parsePatterns:j7,defaultParseWidth:"any"}),day:xd({matchPatterns:k7,defaultMatchWidth:"wide",parsePatterns:A7,defaultParseWidth:"any"}),dayPeriod:xd({matchPatterns:P7,defaultMatchWidth:"any",parsePatterns:C7,defaultParseWidth:"any"})},T7={code:"en-US",formatDistance:Z8,formatLong:r7,formatRelative:i7,localize:h7,match:O7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function F7(e){const t=zr(e);return q8(t,J8(t))+1}function _7(e){const t=zr(e),n=+Dm(t)-+G8(t);return Math.round(n/cC)+1}function pC(e,t){var h,d,p,f;const n=zr(e),r=n.getFullYear(),a=l0(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(p=a.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,o=cs(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const s=Af(o,t),l=cs(e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Af(l,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function E7(e,t){var s,l,c,h;const n=l0(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,a=pC(e,t),i=cs(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Af(i,t)}function L7(e,t){const n=zr(e),r=+Af(n,t)-+E7(n,t);return Math.round(r/cC)+1}function Dt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Lo={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Dt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Dt(n+1,2)},d(e,t){return Dt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Dt(e.getHours()%12||12,t.length)},H(e,t){return Dt(e.getHours(),t.length)},m(e,t){return Dt(e.getMinutes(),t.length)},s(e,t){return Dt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Dt(a,t.length)}},iu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n3={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Lo.y(e,t)},Y:function(e,t,n,r){const a=pC(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Dt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Dt(i,t.length)},R:function(e,t){const n=fC(e);return Dt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Dt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Dt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Dt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Lo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Dt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=L7(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Dt(a,t.length)},I:function(e,t,n){const r=_7(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Dt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Lo.d(e,t)},D:function(e,t,n){const r=F7(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Dt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Dt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Dt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Dt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=iu.noon:r===0?a=iu.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=iu.evening:r>=12?a=iu.afternoon:r>=4?a=iu.morning:a=iu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Lo.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Lo.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Dt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Dt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lo.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Lo.s(e,t)},S:function(e,t){return Lo.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return a3(r);case"XXXX":case"XX":return $s(r);case"XXXXX":case"XXX":default:return $s(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return a3(r);case"xxxx":case"xx":return $s(r);case"xxxxx":case"xxx":default:return $s(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+r3(r,":");case"OOOO":default:return"GMT"+$s(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+r3(r,":");case"zzzz":default:return"GMT"+$s(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Dt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Dt(r,t.length)}};function r3(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+Dt(i,2)}function a3(e,t){return e%60===0?(e>0?"-":"+")+Dt(Math.abs(e)/60,2):$s(e,t)}function $s(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Dt(Math.trunc(r/60),2),i=Dt(r%60,2);return n+a+t+i}const i3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},mC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},M7=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return i3(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",i3(r,t)).replace("{{time}}",mC(a,t))},D7={p:mC,P:M7},I7=/^D+$/,$7=/^Y+$/,R7=["D","DD","YY","YYYY"];function B7(e){return I7.test(e)}function W7(e){return $7.test(e)}function U7(e,t,n){const r=z7(e,t,n);if(console.warn(r),R7.includes(e))throw new RangeError(r)}function z7(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const H7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,q7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,G7=/^'([^]*?)'?$/,V7=/''/g,K7=/[a-zA-Z]/;function it(e,t,n){var h,d,p,f;const r=l0(),a=r.locale??T7,i=r.firstWeekContainsDate??((d=(h=r.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((f=(p=r.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,s=zr(e);if(!K8(s))throw new RangeError("Invalid time value");let l=t.match(q7).map(m=>{const g=m[0];if(g==="p"||g==="P"){const w=D7[g];return w(m,a.formatLong)}return m}).join("").match(H7).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:Y7(m)};if(n3[g])return{isToken:!0,value:m};if(g.match(K7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(W7(g)||B7(g))&&U7(g,t,String(e));const w=n3[g[0]];return w(s,g,a.localize,c)}).join("")}function Y7(e){const t=e.match(G7);return t?t[1].replace(V7,"'"):e}function rl(e){var t,n,r,a,i,o,s,l,c,h;if(!e||!e.configuration||!e.legs)return console.error("Invalid plan structure for fuel calculation"),e;console.log(" Starting waypoint fuel calculation with segment-based approach"),console.log("Initial plan data:",{fuelOnBoard:e.configuration.fuelOnBoard,legs:e.legs.map((d,p)=>{var f;return{index:p,type:d.type,initialFuel:d.initialFuel,fuelRemaining:d.fuelRemaining,fuelConsumed:d.fuelConsumed,segments:(f=d.segments)==null?void 0:f.map(m=>({point:m.point,remainingFuel:m.remainingFuel,remainingFuelKlb:m.remainingFuel/1e3}))}})});try{const d={...e};let p=null;for(let g=0;g<e.legs.length;g++){const w=e.legs[g];if(w.segments&&w.segments.length>0&&w.segments[0].initialFuel){w.segments[0].initialFuel<100?(p=w.segments[0].initialFuel,console.log(`Found initial fuel in leg ${g} (${w.type}) - already in klbs:`,{segmentInitialFuel:w.segments[0].initialFuel})):(p=w.segments[0].initialFuel/1e3,console.log(`Found initial fuel in leg ${g} (${w.type}) - converting from lbs:`,{segmentInitialFuel:w.segments[0].initialFuel,segmentInitialFuelKlb:p}));break}}let f=p||e.configuration.fuelOnBoard||30;p&&e.configuration.fuelOnBoard&&Math.abs(p-e.configuration.fuelOnBoard)>5&&(console.warn(" Large discrepancy between config fuel and segment fuel, using segment fuel:",{configFuel:e.configuration.fuelOnBoard,segmentFuel:p,difference:Math.abs(p-e.configuration.fuelOnBoard)}),f=p);let m=e.configuration.startTime||new Date;return console.log(" Starting fuel calculation with:",{configFuelOnBoard:e.configuration.fuelOnBoard,initialFuelFromSegments:p,currentFuel:f,firstLegType:(t=e.legs[0])==null?void 0:t.type,firstSegmentInitialFuel:(a=(r=(n=e.legs[0])==null?void 0:n.segments)==null?void 0:r[0])==null?void 0:a.initialFuel,firstSegmentInitialFuelKlb:(s=(o=(i=e.legs[0])==null?void 0:i.segments)==null?void 0:o[0])!=null&&s.initialFuel?e.legs[0].segments[0].initialFuel/1e3:"N/A",secondLegType:(l=e.legs[1])==null?void 0:l.type,secondLegSegments:(h=(c=e.legs[1])==null?void 0:c.segments)==null?void 0:h.map(g=>({point:g.point,initialFuel:g.initialFuel,initialFuelIfKlbs:g.initialFuel<100?g.initialFuel:"N/A",initialFuelIfLbs:g.initialFuel>=100?g.initialFuel/1e3:"N/A"}))}),d.legs=e.legs.map((g,w)=>{var U,C,P,I,M,W,L,R,B,z,Y,ie,_;const b={...g};if(console.log(`
 Processing leg ${w} - ${g.type}:`,{legType:g.type,hasSegments:!!g.segments&&g.segments.length>0,segmentCount:((U=g.segments)==null?void 0:U.length)||0,waypointCount:((C=g.waypoints)==null?void 0:C.length)||0,legInitialFuel:g.initialFuel,legFuelRemaining:g.fuelRemaining,currentFuel:f,firstSegmentInitialFuel:(I=(P=g.segments)==null?void 0:P[0])==null?void 0:I.initialFuel,firstSegmentInitialFuelKlb:(W=(M=g.segments)==null?void 0:M[0])!=null&&W.initialFuel?g.segments[0].initialFuel/1e3:"N/A",allSegmentData:(L=g.segments)==null?void 0:L.map((D,q)=>({index:q,point:D.point,initialFuelRaw:D.initialFuel,initialFuelKlb:D.initialFuel>1e3?D.initialFuel/1e3:D.initialFuel,remainingFuelRaw:D.remainingFuel,remainingFuelKlb:D.remainingFuel>1e3?D.remainingFuel/1e3:D.remainingFuel,unitsLikelyKlbs:D.initialFuel<1e3}))}),!b.waypoints||b.waypoints.length===0)return b;let x=f;if(g.segments&&g.segments.length>0&&g.segments[0].initialFuel?g.segments[0].initialFuel>1e3?(x=g.segments[0].initialFuel/1e3,console.log(` Using segment initial fuel for leg ${w} (converting from lbs):`,{segmentInitialFuel:g.segments[0].initialFuel,segmentInitialFuelKlb:x,legInitialFuel:g.initialFuel,currentFuel:f})):(x=g.segments[0].initialFuel,console.log(` Using segment initial fuel for leg ${w} (already in klbs):`,{segmentInitialFuel:g.segments[0].initialFuel,legInitialFuel:g.initialFuel,currentFuel:f})):g.initialFuel&&(x=g.initialFuel),g.type==="taxi"&&w===0&&(!g.segments||g.segments.length===0)&&e.legs.length>1&&e.legs[1].segments&&e.legs[1].segments.length>0){const D=e.legs[1].segments[0].initialFuel,q=D>1e3?D/1e3:D,te=g.fuelConsumed||1,H=(te>100,te/1e3);x=q+H,console.log(" Calculated taxi leg initial fuel from next leg:",{nextSegmentFuel:D,nextLegInitialFuel:q,taxiFuelConsumed:H,calculatedTaxiInitialFuel:x})}if((R=b.waypoints)!=null&&R.some(D=>D.name==="-TOC-"||D.name==="TOC")){console.log(` Leg ${w} with TOC - DETAILED fuel analysis:`,{legIndex:w,legType:g.type,configFuelOnBoard:e.configuration.fuelOnBoard,currentFuel:f,legInitialFuel:g.initialFuel,legStartFuel:x,legInitialFuelKlb:g.initialFuel/1e3,segments:(B=g.segments)==null?void 0:B.map(q=>({point:q.point,initialFuel:q.initialFuel,initialFuelKlb:q.initialFuel/1e3,remainingFuel:q.remainingFuel,remainingFuelKlb:q.remainingFuel/1e3,fuelConsumed:q.fuelConsumed||q.fuelConsumptionPerSegment,fuelConsumedKlb:(q.fuelConsumed||q.fuelConsumptionPerSegment)/1e3,startDist:q.startDistance,endDist:q.endDistance,startAlt:q.startAltitude,endAlt:q.endAltitude,isClimbByAltitude:q.startAltitude<q.endAltitude})),hasClimbSegment:(z=g.segments)==null?void 0:z.some(q=>q.point==="climb"),tocWaypoint:g.waypoints.find(q=>q.name==="-TOC-"||q.name==="TOC")});const D=g.waypoints.find(q=>q.name==="-TOC-"||q.name==="TOC");D&&console.log(" RAW TOC waypoint data:",{name:D.name,id:D.id,fob:D.fob,fuelOnBoard:D.fuelOnBoard,distance:D.distance,totalDistance:D.totalDistance,altitude:D.altitude})}g.initialFuel&&Math.abs(g.initialFuel-f)>.1&&console.warn(` Fuel mismatch in leg ${w}:`,{currentFuel:f,legInitialFuel:g.initialFuel,difference:g.initialFuel-f,usingValue:x});const v=x-(g.fuelRemaining||x),j=g.distance||0;console.log(` Processing leg ${w} - ${g.id}:`,{legStartFuel:x,legInitialFuel:g.initialFuel,legFuelRemaining:g.fuelRemaining,legFuelConsumed:v,legDistance:j,segmentCount:((Y=g.segments)==null?void 0:Y.length)||0,hasSegments:!!g.segments&&g.segments.length>0,waypointCount:((ie=g.waypoints)==null?void 0:ie.length)||0,hasTOC:(_=g.waypoints)==null?void 0:_.some(D=>{var q;return D.name==="-TOC-"||((q=D.name)==null?void 0:q.includes("TOC"))})});const N=v>0&&j>0?v/j:0,A=g.waypoints.reduce((D,q)=>D+(q.distance||0),0);b.distance=A;let k=0,T=0;for(let D=0;D<w;D++)T+=d.legs[D].distance||0;const E=d.legs.reduce((D,q,te)=>te===w?D+A:D+(q.distance||0),0);if(b.waypoints=g.waypoints.map((D,q)=>{var te;(D.name==="-TOC-"||D.id==="-TOC-")&&console.log(` BEFORE processing TOC waypoint at index ${q}:`,{name:D.name,id:D.id,fob:D.fob,fuelOnBoard:D.fuelOnBoard,originalObjectRef:D});try{(q<5||(te=D.name)!=null&&te.includes("TOC")||D.id==="-TOC-"||D.name==="-TOC-")&&console.log(` Processing Waypoint ${q}: name="${D.name}", id="${D.id}", hasFob=${D.fob!==void 0}`);let H=0;for(let Fe=0;Fe<q;Fe++)H+=g.waypoints[Fe].distance||0;const Z=H;(D.name==="-TOC-"||D.name==="TOC"||D.id==="-TOC-")&&console.log(" TOC distance calculation:",{waypointIndex:q,cumulativeDistance:H,distanceTraveled:Z,waypointDistances:g.waypoints.slice(0,q+1).map((Fe,De)=>({index:De,name:Fe.name,id:Fe.id,distance:Fe.distance})),normalSegmentsCount:ce.length,normalSegmentsDistances:ce.map(Fe=>({point:Fe.point,startDist:Fe.startDistance,endDist:Fe.endDistance}))});let X=x;const G={...g,specialCondition:"normal"},ce=Ta(G,e.configuration);if((D.name==="-TOC-"||D.id==="-TOC-")&&console.log(" Normal segments for TOC waypoint calculation:",{segmentCount:(ce==null?void 0:ce.length)||0,segments:ce==null?void 0:ce.map(Fe=>({point:Fe.point,initialFuel:Fe.initialFuel,remainingFuel:Fe.remainingFuel,initialFuelKlb:Fe.initialFuel/1e3,remainingFuelKlb:Fe.remainingFuel/1e3,startDist:Fe.startDistance,endDist:Fe.endDistance}))}),ce&&ce.length>0){let Fe=0,De=ce[0];for(let Le=0;Le<ce.length;Le++){const Ge=ce[Le];if(Ge.startDistance!==void 0&&Ge.endDistance!==void 0){if(Z>=Ge.startDistance&&Z<=Ge.endDistance){Fe=Le,De=Ge;break}else if(Z<Ge.startDistance){Fe=Math.max(0,Le-1),De=ce[Fe];break}}}if((D.name==="-TOC-"||D.name==="TOC"||D.id==="-TOC-")&&console.log(" TOC segment search:",{distanceTraveled:Z,segmentIndex:Fe,segmentForWaypoint:De?{point:De.point,startDist:De.startDistance,endDist:De.endDistance,initialFuelKlb:(De.initialFuel||0)/1e3,remainingFuelKlb:(De.remainingFuel||0)/1e3}:null,allSegmentDistances:g.segments.map(Le=>({point:Le.point,startDist:Le.startDistance,endDist:Le.endDistance}))}),Z>ce[ce.length-1].endDistance&&(Fe=ce.length-1,De=ce[Fe]),De){if(Math.abs(Z-De.startDistance)<.1){let Le=De.initialFuel||0;X=Le>1e3?Le/1e3:Le}else if(Math.abs(Z-De.endDistance)<.1){let Le=De.remainingFuel||0;X=Le>1e3?Le/1e3:Le}else{const Le=De.endDistance-De.startDistance,Ge=Z-De.startDistance,Ue=Le>0?Ge/Le:0;let mt=De.fuelConsumed||De.fuelConsumptionPerSegment||0,tt=De.initialFuel||0;tt>1e3&&(tt=tt/1e3,mt=mt/1e3),X=tt-mt*Ue}console.log(` Waypoint ${D.name} segment-based fuel:`,{waypointDistance:Z,segmentIndex:Fe,segmentStartDist:De.startDistance,segmentEndDist:De.endDistance,segmentInitialFuelRaw:De.initialFuel,segmentRemainingFuelRaw:De.remainingFuel,segmentInitialFuelKlb:De.initialFuel>1e3?De.initialFuel/1e3:De.initialFuel,segmentRemainingFuelKlb:De.remainingFuel>1e3?De.remainingFuel/1e3:De.remainingFuel,calculatedFuel:X}),(D.name==="-TOC-"||D.name==="TOC"||D.id==="-TOC-")&&console.log(" TOC FUEL CHECK:",{segmentRawValues:{initialFuel:De.initialFuel,remainingFuel:De.remainingFuel,fuelConsumed:De.fuelConsumed||De.fuelConsumptionPerSegment},segmentKlbValues:{initialFuelKlb:(De.initialFuel||0)/1e3,remainingFuelKlb:(De.remainingFuel||0)/1e3,fuelConsumedKlb:(De.fuelConsumed||De.fuelConsumptionPerSegment||0)/1e3},calculatedValue:X,expectedValue:26.9,actualDisplayValue:28,difference:X-26.9})}if(D.name&&(D.name.includes("TOC")||D.name.includes("Top of Climb")||D.name==="-TOC-")||D.id==="-TOC-"){console.log(` Waypoint ${D.name} fuel calculation:`,{waypointIndex:q,waypointId:D.id,distanceTraveled:Z,segmentFuelConsumedLbs:segmentFuelConsumed,segmentFuelConsumedKlb:segmentFuelConsumed/1e3,legStartFuel:x,calculatedRemainingFuel:X,originalWaypointFob:D.fob,legIndex:w,legType:g.type,legInitialFuel:g.initialFuel,legFuelRemaining:g.fuelRemaining,segmentDetails:ce==null?void 0:ce.map((Ue,mt)=>({index:mt,point:Ue.point,startDist:Ue.startDistance,endDist:Ue.endDistance,fuelConsumed:Ue.fuelConsumed||Ue.fuelConsumptionPerSegment,fuelConsumedKlb:(Ue.fuelConsumed||Ue.fuelConsumptionPerSegment)/1e3,remainingFuel:Ue.remainingFuel,remainingFuelKlb:Ue.remainingFuel/1e3,isClimb:Ue.point==="climb"||Ue.startAltitude<Ue.endAltitude,startAlt:Ue.startAltitude,endAlt:Ue.endAltitude}))});const Le=ce.find(Ue=>Ue.point==="climb"),Ge=ce.find(Ue=>Ue.startDistance!==void 0&&Ue.endDistance!==void 0&&Z>=Ue.startDistance&&Z<=Ue.endDistance);console.log(` Looking for segments at distance ${Z}:`,{allSegments:ce.map(Ue=>({point:Ue.point,startDist:Ue.startDistance,endDist:Ue.endDistance,initialFuel:Ue.initialFuel,remainingFuel:Ue.remainingFuel,initialFuelKlb:Ue.initialFuel/1e3,remainingFuelKlb:Ue.remainingFuel/1e3,fuelConsumed:Ue.fuelConsumed||Ue.fuelConsumptionPerSegment,fuelConsumedKlb:(Ue.fuelConsumed||Ue.fuelConsumptionPerSegment)/1e3})),climbSegment:Le?{point:Le.point,initialFuel:Le.initialFuel,remainingFuel:Le.remainingFuel,initialFuelKlb:Le.initialFuel/1e3,remainingFuelKlb:Le.remainingFuel/1e3,fuelConsumed:Le.fuelConsumed||Le.fuelConsumptionPerSegment,fuelConsumedKlb:(Le.fuelConsumed||Le.fuelConsumptionPerSegment)/1e3}:null}),Ge&&(console.log(" TOC Segment details:",{segmentPoint:Ge.point,segmentRemainingFuel:Ge.remainingFuel,segmentRemainingFuelKlb:Ge.remainingFuel/1e3,segmentFuelConsumed:Ge.fuelConsumed||Ge.fuelConsumptionPerSegment,startAlt:Ge.startAltitude,endAlt:Ge.endAltitude,distanceCheck:{waypointDistance:Z,segmentStart:Ge.startDistance,segmentEnd:Ge.endDistance,isAtEnd:Math.abs(Z-Ge.endDistance)<1}}),Ge.point==="climb"&&Math.abs(Z-Ge.endDistance)<2?(console.log(` This is the exact TOC position! Segment shows remaining fuel: ${(Ge.remainingFuel/1e3).toFixed(1)} klb`),X=Ge.remainingFuel/1e3,console.log(` Using climb segment's remaining fuel value: ${X.toFixed(1)} klb`)):Le&&(D.name==="-TOC-"||D.name==="TOC"||D.id==="-TOC-")&&(console.log(" TOC not exactly at climb segment end, using climb segment remaining fuel anyway"),X=Le.remainingFuel/1e3,console.log(` Using climb segment's remaining fuel: ${X.toFixed(1)} klb`)))}}else{const Fe=N*Z;X=Math.max(0,x-Fe),(D.name==="-TOC-"||D.name==="TOC"||D.id==="-TOC-")&&console.warn(" No segments available for TOC waypoint, using linear interpolation")}if((D.name==="-TOC-"||D.name==="TOC"||D.id==="-TOC-")&&ce&&ce.length>0){const Fe=ce.find(De=>De.point==="climb");if(Fe&&Fe.remainingFuel!==void 0){const De=Fe.remainingFuel;X=De>1e3?De/1e3:De,console.log(" CRITICAL OVERRIDE: Using climb segment remaining fuel for TOC:",{waypointName:D.name,waypointId:D.id,rawValue:De,convertedValue:X,isConverted:De>1e3,previousValue:x-N*Z})}}let ae=null;if(ce&&ce.length>0){for(const Fe of ce)if(Fe.startDistance!==void 0&&Fe.endDistance!==void 0&&Z>=Fe.startDistance&&Z<=Fe.endDistance){ae=Fe;break}}const le=D.groundSpeed||(ae==null?void 0:ae.groundSpeed)||250,xe=D.trueAirSpeed||(ae==null?void 0:ae.trueAirSpeed)||0,be=D.ias||(ae==null?void 0:ae.ias)||0,de=D.altitude||(ae==null?void 0:ae.endAltitude)||0,re=D.isa||D.temp||(ae==null?void 0:ae.isa)||0,Pe=(D.distance||0)/le*60;k+=Pe;const Te=rx(m,k);let ke=0;for(let Fe=q+1;Fe<g.waypoints.length;Fe++){const De=g.waypoints[Fe],Le=De.groundSpeed||le;Le>0&&De.distance>0&&(ke+=De.distance/Le*60)}const Oe=T+H+(D.distance||0),Re=E-Oe;(D.name==="-TOC-"||D.name==="TOC"||D.id==="-TOC-")&&(console.log(" FINAL TOC waypoint fuel assignment:",{waypointName:D.name,remainingFuelCalculated:X,legStartFuel:x,distanceTraveled:Z,segmentPoint:ae==null?void 0:ae.point,segmentRemainingFuel:ae==null?void 0:ae.remainingFuel,segmentRemainingFuelKlb:ae?ae.remainingFuel/1e3:"N/A",expectedValue:26.9,willDisplay:X.toFixed(1)}),Math.abs(X-28)<.1&&console.warn(" TOC waypoint about to be set to 28.0 klb! This is incorrect.")),(D.name==="-TOC-"||D.id==="-TOC-")&&console.log(` RETURNING TOC waypoint with fob=${X.toFixed(1)} klb`);const Ie={...D,fob:X,fuelOnBoard:X*1e3,eta:D.eta instanceof Date?D.eta:Te,eet:Pe,toEET:ke,groundSpeed:le,trueAirSpeed:xe,ias:be,altitude:de,isa:re,temp:re,totalDistance:H,distanceRemain:Re,magHDG:D.magHDG||D.heading||0,magDec:D.magDec||0,wind:D.wind||0,windVelocity:D.windVelocity||0,headTail:D.headTail||0};return(D.name==="-TOC-"||D.id==="-TOC-")&&console.log(" TOC waypoint object being returned:",{id:Ie.id,name:Ie.name,fob:Ie.fob,fuelOnBoard:Ie.fuelOnBoard,remainingFuel:X}),Ie}catch(H){return console.error(`Error calculating fuel for waypoint ${D.name}:`,H),D}}),g.segments&&g.segments.length>0){const D=g.segments[g.segments.length-1];if(D.remainingFuel!==void 0){const q=D.remainingFuel;f=q>1e3?q/1e3:q,console.log(" Using last segment remaining fuel for next leg:",{lastSegmentRemainingFuel:q,lastSegmentRemainingFuelKlb:f,isConverted:q>1e3,legFuelRemaining:g.fuelRemaining})}else g.fuelRemaining!==void 0&&(f=g.fuelRemaining)}else g.fuelRemaining!==void 0?f=g.fuelRemaining:f=x-v;return m=rx(m,g.legDuration*60||0),b}),d.legs.forEach((g,w)=>{var x;const b=(x=g.waypoints)==null?void 0:x.find(v=>v.name==="-TOC-"||v.name==="TOC"||v.id==="-TOC-");b&&console.log(` FINAL TOC waypoint in returned plan - leg ${w}:`,{name:b.name,id:b.id,fob:b.fob,fuelOnBoard:b.fuelOnBoard,hasFob:b.fob!==void 0,hasFuelOnBoard:b.fuelOnBoard!==void 0})}),d}catch(d){return console.error("Error calculating waypoint fuel values:",d),e}}function o3(e){console.log("Starting plan calculation");const t={...e};let n=0,r=0;const a=e.configuration.fuelOnBoard;let i=e.configuration.zeroFuelWeight*1e3+a*1e3,o=a,s=0,l=0,c=!0;t.legs=e.legs.map((d,p)=>{const f={...d};if(console.log("planCalculation processing leg:",{id:d.id,type:d.type,specialCondition:d.specialCondition,index:p}),f.totalDistance=n+f.distance,f.initialWeight=i/1e3,f.initialFuel=o,f.previousLegAltitude=s,f.previousLegSpeed=l,f.firstClimbLeg=c&&f.type!=="taxi",console.log(` PLAN CALC - Setting leg ${p} previousLegAltitude:`,{legId:f.id,legType:f.type,previousLegAltitude:s,currentLegAltitude:f.altitude,altitudeMode:f.altitudeMode,isFirstClimbLeg:f.firstClimbLeg}),console.log(`planCalculation - Setting leg ${p} initialFuel:`,{legId:f.id,currentFuel:o,initialFuel:e.configuration.fuelOnBoard,fuelOnBoard:e.configuration.fuelOnBoard}),f.waypoints&&f.waypoints.length>0){const{isa:m,wind:g}=i0(f.waypoints);f.isa=m,f.wind=g}if(f.type==="taxi")f.fuelConsumed=1,f.legDuration=.25,f.segments=[],s=f.altitude||0,console.log(` PLAN CALC - Taxi leg ${p} setting altitude:`,{legId:f.id,taxiAltitude:f.altitude,newPreviousLegAltitude:s});else if(console.log(` Calculating segments for leg ${p}:`,{legId:f.id,type:f.type,isa:f.isa,specialCondition:f.specialCondition,hasManualAltitudes:!!f.manualSegmentAltitudes}),f.segments=Ta(f,e.configuration),f.manualSegmentAltitudes&&f.segments&&(console.log("Applying manual altitude overrides to segments"),f.segments=X7(f.segments,f.manualSegmentAltitudes,e.configuration)),f.segments.length>0){f.fuelConsumed=f.segments.reduce((g,w)=>g+(w.fuelConsumptionPerSegment||w.fuelConsumed||0),0)/1e3,f.legDuration=f.segments.reduce((g,w)=>g+(w.duration||0),0)/60;const m=f.segments[f.segments.length-1];s=m.altitude||m.endAltitude||f.altitude,l=m.groundSpeed||0,console.log(` PLAN CALC - Updating previousLegAltitude from leg ${p}:`,{legId:f.id,lastSegmentAltitude:m.altitude,lastSegmentEndAltitude:m.endAltitude,legAltitude:f.altitude,newPreviousLegAltitude:s})}return f.type==="shield"&&f.fuelReceived?o+=f.fuelReceived*2204.62:f.type==="airRefueling"&&f.fuelOffload&&(o-=f.fuelOffload*2204.62),o-=f.fuelConsumed,f.fuelRemaining=o,i=e.configuration.zeroFuelWeight*1e3+o*1e3,i+=f.zfwChange*1e3,f.endOfFlightWeight=i/1e3,n+=f.distance,r+=f.legDuration,f.totalDuration=r,c&&f.type!=="taxi"&&(c=!1),f}),t.fuel=Kd(t);const h=rl(t);return console.log("Plan calculation complete, waypoint fuels calculated"),h}function X7(e,t,n){var c,h,d;const r=((c=e[e.length-1])==null?void 0:c.endDistance)||0;let a=0,i=((h=e[0])==null?void 0:h.initialFuel)||0,o=((d=e[0])==null?void 0:d.startAltitude)||0,s=[];for(let p=0;p<e.length&&!(a>=r);p++){const f=e[p],m=t[p],g={...f};if(g.startAltitude=o,m===void 0){const N=r-a;if(g.point!=="climb"&&g.duration<60){g.duration;const A=60,k=g.groundSpeed||200,T=A/60*k;if(T<=N){g.duration=A,g.distance=T,g.startDistance=a,g.endDistance=a+T,g.accumulatedDistance=g.endDistance;const E=A/60,U=(g.fuelConsumptionPerHour||0)*E;g.fuelConsumptionPerSegment=Math.round(U*10)/10,g.fuelConsumed=g.fuelConsumptionPerSegment}else{const E=N;g.startDistance=a,g.endDistance=a+E,g.accumulatedDistance=g.endDistance,g.distance=E,g.duration=Math.round(E/k*60);const U=g.duration/60,C=(g.fuelConsumptionPerHour||0)*U;g.fuelConsumptionPerSegment=Math.round(C*10)/10,g.fuelConsumed=g.fuelConsumptionPerSegment}}else{const A=(f.endDistance||0)-(f.startDistance||0),k=Math.min(A,N);if(g.startDistance=a,g.endDistance=a+k,g.accumulatedDistance=g.endDistance,g.distance=k,k<A&&g.groundSpeed>0){g.duration=Math.round(k/g.groundSpeed*60);const T=g.duration/60,E=(g.fuelConsumptionPerHour||0)*T;g.fuelConsumptionPerSegment=Math.round(E*10)/10,g.fuelConsumed=g.fuelConsumptionPerSegment}}g.initialFuel=i,g.remainingFuel=Math.max(i-(g.fuelConsumed||0),0),a=g.endDistance,i=g.remainingFuel,o=g.endAltitude||o,s.push(g);continue}const w=f.point==="climb"||p===0;g.endAltitude=m,g.altitude=m;const b=f.initialWeight||100,x=rC(n.drag),v=f.isa||0,j=f.projectedWind||0;if(w&&m!==g.startAltitude){if(m-g.startAltitude>0){const A=m/1e3,k=g.startAltitude/1e3,T=.00145*Math.pow(A,3)-.0445*Math.pow(A,2)+1.2121*A-1.5798,E=(b+v*(.0083*b-.253)-80)/2,U=(3e-5*Math.pow(A,2)-2e-4*A+.0295)*E,C=T*Math.pow(2.71828,U),P=.00145*Math.pow(k,3)-.0445*Math.pow(k,2)+1.2121*k-1.5798,I=(b+v*(.0083*b-.253)-80)/2,M=(3e-5*Math.pow(k,2)-2e-4*k+.0295)*I,W=P*Math.pow(2.71828,M),L=Math.max(0,C-W),R=43e-5*Math.pow(A,3)-.0155*Math.pow(A,2)+.4814*A-.9915,B=(b+v*(b*.01-.3)-80)/2,z=(227e-7*Math.pow(A,2)+3e-5*k+.0222)*B,Y=R*Math.pow(2.71828,z)-(k>0?(43e-5*Math.pow(k,3)-.0155*Math.pow(k,2)+.4814*k-.9915)*Math.pow(2.71828,(227e-7*Math.pow(k,2)+3e-5*0+.0222)*B):0);g.distance=L,g.startDistance=a,g.endDistance=a+L,g.accumulatedDistance=g.endDistance,g.duration=Math.round(Y*60);const ie=L/Y;g.groundSpeed=Math.round(ie),g.trueAirSpeed=Math.round(ie-j);const _=.021*Math.pow(A,3)-.9036*Math.pow(A,2)+46.384*A-37.85,D=(b+v*(b*.0085-.3)-80)/2,q=(Math.pow(A,2)*2e-5-A*4e-6+.023)*D,te=_*Math.pow(Math.E,q)/1e3+.00833333*x,H=.021*Math.pow(k,3)-.9036*Math.pow(k,2)+46.384*k-37.85,Z=(b+v*(b*.0085-.3)-80)/2,X=(Math.pow(k,2)*2e-5-k*4e-6+.023)*Z,G=H*Math.pow(Math.E,X)/1e3+.00833333*x,ae=Math.max(0,te-G)*1e3,le=Y>0?ae/Y:0;g.fuelConsumptionPerHour=Math.round(le),g.fuelConsumptionPerSegment=Math.round(ae*10)/10,g.fuelConsumed=g.fuelConsumptionPerSegment}}else{const N=m/1e3;let A;if(f.point,b>154.999)N<20?A=Math.round(N*N*.03-2.6*N+246):A=Math.round(.2*N+202);else if(N<25.01){const _=(5e-5*N*N+.0186*N+.6014)*(b-80)/2+.0261*N*N-2.8854*N+225.43-.16*v-x*.19;A=Math.round(_)}else{const _=1.09765*(b-80)/2+169.60000000000002-.16*v;A=Math.round(_-8*(N-25)/5-x*.19)}g.ias=A,g.indicatedAirSpeed=A;const E=(15-1.98*N+v+273.15)/288.15,C=Math.pow(1-.0065*(m*.3048)/288.15,5.2561)/E,P=A/Math.sqrt(C);g.trueAirSpeed=Math.round(P),g.groundSpeed=Math.round(P+j);const I=p===e.length-1,M=f.duration||60,W=I&&M<60?M:60;g.duration=W;const L=W/60,R=g.groundSpeed*L;if(I&&W<60){const _=r-a,D=g.groundSpeed;console.log("Last segment adjustment:",{isLastSegment:I,durationMinutes:W,remainingDistance:_,maxDistanceFor60Min:D,cumulativeDistance:a,totalLegDistance:r,groundSpeed:g.groundSpeed}),_<=D?(g.distance=_,g.duration=Math.round(_/g.groundSpeed*60),console.log("Extended last segment to cover remaining distance")):g.distance=R}else g.distance=R;g.startDistance=a,g.endDistance=a+g.distance,g.accumulatedDistance=g.endDistance;const B=((b/2-40)*(3e-4*N+.0076)+(6e-4*N*N-.0421*N+1.395)-Math.pow(v,2)*2e-5+.0012*v+.0011+x/20*.01)*4,z=Math.max(B*1e3,150);g.fuelConsumptionPerHour=Math.round(z*10)/10;const Y=g.duration/60,ie=z*Y;g.fuelConsumptionPerSegment=Math.round(ie*10)/10,g.fuelConsumed=g.fuelConsumptionPerSegment}g.initialFuel=i,g.remainingFuel=Math.max(i-(g.fuelConsumed||0),0),a=g.endDistance||a,i=g.remainingFuel,o=g.endAltitude||o,s.push(g)}if(!(Object.keys(t).length>0)&&a<r&&s.length>0){let p=r-a;const f=s[s.length-1],m=f.groundSpeed||200,g=m;if(p<1){f.endDistance=r,f.distance=f.endDistance-f.startDistance,f.accumulatedDistance=f.endDistance;const b=f.distance/m*60;f.duration=Math.round(b);const x=f.duration/60,v=(f.fuelConsumptionPerHour||0)*x;return f.fuelConsumptionPerSegment=Math.round(v*10)/10,f.fuelConsumed=f.fuelConsumptionPerSegment,f.remainingFuel=Math.max((f.initialFuel||0)-v,0),s}if(f.duration<60&&f.point!=="climb"){const b=f.duration,v=(60-b)/60*m;if(v<=p){console.log(`Extending last segment from ${b} to 60 minutes`),f.duration=60,f.distance=(f.distance||0)+v,f.endDistance=f.startDistance+f.distance,f.accumulatedDistance=f.endDistance;const j=60/60,N=(f.fuelConsumptionPerHour||0)*j;f.fuelConsumptionPerSegment=Math.round(N*10)/10,f.fuelConsumed=f.fuelConsumptionPerSegment,f.remainingFuel=Math.max((f.initialFuel||0)-N,0),a=f.endDistance,i=f.remainingFuel,p-=v}}const w=Math.ceil(p/g);for(let b=0;b<w;b++){const x=b===w-1?p-b*g:g,v={...f,id:J7(),point:"cruise",startDistance:a,endDistance:a+x,distance:x,accumulatedDistance:a+x,duration:Math.round(x/m*60),startAltitude:o,endAltitude:o,altitude:o,initialFuel:i},j=v.duration/60,N=(f.fuelConsumptionPerHour||0)*j;v.fuelConsumptionPerSegment=Math.round(N*10)/10,v.fuelConsumed=v.fuelConsumptionPerSegment,v.remainingFuel=Math.max(i-N,0),s.push(v),a=v.endDistance,i=v.remainingFuel}}return s}function J7(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const qt=r0()(a0((e,t)=>({plans:[],currentPlanId:null,addPlan:n=>(console.log("=== PLAN STORE - addPlan ==="),console.log("Plan ID:",n.metadata.id),console.log("Plan name:",n.metadata.name),console.log("Has navlogUrl:",n.metadata.navlogUrl?"YES":"NO"),n.metadata.navlogUrl&&console.log("NavlogUrl preview:",n.metadata.navlogUrl.substring(0,100)+"..."),e(r=>({plans:[...r.plans,n],currentPlanId:n.metadata.id}))),updatePlan:(n,r)=>{var a;return console.log("=== PLAN STORE - updatePlan ==="),console.log("Plan ID:",n),console.log("Updates:",r),(a=r.metadata)!=null&&a.navlogUrl&&console.log("NavlogUrl being updated:",r.metadata.navlogUrl.substring(0,100)+"..."),e(i=>({plans:i.plans.map(o=>{if(o.metadata.id!==n)return o;const s={...o,...r,metadata:{...o.metadata,...r.metadata||{},updatedAt:new Date}};if(r.legs)s.legs=r.legs.map(l=>({...l,segments:l.segments&&l.segments.length>0?l.segments:Ta(l,s.configuration)})),s.fuel=Kd(s);else if(r.configuration){console.log("Configuration updated, recalculating entire plan");const l=o3(s);s.legs=l.legs,s.fuel=l.fuel}return s})}))},updateLeg:(n,r,a)=>e(i=>({plans:i.plans.map(o=>{var p,f;if(o.metadata.id!==n)return o;let s=[...o.legs];const l=s[r];console.log("UpdateLeg called:",{planId:n,legIndex:r,updates:a}),console.log("Current leg before update:",{id:l.id,specialCondition:l.specialCondition,type:l.type}),s[r]={...l,...a},console.log("Updated leg after applying updates:",{id:s[r].id,specialCondition:s[r].specialCondition,type:s[r].type,hasSpecialConditionUpdate:"specialCondition"in a});let c=0;if(a.waypoints&&a.waypoints.length>0&&(console.log("Processing waypoints update..."),console.log("All waypoints with distances:",a.waypoints.map(m=>({name:m.name,distance:m.distance}))),a.waypoints[0]&&a.waypoints[0].distance>0)){c=a.waypoints[0].distance,console.log(`Using first waypoint distance: ${a.waypoints[0].name} = ${c} nm`),console.log("Current leg distance:",l.distance),console.log("Updating leg distance to:",c),s[r].distance=c;const{isa:m}=i0(a.waypoints);console.log("Calculated ISA:",m),s[r].isa=m}console.log("Updated leg after changes:",s[r]);const h=a.distance!==void 0||a.altitude!==void 0||a.altitudeMode!==void 0||a.isa!==void 0||a.wind!==void 0||a.type!==void 0||a.fuelOffload!==void 0||a.fuelReceived!==void 0||a.specialCondition!==void 0||a.pressureAltitudeLimit!==void 0||a.waitingMinutes!==void 0||a.fuelChange!==void 0||a.zfwChange!==void 0||a.manualSegmentAltitudes!==void 0||a.waypoints&&c>0&&c!==l.distance||!s[r].segments||s[r].segments.length===0;if(console.log(" Checking if should recalculate:",{hasSegments:((p=s[r].segments)==null?void 0:p.length)>0,isaChanged:a.isa!==void 0,isaValue:a.isa,currentISA:l.isa,updatedISA:s[r].isa,shouldRecalculate:h,allChecks:{distance:a.distance!==void 0,altitude:a.altitude!==void 0,altitudeMode:a.altitudeMode!==void 0,isa:a.isa!==void 0,wind:a.wind!==void 0,type:a.type!==void 0,specialCondition:a.specialCondition!==void 0,noSegments:!s[r].segments||s[r].segments.length===0}}),h){console.log("Recalculating plan due to leg update"),console.log("Special condition:",s[r].specialCondition),console.log("ISA update triggered recalc:",a.isa!==void 0?`${l.isa} -> ${a.isa}`:"No ISA change");const m={...o,legs:s};s=o3(m).legs,console.log("After calculatePlan, leg special condition:",{id:s[r].id,specialCondition:s[r].specialCondition,type:s[r].type,segmentsCount:(f=s[r].segments)==null?void 0:f.length})}const d={...o,legs:s,metadata:{...o.metadata,updatedAt:new Date}};return d.fuel=Kd(d),d})})),deletePlan:n=>e(r=>({plans:r.plans.filter(a=>a.metadata.id!==n),currentPlanId:r.currentPlanId===n?null:r.currentPlanId})),setCurrentPlan:n=>e({currentPlanId:n}),getCurrentPlan:()=>{const n=t();return n.plans.find(r=>r.metadata.id===n.currentPlanId)},getPlanById:n=>t().plans.find(a=>a.metadata.id===n)}),{name:"plan-store",storage:{getItem:e=>{const t=localStorage.getItem(e);if(!t)return null;const{state:n}=JSON.parse(t);return n.plans&&n.plans.forEach(r=>{var a;r.metadata&&(r.metadata.createdAt=new Date(r.metadata.createdAt),r.metadata.updatedAt=new Date(r.metadata.updatedAt)),r.configuration&&(r.configuration.startTime=new Date(r.configuration.startTime)),(a=r.legs)==null||a.forEach(i=>{var o,s;(o=i.waypoints)==null||o.forEach(l=>{l.eta&&(l.eta=new Date(l.eta)),l.actualTime&&(l.actualTime=new Date(l.actualTime))}),(s=i.fuelReads)==null||s.forEach(l=>{l.time&&(l.time=new Date(l.time))})}),r.fuel=Kd(r)}),{state:n}},setItem:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},removeItem:e=>{localStorage.removeItem(e)}}}));async function gC(e){try{const t=await e.text(),n=JSON.parse(t);return n&&n.metadata&&n.legs?n:null}catch(t){return console.error("Error reading flight file:",t),null}}function Q7(e,t){const n=JSON.stringify(e,null,2),r=new Blob([n],{type:"application/json"}),a=document.createElement("a");a.href=URL.createObjectURL(r),a.download=`${e.metadata.name.replace(/[^a-z0-9]/gi,"_")}.json`,a.click(),URL.revokeObjectURL(a.href)}function Z7(){const e=Ur(l=>l.setAppFlow),t=qt(l=>l.addPlan),n=qt(l=>l.setCurrentPlan),r=se.useRef(null),a=()=>{e({type:"planning"})},i=()=>{e({type:"navEmpty"})},o=()=>{var l;(l=r.current)==null||l.click()},s=async l=>{var d;const c=(d=l.target.files)==null?void 0:d[0];if(!c)return;const h=await gC(c);h?(t(h),n(h.metadata.id),e({type:"planning"})):alert("Failed to import flight. Please check the file format."),r.current&&(r.current.value="")};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-blue-900 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-700 rounded-full opacity-20 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-700 rounded-full opacity-20 blur-3xl"})]}),u.jsxs("div",{className:"relative z-10 max-w-md w-full text-center",children:[u.jsxs("div",{className:"bg-gray-900/30 backdrop-blur-md rounded-3xl p-8 mb-12 shadow-2xl",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 mb-6 inline-block transition-colors duration-300",children:u.jsx("img",{src:"./images/chubby-unicorn-logo.png",alt:"Chubby Unicorn",className:"w-32 h-32"})}),u.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"Chubby Unicorn"}),u.jsx("p",{className:"text-xl text-gray-300 dark:text-gray-400 mb-2",children:"Flight Planning Excellence"}),u.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"By Maor Boker"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:a,className:"w-full py-4 px-6 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-full transition-all transform hover:scale-105 shadow-lg",children:"Planning Mode"}),u.jsx("button",{onClick:i,className:"w-full py-4 px-6 bg-transparent border-2 border-white dark:border-gray-300 text-white dark:text-gray-100 font-semibold rounded-full hover:bg-white/10 dark:hover:bg-white/20 transition-all transform hover:scale-105",children:"Join Flight"})]}),u.jsxs("button",{onClick:o,className:"mt-8 text-white/70 hover:text-white flex items-center justify-center gap-2 mx-auto transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Import Flight"]})]}),u.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 opacity-10",children:u.jsx("img",{src:"./images/chubby-unicorn-logo.png",alt:"",className:"w-full h-full"})}),u.jsx("div",{className:"absolute bottom-20 right-20 w-32 h-32 opacity-10",children:u.jsx("img",{src:"./images/chubby-unicorn-logo.png",alt:"",className:"w-full h-full"})}),u.jsx("input",{ref:r,type:"file",accept:".json",onChange:s,className:"hidden"})]})}function eD(){const e=Ur(r=>r.setAppFlow);qt(r=>r.addPlan);const t=()=>{e({type:"planning"})},n=()=>{e({type:"pilotEmpty"})};return u.jsxs("div",{className:"min-h-screen bg-gray-900 relative flex items-center justify-center overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/50 to-blue-900/50"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse",style:{animationDuration:"3s"}}),u.jsx("img",{src:"./images/chubby-unicorn-logo.png",className:"absolute top-20 left-20 w-32 h-32 opacity-10 animate-float",style:{animationDelay:"0s"},alt:""}),u.jsx("img",{src:"./images/chubby-unicorn-logo.png",className:"absolute bottom-20 right-20 w-32 h-32 opacity-10 animate-float",style:{animationDelay:"1.5s"},alt:""}),u.jsx("img",{src:"./images/chubby-unicorn-logo.png",className:"absolute top-40 right-40 w-24 h-24 opacity-10 animate-float",style:{animationDelay:"0.7s"},alt:""}),u.jsxs("div",{className:"relative z-10 text-center",children:[u.jsxs("div",{className:"mb-12 bg-black/30 backdrop-blur-md rounded-2xl px-8 py-6 inline-block animate-scaleIn transform hover:scale-105 transition-transform duration-300",children:[u.jsx("img",{src:"./images/chubby-unicorn-logo.png",alt:"Chubby Unicorn",className:"w-32 h-32 mx-auto mb-4 animate-float"}),u.jsx("h1",{className:"text-6xl font-bold text-white animate-fadeIn",style:{animationDelay:"0.2s"},children:"Chubby Unicorn"}),u.jsx("p",{className:"text-white/70 mt-2 animate-fadeIn",style:{animationDelay:"0.4s"},children:"Flight Planning Excellence"}),u.jsx("p",{className:"text-white/50 mt-3 text-sm animate-fadeIn",style:{animationDelay:"0.5s"},children:"By Maor Boker"})]}),u.jsxs("div",{className:"space-y-6 stagger-children",children:[u.jsx("button",{onClick:t,className:"primary-button mx-auto hover-lift transform transition-all duration-300 hover:scale-110 hover:shadow-xl opacity-0 animate-slideInRight",style:{animationDelay:"0.5s",animationFillMode:"forwards"},children:"Planning Mode"}),u.jsx("button",{onClick:n,className:"secondary-button mx-auto bg-black/30 backdrop-blur-md border-white text-white hover:bg-black/40 hover-lift transform transition-all duration-300 hover:scale-110 hover:shadow-xl opacity-0 animate-slideInLeft",style:{animationDelay:"0.7s",animationFillMode:"forwards"},children:"Join Flight"})]}),u.jsx("button",{className:"mt-12 text-white/70 hover:text-white transition-all duration-300 opacity-0 animate-fadeIn hover:scale-110 transform",style:{animationDelay:"0.9s",animationFillMode:"forwards"},children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),u.jsx("span",{children:"Import Flight"})]})})]})]})}function yC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=yC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function et(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=yC(e))&&(r&&(r+=" "),r+=t);return r}const Jr={WAYPOINT:"waypoint",ALTITUDE:"altitude",HEADING:"heading",DISTANCE:"distance",DISTANCE_REMAINING:"distanceRemaining",FUEL:"fuel",FUEL_REMAINING:"fuelRemaining",EST_TIME_ENROUTE:"estimatedTimeEnroute",GROUND_SPEED:"groundSpeed",TRUE_AIRSPEED:"trueAirspeed",ISA:"isa"};function vC(e,t){var n,r,a,i;console.log("Starting parseFFTable with HTML length:",e.length);try{const s=new DOMParser().parseFromString(e,"text/html"),l=s.querySelector("parsererror");if(l)throw console.error("HTML parse error:",l.textContent),new Error("Failed to parse HTML: "+l.textContent);console.log("Document title:",s.title),console.log("Document body:",s.body?"exists":"missing");const c=new Map,h=s.querySelectorAll("script");console.log("Found scripts:",h.length);for(const M of h){const W=M.textContent||"";if(W.includes("waypoints")||W.includes("navlog")||W.includes("flight")){console.log("Found potential data script:",W.substring(0,200));try{const L=W.match(/\{[\s\S]*\}/);if(L){const R=JSON.parse(L[0]);if(console.log("Parsed JSON data:",R),R.waypoints)return xv(R.waypoints);if((n=R.navlog)!=null&&n.waypoints)return xv(R.navlog.waypoints);if((r=R.flightPlan)!=null&&r.waypoints)return xv(R.flightPlan.waypoints)}}catch(L){console.log("Failed to parse as JSON:",L)}}}const d=s.querySelectorAll("[data-waypoint], [data-navlog], [data-flight]");console.log("Elements with data attributes:",d.length);const p=s.querySelectorAll('.waypoint, .navlog-row, .flight-leg, .nav-point, [class*="waypoint"], [class*="navlog"]');console.log("Potential waypoint containers:",p.length),p.length>0&&p.forEach((M,W)=>{var L;console.log(`Container ${W}:`,(L=M.textContent)==null?void 0:L.substring(0,100))});const f=((a=s.body)==null?void 0:a.textContent)||"";console.log("Document text preview:",f.substring(0,1e3));const m=/([A-Z]{3,5})\s+(\d{3})?\s+(\d+\.?\d*)\s*(nm|NM)/g,g=Array.from(f.matchAll(m));console.log("Waypoint text pattern matches:",g.length),g.length>0&&g.forEach((M,W)=>{console.log(`Text match ${W}:`,M[0])});const w=s.querySelectorAll("table");console.log("Found tables:",w.length),w.length===0&&p.length===0&&h.length===0&&(console.log("No recognizable data structures found"),console.log("Body HTML preview:",(i=s.body)==null?void 0:i.innerHTML.substring(0,1e3)));let b=null,x=null;if(w.forEach((M,W)=>{const L=Array.from(M.querySelectorAll("th")).map(R=>{var B;return((B=R.textContent)==null?void 0:B.trim())||""});if(console.log(`Table ${W} headers:`,L),L.some(R=>R.toLowerCase().includes("waypoint summary"))){console.log("Found waypoint summary table at index:",W);const R=Array.from(M.querySelectorAll("tr"));console.log(`Waypoint summary table has ${R.length} rows`),R.slice(0,5).forEach((B,z)=>{const Y=Array.from(B.querySelectorAll("td, th"));console.log(`Row ${z}:`,Y.map(ie=>{var _;return(_=ie.textContent)==null?void 0:_.trim()}).slice(0,5))})}(L.some(R=>R.toLowerCase().includes("waypoint"))||L.some(R=>R.toLowerCase().includes("ident")))&&(L.some(R=>R.toLowerCase().includes("hdg"))||L.some(R=>R.toLowerCase().includes("heading"))||L.some(R=>R.toLowerCase().includes("crs")))&&(b=M,console.log("Found navigation table at index:",W),console.log("Navigation table columns:",L)),(L.some(R=>R.toLowerCase().includes("lat"))||L.some(R=>R.toLowerCase().includes("lon"))||L.some(R=>R.toLowerCase().includes("airport")))&&(x=M,console.log("Found coordinates/airport table at index:",W),Array.from(M.querySelectorAll("tr")).slice(0,5).forEach((B,z)=>{const Y=Array.from(B.querySelectorAll("td, th"));console.log(`Coord table row ${z}:`,Y.map(ie=>{var _;return(_=ie.textContent)==null?void 0:_.trim()}).slice(0,5))}))}),!b)throw console.error("No navigation table found. Available tables:",w.length),w.forEach((M,W)=>{const L=Array.from(M.querySelectorAll("th")).map(B=>{var z;return((z=B.textContent)==null?void 0:z.trim())||""}),R=M.querySelectorAll("tr").length;if(console.log(`Table ${W}: ${R} rows, headers:`,L),L.length===0&&R>0){const B=M.querySelector("tr");if(B){const z=Array.from(B.querySelectorAll("td")).map(Y=>{var ie;return((ie=Y.textContent)==null?void 0:ie.trim())||""});console.log(`Table ${W} first row:`,z)}}}),new Error("Navigation table not found in HTML. Check console for table details.");const v=Array.from(w).find(M=>Array.from(M.querySelectorAll("th")).map(L=>{var R;return((R=L.textContent)==null?void 0:R.trim())||""}).some(L=>L.toLowerCase().includes("waypoint summary"))),j=new Map;v&&(console.log("Processing waypoint summary table for coordinates..."),Array.from(v.querySelectorAll("tr")).forEach((W,L)=>{var B,z;if(L===0)return;const R=Array.from(W.querySelectorAll("td"));for(let Y=0;Y<R.length;Y+=2){const ie=R[Y],_=R[Y+1];if(ie&&_){const D=((B=ie.textContent)==null?void 0:B.trim())||"",te=(((z=_.textContent)==null?void 0:z.trim())||"").match(/([NS])(\d{2})(\d{2}\.\d+)\/([EW])(\d{3})(\d{2}\.\d+)/);if(te&&D){const H=parseFloat(te[2]),Z=parseFloat(te[3]);let X=H+Z/60;te[1]==="S"&&(X=-X);const G=parseFloat(te[5]),ce=parseFloat(te[6]);let ae=G+ce/60;te[4]==="W"&&(ae=-ae),j.set(D,{latitude:X,longitude:ae}),console.log(`Parsed coordinates for ${D}: ${X.toFixed(6)}, ${ae.toFixed(6)}`)}}}}),console.log(`Total coordinates parsed: ${j.size}`)),x&&j.size===0&&x.querySelectorAll("tr").forEach((W,L)=>{var B,z,Y;if(L===0)return;const R=W.querySelectorAll("td");if(R.length>=3){const ie=((B=R[0].textContent)==null?void 0:B.trim())||"",_=((z=R[1].textContent)==null?void 0:z.trim())||"",D=((Y=R[2].textContent)==null?void 0:Y.trim())||"",q=rD(_,D);q&&ie&&j.set(ie,q)}});const N=Array.from(b.querySelectorAll("th")).map(M=>{var W;return((W=M.textContent)==null?void 0:W.trim())||""});console.log("Navigation table headers:",N),console.log("Headers with content:",N.filter(M=>M.length>0));const A=b.querySelectorAll("thead tr");console.log("Header rows:",A.length);const k=A[A.length-1];if(k){const M=Array.from(k.querySelectorAll("th")).map(W=>{var L;return((L=W.textContent)==null?void 0:L.trim())||""});console.log("Last header row headers:",M)}const T=Array.from(b.querySelectorAll("tr")),E=T.filter(M=>!(M.closest("thead")||M.querySelector("th")||M.style.display==="none"));if(console.log("Total rows:",T.length,"Data rows:",E.length),E.length>0){const M=E[0],W=Array.from(M.querySelectorAll("td"));console.log("First data row cells:",W.length),console.log("First 5 cell values:",W.slice(0,5).map(L=>{var R;return(R=L.textContent)==null?void 0:R.trim()}))}const U=E.length>0?Array.from(E[0].querySelectorAll("td")).length:0,C=tD(N,U);E.forEach((M,W)=>{var z,Y,ie,_,D,q,te,H,Z,X,G,ce,ae,le,xe,be,de,re,Pe,Te,ke,Oe,Re,Ie,Fe,De;const L=Array.from(M.querySelectorAll("td"));if(L.length===0)return;console.log(`Data row ${W}: ${L.length} cells`),W<3&&(console.log(`Row ${W} all values:`,L.map((Le,Ge)=>{var Ue;return`[${Ge}]: ${(Ue=Le.textContent)==null?void 0:Ue.trim()}`})),console.log(`Row ${W} - Looking for wind data:`),L.forEach((Le,Ge)=>{var mt;const Ue=((mt=Le.textContent)==null?void 0:mt.trim())||"";(Ue.match(/\d+\/\d+/)||Ue.toLowerCase().includes("wind")||Ue.includes("/"))&&console.log(`  Cell [${Ge}]: "${Ue}" - potential wind data`)}));const R=((Y=(z=L[0])==null?void 0:z.textContent)==null?void 0:Y.trim())||"";if(!R||R===""){console.log(`Row ${W} has no waypoint name, skipping`);return}const B={waypoint:R};if(L.length>2&&(B.heading=wi((_=(ie=L[2])==null?void 0:ie.textContent)==null?void 0:_.trim())),L.length>4&&(B.altitude=s3((q=(D=L[4])==null?void 0:D.textContent)==null?void 0:q.trim())),L.length>9&&(B.groundSpeed=wi((H=(te=L[9])==null?void 0:te.textContent)==null?void 0:H.trim())),L.length>10){const Le=wi((X=(Z=L[10])==null?void 0:Z.textContent)==null?void 0:X.trim());B.distance=Le,console.log(`Row ${W} - Waypoint: ${R}, Distance cell [10]: "${(ce=(G=L[10])==null?void 0:G.textContent)==null?void 0:ce.trim()}", Parsed distance: ${Le}`)}if(L.length>11&&(B.distanceRemaining=wi((le=(ae=L[11])==null?void 0:ae.textContent)==null?void 0:le.trim())),L.length>12&&(B.fuel=wi((be=(xe=L[12])==null?void 0:xe.textContent)==null?void 0:be.trim())),L.length>13&&(B.fuelRemaining=wi((re=(de=L[13])==null?void 0:de.textContent)==null?void 0:re.trim())),L.length>8&&(B.trueAirspeed=wi((Te=(Pe=L[8])==null?void 0:Pe.textContent)==null?void 0:Te.trim())),L.length>6){const Le=((Oe=(ke=L[6])==null?void 0:ke.textContent)==null?void 0:Oe.trim())||"";console.log(`Row ${W} - Wind cell [6] raw value: "${Le}"`);const Ge=Le.match(/(\d+)\/(\d+)/);Ge?(B.windDirection=parseInt(Ge[1]),B.windVelocity=parseInt(Ge[2]),console.log(`Row ${W} - Wind parsed: Dir: ${B.windDirection}, Vel: ${B.windVelocity} kts`)):(console.log(`Row ${W} - Wind NOT parsed from: "${Le}"`),B.windDirection=0,B.windVelocity=0)}else console.log(`Row ${W} - No wind cell (only ${L.length} cells)`);L.length>7&&(B.isa=nD((Ie=(Re=L[7])==null?void 0:Re.textContent)==null?void 0:Ie.trim()),console.log(`Row ${W} - ISA cell [7]: "${(De=(Fe=L[7])==null?void 0:Fe.textContent)==null?void 0:De.trim()}", Parsed ISA: ${B.isa}`)),j.has(R)&&(B.coordinates=j.get(R)),console.log(`Processed waypoint: ${R}`,{...B,windInfo:`${B.windDirection||0}/${B.windVelocity||0}kts`}),c.set(R,B)}),console.log("Total waypoints found:",c.size),console.log("Waypoints:",Array.from(c.entries()));const P=Array.from(c.entries());if(P.length>=2){const[M,W]=P[0],[L,R]=P[1];!W.windDirection&&!W.windVelocity&&R.windDirection&&R.windVelocity&&(console.log(`First waypoint ${M} has no wind, using wind from ${L}`),W.windDirection=R.windDirection,W.windVelocity=R.windVelocity,c.set(M,W))}const I=Array.from(c.values()).reduce((M,W)=>M+(W.distance||0),0);return console.log("=== PARSER DISTANCE DEBUG ==="),console.log("Total parsed distance:",I,"nm"),Array.from(c.entries()).forEach(([M,W])=>{console.log(`${M}: ${W.distance} nm, wind: ${W.windDirection}/${W.windVelocity}kts`)}),console.log("=== END PARSER DEBUG ==="),c.size===0&&(console.log("No waypoints found with standard parsing. Trying alternative methods..."),w.forEach((M,W)=>{Array.from(M.querySelectorAll("tr")).forEach((R,B)=>{var Y,ie,_,D,q,te,H,Z,X;const z=Array.from(R.querySelectorAll("td"));if(z.length>=3){const G=((Y=z[0].textContent)==null?void 0:Y.trim())||"";if(/^[A-Z0-9]{3,5}$/.test(G)){console.log(`Found potential waypoint in table ${W}, row ${B}: ${G}`);const ce={waypoint:G,distance:wi((_=(ie=z[1])==null?void 0:ie.textContent)==null?void 0:_.trim()),altitude:s3((q=(D=z[2])==null?void 0:D.textContent)==null?void 0:q.trim())};z.length>3&&(ce.heading=wi((H=(te=z[3])==null?void 0:te.textContent)==null?void 0:H.trim())),z.length>4&&(ce.groundSpeed=wi((X=(Z=z[4])==null?void 0:Z.textContent)==null?void 0:X.trim())),c.set(G,ce)}}})}),console.log("Alternative parsing found waypoints:",c.size)),{waypoints:c,originalUrl:t,importedAt:new Date}}catch(o){throw console.error("Error in parseFFTable:",o),o}}function tD(e,t){const n=new Map,r=[];return e.forEach((a,i)=>{a.trim()&&r.push({text:a,index:i})}),console.log("Non-empty headers:",r),console.log("Data cell count:",t),r.length<=t&&r.forEach((a,i)=>{const o=a.text.toLowerCase().trim();console.log(`Mapping header "${a.text}" at position ${i}`),o==="waypoint"||o.includes("waypoint")?n.set(Jr.WAYPOINT,i):o==="alt"?n.set(Jr.ALTITUDE,i):o==="hdg"||o==="crs"?n.set(Jr.HEADING,i):o==="leg"?n.set(Jr.DISTANCE,i):o==="rem"&&!n.has(Jr.DISTANCE_REMAINING)?n.set(Jr.DISTANCE_REMAINING,i):o==="used"?n.set(Jr.FUEL,i):o==="rem"&&i>10?n.set(Jr.FUEL_REMAINING,i):o==="ete"?n.set(Jr.EST_TIME_ENROUTE,i):o==="gs"?n.set(Jr.GROUND_SPEED,i):o==="tas"?n.set(Jr.TRUE_AIRSPEED,i):o==="dir/spd"?n.set("WIND_DIR_SPD",i):o==="isa"&&n.set(Jr.ISA,i)}),console.log("Column mapping:",Object.fromEntries(n)),n}function xv(e){const t=new Map;return Array.isArray(e)&&e.forEach((n,r)=>{var i,o,s,l,c,h,d,p;const a={waypoint:n.name||n.ident||n.waypoint||`WPT${r+1}`,coordinates:n.coordinates||n.location||n.position?{latitude:((i=n.coordinates)==null?void 0:i.latitude)||((o=n.location)==null?void 0:o.lat)||((s=n.position)==null?void 0:s.lat)||0,longitude:((l=n.coordinates)==null?void 0:l.longitude)||((c=n.location)==null?void 0:c.lon)||((h=n.position)==null?void 0:h.lon)||0}:void 0,altitude:n.altitude||n.alt||void 0,distance:n.distance||n.dist||void 0,heading:n.heading||n.course||void 0,groundSpeed:n.groundSpeed||n.gs||void 0,fuel:n.fuel||void 0,windDirection:((d=n.wind)==null?void 0:d.direction)||n.windDir||void 0,windVelocity:((p=n.wind)==null?void 0:p.velocity)||n.windSpeed||void 0};a.waypoint&&t.set(a.waypoint,a)}),{waypoints:t,originalUrl:void 0,importedAt:new Date}}function nD(e){if(!e)return 0;const t=e.trim(),n=parseFloat(t);return isNaN(n)?0:n}function rD(e,t){try{const n=e.match(/([NS])(\d+)(\d+\.\d+)'/);if(!n)return null;const r=parseFloat(n[2]),a=parseFloat(n[3]);let i=r+a/60;n[1]==="S"&&(i=-i);const o=t.match(/([EW])(\d+)(\d+\.\d+)'/);if(!o)return null;const s=parseFloat(o[2]),l=parseFloat(o[3]);let c=s+l/60;return o[1]==="W"&&(c=-c),{latitude:i,longitude:c}}catch{return null}}function s3(e){if(!e)return;if(e.startsWith("FL"))return parseInt(e.substring(2))*100;const t=e.replace(/,/g,""),n=parseFloat(t);return isNaN(n)?void 0:n}function wi(e){if(!e)return;const t=e.replace(/,/g,""),n=parseFloat(t);return isNaN(n)?void 0:n}function Ya(e,t){return e>=29&&e<=34&&t>=34&&t<=36?4.5:e>=35&&e<=42&&t>=19&&t<=29?3.5:e>=30&&e<=45&&t>=0&&t<=40?2+t/40*3:0}function aD(){return window.location.hostname.includes("github.io")||window.location.protocol==="file:"||!window.location.hostname.includes("vercel.app")?"https://public-api.foreflight.com/public/api/flights":"https://chubby-unicorn-web.vercel.app/api/foreflight"}const iD=aD();class oD{constructor(){Qn(this,"apiKey",null);this.apiKey=localStorage.getItem("foreflight_api_key")||"6y5QFV4hbIGClVh6PE44ByQUnqHJZ015aYVip8im7Ts="}setApiKey(t){this.apiKey=t,localStorage.setItem("foreflight_api_key",t)}getApiKey(){return this.apiKey}clearApiKey(){this.apiKey=null,localStorage.removeItem("foreflight_api_key")}async fetchAllFlights(t,n){if(!this.apiKey)throw new Error("ForeFlight API key not set");const r=t.toISOString(),a=n.toISOString(),i=`${iD}/flights?fromDate=${r}&toDate=${a}`;console.log("Fetching ForeFlight flights:",i),console.log("API Key:",this.apiKey?"Set":"Not set");try{const o=await fetch(i,{headers:{"x-api-key":this.apiKey,Accept:"application/json"}}).catch(c=>{throw console.error("Network/Proxy error:",c),window.location.hostname.includes("github.io")||window.location.protocol==="file:"?new Error("ForeFlight import requires a server connection. Please use the desktop version or upload ForeFlight files manually."):new Error("Unable to connect to ForeFlight API. Please check your connection and try again.")});if(console.log("Response status:",o.status),console.log("Response headers:",o.headers),!o.ok){const c=await o.text();throw console.error("Error response:",c),o.status===401?new Error("Invalid API key"):new Error(`Failed to fetch flights: ${o.status} ${o.statusText}`)}const s=await o.json();console.log("Received data:",s);const l=s.flights||s;if(!Array.isArray(l))throw console.error("Unexpected response format:",s),new Error("Invalid response format from ForeFlight API");return l.map(c=>({...c,departureTime:new Date(c.departureTime),arrivalTime:new Date(c.arrivalTime),etd:c.etd?new Date(c.etd):void 0,eta:c.eta?new Date(c.eta):void 0}))}catch(o){throw console.error("ForeFlight API error:",o),o}}async fetchNavlog(t){if(!this.apiKey)throw new Error("ForeFlight API key not set");const r=`https://public-api.foreflight.com/public/api/flights/${t}/navlog`;console.log("Fetching navlog for flight:",t),console.log("Navlog URL:",r);try{const a=await fetch(r,{headers:{"x-api-key":this.apiKey,Accept:"application/json"}});if(console.log("Navlog response status:",a.status),!a.ok){const o=await a.text();throw console.error("Navlog error response:",o),new Error(`Failed to fetch navlog: ${a.status} ${a.statusText}`)}const i=await a.json();return console.log("Navlog data:",i),{url:i.url,generatedAt:new Date(i.generatedAt)}}catch(a){throw console.error("Navlog fetch error:",a),a}}async parseTable(t){try{console.log("Fetching navigation log HTML from:",t);let n;const r=[async()=>{console.log("Trying simple fetch (works with CORS extensions)");const o=await fetch(t);if(console.log("Simple fetch response:",{status:o.status,statusText:o.statusText,headers:Object.fromEntries(o.headers.entries())}),!o.ok){const s=await o.text();throw console.error("Response error body:",s),new Error(`Fetch failed: ${o.status} ${o.statusText}`)}return await o.text()}];let a=null;for(const o of r)try{n=await o(),console.log("Successfully fetched HTML with method");break}catch(s){console.warn("Fetch method failed:",s),a=s;continue}if(!n&&a)throw console.error("All fetch methods failed. Last error:",a),a.message.includes("Failed to fetch")||a.message.includes("NetworkError")?new Error(`CORS Error: Unable to fetch ForeFlight navigation log.

To fix this, you need to:
1. Make sure CORS Unblock extension is ACTIVATED (not just installed)
2. Click on the CORS Unblock icon in your browser toolbar
3. Make sure it shows as "ON" or "Enabled"
4. Refresh this page (F5) after enabling
5. Try the import again

Alternative: Use a different CORS extension like "Allow CORS" or "CORS Everywhere"`):new Error("Failed to fetch navigation log: "+a.message+`

This might be a temporary issue with ForeFlight's servers.`);if(console.log("Received HTML length:",n.length),console.log("HTML preview:",n.substring(0,1e3)),!n.includes("<")||!n.includes(">"))throw new Error("Response does not appear to be HTML");console.log("Calling parseFFTable...");let i;try{i=vC(n,t)}catch(o){console.error("Parse error:",o),i={waypoints:new Map,originalUrl:t,importedAt:new Date}}if(console.log("Parse result:",i),console.log("Waypoints in result:",i.waypoints.size),i.waypoints.size===0){console.log("No waypoints found with table parser. Trying alternative parsing...");const o=/([A-Z]{3,5})\s+(\d{3})?\s+(\d+\.?\d*)\s+nm/gi,s=n.matchAll(o);for(const l of s)console.log("Found potential waypoint text:",l[0])}return i}catch(n){throw console.error("Error parsing navigation table:",n),n}}convertToWaypoint(t,n,r){const a=t.waypoint||`WPT${n+1}`;console.log(`Converting waypoint ${a}:`,{distance:t.distance,fuel:t.fuel,fuelRemaining:t.fuelRemaining,windDirection:t.windDirection,windVelocity:t.windVelocity,isa:t.isa,groundSpeed:t.groundSpeed,heading:t.heading});const i=t.windDirection||0,o=t.windVelocity||0,s=t.heading||0,l=v8(i,o,s);console.log(`Waypoint ${a} wind calculation:`,{windDirection:i,windVelocity:o,heading:s,headTailWind:l.toFixed(1),ffWptWind:`${t.windDirection||0}/${t.windVelocity||0}kts`});let c=0;return t.coordinates&&(c=Ya(t.coordinates.latitude,t.coordinates.longitude),console.log(`Waypoint ${a} magnetic declination: ${c.toFixed(1)} at ${t.coordinates.latitude.toFixed(4)}, ${t.coordinates.longitude.toFixed(4)}`)),{id:a,name:a,isActual:!1,note:"",coordinate:t.coordinates||{latitude:0,longitude:0},heading:s,distance:t.distance||0,distanceRemain:t.distanceRemaining||0,totalDistance:0,eet:0,toEET:0,eta:null,fob:t.fuelRemaining||0,fuelOnBoard:t.fuelRemaining||0,altitude:r,groundSpeed:t.groundSpeed||0,trueAirSpeed:t.trueAirspeed||0,ias:0,wind:i,windVelocity:o,headTail:l,isa:0,temp:t.isa||0,magDec:c,magHDG:s,velPlan:0}}}const hu=new oD,Ke=se.forwardRef(({className:e,variant:t="primary",size:n="md",fullWidth:r=!1,disabled:a,children:i,onClick:o,...s},l)=>{const[c,h]=se.useState(!1),d=f=>{h(!0),f.preventDefault()},p=f=>{c&&o&&!a&&o(f),h(!1),f.preventDefault()};return u.jsx("button",{ref:l,className:et("font-semibold transition-all duration-300 flex items-center justify-center","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","transform hover:scale-110 active:scale-95 hover:shadow-lg","touch-manipulation",c&&"scale-95 shadow-lg",{"bg-primary text-white hover:bg-primary-hover focus-visible:ring-primary":t==="primary","bg-white dark:bg-gray-800 text-primary border-2 border-primary hover:bg-purple-50 dark:hover:bg-gray-700 focus-visible:ring-primary":t==="secondary","hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 hover:text-black dark:hover:text-white":t==="ghost","bg-danger text-white hover:bg-red-600 focus-visible:ring-danger":t==="danger","bg-green-500 text-white hover:bg-green-600 focus-visible:ring-green-500":t==="success"},{"h-10 sm:h-button-sm px-3 sm:px-4 text-sm rounded-lg":n==="sm","h-button-mobile sm:h-button px-4 sm:px-6 rounded-button text-sm sm:text-base":n==="md","h-14 sm:h-16 px-6 sm:px-8 text-base sm:text-lg rounded-button":n==="lg","h-button-mobile sm:h-button rounded-button px-4 sm:px-6 text-sm sm:text-base":n==="full"},{"w-full sm:w-button max-w-xs sm:max-w-none mx-auto sm:mx-0":n==="md"&&!r,"w-full":r||n==="full"},e),disabled:a,onClick:o,onTouchStart:d,onTouchEnd:p,...s,children:i})});Ke.displayName="Button";function sD({onImport:e,onClose:t,legAltitude:n=1e4}){const[r,a]=se.useState(null),[i,o]=se.useState(""),[s,l]=se.useState(!1),c=f=>{var w;const m=(w=f.target.files)==null?void 0:w[0];if(!m)return;const g=new FileReader;g.onload=b=>{var v;const x=(v=b.target)==null?void 0:v.result;o(x),p(x)},g.readAsText(m)},h=()=>{const f=document.getElementById("html-paste");f!=null&&f.value&&(o(f.value),p(f.value))},d=()=>{if(i){const f=window.open("","_blank");f&&(f.document.open(),f.document.write(i),f.document.close(),f.document.title="ForeFlight NavLog")}},p=f=>{try{console.log("Processing HTML, length:",f.length);const m=vC(f);if(console.log("Parse result:",m),m.waypoints.size===0){a("No waypoints found in the HTML. The format may have changed.");const x=new DOMParser().parseFromString(f,"text/html").querySelectorAll("table");console.log("Tables found:",x.length),x.forEach((v,j)=>{console.log(`Table ${j}:`,v.innerHTML.substring(0,200))});return}const g=Array.from(m.waypoints.values()).map((w,b)=>hu.convertToWaypoint(w,b,n));console.log("Manual import - storing HTML content directly"),e(g,f),l(!0)}catch(m){console.error("Error processing HTML:",m),a(m instanceof Error?m.message:"Failed to parse HTML")}};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-bold dark:text-gray-100",children:"Manual ForeFlight HTML Import"}),u.jsx("button",{onClick:t,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s?u.jsxs("div",{className:"text-center py-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Import Successful!"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your flight plan has been imported from ForeFlight."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Ke,{onClick:d,variant:"secondary",className:"w-full max-w-xs mx-auto",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Original NavLog"]}),u.jsx(Ke,{onClick:t,className:"w-full max-w-xs mx-auto",children:"Continue to Flight Plan"})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2 dark:text-gray-100",children:"Option 1: Upload HTML File"}),u.jsx("input",{type:"file",accept:".html,.htm",onChange:c,className:`block w-full text-sm text-gray-500 dark:text-gray-400
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-full file:border-0
                  file:text-sm file:font-semibold
                  file:bg-primary file:text-white
                  hover:file:bg-primary-hover`})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"OR"})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2 dark:text-gray-100",children:"Option 2: Paste HTML"}),u.jsx("textarea",{id:"html-paste",className:"w-full h-32 px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg font-mono text-xs",placeholder:"Paste ForeFlight HTML here..."}),u.jsx(Ke,{onClick:h,className:"mt-2",children:"Process HTML"})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"How to get ForeFlight HTML:"}),u.jsxs("ol",{className:"list-decimal list-inside text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[u.jsx("li",{children:"In your browser, go to the ForeFlight navigation log URL"}),u.jsx("li",{children:'Right-click and select "Save Page As" or press Ctrl+S (Cmd+S on Mac)'}),u.jsx("li",{children:'Save as "Web Page, Complete" or "HTML Only"'}),u.jsx("li",{children:"Upload the saved HTML file here"})]})]}),r&&u.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4",children:u.jsx("p",{className:"text-red-800 dark:text-red-300",children:r})})]})})]})})}function zb(e){if(!e){console.error("No navlog content to display");return}try{if(e.startsWith("data:")||e.startsWith("http://")||e.startsWith("https://"))window.open(e,"_blank");else{const t=window.open("","_blank");if(t)t.document.open(),t.document.write(e),t.document.close(),t.document.title="ForeFlight NavLog";else{console.error("Failed to open new window - popup may be blocked");const n=new Blob([e],{type:"text/html"}),r=URL.createObjectURL(n);window.open(r,"_blank"),setTimeout(()=>URL.revokeObjectURL(r),1e3)}}}catch(t){console.error("Error opening navlog:",t);try{const r=`data:text/html;base64,${btoa(unescape(encodeURIComponent(e)))}`;window.open(r,"_blank")}catch(n){console.error("Fallback also failed:",n),alert("Unable to open navlog. The content may be too large or contain invalid characters.")}}}function ax({onImport:e,onClose:t,legAltitude:n=1e4}){const r=Ur(L=>L.foreFlightApiKey),a=Ur(L=>L.setForeFlightApiKey),[i,o]=se.useState(r||""),[s,l]=se.useState(!1),[c,h]=se.useState([]),[d,p]=se.useState(null),[f,m]=se.useState("idle"),[g,w]=se.useState(null),[b,x]=se.useState(!1),[v,j]=se.useState(null),N=new Date;N.setDate(N.getDate()-30);const A=new Date,[k,T]=se.useState(N),[E,U]=se.useState(A),[C,P]=se.useState(!1);se.useEffect(()=>{console.log("ForeFlightImport mounted",{hasApiKey:!!r,showApiKeyInput:s,fromDate:it(k,"yyyy-MM-dd"),toDate:it(E,"yyyy-MM-dd")}),M()},[]);const I=()=>{i.trim()&&(a(i.trim()),hu.setApiKey(i.trim()),l(!1),M())},M=async()=>{console.log("Loading flights with date range:",{from:it(k,"yyyy-MM-dd"),to:it(E,"yyyy-MM-dd")}),m("loading"),w(null);try{const L=await hu.fetchAllFlights(k,E);console.log("Fetched flights:",L.length),h(L),m("success")}catch(L){console.error("ForeFlight API error:",L);let R="Failed to load flights";L instanceof Error&&(R=L.message,L.message.includes("Invalid API key")||L.message.includes("401")?(R="Invalid API key. Please check your ForeFlight API key.",l(!0)):(L.message.includes("Failed to fetch")||L.message.includes("NetworkError"))&&(R="Network error. Make sure the development server was restarted after proxy configuration.")),w(R),m("error")}},W=async()=>{var L;if(d){m("loading"),w(null);try{console.log("Starting import for flight:",d);const R=await hu.fetchNavlog(d);if(console.log("Received navLog:",R),!R||!R.url)throw new Error("No navigation log URL received from ForeFlight");console.log("Parsing navlog from URL:",R.url);const B=await hu.parseTable(R.url);if(console.log("Parsed table:",B),!B||!B.waypoints||B.waypoints.size===0)throw new Error("No waypoints found in navigation log");console.log("About to convert waypoints, ffTable.waypoints:",B.waypoints),console.log("ffTable.waypoints size:",(L=B.waypoints)==null?void 0:L.size);let z=Array.from(B.waypoints.values()).map((Y,ie)=>{console.log(`Converting waypoint ${ie}:`,Y);try{return hu.convertToWaypoint(Y,ie,n)}catch(_){throw console.error(`Error converting waypoint ${ie}:`,_),_}});if(console.log("Converted waypoints:",z),console.log("Waypoints length:",z==null?void 0:z.length),z&&z.length>0&&console.log("First waypoint detail:",z[0]),console.log("Total distance from all waypoints:",z.reduce((Y,ie)=>Y+(ie.distance||0),0)),z.length===0)throw new Error("No waypoints could be converted");console.log("Setting imported navlog URL:",R.url),j(R.url),m("idle"),e(z,R.url)}catch(R){console.error("Import flight error:",R);let B="Failed to import flight";R instanceof Error&&(B=R.message,R.message.includes("Failed to fetch")?B="Network error while fetching navigation log. Check console for details.":R.message.includes("Navigation table not found")&&(B="Could not parse ForeFlight navigation log. The format may have changed.")),w(B),m("error")}}};return s?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"ForeFlight API Key"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your ForeFlight API key to import flight plans."}),u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:"Note:"})," ForeFlight API requires a proxy server due to CORS restrictions. In development, Vite's proxy is configured. For production, you'll need to set up your own proxy server."]})}),u.jsx("input",{type:"password",value:i,onChange:L=>o(L.target.value),placeholder:"Enter API key",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg mb-4"}),g&&u.jsx("div",{className:"text-red-600 text-sm mb-4",children:g}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ke,{onClick:I,disabled:!i.trim(),children:"Save Key"}),u.jsx(Ke,{variant:"ghost",onClick:t,children:"Cancel"})]})]})}):b?u.jsx(sD,{onImport:(L,R)=>{console.log("ForeFlightImport - passing through from manual import"),console.log("Waypoints:",L.length),console.log("NavlogUrl:",R?"YES":"NO"),e(L,R)},onClose:()=>x(!1)}):(console.log("ForeFlightImport render state:",{loadingState:f,importedNavlogUrl:!!v,showDatePicker:C,flightsCount:c.length}),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 animate-fadeIn",onClick:t}),u.jsxs("div",{className:`fixed z-50 bg-white rounded-t-2xl sm:rounded-2xl shadow-xl flex flex-col animate-scaleIn overflow-hidden
                   top-0 sm:top-[5vh] left-0 sm:left-[5vw] right-0 sm:right-[5vw] 
                   h-full sm:h-[90vh] w-full sm:w-[90vw] sm:max-w-3xl sm:mx-auto`,style:{animationDelay:"0.1s"},children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Import from ForeFlight"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"mt-3 p-3 bg-yellow-100 border border-yellow-300 rounded-lg",children:[u.jsxs("div",{className:"text-sm font-semibold text-yellow-900",children:[" Date Range: ",it(k,"MMM d, yyyy")," - ",it(E,"MMM d, yyyy")]}),u.jsx("button",{onClick:()=>P(!C),className:"mt-1 text-xs text-yellow-700 dark:text-yellow-400 underline hover:text-yellow-900 dark:hover:text-yellow-200 transition-all duration-300 hover:scale-110",children:"Click here to change dates"})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[C&&!v&&u.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-400 rounded-lg shadow-lg animate-slideInRight",style:{animationDuration:"0.3s"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-bold text-blue-900 animate-fadeIn",style:{animationDelay:"0.1s"},children:"Change Date Range"}),u.jsx(Ke,{size:"sm",variant:"ghost",onClick:()=>P(!1),className:"text-blue-700 hover:text-blue-900",children:"Close"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"From Date"}),u.jsx("input",{type:"date",value:it(k,"yyyy-MM-dd"),onChange:L=>T(new Date(L.target.value)),max:it(E,"yyyy-MM-dd"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-md text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"To Date"}),u.jsx("input",{type:"date",value:it(E,"yyyy-MM-dd"),onChange:L=>U(new Date(L.target.value)),min:it(k,"yyyy-MM-dd"),max:it(new Date,"yyyy-MM-dd"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-md text-sm"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>{const L=new Date;T(L),U(L)},className:"text-xs px-2 py-1 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:"Today"}),u.jsx("button",{onClick:()=>{const L=new Date,R=new Date;R.setDate(L.getDate()-7),T(R),U(L)},className:"text-xs px-2 py-1 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:"Last 7 days"}),u.jsx("button",{onClick:()=>{const L=new Date,R=new Date;R.setDate(L.getDate()-30),T(R),U(L)},className:"text-xs px-2 py-1 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:"Last 30 days"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Ke,{size:"sm",onClick:()=>{M(),P(!1)},children:"Apply"})})]})]})]}),f==="loading"&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx("img",{src:"./images/chubby-unicorn-logo.png",alt:"Loading",className:"w-24 h-24 mx-auto mb-4 animate-unicornSpin",style:{animationDuration:"1.5s"}}),u.jsx("p",{className:"text-gray-600 animate-pulse",style:{animationDuration:"1s"},children:"Loading flights..."})]}),f==="error"&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-red-600 mb-4 whitespace-pre-line",children:g}),u.jsx(Ke,{onClick:M,children:"Try Again"})]}),f==="success"&&c.length===0&&!v&&u.jsxs("div",{className:"text-center py-8",children:[u.jsxs("div",{className:"text-gray-600 mb-4",children:["No flights found from ",it(k,"MMM d, yyyy")," to ",it(E,"MMM d, yyyy")]}),u.jsx(Ke,{size:"sm",variant:"secondary",onClick:()=>P(!0),children:"Try Different Dates"})]}),f==="success"&&c.length>0&&!v&&u.jsx("div",{className:"space-y-3",children:c.map((L,R)=>u.jsx("div",{onClick:()=>p(L.flightId),className:et("p-4 rounded-lg border cursor-pointer transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg opacity-0 animate-slideInRight",d===L.flightId?"border-primary bg-primary/5 shadow-md scale-105":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),style:{animationDelay:`${R*.15}s`,animationFillMode:"forwards"},children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:L.route}),u.jsxs("p",{className:"text-sm text-gray-600",children:[L.departure,"  ",L.destination]}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:it(L.departureTime,"MMM d, yyyy HH:mm")})]}),u.jsxs("div",{className:"text-right",children:[L.aircraftRegistration&&u.jsx("p",{className:"text-sm font-medium",children:L.aircraftRegistration}),u.jsx("p",{className:"text-sm text-gray-500",children:L.recallNumber})]})]})},L.flightId))}),v&&u.jsxs("div",{className:"text-center py-8 animate-scaleIn",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4 animate-scaleIn",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",className:"animate-checkmark"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 animate-fadeIn",style:{animationDelay:"0.3s"},children:"Import Successful!"}),u.jsx("p",{className:"text-gray-600 animate-fadeIn",style:{animationDelay:"0.4s"},children:"Your flight plan has been imported from ForeFlight."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Ke,{onClick:()=>zb(v),variant:"secondary",className:"w-full max-w-xs mx-auto",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Original NavLog"]}),u.jsx(Ke,{onClick:t,className:"w-full max-w-xs mx-auto",children:"Continue to Flight Plan"})]})]})]}),u.jsx("div",{className:"shrink-0 px-6 py-3 border-t border-gray-200",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:justify-between",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>{l(!0),o("")},children:"Change API Key"}),u.jsx(Ke,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:"Manual Import"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{variant:"ghost",size:"sm",onClick:t,children:"Cancel"}),u.jsx(Ke,{size:"sm",onClick:W,disabled:!d||f!=="success",children:"Import Selected"})]})]})})]})]}))}function lD(){console.log("FlightListView rendering");const e=qt(H=>H.plans),t=qt(H=>H.addPlan),n=qt(H=>H.deletePlan),r=qt(H=>H.setCurrentPlan),a=Ur(H=>H.setAppFlow);if(console.log("FlightListView - plans:",e),!Array.isArray(e))return console.error("FlightListView - plans is not an array:",e),u.jsx("div",{className:"p-4",children:"Error: Unable to load flight plans"});const[i,o]=se.useState("all");se.useEffect(()=>{e.filter(Z=>{var X;return((X=Z==null?void 0:Z.metadata)==null?void 0:X.state)==="ready"}).length>0&&i==="all"&&o("ready")},[e]);const[s,l]=se.useState(!1),[c,h]=se.useState(!1),[d,p]=se.useState(""),[f,m]=se.useState(""),[g,w]=se.useState(new Date(new Date().getTime()+60*60*1e3).toISOString().slice(0,16)),[b,x]=se.useState(!1),[v,j]=se.useState(null),[N,A]=se.useState(""),[k,T]=se.useState(!1),[E,U]=se.useState(null),C=(e||[]).filter(H=>!H||!H.metadata?!1:i==="all"?!0:H.metadata.state===i),P=()=>{const H=QS(d||`Flight ${e.length+1}`);H.configuration.tailNumber=f,H.configuration.startTime=new Date(g),t(H),r(H.metadata.id),l(!1),p(""),m(""),w(new Date(new Date().getTime()+60*60*1e3).toISOString().slice(0,16))},I=H=>{r(H.metadata.id)},M=(H,Z)=>{console.log("=== FLIGHT LIST VIEW - handleForeFlightImport ==="),console.log("Waypoints received:",H.length),console.log("NavlogUrl received:",Z?"YES":"NO"),Z&&console.log("NavlogUrl preview:",Z.substring(0,200)+"..."),H.length>0&&(console.log("First waypoint:",H[0]),console.log("Last waypoint:",H[H.length-1]),console.log("First waypoint name:",H[0].name),console.log("Last waypoint name:",H[H.length-1].name));const X=H.length>0&&H[0].name?`FF: ${H[0].name} - ${H[H.length-1].name}`:`ForeFlight Import ${e.length+1}`,G=QS(X);console.log("Created new plan:",G.metadata.id),Z?(console.log("Setting navlogUrl on plan metadata"),G.metadata.navlogUrl=Z,console.log("Plan metadata after setting navlogUrl:",G.metadata)):console.log("WARNING: No navlogUrl provided to store!");const ce=tx();if(ce.waypoints=H,H.length>1){let ae=0;for(let le=1;le<H.length;le++)H[le].distance&&(ae+=H[le].distance);ce.distance=ae}if(ce.segments=Ta(ce,G.configuration),G.legs=[ce],G.fuel=Kd(G),t(G),h(!1),H.length>0){let ae="",le="";if(H[0].name&&(ae=H[0].name),H[H.length-1].name&&(le=H[H.length-1].name),!ae||!le){const xe=X.match(/FF: (.+) - (.+)/);xe&&(ae=ae||xe[1],le=le||xe[2])}if(ae&&le){console.log("Offering rename dialog:",ae,"->",le),A(`${ae} - ${le}`),j(G.metadata.id),console.log("Setting states - importedPlanId:",G.metadata.id),console.log("Setting showRenameDialog to true in 100ms..."),setTimeout(()=>{console.log("TIMEOUT FIRED - Setting showRenameDialog to true"),x(!0)},100);return}}console.log("No origin/destination found, navigating directly to edit"),r(G.metadata.id)},W=(H,Z)=>{if(H.metadata.state==="ready")switch(Z){case"engineer":a({type:"confirmEng",planId:H.metadata.id});break;case"navigator":a({type:"confirmNav",planId:H.metadata.id});break;case"pilot":a({type:"confirmPilot",planId:H.metadata.id});break}},L=H=>{const Z=qt.getState().updatePlan;Z(H.metadata.id,{metadata:{...H.metadata,state:"planning"}})},R=(H,Z)=>{Z.stopPropagation(),Q7(H)},B=async H=>{const Z=await gC(H);Z?(t(Z),T(!1)):alert("Failed to import flight. Please check the file format.")},z=H=>{var X;const Z=(X=H.target.files)==null?void 0:X[0];Z&&B(Z)},Y=(H,Z)=>{Z.stopPropagation(),U(H)},ie=()=>{E&&(n(E.metadata.id),U(null))},_=()=>{if(console.log("Rename confirmed for plan:",v),v){const H=e.find(Z=>Z.metadata.id===v);if(H){const Z={...H,metadata:{...H.metadata,name:N}};qt.getState().updatePlan(v,Z)}x(!1),j(null),r(v)}},D=()=>{console.log("Rename cancelled for plan:",v),x(!1);const H=v;j(null),H&&r(H)},q=H=>{switch(H){case"planning":return"";case"ready":return"";case"complete":return"";default:return""}},te=H=>{switch(H){case"planning":return"text-warning";case"ready":return"text-success";case"complete":return"text-gray-500";default:return"text-gray-400"}};return u.jsxs("div",{className:"min-h-screen bg-background dark:bg-background-dark transition-colors duration-300",onClick:()=>T(!1),children:[u.jsxs("div",{className:"bg-nav-bar dark:bg-nav-bar-dark px-6 py-4 transition-colors duration-300",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"w-10"}),u.jsx("h1",{className:"text-2xl font-bold text-black-1 animate-fadeIn",children:"Flight Plans"}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:H=>{H.stopPropagation(),T(!k)},className:"text-primary hover:text-primary-dark transition-all duration-300 transform hover:scale-110",title:"Import Flight",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}),k&&u.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 w-48 z-10",children:u.jsx("button",{onClick:H=>{var Z;H.stopPropagation(),(Z=document.getElementById("file-import"))==null||Z.click(),T(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm transition-colors",children:"Import Flight (.json)"})}),u.jsx("input",{id:"file-import",type:"file",accept:".json",onChange:z,className:"hidden"})]})]}),u.jsx("div",{className:"mt-4 flex bg-white dark:bg-gray-800 rounded-lg p-1 transition-colors duration-300",children:["all","planning","ready","complete"].map(H=>u.jsx("button",{onClick:()=>o(H),className:et("flex-1 py-2 px-4 rounded-md font-medium capitalize transition-all duration-300 transform hover:scale-105",i===H?"bg-yellow-400 text-black shadow-lg scale-105":"text-gray-600 hover:text-black hover:shadow-md"),children:H},H))})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[s?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-panel p-4 space-y-3 animate-scaleIn transition-colors duration-300",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Flight Name"}),u.jsx("input",{type:"text",value:d,onChange:H=>p(H.target.value),placeholder:`Flight ${e.length+1}`,className:"w-full px-3 py-2 border rounded-lg",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tail Number"}),u.jsx("input",{type:"text",value:f,onChange:H=>m(H.target.value),placeholder:"e.g. N12345",className:"w-full px-3 py-2 border rounded-lg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Takeoff Time"}),u.jsx("input",{type:"datetime-local",value:g,onChange:H=>w(H.target.value),className:"w-full px-3 py-2 border rounded-lg"})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx("button",{onClick:P,className:"flex-1 bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary-dark transition-colors",children:"Create"}),u.jsx("button",{onClick:()=>{l(!1),p(""),m(""),w(new Date(new Date().getTime()+60*60*1e3).toISOString().slice(0,16))},className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>l(!0),className:"w-full bg-white dark:bg-gray-800 rounded-panel p-4 flex items-center justify-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300 transform hover:scale-105 hover:shadow-lg animate-fadeIn",children:[u.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),u.jsx("span",{className:"text-primary font-semibold",children:"Add New Flight"})]}),C.map((H,Z)=>{var X;return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-panel overflow-hidden cursor-pointer transition-all duration-300 transform hover:scale-105 hover:shadow-xl opacity-0 animate-slideInRight",onClick:()=>I(H),style:{animationDelay:`${Z*.1}s`,animationFillMode:"forwards"},children:[u.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:et("text-2xl",te(H.metadata.state)),children:q(H.metadata.state)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-black-1",children:H.metadata.name}),u.jsx("p",{className:"text-sm text-label-gray",children:it(H.metadata.updatedAt,"MMM d, yyyy  HH:mm")}),u.jsxs("div",{className:"flex gap-4 mt-1 text-xs text-gray-600",children:[u.jsxs("span",{children:["Time: ",(()=>{const G=H.legs.reduce((le,xe)=>le+(xe.legDuration||0),0),ce=Math.floor(G),ae=Math.round((G-ce)*60);return`${ce}h ${ae}m`})()]}),u.jsxs("span",{children:["Avg ISA: ",(()=>{const G=H.legs.reduce((ae,le,xe)=>{const be=le.distance||0;return ae+(le.isa||0)*be},0),ce=H.legs.reduce((ae,le)=>ae+(le.distance||0),0);return ce>0?(G/ce).toFixed(0):"0"})(),"C"]}),u.jsxs("span",{children:["Avg Wind: ",(()=>{const G=H.legs.reduce((le,xe,be)=>{const de=xe.distance||0;return le+(xe.wind||0)*de},0),ce=H.legs.reduce((le,xe)=>le+(xe.distance||0),0),ae=ce>0?G/ce:0;return ae>=0?`+${ae.toFixed(0)}`:ae.toFixed(0)})(),"kt"]})]})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm text-label-gray",children:[H.legs.reduce((G,ce)=>G+ce.distance,0).toFixed(0)," nm"]}),u.jsxs("p",{className:"text-xs text-label-gray",children:["Fuel: ",(X=H.fuel)!=null&&X.total?`${H.fuel.total.toFixed(1)} klbs`:"N/A"]}),u.jsxs("p",{className:"text-xs text-success",children:["Rem: ",H.fuel?`${(H.configuration.fuelOnBoard-H.fuel.total).toFixed(1)} klbs`:"N/A"]})]}),u.jsx("button",{onClick:G=>R(H,G),className:"text-gray-400 hover:text-primary transition-colors p-1",title:"Export Flight",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"})})}),u.jsx("button",{onClick:G=>Y(H,G),className:"text-gray-400 hover:text-red-500 transition-colors p-1",title:"Delete Flight",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),H.metadata.state==="ready"&&u.jsxs("div",{className:"border-t border-gray-100 p-2",onClick:G=>G.stopPropagation(),children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>W(H,"engineer"),className:"flex-1 py-2 text-sm font-medium text-primary hover:bg-purple-50 rounded-lg transition-all duration-300 transform hover:scale-105",children:"Engineer"}),u.jsx("button",{onClick:()=>W(H,"navigator"),className:"flex-1 py-2 text-sm font-medium text-primary hover:bg-purple-50 rounded-lg transition-colors",children:"Navigator"}),u.jsx("button",{onClick:()=>W(H,"pilot"),className:"flex-1 py-2 text-sm font-medium text-primary hover:bg-purple-50 rounded-lg transition-colors",children:"Pilot"})]}),u.jsx("button",{onClick:()=>L(H),className:"w-full mt-2 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors border border-gray-200 dark:border-gray-600",children:"Move to Planning"})]}),H.metadata.state==="complete"&&u.jsx("div",{className:"border-t border-gray-100 p-2",onClick:G=>G.stopPropagation(),children:u.jsx("button",{onClick:()=>L(H),className:"w-full py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors border border-gray-200 dark:border-gray-600",children:"Move to Planning"})})]},H.metadata.id)}),C.length===0&&u.jsxs("div",{className:"text-center py-12 text-label-gray",children:["No ",i!=="all"?i:""," flights"]})]}),c&&u.jsx(ax,{onImport:M,onClose:()=>h(!1)}),b&&u.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:[console.log("RENAME DIALOG RENDERING - showRenameDialog:",b,"suggestedName:",N),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6 animate-scaleIn",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-gray-100",children:"Name Your Flight Plan"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Would you like to rename your flight plan to use the origin-destination format?"}),u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Suggested name:"}),u.jsx("p",{className:"font-semibold text-lg dark:text-gray-100",children:N})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ke,{onClick:_,className:"flex-1",children:"Use This Name"}),u.jsx(Ke,{variant:"ghost",onClick:D,className:"flex-1",children:"Keep Original"})]})]})]}),E&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6 animate-scaleIn",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-red-600",children:"Delete Flight Plan"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:['Are you sure you want to delete "',u.jsx("strong",{children:E.metadata.name}),'"? This action cannot be undone.']}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ke,{onClick:()=>U(null),variant:"ghost",className:"flex-1",children:"Cancel"}),u.jsx(Ke,{onClick:ie,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}const gl=({isOpen:e,onClose:t,onConfirm:n,title:r,message:a,children:i,confirmText:o="OK",cancelText:s="Cancel",variant:l="info",size:c="normal"})=>{if(se.useEffect(()=>{const f=m=>{m.key==="Escape"&&e&&t()};return e&&(document.addEventListener("keydown",f),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",f),document.body.style.overflow="unset"}},[e,t]),!e)return null;const h=f=>{f.target===f.currentTarget&&t()},d=()=>{switch(l){case"warning":return"text-yellow-500";case"danger":return"text-red-500";default:return"text-blue-500"}},p=()=>{switch(l){case"warning":return"";case"danger":return"";default:return""}};return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:h,children:[u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity"}),u.jsxs("div",{className:`relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full mx-4 transform transition-all ${c==="minimal"?"max-w-xs":c==="compact"?"max-w-sm":c==="normal"?"max-w-md":c==="large"?"max-w-2xl":"max-w-4xl"}`,children:[u.jsxs("div",{className:`flex items-center gap-3 ${c==="minimal"?"p-3 pb-1":c==="compact"?"p-4 pb-2":c==="normal"||c==="large"?"p-6 pb-4":"p-8 pb-6"}`,children:[u.jsx("span",{className:`${c==="minimal"?"text-lg":c==="compact"?"text-xl":c==="normal"?"text-2xl":"text-3xl"} ${d()}`,children:p()}),u.jsx("h3",{className:`${c==="minimal"?"text-sm":c==="compact"?"text-base":c==="normal"?"text-lg":"text-xl"} font-semibold text-gray-900 dark:text-gray-100`,children:r})]}),u.jsxs("div",{className:c==="minimal"?"px-3 pb-1":c==="compact"?"px-4 pb-2":c==="normal"||c==="large"?"px-6 pb-4":"px-8 pb-6",children:[u.jsx("p",{className:`text-gray-700 dark:text-gray-300 ${c==="minimal"?"text-xs leading-snug":c==="compact"?"text-sm leading-normal":"leading-relaxed"}`,children:a}),i&&u.jsx("div",{className:c==="minimal"?"mt-1":c==="compact"?"mt-2":"mt-4",children:i})]}),u.jsxs("div",{className:`flex gap-2 border-t border-gray-200 dark:border-gray-700 ${c==="minimal"?"p-2 pt-2":c==="compact"?"p-3 pt-3":c==="normal"||c==="large"?"p-6 pt-4":"p-8 pt-6"}`,children:[u.jsx(Ke,{variant:"secondary",size:"sm",fullWidth:!0,onClick:t,className:c==="minimal"?"text-xs h-8":"",children:s}),n&&u.jsx(Ke,{variant:l==="danger"?"danger":"primary",size:"sm",fullWidth:!0,onClick:()=>{n(),t()},className:c==="minimal"?"text-xs h-8":"",children:o})]})]})]})};var uD=Array.isArray,Hr=uD,cD=typeof Hs=="object"&&Hs&&Hs.Object===Object&&Hs,xC=cD,dD=xC,fD=typeof self=="object"&&self&&self.Object===Object&&self,hD=dD||fD||Function("return this")(),Li=hD,pD=Li,mD=pD.Symbol,mh=mD,l3=mh,bC=Object.prototype,gD=bC.hasOwnProperty,yD=bC.toString,bd=l3?l3.toStringTag:void 0;function vD(e){var t=gD.call(e,bd),n=e[bd];try{e[bd]=void 0;var r=!0}catch{}var a=yD.call(e);return r&&(t?e[bd]=n:delete e[bd]),a}var xD=vD,bD=Object.prototype,wD=bD.toString;function SD(e){return wD.call(e)}var ND=SD,u3=mh,jD=xD,kD=ND,AD="[object Null]",PD="[object Undefined]",c3=u3?u3.toStringTag:void 0;function CD(e){return e==null?e===void 0?PD:AD:c3&&c3 in Object(e)?jD(e):kD(e)}var go=CD;function OD(e){return e!=null&&typeof e=="object"}var yo=OD,TD=go,FD=yo,_D="[object Symbol]";function ED(e){return typeof e=="symbol"||FD(e)&&TD(e)==_D}var wc=ED,LD=Hr,MD=wc,DD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ID=/^\w*$/;function $D(e,t){if(LD(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||MD(e)?!0:ID.test(e)||!DD.test(e)||t!=null&&e in Object(t)}var Hb=$D;function RD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gs=RD;const Sc=Rt(gs);var BD=go,WD=gs,UD="[object AsyncFunction]",zD="[object Function]",HD="[object GeneratorFunction]",qD="[object Proxy]";function GD(e){if(!WD(e))return!1;var t=BD(e);return t==zD||t==HD||t==UD||t==qD}var qb=GD;const xt=Rt(qb);var VD=Li,KD=VD["__core-js_shared__"],YD=KD,bv=YD,d3=function(){var e=/[^.]+$/.exec(bv&&bv.keys&&bv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function XD(e){return!!d3&&d3 in e}var JD=XD,QD=Function.prototype,ZD=QD.toString;function eI(e){if(e!=null){try{return ZD.call(e)}catch{}try{return e+""}catch{}}return""}var wC=eI,tI=qb,nI=JD,rI=gs,aI=wC,iI=/[\\^$.*+?()[\]{}|]/g,oI=/^\[object .+?Constructor\]$/,sI=Function.prototype,lI=Object.prototype,uI=sI.toString,cI=lI.hasOwnProperty,dI=RegExp("^"+uI.call(cI).replace(iI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fI(e){if(!rI(e)||nI(e))return!1;var t=tI(e)?dI:oI;return t.test(aI(e))}var hI=fI;function pI(e,t){return e==null?void 0:e[t]}var mI=pI,gI=hI,yI=mI;function vI(e,t){var n=yI(e,t);return gI(n)?n:void 0}var jl=vI,xI=jl,bI=xI(Object,"create"),u0=bI,f3=u0;function wI(){this.__data__=f3?f3(null):{},this.size=0}var SI=wI;function NI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jI=NI,kI=u0,AI="__lodash_hash_undefined__",PI=Object.prototype,CI=PI.hasOwnProperty;function OI(e){var t=this.__data__;if(kI){var n=t[e];return n===AI?void 0:n}return CI.call(t,e)?t[e]:void 0}var TI=OI,FI=u0,_I=Object.prototype,EI=_I.hasOwnProperty;function LI(e){var t=this.__data__;return FI?t[e]!==void 0:EI.call(t,e)}var MI=LI,DI=u0,II="__lodash_hash_undefined__";function $I(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=DI&&t===void 0?II:t,this}var RI=$I,BI=SI,WI=jI,UI=TI,zI=MI,HI=RI;function Nc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Nc.prototype.clear=BI;Nc.prototype.delete=WI;Nc.prototype.get=UI;Nc.prototype.has=zI;Nc.prototype.set=HI;var qI=Nc;function GI(){this.__data__=[],this.size=0}var VI=GI;function KI(e,t){return e===t||e!==e&&t!==t}var Gb=KI,YI=Gb;function XI(e,t){for(var n=e.length;n--;)if(YI(e[n][0],t))return n;return-1}var c0=XI,JI=c0,QI=Array.prototype,ZI=QI.splice;function e$(e){var t=this.__data__,n=JI(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ZI.call(t,n,1),--this.size,!0}var t$=e$,n$=c0;function r$(e){var t=this.__data__,n=n$(t,e);return n<0?void 0:t[n][1]}var a$=r$,i$=c0;function o$(e){return i$(this.__data__,e)>-1}var s$=o$,l$=c0;function u$(e,t){var n=this.__data__,r=l$(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var c$=u$,d$=VI,f$=t$,h$=a$,p$=s$,m$=c$;function jc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jc.prototype.clear=d$;jc.prototype.delete=f$;jc.prototype.get=h$;jc.prototype.has=p$;jc.prototype.set=m$;var d0=jc,g$=jl,y$=Li,v$=g$(y$,"Map"),Vb=v$,h3=qI,x$=d0,b$=Vb;function w$(){this.size=0,this.__data__={hash:new h3,map:new(b$||x$),string:new h3}}var S$=w$;function N$(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var j$=N$,k$=j$;function A$(e,t){var n=e.__data__;return k$(t)?n[typeof t=="string"?"string":"hash"]:n.map}var f0=A$,P$=f0;function C$(e){var t=P$(this,e).delete(e);return this.size-=t?1:0,t}var O$=C$,T$=f0;function F$(e){return T$(this,e).get(e)}var _$=F$,E$=f0;function L$(e){return E$(this,e).has(e)}var M$=L$,D$=f0;function I$(e,t){var n=D$(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var $$=I$,R$=S$,B$=O$,W$=_$,U$=M$,z$=$$;function kc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kc.prototype.clear=R$;kc.prototype.delete=B$;kc.prototype.get=W$;kc.prototype.has=U$;kc.prototype.set=z$;var Kb=kc,SC=Kb,H$="Expected a function";function Yb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(H$);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Yb.Cache||SC),n}Yb.Cache=SC;var NC=Yb;const q$=Rt(NC);var G$=NC,V$=500;function K$(e){var t=G$(e,function(r){return n.size===V$&&n.clear(),r}),n=t.cache;return t}var Y$=K$,X$=Y$,J$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q$=/\\(\\)?/g,Z$=X$(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(J$,function(n,r,a,i){t.push(a?i.replace(Q$,"$1"):r||n)}),t}),eR=Z$;function tR(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Xb=tR,p3=mh,nR=Xb,rR=Hr,aR=wc,m3=p3?p3.prototype:void 0,g3=m3?m3.toString:void 0;function jC(e){if(typeof e=="string")return e;if(rR(e))return nR(e,jC)+"";if(aR(e))return g3?g3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var iR=jC,oR=iR;function sR(e){return e==null?"":oR(e)}var kC=sR,lR=Hr,uR=Hb,cR=eR,dR=kC;function fR(e,t){return lR(e)?e:uR(e,t)?[e]:cR(dR(e))}var AC=fR,hR=wc;function pR(e){if(typeof e=="string"||hR(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var h0=pR,mR=AC,gR=h0;function yR(e,t){t=mR(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[gR(t[n++])];return n&&n==r?e:void 0}var Jb=yR,vR=Jb;function xR(e,t,n){var r=e==null?void 0:vR(e,t);return r===void 0?n:r}var PC=xR;const Aa=Rt(PC);function bR(e){return e==null}var wR=bR;const wt=Rt(wR);var SR=go,NR=Hr,jR=yo,kR="[object String]";function AR(e){return typeof e=="string"||!NR(e)&&jR(e)&&SR(e)==kR}var PR=AR;const yl=Rt(PR);var CC={exports:{}},Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb=Symbol.for("react.element"),Zb=Symbol.for("react.portal"),p0=Symbol.for("react.fragment"),m0=Symbol.for("react.strict_mode"),g0=Symbol.for("react.profiler"),y0=Symbol.for("react.provider"),v0=Symbol.for("react.context"),CR=Symbol.for("react.server_context"),x0=Symbol.for("react.forward_ref"),b0=Symbol.for("react.suspense"),w0=Symbol.for("react.suspense_list"),S0=Symbol.for("react.memo"),N0=Symbol.for("react.lazy"),OR=Symbol.for("react.offscreen"),OC;OC=Symbol.for("react.module.reference");function _a(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Qb:switch(e=e.type,e){case p0:case g0:case m0:case b0:case w0:return e;default:switch(e=e&&e.$$typeof,e){case CR:case v0:case x0:case N0:case S0:case y0:return e;default:return t}}case Zb:return t}}}Bt.ContextConsumer=v0;Bt.ContextProvider=y0;Bt.Element=Qb;Bt.ForwardRef=x0;Bt.Fragment=p0;Bt.Lazy=N0;Bt.Memo=S0;Bt.Portal=Zb;Bt.Profiler=g0;Bt.StrictMode=m0;Bt.Suspense=b0;Bt.SuspenseList=w0;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(e){return _a(e)===v0};Bt.isContextProvider=function(e){return _a(e)===y0};Bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qb};Bt.isForwardRef=function(e){return _a(e)===x0};Bt.isFragment=function(e){return _a(e)===p0};Bt.isLazy=function(e){return _a(e)===N0};Bt.isMemo=function(e){return _a(e)===S0};Bt.isPortal=function(e){return _a(e)===Zb};Bt.isProfiler=function(e){return _a(e)===g0};Bt.isStrictMode=function(e){return _a(e)===m0};Bt.isSuspense=function(e){return _a(e)===b0};Bt.isSuspenseList=function(e){return _a(e)===w0};Bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===p0||e===g0||e===m0||e===b0||e===w0||e===OR||typeof e=="object"&&e!==null&&(e.$$typeof===N0||e.$$typeof===S0||e.$$typeof===y0||e.$$typeof===v0||e.$$typeof===x0||e.$$typeof===OC||e.getModuleId!==void 0)};Bt.typeOf=_a;CC.exports=Bt;var TR=CC.exports,FR=go,_R=yo,ER="[object Number]";function LR(e){return typeof e=="number"||_R(e)&&FR(e)==ER}var TC=LR;const MR=Rt(TC);var DR=TC;function IR(e){return DR(e)&&e!=+e}var $R=IR;const gh=Rt($R);var ri=function(t){return t===0?0:t>0?1:-1},Ks=function(t){return yl(t)&&t.indexOf("%")===t.length-1},ze=function(t){return MR(t)&&!gh(t)},RR=function(t){return wt(t)},Rn=function(t){return ze(t)||yl(t)},BR=0,yh=function(t){var n=++BR;return"".concat(t||"").concat(n)},vl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(t)&&!yl(t))return r;var i;if(Ks(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return gh(i)&&(i=r),a&&i>n&&(i=n),i},Ho=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},WR=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},ti=function(t,n){return ze(t)&&ze(n)?function(r){return t+r*(n-t)}:function(){return n}};function Im(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Aa(r,t))===n})}var UR=function(t,n){return ze(t)&&ze(n)?t-n:yl(t)&&yl(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Iu(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function ix(e){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(e)}var zR=["viewBox","children"],HR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y3=["points","pathLength"],wv={svg:zR,polygon:y3,polyline:y3},ew=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$m=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(se.isValidElement(t)&&(r=t.props),!Sc(r))return null;var a={};return Object.keys(r).forEach(function(i){ew.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},qR=function(t,n,r){return function(a){return t(n,r,a),null}},Rm=function(t,n,r){if(!Sc(t)||ix(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];ew.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=qR(o,n,r))}),a},GR=["children"],VR=["children"];function v3(e,t){if(e==null)return{};var n=KR(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KR(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ox(e){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ox(e)}var x3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ro=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},b3=null,Sv=null,tw=function e(t){if(t===b3&&Array.isArray(Sv))return Sv;var n=[];return se.Children.forEach(t,function(r){wt(r)||(TR.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Sv=n,b3=t,n};function Pa(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return ro(a)}):r=[ro(t)],tw(e).forEach(function(a){var i=Aa(a,"type.displayName")||Aa(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function ta(e,t){var n=Pa(e,t);return n&&n[0]}var w3=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!ze(r)||r<=0||!ze(a)||a<=0)},YR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],XR=function(t){return t&&t.type&&yl(t.type)&&YR.indexOf(t.type)>=0},JR=function(t){return t&&ox(t)==="object"&&"clipDot"in t},QR=function(t,n,r,a){var i,o=(i=wv==null?void 0:wv[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!xt(t)&&(a&&o.includes(n)||HR.includes(n))||r&&ew.includes(n)},jt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(se.isValidElement(t)&&(a=t.props),!Sc(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;QR((s=a)===null||s===void 0?void 0:s[o],o,n,r)&&(i[o]=a[o])}),i},sx=function e(t,n){if(t===n)return!0;var r=se.Children.count(t);if(r!==se.Children.count(n))return!1;if(r===0)return!0;if(r===1)return S3(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!S3(i,o))return!1}return!0},S3=function(t,n){if(wt(t)&&wt(n))return!0;if(!wt(t)&&!wt(n)){var r=t.props||{},a=r.children,i=v3(r,GR),o=n.props||{},s=o.children,l=v3(o,VR);return a&&s?Iu(i,l)&&sx(a,s):!a&&!s?Iu(i,l):!1}return!1},N3=function(t,n){var r=[],a={};return tw(t).forEach(function(i,o){if(XR(i))r.push(i);else if(i){var s=ro(i.type),l=n[s]||{},c=l.handler,h=l.once;if(c&&(!h||!a[s])){var d=c(i,s,o);r.push(d),a[s]=!0}}}),r},ZR=function(t){var n=t&&t.type;return n&&x3[n]?x3[n]:null},e9=function(t,n){return tw(n).indexOf(t)},t9=["children","width","height","viewBox","className","style","title","desc"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lx.apply(this,arguments)}function n9(e,t){if(e==null)return{};var n=r9(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function r9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ux(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,c=n9(e,t9),h=a||{width:n,height:r,x:0,y:0},d=et("recharts-surface",i);return ge.createElement("svg",lx({},jt(c,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),ge.createElement("title",null,s),ge.createElement("desc",null,l),t)}var a9=["children","className"];function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cx.apply(this,arguments)}function i9(e,t){if(e==null)return{};var n=o9(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Nn=ge.forwardRef(function(e,t){var n=e.children,r=e.className,a=i9(e,a9),i=et("recharts-layer",r);return ge.createElement("g",cx({className:i},jt(a,!0),{ref:t}),n)}),ao=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function s9(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var l9=s9,u9=l9;function c9(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:u9(e,t,n)}var d9=c9,f9="\\ud800-\\udfff",h9="\\u0300-\\u036f",p9="\\ufe20-\\ufe2f",m9="\\u20d0-\\u20ff",g9=h9+p9+m9,y9="\\ufe0e\\ufe0f",v9="\\u200d",x9=RegExp("["+v9+f9+g9+y9+"]");function b9(e){return x9.test(e)}var FC=b9;function w9(e){return e.split("")}var S9=w9,_C="\\ud800-\\udfff",N9="\\u0300-\\u036f",j9="\\ufe20-\\ufe2f",k9="\\u20d0-\\u20ff",A9=N9+j9+k9,P9="\\ufe0e\\ufe0f",C9="["+_C+"]",dx="["+A9+"]",fx="\\ud83c[\\udffb-\\udfff]",O9="(?:"+dx+"|"+fx+")",EC="[^"+_C+"]",LC="(?:\\ud83c[\\udde6-\\uddff]){2}",MC="[\\ud800-\\udbff][\\udc00-\\udfff]",T9="\\u200d",DC=O9+"?",IC="["+P9+"]?",F9="(?:"+T9+"(?:"+[EC,LC,MC].join("|")+")"+IC+DC+")*",_9=IC+DC+F9,E9="(?:"+[EC+dx+"?",dx,LC,MC,C9].join("|")+")",L9=RegExp(fx+"(?="+fx+")|"+E9+_9,"g");function M9(e){return e.match(L9)||[]}var D9=M9,I9=S9,$9=FC,R9=D9;function B9(e){return $9(e)?R9(e):I9(e)}var W9=B9,U9=d9,z9=FC,H9=W9,q9=kC;function G9(e){return function(t){t=q9(t);var n=z9(t)?H9(t):void 0,r=n?n[0]:t.charAt(0),a=n?U9(n,1).join(""):t.slice(1);return r[e]()+a}}var V9=G9,K9=V9,Y9=K9("toUpperCase"),X9=Y9;const j0=Rt(X9);function Yt(e){return function(){return e}}const $C=Math.cos,Bm=Math.sin,li=Math.sqrt,Wm=Math.PI,k0=2*Wm,hx=Math.PI,px=2*hx,Rs=1e-6,J9=px-Rs;function RC(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Q9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RC;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Z9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RC:Q9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,h=o-t,d=s-n,p=h*h+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Rs)if(!(Math.abs(d*l-c*h)>Rs)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let f=r-o,m=a-s,g=l*l+c*c,w=f*f+m*m,b=Math.sqrt(g),x=Math.sqrt(p),v=i*Math.tan((hx-Math.acos((g+p-w)/(2*b*x)))/2),j=v/x,N=v/b;Math.abs(j-1)>Rs&&this._append`L${t+j*h},${n+j*d}`,this._append`A${i},${i},0,0,${+(d*f>h*m)},${this._x1=t+N*l},${this._y1=n+N*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,h=n+l,d=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Rs||Math.abs(this._y1-h)>Rs)&&this._append`L${c},${h}`,r&&(p<0&&(p=p%px+px),p>J9?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=h}`:p>Rs&&this._append`A${r},${r},0,${+(p>=hx)},${d},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function nw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Z9(t)}function rw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BC(e){this._context=e}BC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function A0(e){return new BC(e)}function WC(e){return e[0]}function UC(e){return e[1]}function zC(e,t){var n=Yt(!0),r=null,a=A0,i=null,o=nw(s);e=typeof e=="function"?e:e===void 0?WC:Yt(e),t=typeof t=="function"?t:t===void 0?UC:Yt(t);function s(l){var c,h=(l=rw(l)).length,d,p=!1,f;for(r==null&&(i=a(f=o())),c=0;c<=h;++c)!(c<h&&n(d=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(d,c,l),+t(d,c,l));if(f)return i=null,f+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Yt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Yt(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Yt(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function _p(e,t,n){var r=null,a=Yt(!0),i=null,o=A0,s=null,l=nw(c);e=typeof e=="function"?e:e===void 0?WC:Yt(+e),t=typeof t=="function"?t:Yt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?UC:Yt(+n);function c(d){var p,f,m,g=(d=rw(d)).length,w,b=!1,x,v=new Array(g),j=new Array(g);for(i==null&&(s=o(x=l())),p=0;p<=g;++p){if(!(p<g&&a(w=d[p],p,d))===b)if(b=!b)f=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=p-1;m>=f;--m)s.point(v[m],j[m]);s.lineEnd(),s.areaEnd()}b&&(v[p]=+e(w,p,d),j[p]=+t(w,p,d),s.point(r?+r(w,p,d):v[p],n?+n(w,p,d):j[p]))}if(x)return s=null,x+""||null}function h(){return zC().defined(a).curve(o).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Yt(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Yt(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Yt(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Yt(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Yt(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Yt(+d),c):n},c.lineX0=c.lineY0=function(){return h().x(e).y(t)},c.lineY1=function(){return h().x(e).y(n)},c.lineX1=function(){return h().x(r).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Yt(!!d),c):a},c.curve=function(d){return arguments.length?(o=d,i!=null&&(s=o(i)),c):o},c.context=function(d){return arguments.length?(d==null?i=s=null:s=o(i=d),c):i},c}class HC{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function eB(e){return new HC(e,!0)}function tB(e){return new HC(e,!1)}const aw={draw(e,t){const n=li(t/Wm);e.moveTo(n,0),e.arc(0,0,n,0,k0)}},nB={draw(e,t){const n=li(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},qC=li(1/3),rB=qC*2,aB={draw(e,t){const n=li(t/rB),r=n*qC;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},iB={draw(e,t){const n=li(t),r=-n/2;e.rect(r,r,n,n)}},oB=.8908130915292852,GC=Bm(Wm/10)/Bm(7*Wm/10),sB=Bm(k0/10)*GC,lB=-$C(k0/10)*GC,uB={draw(e,t){const n=li(t*oB),r=sB*n,a=lB*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=k0*i/5,s=$C(o),l=Bm(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},Nv=li(3),cB={draw(e,t){const n=-li(t/(Nv*3));e.moveTo(0,n*2),e.lineTo(-Nv*n,-n),e.lineTo(Nv*n,-n),e.closePath()}},va=-.5,xa=li(3)/2,mx=1/li(12),dB=(mx/2+1)*3,fB={draw(e,t){const n=li(t/dB),r=n/2,a=n*mx,i=r,o=n*mx+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(va*r-xa*a,xa*r+va*a),e.lineTo(va*i-xa*o,xa*i+va*o),e.lineTo(va*s-xa*l,xa*s+va*l),e.lineTo(va*r+xa*a,va*a-xa*r),e.lineTo(va*i+xa*o,va*o-xa*i),e.lineTo(va*s+xa*l,va*l-xa*s),e.closePath()}};function hB(e,t){let n=null,r=nw(a);e=typeof e=="function"?e:Yt(e||aw),t=typeof t=="function"?t:Yt(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Yt(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Um(){}function zm(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function VC(e){this._context=e}VC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pB(e){return new VC(e)}function KC(e){this._context=e}KC.prototype={areaStart:Um,areaEnd:Um,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mB(e){return new KC(e)}function YC(e){this._context=e}YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gB(e){return new YC(e)}function XC(e){this._context=e}XC.prototype={areaStart:Um,areaEnd:Um,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yB(e){return new XC(e)}function j3(e){return e<0?-1:1}function k3(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(j3(i)+j3(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function A3(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function jv(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Hm(e){this._context=e}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jv(this,this._t0,A3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jv(this,A3(this,n=k3(this,e,t)),n);break;default:jv(this,this._t0,n=k3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function JC(e){this._context=new QC(e)}(JC.prototype=Object.create(Hm.prototype)).point=function(e,t){Hm.prototype.point.call(this,t,e)};function QC(e){this._context=e}QC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function vB(e){return new Hm(e)}function xB(e){return new JC(e)}function ZC(e){this._context=e}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=P3(e),a=P3(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function P3(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function bB(e){return new ZC(e)}function P0(e,t){this._context=e,this._t=t}P0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function wB(e){return new P0(e,.5)}function SB(e){return new P0(e,0)}function NB(e){return new P0(e,1)}function Ku(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function gx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jB(e,t){return e[t]}function kB(e){const t=[];return t.key=e,t}function AB(){var e=Yt([]),t=gx,n=Ku,r=jB;function a(i){var o=Array.from(e.apply(this,arguments),kB),s,l=o.length,c=-1,h;for(const d of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(d,o[s].key,c,i)]).data=d;for(s=0,h=rw(t(o));s<l;++s)o[h[s]].index=s;return n(o,h),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Yt(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?gx:typeof i=="function"?i:Yt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Ku,a):n},a}function PB(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}Ku(e,t)}}function CB(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ku(e,t)}}function OB(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,c=0;s<o;++s){for(var h=e[t[s]],d=h[r][1]||0,p=h[r-1][1]||0,f=(d-p)/2,m=0;m<s;++m){var g=e[t[m]],w=g[r][1]||0,b=g[r-1][1]||0;f+=w-b}l+=d,c+=f*d}a[r-1][1]+=a[r-1][0]=n,l&&(n-=c/l)}a[r-1][1]+=a[r-1][0]=n,Ku(e,t)}}function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}var TB=["type","size","sizeType"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yx.apply(this,arguments)}function C3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function O3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(n),!0).forEach(function(r){FB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FB(e,t,n){return t=_B(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _B(e){var t=EB(e,"string");return Pf(t)=="symbol"?t:t+""}function EB(e,t){if(Pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LB(e,t){if(e==null)return{};var n=MB(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function MB(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var e6={symbolCircle:aw,symbolCross:nB,symbolDiamond:aB,symbolSquare:iB,symbolStar:uB,symbolTriangle:cB,symbolWye:fB},DB=Math.PI/180,IB=function(t){var n="symbol".concat(j0(t));return e6[n]||aw},$B=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*DB;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},RB=function(t,n){e6["symbol".concat(j0(t))]=n},iw=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=LB(t,TB),c=O3(O3({},l),{},{type:r,size:i,sizeType:s}),h=function(){var w=IB(r),b=hB().type(w).size($B(i,s,r));return b()},d=c.className,p=c.cx,f=c.cy,m=jt(c,!0);return p===+p&&f===+f&&i===+i?ge.createElement("path",yx({},m,{className:et("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(f,")"),d:h()})):null};iw.registerSymbol=RB;function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vx.apply(this,arguments)}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function BB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(r){Cf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n6(r.key),r)}}function zB(e,t,n){return t&&UB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HB(e,t,n){return t=qm(t),qB(e,t6()?Reflect.construct(t,n||[],qm(e).constructor):t.apply(e,n))}function qB(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GB(e)}function GB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t6=function(){return!!e})()}function qm(e){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qm(e)}function VB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xx(e,t)}function xx(e,t){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},xx(e,t)}function Cf(e,t,n){return t=n6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n6(e){var t=KB(e,"string");return Yu(t)=="symbol"?t:t+""}function KB(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ba=32,ow=function(e){function t(){return WB(this,t),HB(this,t,arguments)}return VB(t,e),zB(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=ba/2,o=ba/6,s=ba/3,l=r.inactive?a:r.color;if(r.type==="plainline")return ge.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:ba,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return ge.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(ba,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return ge.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ba/8,"h").concat(ba,"v").concat(ba*3/4,"h").concat(-ba,"z"),className:"recharts-legend-icon"});if(ge.isValidElement(r.legendIcon)){var c=BB({},r);return delete c.legendIcon,ge.cloneElement(r.legendIcon,c)}return ge.createElement(iw,{fill:l,cx:i,cy:i,size:ba,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,h={x:0,y:0,width:ba,height:ba},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,m){var g=f.formatter||l,w=et(Cf(Cf({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",f.inactive));if(f.type==="none")return null;var b=xt(f.value)?null:f.value;ao(!xt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=f.inactive?c:f.color;return ge.createElement("li",vx({className:w,style:d,key:"legend-item-".concat(m)},Rm(r.props,f,m)),ge.createElement(ux,{width:o,height:o,viewBox:h,style:p},r.renderIcon(f)),ge.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(b,f,m):b))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ge.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(se.PureComponent);Cf(ow,"displayName","Legend");Cf(ow,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var YB=d0;function XB(){this.__data__=new YB,this.size=0}var JB=XB;function QB(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var ZB=QB;function eW(e){return this.__data__.get(e)}var tW=eW;function nW(e){return this.__data__.has(e)}var rW=nW,aW=d0,iW=Vb,oW=Kb,sW=200;function lW(e,t){var n=this.__data__;if(n instanceof aW){var r=n.__data__;if(!iW||r.length<sW-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oW(r)}return n.set(e,t),this.size=n.size,this}var uW=lW,cW=d0,dW=JB,fW=ZB,hW=tW,pW=rW,mW=uW;function Ac(e){var t=this.__data__=new cW(e);this.size=t.size}Ac.prototype.clear=dW;Ac.prototype.delete=fW;Ac.prototype.get=hW;Ac.prototype.has=pW;Ac.prototype.set=mW;var r6=Ac,gW="__lodash_hash_undefined__";function yW(e){return this.__data__.set(e,gW),this}var vW=yW;function xW(e){return this.__data__.has(e)}var bW=xW,wW=Kb,SW=vW,NW=bW;function Gm(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new wW;++t<n;)this.add(e[t])}Gm.prototype.add=Gm.prototype.push=SW;Gm.prototype.has=NW;var a6=Gm;function jW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var i6=jW;function kW(e,t){return e.has(t)}var o6=kW,AW=a6,PW=i6,CW=o6,OW=1,TW=2;function FW(e,t,n,r,a,i){var o=n&OW,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=i.get(e),h=i.get(t);if(c&&h)return c==t&&h==e;var d=-1,p=!0,f=n&TW?new AW:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var m=e[d],g=t[d];if(r)var w=o?r(g,m,d,t,e,i):r(m,g,d,e,t,i);if(w!==void 0){if(w)continue;p=!1;break}if(f){if(!PW(t,function(b,x){if(!CW(f,x)&&(m===b||a(m,b,n,r,i)))return f.push(x)})){p=!1;break}}else if(!(m===g||a(m,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var s6=FW,_W=Li,EW=_W.Uint8Array,LW=EW;function MW(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var DW=MW;function IW(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var sw=IW,F3=mh,_3=LW,$W=Gb,RW=s6,BW=DW,WW=sw,UW=1,zW=2,HW="[object Boolean]",qW="[object Date]",GW="[object Error]",VW="[object Map]",KW="[object Number]",YW="[object RegExp]",XW="[object Set]",JW="[object String]",QW="[object Symbol]",ZW="[object ArrayBuffer]",eU="[object DataView]",E3=F3?F3.prototype:void 0,kv=E3?E3.valueOf:void 0;function tU(e,t,n,r,a,i,o){switch(n){case eU:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ZW:return!(e.byteLength!=t.byteLength||!i(new _3(e),new _3(t)));case HW:case qW:case KW:return $W(+e,+t);case GW:return e.name==t.name&&e.message==t.message;case YW:case JW:return e==t+"";case VW:var s=BW;case XW:var l=r&UW;if(s||(s=WW),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=zW,o.set(e,t);var h=RW(s(e),s(t),r,a,i,o);return o.delete(e),h;case QW:if(kv)return kv.call(e)==kv.call(t)}return!1}var nU=tU;function rU(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var l6=rU,aU=l6,iU=Hr;function oU(e,t,n){var r=t(e);return iU(e)?r:aU(r,n(e))}var sU=oU;function lU(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var uU=lU;function cU(){return[]}var dU=cU,fU=uU,hU=dU,pU=Object.prototype,mU=pU.propertyIsEnumerable,L3=Object.getOwnPropertySymbols,gU=L3?function(e){return e==null?[]:(e=Object(e),fU(L3(e),function(t){return mU.call(e,t)}))}:hU,yU=gU;function vU(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var xU=vU,bU=go,wU=yo,SU="[object Arguments]";function NU(e){return wU(e)&&bU(e)==SU}var jU=NU,M3=jU,kU=yo,u6=Object.prototype,AU=u6.hasOwnProperty,PU=u6.propertyIsEnumerable,CU=M3(function(){return arguments}())?M3:function(e){return kU(e)&&AU.call(e,"callee")&&!PU.call(e,"callee")},lw=CU,Vm={exports:{}};function OU(){return!1}var TU=OU;Vm.exports;(function(e,t){var n=Li,r=TU,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(Vm,Vm.exports);var c6=Vm.exports,FU=9007199254740991,_U=/^(?:0|[1-9]\d*)$/;function EU(e,t){var n=typeof e;return t=t??FU,!!t&&(n=="number"||n!="symbol"&&_U.test(e))&&e>-1&&e%1==0&&e<t}var uw=EU,LU=9007199254740991;function MU(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=LU}var cw=MU,DU=go,IU=cw,$U=yo,RU="[object Arguments]",BU="[object Array]",WU="[object Boolean]",UU="[object Date]",zU="[object Error]",HU="[object Function]",qU="[object Map]",GU="[object Number]",VU="[object Object]",KU="[object RegExp]",YU="[object Set]",XU="[object String]",JU="[object WeakMap]",QU="[object ArrayBuffer]",ZU="[object DataView]",ez="[object Float32Array]",tz="[object Float64Array]",nz="[object Int8Array]",rz="[object Int16Array]",az="[object Int32Array]",iz="[object Uint8Array]",oz="[object Uint8ClampedArray]",sz="[object Uint16Array]",lz="[object Uint32Array]",Qt={};Qt[ez]=Qt[tz]=Qt[nz]=Qt[rz]=Qt[az]=Qt[iz]=Qt[oz]=Qt[sz]=Qt[lz]=!0;Qt[RU]=Qt[BU]=Qt[QU]=Qt[WU]=Qt[ZU]=Qt[UU]=Qt[zU]=Qt[HU]=Qt[qU]=Qt[GU]=Qt[VU]=Qt[KU]=Qt[YU]=Qt[XU]=Qt[JU]=!1;function uz(e){return $U(e)&&IU(e.length)&&!!Qt[DU(e)]}var cz=uz;function dz(e){return function(t){return e(t)}}var d6=dz,Km={exports:{}};Km.exports;(function(e,t){var n=xC,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Km,Km.exports);var fz=Km.exports,hz=cz,pz=d6,D3=fz,I3=D3&&D3.isTypedArray,mz=I3?pz(I3):hz,f6=mz,gz=xU,yz=lw,vz=Hr,xz=c6,bz=uw,wz=f6,Sz=Object.prototype,Nz=Sz.hasOwnProperty;function jz(e,t){var n=vz(e),r=!n&&yz(e),a=!n&&!r&&xz(e),i=!n&&!r&&!a&&wz(e),o=n||r||a||i,s=o?gz(e.length,String):[],l=s.length;for(var c in e)(t||Nz.call(e,c))&&!(o&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||bz(c,l)))&&s.push(c);return s}var kz=jz,Az=Object.prototype;function Pz(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Az;return e===n}var Cz=Pz;function Oz(e,t){return function(n){return e(t(n))}}var h6=Oz,Tz=h6,Fz=Tz(Object.keys,Object),_z=Fz,Ez=Cz,Lz=_z,Mz=Object.prototype,Dz=Mz.hasOwnProperty;function Iz(e){if(!Ez(e))return Lz(e);var t=[];for(var n in Object(e))Dz.call(e,n)&&n!="constructor"&&t.push(n);return t}var $z=Iz,Rz=qb,Bz=cw;function Wz(e){return e!=null&&Bz(e.length)&&!Rz(e)}var vh=Wz,Uz=kz,zz=$z,Hz=vh;function qz(e){return Hz(e)?Uz(e):zz(e)}var C0=qz,Gz=sU,Vz=yU,Kz=C0;function Yz(e){return Gz(e,Kz,Vz)}var Xz=Yz,$3=Xz,Jz=1,Qz=Object.prototype,Zz=Qz.hasOwnProperty;function eH(e,t,n,r,a,i){var o=n&Jz,s=$3(e),l=s.length,c=$3(t),h=c.length;if(l!=h&&!o)return!1;for(var d=l;d--;){var p=s[d];if(!(o?p in t:Zz.call(t,p)))return!1}var f=i.get(e),m=i.get(t);if(f&&m)return f==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);for(var w=o;++d<l;){p=s[d];var b=e[p],x=t[p];if(r)var v=o?r(x,b,p,t,e,i):r(b,x,p,e,t,i);if(!(v===void 0?b===x||a(b,x,n,r,i):v)){g=!1;break}w||(w=p=="constructor")}if(g&&!w){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(g=!1)}return i.delete(e),i.delete(t),g}var tH=eH,nH=jl,rH=Li,aH=nH(rH,"DataView"),iH=aH,oH=jl,sH=Li,lH=oH(sH,"Promise"),uH=lH,cH=jl,dH=Li,fH=cH(dH,"Set"),p6=fH,hH=jl,pH=Li,mH=hH(pH,"WeakMap"),gH=mH,bx=iH,wx=Vb,Sx=uH,Nx=p6,jx=gH,m6=go,Pc=wC,R3="[object Map]",yH="[object Object]",B3="[object Promise]",W3="[object Set]",U3="[object WeakMap]",z3="[object DataView]",vH=Pc(bx),xH=Pc(wx),bH=Pc(Sx),wH=Pc(Nx),SH=Pc(jx),Bs=m6;(bx&&Bs(new bx(new ArrayBuffer(1)))!=z3||wx&&Bs(new wx)!=R3||Sx&&Bs(Sx.resolve())!=B3||Nx&&Bs(new Nx)!=W3||jx&&Bs(new jx)!=U3)&&(Bs=function(e){var t=m6(e),n=t==yH?e.constructor:void 0,r=n?Pc(n):"";if(r)switch(r){case vH:return z3;case xH:return R3;case bH:return B3;case wH:return W3;case SH:return U3}return t});var NH=Bs,Av=r6,jH=s6,kH=nU,AH=tH,H3=NH,q3=Hr,G3=c6,PH=f6,CH=1,V3="[object Arguments]",K3="[object Array]",Ep="[object Object]",OH=Object.prototype,Y3=OH.hasOwnProperty;function TH(e,t,n,r,a,i){var o=q3(e),s=q3(t),l=o?K3:H3(e),c=s?K3:H3(t);l=l==V3?Ep:l,c=c==V3?Ep:c;var h=l==Ep,d=c==Ep,p=l==c;if(p&&G3(e)){if(!G3(t))return!1;o=!0,h=!1}if(p&&!h)return i||(i=new Av),o||PH(e)?jH(e,t,n,r,a,i):kH(e,t,l,n,r,a,i);if(!(n&CH)){var f=h&&Y3.call(e,"__wrapped__"),m=d&&Y3.call(t,"__wrapped__");if(f||m){var g=f?e.value():e,w=m?t.value():t;return i||(i=new Av),a(g,w,n,r,i)}}return p?(i||(i=new Av),AH(e,t,n,r,a,i)):!1}var FH=TH,_H=FH,X3=yo;function g6(e,t,n,r,a){return e===t?!0:e==null||t==null||!X3(e)&&!X3(t)?e!==e&&t!==t:_H(e,t,n,r,g6,a)}var dw=g6,EH=r6,LH=dw,MH=1,DH=2;function IH(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var s=n[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=n[a];var l=s[0],c=e[l],h=s[1];if(o&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new EH;if(r)var p=r(c,h,l,e,t,d);if(!(p===void 0?LH(h,c,MH|DH,r,d):p))return!1}}return!0}var $H=IH,RH=gs;function BH(e){return e===e&&!RH(e)}var y6=BH,WH=y6,UH=C0;function zH(e){for(var t=UH(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,WH(a)]}return t}var HH=zH;function qH(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var v6=qH,GH=$H,VH=HH,KH=v6;function YH(e){var t=VH(e);return t.length==1&&t[0][2]?KH(t[0][0],t[0][1]):function(n){return n===e||GH(n,e,t)}}var XH=YH;function JH(e,t){return e!=null&&t in Object(e)}var QH=JH,ZH=AC,eq=lw,tq=Hr,nq=uw,rq=cw,aq=h0;function iq(e,t,n){t=ZH(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=aq(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&rq(a)&&nq(o,a)&&(tq(e)||eq(e)))}var oq=iq,sq=QH,lq=oq;function uq(e,t){return e!=null&&lq(e,t,sq)}var cq=uq,dq=dw,fq=PC,hq=cq,pq=Hb,mq=y6,gq=v6,yq=h0,vq=1,xq=2;function bq(e,t){return pq(e)&&mq(t)?gq(yq(e),t):function(n){var r=fq(n,e);return r===void 0&&r===t?hq(n,e):dq(t,r,vq|xq)}}var wq=bq;function Sq(e){return e}var Cc=Sq;function Nq(e){return function(t){return t==null?void 0:t[e]}}var jq=Nq,kq=Jb;function Aq(e){return function(t){return kq(t,e)}}var Pq=Aq,Cq=jq,Oq=Pq,Tq=Hb,Fq=h0;function _q(e){return Tq(e)?Cq(Fq(e)):Oq(e)}var Eq=_q,Lq=XH,Mq=wq,Dq=Cc,Iq=Hr,$q=Eq;function Rq(e){return typeof e=="function"?e:e==null?Dq:typeof e=="object"?Iq(e)?Mq(e[0],e[1]):Lq(e):$q(e)}var ys=Rq;function Bq(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var x6=Bq;function Wq(e){return e!==e}var Uq=Wq;function zq(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var Hq=zq,qq=x6,Gq=Uq,Vq=Hq;function Kq(e,t,n){return t===t?Vq(e,t,n):qq(e,Gq,n)}var Yq=Kq,Xq=Yq;function Jq(e,t){var n=e==null?0:e.length;return!!n&&Xq(e,t,0)>-1}var Qq=Jq;function Zq(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var eG=Zq;function tG(){}var nG=tG,Pv=p6,rG=nG,aG=sw,iG=1/0,oG=Pv&&1/aG(new Pv([,-0]))[1]==iG?function(e){return new Pv(e)}:rG,sG=oG,lG=a6,uG=Qq,cG=eG,dG=o6,fG=sG,hG=sw,pG=200;function mG(e,t,n){var r=-1,a=uG,i=e.length,o=!0,s=[],l=s;if(n)o=!1,a=cG;else if(i>=pG){var c=t?null:fG(e);if(c)return hG(c);o=!1,a=dG,l=new lG}else l=t?[]:s;e:for(;++r<i;){var h=e[r],d=t?t(h):h;if(h=n||h!==0?h:0,o&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),s.push(h)}else a(l,d,n)||(l!==s&&l.push(d),s.push(h))}return s}var gG=mG,yG=ys,vG=gG;function xG(e,t){return e&&e.length?vG(e,yG(t)):[]}var bG=xG;const J3=Rt(bG);function b6(e,t,n){return t===!0?J3(e,n):xt(t)?J3(e,t):e}function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}var wG=["ref"];function Q3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(n),!0).forEach(function(r){O0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S6(r.key),r)}}function NG(e,t,n){return t&&Z3(e.prototype,t),n&&Z3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jG(e,t,n){return t=Ym(t),kG(e,w6()?Reflect.construct(t,n||[],Ym(e).constructor):t.apply(e,n))}function kG(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AG(e)}function AG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w6=function(){return!!e})()}function Ym(e){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ym(e)}function PG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kx(e,t)}function kx(e,t){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},kx(e,t)}function O0(e,t,n){return t=S6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S6(e){var t=CG(e,"string");return Xu(t)=="symbol"?t:t+""}function CG(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function OG(e,t){if(e==null)return{};var n=TG(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function FG(e){return e.value}function _G(e,t){if(ge.isValidElement(e))return ge.cloneElement(e,t);if(typeof e=="function")return ge.createElement(e,t);t.ref;var n=OG(t,wG);return ge.createElement(ow,n)}var eN=1,al=function(e){function t(){var n;SG(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=jG(this,t,[].concat(a)),O0(n,"lastBoundingBox",{width:-1,height:-1}),n}return PG(t,e),NG(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>eN||Math.abs(a.height-this.lastBoundingBox.height)>eN)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,h=a.chartHeight,d,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();d={left:((c||0)-f.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();p={top:((h||0)-m.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Vi(Vi({},d),p)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,h=a.payload,d=Vi(Vi({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return ge.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){r.wrapperNode=f}},_G(i,Vi(Vi({},this.props),{},{payload:b6(h,c,FG)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Vi(Vi({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&ze(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(se.PureComponent);O0(al,"displayName","Legend");O0(al,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var tN=mh,EG=lw,LG=Hr,nN=tN?tN.isConcatSpreadable:void 0;function MG(e){return LG(e)||EG(e)||!!(nN&&e&&e[nN])}var DG=MG,IG=l6,$G=DG;function N6(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=$G),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?N6(s,t-1,n,r,a):IG(a,s):r||(a[a.length]=s)}return a}var j6=N6;function RG(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++a];if(n(i[l],l,i)===!1)break}return t}}var BG=RG,WG=BG,UG=WG(),zG=UG,HG=zG,qG=C0;function GG(e,t){return e&&HG(e,t,qG)}var k6=GG,VG=vh;function KG(e,t){return function(n,r){if(n==null)return n;if(!VG(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var YG=KG,XG=k6,JG=YG,QG=JG(XG),fw=QG,ZG=fw,eV=vh;function tV(e,t){var n=-1,r=eV(e)?Array(e.length):[];return ZG(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var A6=tV;function nV(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var rV=nV,rN=wc;function aV(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=rN(e),o=t!==void 0,s=t===null,l=t===t,c=rN(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!a)return 1;if(!r&&!i&&!c&&e<t||c&&n&&a&&!r&&!i||s&&n&&a||!o&&a||!l)return-1}return 0}var iV=aV,oV=iV;function sV(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,s=n.length;++r<o;){var l=oV(a[r],i[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}var lV=sV,Cv=Xb,uV=Jb,cV=ys,dV=A6,fV=rV,hV=d6,pV=lV,mV=Cc,gV=Hr;function yV(e,t,n){t.length?t=Cv(t,function(i){return gV(i)?function(o){return uV(o,i.length===1?i[0]:i)}:i}):t=[mV];var r=-1;t=Cv(t,hV(cV));var a=dV(e,function(i,o,s){var l=Cv(t,function(c){return c(i)});return{criteria:l,index:++r,value:i}});return fV(a,function(i,o){return pV(i,o,n)})}var vV=yV;function xV(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var bV=xV,wV=bV,aN=Math.max;function SV(e,t,n){return t=aN(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=aN(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(o),wV(e,this,s)}}var NV=SV;function jV(e){return function(){return e}}var kV=jV,AV=jl,PV=function(){try{var e=AV(Object,"defineProperty");return e({},"",{}),e}catch{}}(),P6=PV,CV=kV,iN=P6,OV=Cc,TV=iN?function(e,t){return iN(e,"toString",{configurable:!0,enumerable:!1,value:CV(t),writable:!0})}:OV,FV=TV,_V=800,EV=16,LV=Date.now;function MV(e){var t=0,n=0;return function(){var r=LV(),a=EV-(r-n);if(n=r,a>0){if(++t>=_V)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var DV=MV,IV=FV,$V=DV,RV=$V(IV),BV=RV,WV=Cc,UV=NV,zV=BV;function HV(e,t){return zV(UV(e,t,WV),e+"")}var qV=HV,GV=Gb,VV=vh,KV=uw,YV=gs;function XV(e,t,n){if(!YV(n))return!1;var r=typeof t;return(r=="number"?VV(n)&&KV(t,n.length):r=="string"&&t in n)?GV(n[t],e):!1}var T0=XV,JV=j6,QV=vV,ZV=qV,oN=T0,eK=ZV(function(e,t){if(e==null)return[];var n=t.length;return n>1&&oN(e,t[0],t[1])?t=[]:n>2&&oN(t[0],t[1],t[2])&&(t=[t[0]]),QV(e,JV(t,1),[])}),tK=eK;const hw=Rt(tK);function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ax.apply(this,arguments)}function nK(e,t){return oK(e)||iK(e,t)||aK(e,t)||rK()}function rK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aK(e,t){if(e){if(typeof e=="string")return sN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sN(e,t)}}function sN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function oK(e){if(Array.isArray(e))return e}function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ov(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(r){sK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sK(e,t,n){return t=lK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lK(e){var t=uK(e,"string");return Of(t)=="symbol"?t:t+""}function uK(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cK(e){return Array.isArray(e)&&Rn(e[0])&&Rn(e[1])?e.join(" ~ "):e}var dK=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,h=t.payload,d=t.formatter,p=t.itemSorter,f=t.wrapperClassName,m=t.labelClassName,g=t.label,w=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,v=function(){if(h&&h.length){var P={padding:0,margin:0},I=(p?hw(h,p):h).map(function(M,W){if(M.type==="none")return null;var L=Ov({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),R=M.formatter||d||cK,B=M.value,z=M.name,Y=B,ie=z;if(R&&Y!=null&&ie!=null){var _=R(B,z,M,W,h);if(Array.isArray(_)){var D=nK(_,2);Y=D[0],ie=D[1]}else Y=_}return ge.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:L},Rn(ie)?ge.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Rn(ie)?ge.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ge.createElement("span",{className:"recharts-tooltip-item-value"},Y),ge.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return ge.createElement("ul",{className:"recharts-tooltip-item-list",style:P},I)}return null},j=Ov({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=Ov({margin:0},c),A=!wt(g),k=A?g:"",T=et("recharts-default-tooltip",f),E=et("recharts-tooltip-label",m);A&&w&&h!==void 0&&h!==null&&(k=w(g,h));var U=x?{role:"status","aria-live":"assertive"}:{};return ge.createElement("div",Ax({className:T,style:j},U),ge.createElement("p",{className:E,style:N},ge.isValidElement(k)?k:"".concat(k)),v())};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function Lp(e,t,n){return t=fK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fK(e){var t=hK(e,"string");return Tf(t)=="symbol"?t:t+""}function hK(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wd="recharts-tooltip-wrapper",pK={visibility:"hidden"};function mK(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return et(wd,Lp(Lp(Lp(Lp({},"".concat(wd,"-right"),ze(n)&&t&&ze(t.x)&&n>=t.x),"".concat(wd,"-left"),ze(n)&&t&&ze(t.x)&&n<t.x),"".concat(wd,"-bottom"),ze(r)&&t&&ze(t.y)&&r>=t.y),"".concat(wd,"-top"),ze(r)&&t&&ze(t.y)&&r<t.y))}function uN(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&ze(i[r]))return i[r];var h=n[r]-s-a,d=n[r]+a;if(t[r])return o[r]?h:d;if(o[r]){var p=h,f=l[r];return p<f?Math.max(d,l[r]):Math.max(h,l[r])}var m=d+s,g=l[r]+c;return m>g?Math.max(h,l[r]):Math.max(d,l[r])}function gK(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function yK(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,h,d;return o.height>0&&o.width>0&&n?(h=uN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=uN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=gK({translateX:h,translateY:d,useTranslate3d:s})):c=pK,{cssProperties:c,cssClasses:mK({translateX:h,translateY:d,coordinate:n})}}function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){Cx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O6(r.key),r)}}function bK(e,t,n){return t&&xK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wK(e,t,n){return t=Xm(t),SK(e,C6()?Reflect.construct(t,n||[],Xm(e).constructor):t.apply(e,n))}function SK(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NK(e)}function NK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C6=function(){return!!e})()}function Xm(e){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(e)}function jK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Px(e,t)}function Px(e,t){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Px(e,t)}function Cx(e,t,n){return t=O6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O6(e){var t=kK(e,"string");return Ju(t)=="symbol"?t:t+""}function kK(e,t){if(Ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fN=1,AK=function(e){function t(){var n;vK(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=wK(this,t,[].concat(a)),Cx(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Cx(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&c!==void 0?c:0}})}}),n}return jK(t,e),bK(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>fN||Math.abs(r.height-this.state.lastBoundingBox.height)>fN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,h=a.coordinate,d=a.hasPayload,p=a.isAnimationActive,f=a.offset,m=a.position,g=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,v=yK({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:b}),j=v.cssClasses,N=v.cssProperties,A=dN(dN({transition:p&&i?"transform ".concat(s,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return ge.createElement("div",{tabIndex:-1,className:j,style:A,ref:function(T){r.wrapperNode=T}},c)}}])}(se.PureComponent),PK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Oc={isSsr:PK()};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){pw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F6(r.key),r)}}function TK(e,t,n){return t&&OK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FK(e,t,n){return t=Jm(t),_K(e,T6()?Reflect.construct(t,n||[],Jm(e).constructor):t.apply(e,n))}function _K(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EK(e)}function EK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T6=function(){return!!e})()}function Jm(e){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jm(e)}function LK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ox(e,t)}function Ox(e,t){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ox(e,t)}function pw(e,t,n){return t=F6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F6(e){var t=MK(e,"string");return Qu(t)=="symbol"?t:t+""}function MK(e,t){if(Qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function DK(e){return e.dataKey}function IK(e,t){return ge.isValidElement(e)?ge.cloneElement(e,t):typeof e=="function"?ge.createElement(e,t):ge.createElement(dK,t)}var ji=function(e){function t(){return CK(this,t),FK(this,t,arguments)}return LK(t,e),TK(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,h=a.coordinate,d=a.filterNull,p=a.isAnimationActive,f=a.offset,m=a.payload,g=a.payloadUniqBy,w=a.position,b=a.reverseDirection,x=a.useTranslate3d,v=a.viewBox,j=a.wrapperStyle,N=m??[];d&&N.length&&(N=b6(m.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),g,DK));var A=N.length>0;return ge.createElement(AK,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:i,coordinate:h,hasPayload:A,offset:f,position:w,reverseDirection:b,useTranslate3d:x,viewBox:v,wrapperStyle:j},IK(c,pN(pN({},this.props),{},{payload:N})))}}])}(se.PureComponent);pw(ji,"displayName","Tooltip");pw(ji,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Oc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $K=Li,RK=function(){return $K.Date.now()},BK=RK,WK=/\s/;function UK(e){for(var t=e.length;t--&&WK.test(e.charAt(t)););return t}var zK=UK,HK=zK,qK=/^\s+/;function GK(e){return e&&e.slice(0,HK(e)+1).replace(qK,"")}var VK=GK,KK=VK,mN=gs,YK=wc,gN=NaN,XK=/^[-+]0x[0-9a-f]+$/i,JK=/^0b[01]+$/i,QK=/^0o[0-7]+$/i,ZK=parseInt;function eY(e){if(typeof e=="number")return e;if(YK(e))return gN;if(mN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=mN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=KK(e);var n=JK.test(e);return n||QK.test(e)?ZK(e.slice(2),n?2:8):XK.test(e)?gN:+e}var _6=eY,tY=gs,Tv=BK,yN=_6,nY="Expected a function",rY=Math.max,aY=Math.min;function iY(e,t,n){var r,a,i,o,s,l,c=0,h=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(nY);t=yN(t)||0,tY(n)&&(h=!!n.leading,d="maxWait"in n,i=d?rY(yN(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function f(A){var k=r,T=a;return r=a=void 0,c=A,o=e.apply(T,k),o}function m(A){return c=A,s=setTimeout(b,t),h?f(A):o}function g(A){var k=A-l,T=A-c,E=t-k;return d?aY(E,i-T):E}function w(A){var k=A-l,T=A-c;return l===void 0||k>=t||k<0||d&&T>=i}function b(){var A=Tv();if(w(A))return x(A);s=setTimeout(b,g(A))}function x(A){return s=void 0,p&&r?f(A):(r=a=void 0,o)}function v(){s!==void 0&&clearTimeout(s),c=0,r=l=a=s=void 0}function j(){return s===void 0?o:x(Tv())}function N(){var A=Tv(),k=w(A);if(r=arguments,a=this,l=A,k){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(b,t),f(l)}return s===void 0&&(s=setTimeout(b,t)),o}return N.cancel=v,N.flush=j,N}var oY=iY,sY=oY,lY=gs,uY="Expected a function";function cY(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(uY);return lY(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),sY(e,t,{leading:r,maxWait:t,trailing:a})}var dY=cY;const E6=Rt(dY);function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(n),!0).forEach(function(r){fY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fY(e,t,n){return t=hY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hY(e){var t=pY(e,"string");return Ff(t)=="symbol"?t:t+""}function pY(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mY(e,t){return xY(e)||vY(e,t)||yY(e,t)||gY()}function gY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(e,t){if(e){if(typeof e=="string")return xN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(e,t)}}function xN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function xY(e){if(Array.isArray(e))return e}var bY=se.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,h=c===void 0?0:c,d=e.minHeight,p=e.maxHeight,f=e.children,m=e.debounce,g=m===void 0?0:m,w=e.id,b=e.className,x=e.onResize,v=e.style,j=v===void 0?{}:v,N=se.useRef(null),A=se.useRef();A.current=x,se.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var k=se.useState({containerWidth:a.width,containerHeight:a.height}),T=mY(k,2),E=T[0],U=T[1],C=se.useCallback(function(I,M){U(function(W){var L=Math.round(I),R=Math.round(M);return W.containerWidth===L&&W.containerHeight===R?W:{containerWidth:L,containerHeight:R}})},[]);se.useEffect(function(){var I=function(z){var Y,ie=z[0].contentRect,_=ie.width,D=ie.height;C(_,D),(Y=A.current)===null||Y===void 0||Y.call(A,_,D)};g>0&&(I=E6(I,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(I),W=N.current.getBoundingClientRect(),L=W.width,R=W.height;return C(L,R),M.observe(N.current),function(){M.disconnect()}},[C,g]);var P=se.useMemo(function(){var I=E.containerWidth,M=E.containerHeight;if(I<0||M<0)return null;ao(Ks(o)||Ks(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ao(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Ks(o)?I:o,L=Ks(l)?M:l;n&&n>0&&(W?L=W/n:L&&(W=L*n),p&&L>p&&(L=p)),ao(W>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,L,o,l,h,d,n);var R=!Array.isArray(f)&&ro(f.type).endsWith("Chart");return ge.Children.map(f,function(B){return ge.isValidElement(B)?se.cloneElement(B,Mp({width:W,height:L},R?{style:Mp({height:"100%",width:"100%",maxHeight:L,maxWidth:W},B.props.style)}:{})):B})},[n,f,l,p,d,h,E,o]);return ge.createElement("div",{id:w?"".concat(w):void 0,className:et("recharts-responsive-container",b),style:Mp(Mp({},j),{},{width:o,height:l,minWidth:h,minHeight:d,maxHeight:p}),ref:N},P)}),L6=function(t){return null};L6.displayName="Cell";function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){wY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wY(e,t,n){return t=SY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SY(e){var t=NY(e,"string");return _f(t)=="symbol"?t:t+""}function NY(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ou={widthCache:{},cacheCount:0},jY=2e3,kY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wN="recharts_measurement_span";function AY(e){var t=Tx({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Yd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Oc.isSsr)return{width:0,height:0};var r=AY(n),a=JSON.stringify({text:t,copyStyle:r});if(ou.widthCache[a])return ou.widthCache[a];try{var i=document.getElementById(wN);i||(i=document.createElement("span"),i.setAttribute("id",wN),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Tx(Tx({},kY),r);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return ou.widthCache[a]=l,++ou.cacheCount>jY&&(ou.cacheCount=0,ou.widthCache={}),l}catch{return{width:0,height:0}}},PY=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function Qm(e,t){return FY(e)||TY(e,t)||OY(e,t)||CY()}function CY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(e,t){if(e){if(typeof e=="string")return SN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SN(e,t)}}function SN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function FY(e){if(Array.isArray(e))return e}function _Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LY(r.key),r)}}function EY(e,t,n){return t&&NN(e.prototype,t),n&&NN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LY(e){var t=MY(e,"string");return Ef(t)=="symbol"?t:t+""}function MY(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,M6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$Y=Object.keys(M6),Cu="NaN";function RY(e,t){return e*M6[t]}var Dp=function(){function e(t,n){_Y(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!DY.test(n)&&(this.num=NaN,this.unit=""),$Y.includes(n)&&(this.num=RY(t,n),this.unit="px")}return EY(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=IY.exec(n))!==null&&r!==void 0?r:[],i=Qm(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function D6(e){if(e.includes(Cu))return Cu;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=jN.exec(t))!==null&&n!==void 0?n:[],a=Qm(r,4),i=a[1],o=a[2],s=a[3],l=Dp.parse(i??""),c=Dp.parse(s??""),h=o==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return Cu;t=t.replace(jN,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=kN.exec(t))!==null&&d!==void 0?d:[],f=Qm(p,4),m=f[1],g=f[2],w=f[3],b=Dp.parse(m??""),x=Dp.parse(w??""),v=g==="+"?b.add(x):b.subtract(x);if(v.isNaN())return Cu;t=t.replace(kN,v.toString())}return t}var AN=/\(([^()]*)\)/;function BY(e){for(var t=e;t.includes("(");){var n=AN.exec(t),r=Qm(n,2),a=r[1];t=t.replace(AN,D6(a))}return t}function WY(e){var t=e.replace(/\s+/g,"");return t=BY(t),t=D6(t),t}function UY(e){try{return WY(e)}catch{return Cu}}function Fv(e){var t=UY(e.slice(5,-1));return t===Cu?"":t}var zY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],HY=["dx","dy","angle","className","breakAll"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fx.apply(this,arguments)}function PN(e,t){if(e==null)return{};var n=qY(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CN(e,t){return YY(e)||KY(e,t)||VY(e,t)||GY()}function GY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VY(e,t){if(e){if(typeof e=="string")return ON(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ON(e,t)}}function ON(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function YY(e){if(Array.isArray(e))return e}var I6=/[ \f\n\r\t\v\u2028\u2029]+/,$6=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];wt(n)||(r?i=n.toString().split(""):i=n.toString().split(I6));var o=i.map(function(l){return{word:l,width:Yd(l,a).width}}),s=r?0:Yd("",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},XY=function(t,n,r,a,i){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,h=ze(o),d=s,p=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(L,R){var B=R.word,z=R.width,Y=L[L.length-1];if(Y&&(a==null||i||Y.width+z+r<Number(a)))Y.words.push(B),Y.width+=z+r;else{var ie={words:[B],width:z};L.push(ie)}return L},[])},f=p(n),m=function(W){return W.reduce(function(L,R){return L.width>R.width?L:R})};if(!h)return f;for(var g="",w=function(W){var L=d.slice(0,W),R=$6({breakAll:c,style:l,children:L+g}).wordsWithComputedWidth,B=p(R),z=B.length>o||m(B).width>Number(a);return[z,B]},b=0,x=d.length-1,v=0,j;b<=x&&v<=d.length-1;){var N=Math.floor((b+x)/2),A=N-1,k=w(A),T=CN(k,2),E=T[0],U=T[1],C=w(N),P=CN(C,1),I=P[0];if(!E&&!I&&(b=N+1),E&&I&&(x=N-1),!E&&I){j=U;break}v++}return j||f},TN=function(t){var n=wt(t)?[]:t.toString().split(I6);return[{words:n}]},JY=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((n||r)&&!Oc.isSsr){var l,c,h=$6({breakAll:o,children:a,style:i});if(h){var d=h.wordsWithComputedWidth,p=h.spaceWidth;l=d,c=p}else return TN(a);return XY({breakAll:o,children:a,maxLines:s,style:i},l,c,n,r)}return TN(a)},FN="#808080",Zm=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,h=t.scaleToFit,d=h===void 0?!1:h,p=t.textAnchor,f=p===void 0?"start":p,m=t.verticalAnchor,g=m===void 0?"end":m,w=t.fill,b=w===void 0?FN:w,x=PN(t,zY),v=se.useMemo(function(){return JY({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),j=x.dx,N=x.dy,A=x.angle,k=x.className,T=x.breakAll,E=PN(x,HY);if(!Rn(r)||!Rn(i))return null;var U=r+(ze(j)?j:0),C=i+(ze(N)?N:0),P;switch(g){case"start":P=Fv("calc(".concat(c,")"));break;case"middle":P=Fv("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:P=Fv("calc(".concat(v.length-1," * -").concat(s,")"));break}var I=[];if(d){var M=v[0].width,W=x.width;I.push("scale(".concat((ze(W)?W/M:1)/M,")"))}return A&&I.push("rotate(".concat(A,", ").concat(U,", ").concat(C,")")),I.length&&(E.transform=I.join(" ")),ge.createElement("text",Fx({},jt(E,!0),{x:U,y:C,className:et("recharts-text",k),textAnchor:f,fill:b.includes("url")?FN:b}),v.map(function(L,R){var B=L.words.join(T?"":" ");return ge.createElement("tspan",{x:U,dy:R===0?P:s,key:"".concat(B,"-").concat(R)},B)}))};function is(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mw(e){let t,n,r;e.length!==2?(t=is,n=(s,l)=>is(e(s),l),r=(s,l)=>e(s)-l):(t=e===is||e===QY?e:ZY,n=e,r=e);function a(s,l,c=0,h=s.length){if(c<h){if(t(l,l)!==0)return h;do{const d=c+h>>>1;n(s[d],l)<0?c=d+1:h=d}while(c<h)}return c}function i(s,l,c=0,h=s.length){if(c<h){if(t(l,l)!==0)return h;do{const d=c+h>>>1;n(s[d],l)<=0?c=d+1:h=d}while(c<h)}return c}function o(s,l,c=0,h=s.length){const d=a(s,l,c,h-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:a,center:o,right:i}}function ZY(){return 0}function R6(e){return e===null?NaN:+e}function*eX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const tX=mw(is),xh=tX.right;mw(R6).center;class _N extends Map{constructor(t,n=aX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(EN(this,t))}has(t){return super.has(EN(this,t))}set(t,n){return super.set(nX(this,t),n)}delete(t){return super.delete(rX(this,t))}}function EN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function nX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function rX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function aX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function iX(e=is){if(e===is)return B6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function B6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const oX=Math.sqrt(50),sX=Math.sqrt(10),lX=Math.sqrt(2);function eg(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=oX?10:i>=sX?5:i>=lX?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?eg(e,t,n*2):[s,l,c]}function _x(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?eg(t,e,n):eg(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Ex(e,t,n){return t=+t,e=+e,n=+n,eg(e,t,n)[2]}function Lx(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Ex(t,e,n):Ex(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function LN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function MN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function W6(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?B6:iX(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,h=Math.log(l),d=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*d*(l-d)/l)*(c-l/2<0?-1:1),f=Math.max(n,Math.floor(t-c*d/l+p)),m=Math.min(r,Math.floor(t+(l-c)*d/l+p));W6(e,t,f,m,a)}const i=e[t];let o=n,s=r;for(Sd(e,n,t),a(e[r],i)>0&&Sd(e,n,r);o<s;){for(Sd(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?Sd(e,n,s):(++s,Sd(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Sd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function uX(e,t,n){if(e=Float64Array.from(eX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return MN(e);if(t>=1)return LN(e);var r,a=(r-1)*t,i=Math.floor(a),o=LN(W6(e,i).subarray(0,i+1)),s=MN(e.subarray(i+1));return o+(s-o)*(a-i)}}function cX(e,t,n=R6){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function dX(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Ea(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function vo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Mx=Symbol("implicit");function gw(){var e=new _N,t=[],n=[],r=Mx;function a(i){let o=e.get(i);if(o===void 0){if(r!==Mx)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new _N;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return gw(t,n).unknown(r)},Ea.apply(a,arguments),a}function Lf(){var e=gw().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,c=0,h=.5;delete e.unknown;function d(){var p=t().length,f=a<r,m=f?a:r,g=f?r:a;i=(g-m)/Math.max(1,p-l+c*2),s&&(i=Math.floor(i)),m+=(g-m-i*(p-l))*h,o=i*(1-l),s&&(m=Math.round(m),o=Math.round(o));var w=dX(p).map(function(b){return m+i*b});return n(f?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,d()):c},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),d()):h},e.copy=function(){return Lf(t(),[r,a]).round(s).paddingInner(l).paddingOuter(c).align(h)},Ea.apply(d(),arguments)}function U6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return U6(t())},e}function Xd(){return U6(Lf.apply(null,arguments).paddingInner(1))}function yw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function z6(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bh(){}var Mf=.7,tg=1/Mf,$u="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fX=/^#([0-9a-f]{3,8})$/,hX=new RegExp(`^rgb\\(${$u},${$u},${$u}\\)$`),pX=new RegExp(`^rgb\\(${Ti},${Ti},${Ti}\\)$`),mX=new RegExp(`^rgba\\(${$u},${$u},${$u},${Df}\\)$`),gX=new RegExp(`^rgba\\(${Ti},${Ti},${Ti},${Df}\\)$`),yX=new RegExp(`^hsl\\(${Df},${Ti},${Ti}\\)$`),vX=new RegExp(`^hsla\\(${Df},${Ti},${Ti},${Df}\\)$`),DN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yw(bh,If,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IN,formatHex:IN,formatHex8:xX,formatHsl:bX,formatRgb:$N,toString:$N});function IN(){return this.rgb().formatHex()}function xX(){return this.rgb().formatHex8()}function bX(){return H6(this).formatHsl()}function $N(){return this.rgb().formatRgb()}function If(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?RN(t):n===3?new $r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ip(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ip(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hX.exec(e))?new $r(t[1],t[2],t[3],1):(t=pX.exec(e))?new $r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mX.exec(e))?Ip(t[1],t[2],t[3],t[4]):(t=gX.exec(e))?Ip(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yX.exec(e))?UN(t[1],t[2]/100,t[3]/100,1):(t=vX.exec(e))?UN(t[1],t[2]/100,t[3]/100,t[4]):DN.hasOwnProperty(e)?RN(DN[e]):e==="transparent"?new $r(NaN,NaN,NaN,0):null}function RN(e){return new $r(e>>16&255,e>>8&255,e&255,1)}function Ip(e,t,n,r){return r<=0&&(e=t=n=NaN),new $r(e,t,n,r)}function wX(e){return e instanceof bh||(e=If(e)),e?(e=e.rgb(),new $r(e.r,e.g,e.b,e.opacity)):new $r}function Dx(e,t,n,r){return arguments.length===1?wX(e):new $r(e,t,n,r??1)}function $r(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}yw($r,Dx,z6(bh,{brighter(e){return e=e==null?tg:Math.pow(tg,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mf:Math.pow(Mf,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $r(il(this.r),il(this.g),il(this.b),ng(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BN,formatHex:BN,formatHex8:SX,formatRgb:WN,toString:WN}));function BN(){return`#${Ys(this.r)}${Ys(this.g)}${Ys(this.b)}`}function SX(){return`#${Ys(this.r)}${Ys(this.g)}${Ys(this.b)}${Ys((isNaN(this.opacity)?1:this.opacity)*255)}`}function WN(){const e=ng(this.opacity);return`${e===1?"rgb(":"rgba("}${il(this.r)}, ${il(this.g)}, ${il(this.b)}${e===1?")":`, ${e})`}`}function ng(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function il(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ys(e){return e=il(e),(e<16?"0":"")+e.toString(16)}function UN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ni(e,t,n,r)}function H6(e){if(e instanceof ni)return new ni(e.h,e.s,e.l,e.opacity);if(e instanceof bh||(e=If(e)),!e)return new ni;if(e instanceof ni)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new ni(o,s,l,e.opacity)}function NX(e,t,n,r){return arguments.length===1?H6(e):new ni(e,t,n,r??1)}function ni(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yw(ni,NX,z6(bh,{brighter(e){return e=e==null?tg:Math.pow(tg,e),new ni(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mf:Math.pow(Mf,e),new ni(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new $r(_v(e>=240?e-240:e+120,a,r),_v(e,a,r),_v(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ni(zN(this.h),$p(this.s),$p(this.l),ng(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ng(this.opacity);return`${e===1?"hsl(":"hsla("}${zN(this.h)}, ${$p(this.s)*100}%, ${$p(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zN(e){return e=(e||0)%360,e<0?e+360:e}function $p(e){return Math.max(0,Math.min(1,e||0))}function _v(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vw=e=>()=>e;function jX(e,t){return function(n){return e+n*t}}function kX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function AX(e){return(e=+e)==1?q6:function(t,n){return n-t?kX(t,n,e):vw(isNaN(t)?n:t)}}function q6(e,t){var n=t-e;return n?jX(e,n):vw(isNaN(e)?t:e)}const HN=function e(t){var n=AX(t);function r(a,i){var o=n((a=Dx(a)).r,(i=Dx(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=q6(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=s(h),a.b=l(h),a.opacity=c(h),a+""}}return r.gamma=e,r}(1);function PX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function CX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function OX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Tc(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function TX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function rg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function FX(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Tc(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Ix=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ev=new RegExp(Ix.source,"g");function _X(e){return function(){return e}}function EX(e){return function(t){return e(t)+""}}function LX(e,t){var n=Ix.lastIndex=Ev.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Ix.exec(e))&&(a=Ev.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:rg(r,a)})),n=Ev.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?EX(l[0].x):_X(t):(t=l.length,function(c){for(var h=0,d;h<t;++h)s[(d=l[h]).i]=d.x(c);return s.join("")})}function Tc(e,t){var n=typeof t,r;return t==null||n==="boolean"?vw(t):(n==="number"?rg:n==="string"?(r=If(t))?(t=r,HN):LX:t instanceof If?HN:t instanceof Date?TX:CX(t)?PX:Array.isArray(t)?OX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FX:rg)(e,t)}function xw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function MX(e,t){t===void 0&&(t=e,e=Tc);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function DX(e){return function(){return e}}function ag(e){return+e}var qN=[0,1];function Ar(e){return e}function $x(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:DX(isNaN(t)?NaN:.5)}function IX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function $X(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=$x(a,r),i=n(o,i)):(r=$x(r,a),i=n(i,o)),function(s){return i(r(s))}}function RX(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=$x(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=xh(e,s,1,r)-1;return i[l](a[l](s))}}function wh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function F0(){var e=qN,t=qN,n=Tc,r,a,i,o=Ar,s,l,c;function h(){var p=Math.min(e.length,t.length);return o!==Ar&&(o=IX(e[0],e[p-1])),s=p>2?RX:$X,l=c=null,d}function d(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return d.invert=function(p){return o(a((c||(c=s(t,e.map(r),rg)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,ag),h()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),n=xw,h()},d.clamp=function(p){return arguments.length?(o=p?!0:Ar,h()):o!==Ar},d.interpolate=function(p){return arguments.length?(n=p,h()):n},d.unknown=function(p){return arguments.length?(i=p,d):i},function(p,f){return r=p,a=f,h()}}function bw(){return F0()(Ar,Ar)}function BX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ig(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Zu(e){return e=ig(Math.abs(e)),e?e[1]:NaN}function WX(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function UX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var zX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(e){if(!(t=zX.exec(e)))throw new Error("invalid format: "+e);var t;return new ww({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$f.prototype=ww.prototype;function ww(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ww.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HX(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var G6;function qX(e,t){var n=ig(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(G6=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ig(e,Math.max(0,t+i-1))[0]}function GN(e,t){var n=ig(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const VN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GN(e*100,t),r:GN,s:qX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KN(e){return e}var YN=Array.prototype.map,XN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GX(e){var t=e.grouping===void 0||e.thousands===void 0?KN:WX(YN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?KN:UX(YN.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=$f(d);var p=d.fill,f=d.align,m=d.sign,g=d.symbol,w=d.zero,b=d.width,x=d.comma,v=d.precision,j=d.trim,N=d.type;N==="n"?(x=!0,N="g"):VN[N]||(v===void 0&&(v=12),j=!0,N="g"),(w||p==="0"&&f==="=")&&(w=!0,p="0",f="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=g==="$"?r:/[%p]/.test(N)?o:"",T=VN[N],E=/[defgprs%]/.test(N);v=v===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function U(C){var P=A,I=k,M,W,L;if(N==="c")I=T(C)+I,C="";else{C=+C;var R=C<0||1/C<0;if(C=isNaN(C)?l:T(Math.abs(C),v),j&&(C=HX(C)),R&&+C==0&&m!=="+"&&(R=!1),P=(R?m==="("?m:s:m==="-"||m==="("?"":m)+P,I=(N==="s"?XN[8+G6/3]:"")+I+(R&&m==="("?")":""),E){for(M=-1,W=C.length;++M<W;)if(L=C.charCodeAt(M),48>L||L>57){I=(L===46?a+C.slice(M+1):C.slice(M))+I,C=C.slice(0,M);break}}}x&&!w&&(C=t(C,1/0));var B=P.length+C.length+I.length,z=B<b?new Array(b-B+1).join(p):"";switch(x&&w&&(C=t(z+C,z.length?b-I.length:1/0),z=""),f){case"<":C=P+C+I+z;break;case"=":C=P+z+C+I;break;case"^":C=z.slice(0,B=z.length>>1)+P+C+I+z.slice(B);break;default:C=z+P+C+I;break}return i(C)}return U.toString=function(){return d+""},U}function h(d,p){var f=c((d=$f(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Zu(p)/3)))*3,g=Math.pow(10,-m),w=XN[8+m/3];return function(b){return f(g*b)+w}}return{format:c,formatPrefix:h}}var Rp,Sw,V6;VX({thousands:",",grouping:[3],currency:["$",""]});function VX(e){return Rp=GX(e),Sw=Rp.format,V6=Rp.formatPrefix,Rp}function KX(e){return Math.max(0,-Zu(Math.abs(e)))}function YX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zu(t)/3)))*3-Zu(Math.abs(e)))}function XX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zu(t)-Zu(e))+1}function K6(e,t,n,r){var a=Lx(e,t,n),i;switch(r=$f(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=YX(a,o))&&(r.precision=i),V6(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=XX(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=KX(a))&&(r.precision=i-(r.type==="%")*2);break}}return Sw(r)}function vs(e){var t=e.domain;return e.ticks=function(n){var r=t();return _x(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return K6(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,h=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);h-- >0;){if(c=Ex(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function og(){var e=bw();return e.copy=function(){return wh(e,og())},Ea.apply(e,arguments),vs(e)}function Y6(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ag),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Y6(e).unknown(t)},e=arguments.length?Array.from(e,ag):[0,1],vs(n)}function X6(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function JN(e){return Math.log(e)}function QN(e){return Math.exp(e)}function JX(e){return-Math.log(-e)}function QX(e){return-Math.exp(-e)}function ZX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eJ(e){return e===10?ZX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ZN(e){return(t,n)=>-e(-t,n)}function Nw(e){const t=e(JN,QN),n=t.domain;let r=10,a,i;function o(){return a=tJ(r),i=eJ(r),n()[0]<0?(a=ZN(a),i=ZN(i),e(JX,QX)):e(JN,QN),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],h=l[l.length-1];const d=h<c;d&&([c,h]=[h,c]);let p=a(c),f=a(h),m,g;const w=s==null?10:+s;let b=[];if(!(r%1)&&f-p<w){if(p=Math.floor(p),f=Math.ceil(f),c>0){for(;p<=f;++p)for(m=1;m<r;++m)if(g=p<0?m/i(-p):m*i(p),!(g<c)){if(g>h)break;b.push(g)}}else for(;p<=f;++p)for(m=r-1;m>=1;--m)if(g=p>0?m/i(-p):m*i(p),!(g<c)){if(g>h)break;b.push(g)}b.length*2<w&&(b=_x(c,h,w))}else b=_x(p,f,Math.min(f-p,w)).map(i);return d?b.reverse():b},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=$f(l)).precision==null&&(l.trim=!0),l=Sw(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return h=>{let d=h/i(Math.round(a(h)));return d*r<r-.5&&(d*=r),d<=c?l(h):""}},t.nice=()=>n(X6(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function J6(){const e=Nw(F0()).domain([1,10]);return e.copy=()=>wh(e,J6()).base(e.base()),Ea.apply(e,arguments),e}function e4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function t4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jw(e){var t=1,n=e(e4(t),t4(t));return n.constant=function(r){return arguments.length?e(e4(t=+r),t4(t)):t},vs(n)}function Q6(){var e=jw(F0());return e.copy=function(){return wh(e,Q6()).constant(e.constant())},Ea.apply(e,arguments)}function n4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rJ(e){return e<0?-e*e:e*e}function kw(e){var t=e(Ar,Ar),n=1;function r(){return n===1?e(Ar,Ar):n===.5?e(nJ,rJ):e(n4(n),n4(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},vs(t)}function Aw(){var e=kw(F0());return e.copy=function(){return wh(e,Aw()).exponent(e.exponent())},Ea.apply(e,arguments),e}function aJ(){return Aw.apply(null,arguments).exponent(.5)}function r4(e){return Math.sign(e)*e*e}function iJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Z6(){var e=bw(),t=[0,1],n=!1,r;function a(i){var o=iJ(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(r4(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ag)).map(r4)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Z6(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ea.apply(a,arguments),vs(a)}function eO(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=cX(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[xh(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(is),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return eO().domain(e).range(t).unknown(r)},Ea.apply(i,arguments)}function tO(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[xh(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return tO().domain([e,t]).range(a).unknown(i)},Ea.apply(vs(o),arguments)}function nO(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[xh(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return nO().domain(e).range(t).unknown(n)},Ea.apply(a,arguments)}const Lv=new Date,Mv=new Date;function Wn(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>Wn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Lv.setTime(+i),Mv.setTime(+o),e(Lv),e(Mv),Math.floor(n(Lv,Mv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const sg=Wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sg);sg.range;const Zi=1e3,ja=Zi*60,eo=ja*60,co=eo*24,Pw=co*7,a4=co*30,Dv=co*365,Xs=Wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zi)},(e,t)=>(t-e)/Zi,e=>e.getUTCSeconds());Xs.range;const Cw=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zi)},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getMinutes());Cw.range;const Ow=Wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getUTCMinutes());Ow.range;const Tw=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zi-e.getMinutes()*ja)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getHours());Tw.range;const Fw=Wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getUTCHours());Fw.range;const Sh=Wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ja)/co,e=>e.getDate()-1);Sh.range;const _0=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/co,e=>e.getUTCDate()-1);_0.range;const rO=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/co,e=>Math.floor(e/co));rO.range;function kl(e){return Wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ja)/Pw)}const E0=kl(0),lg=kl(1),oJ=kl(2),sJ=kl(3),ec=kl(4),lJ=kl(5),uJ=kl(6);E0.range;lg.range;oJ.range;sJ.range;ec.range;lJ.range;uJ.range;function Al(e){return Wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Pw)}const L0=Al(0),ug=Al(1),cJ=Al(2),dJ=Al(3),tc=Al(4),fJ=Al(5),hJ=Al(6);L0.range;ug.range;cJ.range;dJ.range;tc.range;fJ.range;hJ.range;const _w=Wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_w.range;const Ew=Wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ew.range;const fo=Wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});fo.range;const ho=Wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ho.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ho.range;function aO(e,t,n,r,a,i){const o=[[Xs,1,Zi],[Xs,5,5*Zi],[Xs,15,15*Zi],[Xs,30,30*Zi],[i,1,ja],[i,5,5*ja],[i,15,15*ja],[i,30,30*ja],[a,1,eo],[a,3,3*eo],[a,6,6*eo],[a,12,12*eo],[r,1,co],[r,2,2*co],[n,1,Pw],[t,1,a4],[t,3,3*a4],[e,1,Dv]];function s(c,h,d){const p=h<c;p&&([c,h]=[h,c]);const f=d&&typeof d.range=="function"?d:l(c,h,d),m=f?f.range(c,+h+1):[];return p?m.reverse():m}function l(c,h,d){const p=Math.abs(h-c)/d,f=mw(([,,w])=>w).right(o,p);if(f===o.length)return e.every(Lx(c/Dv,h/Dv,d));if(f===0)return sg.every(Math.max(Lx(c,h,d),1));const[m,g]=o[p/o[f-1][2]<o[f][2]/p?f-1:f];return m.every(g)}return[s,l]}const[pJ,mJ]=aO(ho,Ew,L0,rO,Fw,Ow),[gJ,yJ]=aO(fo,_w,E0,Sh,Tw,Cw);function Iv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $v(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function vJ(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=jd(a),h=kd(a),d=jd(i),p=kd(i),f=jd(o),m=kd(o),g=jd(s),w=kd(s),b=jd(l),x=kd(l),v={a:R,A:B,b:z,B:Y,c:null,d:c4,e:c4,f:WJ,g:JJ,G:ZJ,H:$J,I:RJ,j:BJ,L:iO,m:UJ,M:zJ,p:ie,q:_,Q:h4,s:p4,S:HJ,u:qJ,U:GJ,V:VJ,w:KJ,W:YJ,x:null,X:null,y:XJ,Y:QJ,Z:eQ,"%":f4},j={a:D,A:q,b:te,B:H,c:null,d:d4,e:d4,f:aQ,g:pQ,G:gQ,H:tQ,I:nQ,j:rQ,L:sO,m:iQ,M:oQ,p:Z,q:X,Q:h4,s:p4,S:sQ,u:lQ,U:uQ,V:cQ,w:dQ,W:fQ,x:null,X:null,y:hQ,Y:mQ,Z:yQ,"%":f4},N={a:U,A:C,b:P,B:I,c:M,d:l4,e:l4,f:LJ,g:s4,G:o4,H:u4,I:u4,j:TJ,L:EJ,m:OJ,M:FJ,p:E,q:CJ,Q:DJ,s:IJ,S:_J,u:NJ,U:jJ,V:kJ,w:SJ,W:AJ,x:W,X:L,y:s4,Y:o4,Z:PJ,"%":MJ};v.x=A(n,v),v.X=A(r,v),v.c=A(t,v),j.x=A(n,j),j.X=A(r,j),j.c=A(t,j);function A(G,ce){return function(ae){var le=[],xe=-1,be=0,de=G.length,re,Pe,Te;for(ae instanceof Date||(ae=new Date(+ae));++xe<de;)G.charCodeAt(xe)===37&&(le.push(G.slice(be,xe)),(Pe=i4[re=G.charAt(++xe)])!=null?re=G.charAt(++xe):Pe=re==="e"?" ":"0",(Te=ce[re])&&(re=Te(ae,Pe)),le.push(re),be=xe+1);return le.push(G.slice(be,xe)),le.join("")}}function k(G,ce){return function(ae){var le=Nd(1900,void 0,1),xe=T(le,G,ae+="",0),be,de;if(xe!=ae.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ce&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(be=$v(Nd(le.y,0,1)),de=be.getUTCDay(),be=de>4||de===0?ug.ceil(be):ug(be),be=_0.offset(be,(le.V-1)*7),le.y=be.getUTCFullYear(),le.m=be.getUTCMonth(),le.d=be.getUTCDate()+(le.w+6)%7):(be=Iv(Nd(le.y,0,1)),de=be.getDay(),be=de>4||de===0?lg.ceil(be):lg(be),be=Sh.offset(be,(le.V-1)*7),le.y=be.getFullYear(),le.m=be.getMonth(),le.d=be.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),de="Z"in le?$v(Nd(le.y,0,1)).getUTCDay():Iv(Nd(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(de+5)%7:le.w+le.U*7-(de+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,$v(le)):Iv(le)}}function T(G,ce,ae,le){for(var xe=0,be=ce.length,de=ae.length,re,Pe;xe<be;){if(le>=de)return-1;if(re=ce.charCodeAt(xe++),re===37){if(re=ce.charAt(xe++),Pe=N[re in i4?ce.charAt(xe++):re],!Pe||(le=Pe(G,ae,le))<0)return-1}else if(re!=ae.charCodeAt(le++))return-1}return le}function E(G,ce,ae){var le=c.exec(ce.slice(ae));return le?(G.p=h.get(le[0].toLowerCase()),ae+le[0].length):-1}function U(G,ce,ae){var le=f.exec(ce.slice(ae));return le?(G.w=m.get(le[0].toLowerCase()),ae+le[0].length):-1}function C(G,ce,ae){var le=d.exec(ce.slice(ae));return le?(G.w=p.get(le[0].toLowerCase()),ae+le[0].length):-1}function P(G,ce,ae){var le=b.exec(ce.slice(ae));return le?(G.m=x.get(le[0].toLowerCase()),ae+le[0].length):-1}function I(G,ce,ae){var le=g.exec(ce.slice(ae));return le?(G.m=w.get(le[0].toLowerCase()),ae+le[0].length):-1}function M(G,ce,ae){return T(G,t,ce,ae)}function W(G,ce,ae){return T(G,n,ce,ae)}function L(G,ce,ae){return T(G,r,ce,ae)}function R(G){return o[G.getDay()]}function B(G){return i[G.getDay()]}function z(G){return l[G.getMonth()]}function Y(G){return s[G.getMonth()]}function ie(G){return a[+(G.getHours()>=12)]}function _(G){return 1+~~(G.getMonth()/3)}function D(G){return o[G.getUTCDay()]}function q(G){return i[G.getUTCDay()]}function te(G){return l[G.getUTCMonth()]}function H(G){return s[G.getUTCMonth()]}function Z(G){return a[+(G.getUTCHours()>=12)]}function X(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ce=A(G+="",v);return ce.toString=function(){return G},ce},parse:function(G){var ce=k(G+="",!1);return ce.toString=function(){return G},ce},utcFormat:function(G){var ce=A(G+="",j);return ce.toString=function(){return G},ce},utcParse:function(G){var ce=k(G+="",!0);return ce.toString=function(){return G},ce}}}var i4={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,xJ=/^%/,bJ=/[\\^$*+?|[\]().{}]/g;function Tt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function wJ(e){return e.replace(bJ,"\\$&")}function jd(e){return new RegExp("^(?:"+e.map(wJ).join("|")+")","i")}function kd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function SJ(e,t,n){var r=Kn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function NJ(e,t,n){var r=Kn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function jJ(e,t,n){var r=Kn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function kJ(e,t,n){var r=Kn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function AJ(e,t,n){var r=Kn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function o4(e,t,n){var r=Kn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function s4(e,t,n){var r=Kn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function PJ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function CJ(e,t,n){var r=Kn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function OJ(e,t,n){var r=Kn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function l4(e,t,n){var r=Kn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function TJ(e,t,n){var r=Kn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function u4(e,t,n){var r=Kn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function FJ(e,t,n){var r=Kn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _J(e,t,n){var r=Kn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function EJ(e,t,n){var r=Kn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function LJ(e,t,n){var r=Kn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function MJ(e,t,n){var r=xJ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function DJ(e,t,n){var r=Kn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function IJ(e,t,n){var r=Kn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function c4(e,t){return Tt(e.getDate(),t,2)}function $J(e,t){return Tt(e.getHours(),t,2)}function RJ(e,t){return Tt(e.getHours()%12||12,t,2)}function BJ(e,t){return Tt(1+Sh.count(fo(e),e),t,3)}function iO(e,t){return Tt(e.getMilliseconds(),t,3)}function WJ(e,t){return iO(e,t)+"000"}function UJ(e,t){return Tt(e.getMonth()+1,t,2)}function zJ(e,t){return Tt(e.getMinutes(),t,2)}function HJ(e,t){return Tt(e.getSeconds(),t,2)}function qJ(e){var t=e.getDay();return t===0?7:t}function GJ(e,t){return Tt(E0.count(fo(e)-1,e),t,2)}function oO(e){var t=e.getDay();return t>=4||t===0?ec(e):ec.ceil(e)}function VJ(e,t){return e=oO(e),Tt(ec.count(fo(e),e)+(fo(e).getDay()===4),t,2)}function KJ(e){return e.getDay()}function YJ(e,t){return Tt(lg.count(fo(e)-1,e),t,2)}function XJ(e,t){return Tt(e.getFullYear()%100,t,2)}function JJ(e,t){return e=oO(e),Tt(e.getFullYear()%100,t,2)}function QJ(e,t){return Tt(e.getFullYear()%1e4,t,4)}function ZJ(e,t){var n=e.getDay();return e=n>=4||n===0?ec(e):ec.ceil(e),Tt(e.getFullYear()%1e4,t,4)}function eQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function d4(e,t){return Tt(e.getUTCDate(),t,2)}function tQ(e,t){return Tt(e.getUTCHours(),t,2)}function nQ(e,t){return Tt(e.getUTCHours()%12||12,t,2)}function rQ(e,t){return Tt(1+_0.count(ho(e),e),t,3)}function sO(e,t){return Tt(e.getUTCMilliseconds(),t,3)}function aQ(e,t){return sO(e,t)+"000"}function iQ(e,t){return Tt(e.getUTCMonth()+1,t,2)}function oQ(e,t){return Tt(e.getUTCMinutes(),t,2)}function sQ(e,t){return Tt(e.getUTCSeconds(),t,2)}function lQ(e){var t=e.getUTCDay();return t===0?7:t}function uQ(e,t){return Tt(L0.count(ho(e)-1,e),t,2)}function lO(e){var t=e.getUTCDay();return t>=4||t===0?tc(e):tc.ceil(e)}function cQ(e,t){return e=lO(e),Tt(tc.count(ho(e),e)+(ho(e).getUTCDay()===4),t,2)}function dQ(e){return e.getUTCDay()}function fQ(e,t){return Tt(ug.count(ho(e)-1,e),t,2)}function hQ(e,t){return Tt(e.getUTCFullYear()%100,t,2)}function pQ(e,t){return e=lO(e),Tt(e.getUTCFullYear()%100,t,2)}function mQ(e,t){return Tt(e.getUTCFullYear()%1e4,t,4)}function gQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?tc(e):tc.ceil(e),Tt(e.getUTCFullYear()%1e4,t,4)}function yQ(){return"+0000"}function f4(){return"%"}function h4(e){return+e}function p4(e){return Math.floor(+e/1e3)}var su,uO,cO;vQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vQ(e){return su=vJ(e),uO=su.format,su.parse,cO=su.utcFormat,su.utcParse,su}function xQ(e){return new Date(e)}function bQ(e){return e instanceof Date?+e:+new Date(+e)}function Lw(e,t,n,r,a,i,o,s,l,c){var h=bw(),d=h.invert,p=h.domain,f=c(".%L"),m=c(":%S"),g=c("%I:%M"),w=c("%I %p"),b=c("%a %d"),x=c("%b %d"),v=c("%B"),j=c("%Y");function N(A){return(l(A)<A?f:s(A)<A?m:o(A)<A?g:i(A)<A?w:r(A)<A?a(A)<A?b:x:n(A)<A?v:j)(A)}return h.invert=function(A){return new Date(d(A))},h.domain=function(A){return arguments.length?p(Array.from(A,bQ)):p().map(xQ)},h.ticks=function(A){var k=p();return e(k[0],k[k.length-1],A??10)},h.tickFormat=function(A,k){return k==null?N:c(k)},h.nice=function(A){var k=p();return(!A||typeof A.range!="function")&&(A=t(k[0],k[k.length-1],A??10)),A?p(X6(k,A)):h},h.copy=function(){return wh(h,Lw(e,t,n,r,a,i,o,s,l,c))},h}function wQ(){return Ea.apply(Lw(gJ,yJ,fo,_w,E0,Sh,Tw,Cw,Xs,uO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function SQ(){return Ea.apply(Lw(pJ,mJ,ho,Ew,L0,_0,Fw,Ow,Xs,cO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function M0(){var e=0,t=1,n,r,a,i,o=Ar,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(a===0?.5:(d=(i(d)-n)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function h(d){return function(p){var f,m;return arguments.length?([f,m]=p,o=d(f,m),c):[o(0),o(1)]}}return c.range=h(Tc),c.rangeRound=h(xw),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return i=d,n=d(e),r=d(t),a=n===r?0:1/(r-n),c}}function xs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dO(){var e=vs(M0()(Ar));return e.copy=function(){return xs(e,dO())},vo.apply(e,arguments)}function fO(){var e=Nw(M0()).domain([1,10]);return e.copy=function(){return xs(e,fO()).base(e.base())},vo.apply(e,arguments)}function hO(){var e=jw(M0());return e.copy=function(){return xs(e,hO()).constant(e.constant())},vo.apply(e,arguments)}function Mw(){var e=kw(M0());return e.copy=function(){return xs(e,Mw()).exponent(e.exponent())},vo.apply(e,arguments)}function NQ(){return Mw.apply(null,arguments).exponent(.5)}function pO(){var e=[],t=Ar;function n(r){if(r!=null&&!isNaN(r=+r))return t((xh(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(is),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>uX(e,i/r))},n.copy=function(){return pO(t).domain(e)},vo.apply(n,arguments)}function D0(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,c=Ar,h,d=!1,p;function f(g){return isNaN(g=+g)?p:(g=.5+((g=+h(g))-i)*(r*g<r*i?s:l),c(d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t,n]=g,a=h(e=+e),i=h(t=+t),o=h(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,f):[e,t,n]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(c=g,f):c};function m(g){return function(w){var b,x,v;return arguments.length?([b,x,v]=w,c=MX(g,[b,x,v]),f):[c(0),c(.5),c(1)]}}return f.range=m(Tc),f.rangeRound=m(xw),f.unknown=function(g){return arguments.length?(p=g,f):p},function(g){return h=g,a=g(e),i=g(t),o=g(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,f}}function mO(){var e=vs(D0()(Ar));return e.copy=function(){return xs(e,mO())},vo.apply(e,arguments)}function gO(){var e=Nw(D0()).domain([.1,1,10]);return e.copy=function(){return xs(e,gO()).base(e.base())},vo.apply(e,arguments)}function yO(){var e=jw(D0());return e.copy=function(){return xs(e,yO()).constant(e.constant())},vo.apply(e,arguments)}function Dw(){var e=kw(D0());return e.copy=function(){return xs(e,Dw()).exponent(e.exponent())},vo.apply(e,arguments)}function jQ(){return Dw.apply(null,arguments).exponent(.5)}const m4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lf,scaleDiverging:mO,scaleDivergingLog:gO,scaleDivergingPow:Dw,scaleDivergingSqrt:jQ,scaleDivergingSymlog:yO,scaleIdentity:Y6,scaleImplicit:Mx,scaleLinear:og,scaleLog:J6,scaleOrdinal:gw,scalePoint:Xd,scalePow:Aw,scaleQuantile:eO,scaleQuantize:tO,scaleRadial:Z6,scaleSequential:dO,scaleSequentialLog:fO,scaleSequentialPow:Mw,scaleSequentialQuantile:pO,scaleSequentialSqrt:NQ,scaleSequentialSymlog:hO,scaleSqrt:aJ,scaleSymlog:Q6,scaleThreshold:nO,scaleTime:wQ,scaleUtc:SQ,tickFormat:K6},Symbol.toStringTag,{value:"Module"}));var kQ=wc;function AQ(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(s===void 0?o===o&&!kQ(o):n(o,s)))var s=o,l=i}return l}var vO=AQ;function PQ(e,t){return e>t}var CQ=PQ,OQ=vO,TQ=CQ,FQ=Cc;function _Q(e){return e&&e.length?OQ(e,FQ,TQ):void 0}var EQ=_Q;const I0=Rt(EQ);function LQ(e,t){return e<t}var MQ=LQ,DQ=vO,IQ=MQ,$Q=Cc;function RQ(e){return e&&e.length?DQ(e,$Q,IQ):void 0}var BQ=RQ;const $0=Rt(BQ);var WQ=Xb,UQ=ys,zQ=A6,HQ=Hr;function qQ(e,t){var n=HQ(e)?WQ:zQ;return n(e,UQ(t))}var GQ=qQ,VQ=j6,KQ=GQ;function YQ(e,t){return VQ(KQ(e,t),1)}var XQ=YQ;const JQ=Rt(XQ);var QQ=dw;function ZQ(e,t){return QQ(e,t)}var eZ=ZQ;const R0=Rt(eZ);var Fc=1e9,tZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$w,rn=!0,Fa="[DecimalError] ",ol=Fa+"Invalid argument: ",Iw=Fa+"Exponent out of range: ",_c=Math.floor,Ws=Math.pow,nZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,na,qn=1e7,Zt=7,xO=9007199254740991,cg=_c(xO/Zt),Qe={};Qe.absoluteValue=Qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Qe.comparedTo=Qe.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Zt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Qe.dividedBy=Qe.div=function(e){return io(this,new this.constructor(e))};Qe.dividedToIntegerBy=Qe.idiv=function(e){var t=this,n=t.constructor;return Gt(io(t,new n(e),0,1),n.precision)};Qe.equals=Qe.eq=function(e){return!this.cmp(e)};Qe.exponent=function(){return Fn(this)};Qe.greaterThan=Qe.gt=function(e){return this.cmp(e)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(e){return this.cmp(e)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(e){return this.cmp(e)<0};Qe.lessThanOrEqualTo=Qe.lte=function(e){return this.cmp(e)<1};Qe.logarithm=Qe.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(na))throw Error(Fa+"NaN");if(n.s<1)throw Error(Fa+(n.s?"NaN":"-Infinity"));return n.eq(na)?new r(0):(rn=!1,t=io(Rf(n,i),Rf(e,i),i),rn=!0,Gt(t,a))};Qe.minus=Qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SO(t,e):bO(t,(e.s=-e.s,e))};Qe.modulo=Qe.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Fa+"NaN");return n.s?(rn=!1,t=io(n,e,0,1).times(e),rn=!0,n.minus(t)):Gt(new r(n),a)};Qe.naturalExponential=Qe.exp=function(){return wO(this)};Qe.naturalLogarithm=Qe.ln=function(){return Rf(this)};Qe.negated=Qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Qe.plus=Qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bO(t,e):SO(t,(e.s=-e.s,e))};Qe.precision=Qe.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ol+e);if(t=Fn(a)+1,r=a.d.length-1,n=r*Zt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Qe.squareRoot=Qe.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Fa+"NaN")}for(e=Fn(s),rn=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Ai(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_c((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(io(s,i,o+2)).times(.5),Ai(i.d).slice(0,o)===(t=Ai(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Gt(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return rn=!0,Gt(r,n)};Qe.times=Qe.mul=function(e){var t,n,r,a,i,o,s,l,c,h=this,d=h.constructor,p=h.d,f=(e=new d(e)).d;if(!h.s||!e.s)return new d(0);for(e.s*=h.s,n=h.e+e.e,l=p.length,c=f.length,l<c&&(i=p,p=f,f=i,o=l,l=c,c=o),i=[],o=l+c,r=o;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+f[r]*p[a-r-1]+t,i[a--]=s%qn|0,t=s/qn|0;i[a]=(i[a]+t)%qn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,rn?Gt(e,d.precision):e};Qe.toDecimalPlaces=Qe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ei(e,0,Fc),t===void 0?t=r.rounding:Ei(t,0,8),Gt(n,e+Fn(n)+1,t))};Qe.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=xl(r,!0):(Ei(e,0,Fc),t===void 0?t=a.rounding:Ei(t,0,8),r=Gt(new a(r),e+1,t),n=xl(r,!0,e+1)),n};Qe.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?xl(a):(Ei(e,0,Fc),t===void 0?t=i.rounding:Ei(t,0,8),r=Gt(new i(a),e+Fn(a)+1,t),n=xl(r.abs(),!1,e+Fn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Qe.toInteger=Qe.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),Fn(e)+1,t.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,c=12,h=+(e=new l(e));if(!e.s)return new l(na);if(s=new l(s),!s.s){if(e.s<1)throw Error(Fa+"Infinity");return s}if(s.eq(na))return s;if(r=l.precision,e.eq(na))return Gt(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=h<0?-h:h)<=xO){for(a=new l(na),t=Math.ceil(r/Zt+4),rn=!1;n%2&&(a=a.times(s),y4(a.d,t)),n=_c(n/2),n!==0;)s=s.times(s),y4(s.d,t);return rn=!0,e.s<0?new l(na).div(a):Gt(a,r)}}else if(i<0)throw Error(Fa+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,rn=!1,a=e.times(Rf(s,r+c)),rn=!0,a=wO(a),a.s=i,a};Qe.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Fn(a),r=xl(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ei(e,1,Fc),t===void 0?t=i.rounding:Ei(t,0,8),a=Gt(new i(a),e,t),n=Fn(a),r=xl(a,e<=n||n<=i.toExpNeg,e)),r};Qe.toSignificantDigits=Qe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ei(e,1,Fc),t===void 0?t=r.rounding:Ei(t,0,8)),Gt(new r(n),e,t)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Fn(e),n=e.constructor;return xl(e,t<=n.toExpNeg||t>=n.toExpPos)};function bO(e,t){var n,r,a,i,o,s,l,c,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),rn?Gt(t,d):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=c.length):(r=c,a=o,s=l.length),o=Math.ceil(d/Zt),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/qn|0,l[i]%=qn;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,rn?Gt(t,d):t}function Ei(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ol+e)}function Ai(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Zt-r.length,n&&(i+=Wo(n)),i+=r;o=e[t],r=o+"",n=Zt-r.length,n&&(i+=Wo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var io=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%qn|0,o=i/qn|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*qn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,c,h,d,p,f,m,g,w,b,x,v,j,N,A,k,T,E=r.constructor,U=r.s==a.s?1:-1,C=r.d,P=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(Fa+"Division by zero");for(l=r.e-a.e,k=P.length,N=C.length,f=new E(U),m=f.d=[],c=0;P[c]==(C[c]||0);)++c;if(P[c]>(C[c]||0)&&--l,i==null?x=i=E.precision:o?x=i+(Fn(r)-Fn(a))+1:x=i,x<0)return new E(0);if(x=x/Zt+2|0,c=0,k==1)for(h=0,P=P[0],x++;(c<N||h)&&x--;c++)v=h*qn+(C[c]||0),m[c]=v/P|0,h=v%P|0;else{for(h=qn/(P[0]+1)|0,h>1&&(P=e(P,h),C=e(C,h),k=P.length,N=C.length),j=k,g=C.slice(0,k),w=g.length;w<k;)g[w++]=0;T=P.slice(),T.unshift(0),A=P[0],P[1]>=qn/2&&++A;do h=0,s=t(P,g,k,w),s<0?(b=g[0],k!=w&&(b=b*qn+(g[1]||0)),h=b/A|0,h>1?(h>=qn&&(h=qn-1),d=e(P,h),p=d.length,w=g.length,s=t(d,g,p,w),s==1&&(h--,n(d,k<p?T:P,p))):(h==0&&(s=h=1),d=P.slice()),p=d.length,p<w&&d.unshift(0),n(g,d,w),s==-1&&(w=g.length,s=t(P,g,k,w),s<1&&(h++,n(g,k<w?T:P,w))),w=g.length):s===0&&(h++,g=[0]),m[c++]=h,s&&g[0]?g[w++]=C[j]||0:(g=[C[j]],w=1);while((j++<N||g[0]!==void 0)&&x--)}return m[0]||m.shift(),f.e=l,Gt(f,o?i+Fn(f)+1:i)}}();function wO(e,t){var n,r,a,i,o,s,l=0,c=0,h=e.constructor,d=h.precision;if(Fn(e)>16)throw Error(Iw+Fn(e));if(!e.s)return new h(na);for(rn=!1,s=d,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Ws(2,c))/Math.LN10*2+5|0,s+=r,n=a=i=new h(na),h.precision=s;;){if(a=Gt(a.times(e),s),n=n.times(++l),o=i.plus(io(a,n,s)),Ai(o.d).slice(0,s)===Ai(i.d).slice(0,s)){for(;c--;)i=Gt(i.times(i),s);return h.precision=d,t==null?(rn=!0,Gt(i,d)):i}i=o}}function Fn(e){for(var t=e.e*Zt,n=e.d[0];n>=10;n/=10)t++;return t}function Rv(e,t,n){if(t>e.LN10.sd())throw rn=!0,n&&(e.precision=n),Error(Fa+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function Wo(e){for(var t="";e--;)t+="0";return t}function Rf(e,t){var n,r,a,i,o,s,l,c,h,d=1,p=10,f=e,m=f.d,g=f.constructor,w=g.precision;if(f.s<1)throw Error(Fa+(f.s?"NaN":"-Infinity"));if(f.eq(na))return new g(0);if(t==null?(rn=!1,c=w):c=t,f.eq(10))return t==null&&(rn=!0),Rv(g,c);if(c+=p,g.precision=c,n=Ai(m),r=n.charAt(0),i=Fn(f),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)f=f.times(e),n=Ai(f.d),r=n.charAt(0),d++;i=Fn(f),r>1?(f=new g("0."+n),i++):f=new g(r+"."+n.slice(1))}else return l=Rv(g,c+2,w).times(i+""),f=Rf(new g(r+"."+n.slice(1)),c-p).plus(l),g.precision=w,t==null?(rn=!0,Gt(f,w)):f;for(s=o=f=io(f.minus(na),f.plus(na),c),h=Gt(f.times(f),c),a=3;;){if(o=Gt(o.times(h),c),l=s.plus(io(o,new g(a),c)),Ai(l.d).slice(0,c)===Ai(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(Rv(g,c+2,w).times(i+""))),s=io(s,new g(d),c),g.precision=w,t==null?(rn=!0,Gt(s,w)):s;s=l,a+=2}}function g4(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=_c(n/Zt),e.d=[],r=(n+1)%Zt,n<0&&(r+=Zt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Zt;r<a;)e.d.push(+t.slice(r,r+=Zt));t=t.slice(r),r=Zt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),rn&&(e.e>cg||e.e<-cg))throw Error(Iw+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,a,i,o,s,l,c,h,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Zt,a=t,c=d[h=0];else{if(h=Math.ceil((r+1)/Zt),i=d.length,h>=i)return e;for(c=i=d[h],o=1;i>=10;i/=10)o++;r%=Zt,a=r-Zt+o}if(n!==void 0&&(i=Ws(10,o-a-1),s=c/i%10|0,l=t<0||d[h+1]!==void 0||c%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?c/Ws(10,o-a):0:d[h-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(i=Fn(e),d.length=1,t=t-i-1,d[0]=Ws(10,(Zt-t%Zt)%Zt),e.e=_c(-t/Zt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=h,i=1,h--):(d.length=h+1,i=Ws(10,Zt-r),d[h]=a>0?(c/Ws(10,o-a)%Ws(10,a)|0)*i:0),l)for(;;)if(h==0){(d[0]+=i)==qn&&(d[0]=1,++e.e);break}else{if(d[h]+=i,d[h]!=qn)break;d[h--]=0,i=1}for(r=d.length;d[--r]===0;)d.pop();if(rn&&(e.e>cg||e.e<-cg))throw Error(Iw+Fn(e));return e}function SO(e,t){var n,r,a,i,o,s,l,c,h,d,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),rn?Gt(t,f):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(h=o<0,h?(n=l,o=-o,s=d.length):(n=d,r=c,s=l.length),a=Math.max(Math.ceil(f/Zt),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=d.length,h=a<s,h&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){h=l[a]<d[a];break}o=0}for(h&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>o;){if(l[--a]<d[a]){for(i=a;i&&l[--i]===0;)l[i]=qn-1;--l[i],l[a]+=qn}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,rn?Gt(t,f):t):new p(0)}function xl(e,t,n){var r,a=Fn(e),i=Ai(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Wo(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Wo(-a-1)+i,n&&(r=n-o)>0&&(i+=Wo(r))):a>=o?(i+=Wo(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Wo(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Wo(r))),e.s<0?"-"+i:i}function y4(e,t){if(e.length>t)return e.length=t,!0}function NO(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ol+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return g4(o,i.toString())}else if(typeof i!="string")throw Error(ol+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,nZ.test(i))g4(o,i);else throw Error(ol+i)}if(a.prototype=Qe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=NO,a.config=a.set=rZ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function rZ(e){if(!e||typeof e!="object")throw Error(Fa+"Object expected");var t,n,r,a=["precision",1,Fc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(_c(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(ol+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ol+n+": "+r);return this}var $w=NO(tZ);na=new $w(1);const Ut=$w;function aZ(e){return lZ(e)||sZ(e)||oZ(e)||iZ()}function iZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oZ(e,t){if(e){if(typeof e=="string")return Rx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rx(e,t)}}function sZ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lZ(e){if(Array.isArray(e))return Rx(e)}function Rx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uZ=function(t){return t},jO={},kO=function(t){return t===jO},v4=function(t){return function n(){return arguments.length===0||arguments.length===1&&kO(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},cZ=function e(t,n){return t===1?n:v4(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==jO}).length;return o>=t?n.apply(void 0,a):e(t-o,v4(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var h=a.map(function(d){return kO(d)?l.shift():d});return n.apply(void 0,aZ(h).concat(l))}))})},B0=function(t){return cZ(t.length,t)},Bx=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},dZ=B0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),fZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return uZ;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},Wx=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},AO=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(s,l){return s===n[l]})||(n=i,r=t.apply(void 0,i)),r}};function hZ(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function pZ(e,t,n){for(var r=new Ut(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var mZ=B0(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),gZ=B0(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),yZ=B0(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const W0={rangeStep:pZ,getDigitCount:hZ,interpolateNumber:mZ,uninterpolateNumber:gZ,uninterpolateTruncation:yZ};function Ux(e){return bZ(e)||xZ(e)||PO(e)||vZ()}function vZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bZ(e){if(Array.isArray(e))return zx(e)}function Bf(e,t){return NZ(e)||SZ(e,t)||PO(e,t)||wZ()}function wZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PO(e,t){if(e){if(typeof e=="string")return zx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zx(e,t)}}function zx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SZ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){a=!0,i=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function NZ(e){if(Array.isArray(e))return e}function CO(e){var t=Bf(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function OO(e,t,n){if(e.lte(0))return new Ut(0);var r=W0.getDigitCount(e.toNumber()),a=new Ut(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new Ut(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?l:new Ut(Math.ceil(l))}function jZ(e,t,n){var r=1,a=new Ut(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Ut(10).pow(W0.getDigitCount(e)-1),a=new Ut(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Ut(Math.floor(e)))}else e===0?a=new Ut(Math.floor((t-1)/2)):n||(a=new Ut(Math.floor(e)));var o=Math.floor((t-1)/2),s=fZ(dZ(function(l){return a.add(new Ut(l-o).mul(r)).toNumber()}),Bx);return s(0,t)}function TO(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var i=OO(new Ut(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Ut(0):(o=new Ut(e).add(t).div(2),o=o.sub(new Ut(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Ut(t).sub(o).div(i).toNumber()),c=s+l+1;return c>n?TO(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:i,tickMin:o.sub(new Ut(s).mul(i)),tickMax:o.add(new Ut(l).mul(i))})}function kZ(e){var t=Bf(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=CO([n,r]),l=Bf(s,2),c=l[0],h=l[1];if(c===-1/0||h===1/0){var d=h===1/0?[c].concat(Ux(Bx(0,a-1).map(function(){return 1/0}))):[].concat(Ux(Bx(0,a-1).map(function(){return-1/0})),[h]);return n>r?Wx(d):d}if(c===h)return jZ(c,a,i);var p=TO(c,h,o,i),f=p.step,m=p.tickMin,g=p.tickMax,w=W0.rangeStep(m,g.add(new Ut(.1).mul(f)),f);return n>r?Wx(w):w}function AZ(e,t){var n=Bf(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=CO([r,a]),s=Bf(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,a];if(l===c)return[l];var h=Math.max(t,2),d=OO(new Ut(c).sub(l).div(h-1),i,0),p=[].concat(Ux(W0.rangeStep(new Ut(l),new Ut(c).sub(new Ut(.99).mul(d)),d)),[c]);return r>a?Wx(p):p}var PZ=AO(kZ),CZ=AO(AZ),OZ="Invariant failed";function bl(e,t){throw new Error(OZ)}var TZ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg.apply(this,arguments)}function FZ(e,t){return MZ(e)||LZ(e,t)||EZ(e,t)||_Z()}function _Z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(e,t){if(e){if(typeof e=="string")return x4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x4(e,t)}}function x4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function MZ(e){if(Array.isArray(e))return e}function DZ(e,t){if(e==null)return{};var n=IZ(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IZ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EO(r.key),r)}}function BZ(e,t,n){return t&&RZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WZ(e,t,n){return t=fg(t),UZ(e,FO()?Reflect.construct(t,n||[],fg(e).constructor):t.apply(e,n))}function UZ(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zZ(e)}function zZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function fg(e){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fg(e)}function HZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hx(e,t)}function Hx(e,t){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Hx(e,t)}function _O(e,t,n){return t=EO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EO(e){var t=qZ(e,"string");return nc(t)=="symbol"?t:t+""}function qZ(e,t){if(nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nh=function(e){function t(){return $Z(this,t),WZ(this,t,arguments)}return HZ(t,e),BZ(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,h=r.xAxis,d=r.yAxis,p=DZ(r,TZ),f=jt(p,!1);this.props.direction==="x"&&h.type!=="number"&&bl();var m=l.map(function(g){var w=c(g,s),b=w.x,x=w.y,v=w.value,j=w.errorVal;if(!j)return null;var N=[],A,k;if(Array.isArray(j)){var T=FZ(j,2);A=T[0],k=T[1]}else A=k=j;if(i==="vertical"){var E=h.scale,U=x+a,C=U+o,P=U-o,I=E(v-A),M=E(v+k);N.push({x1:M,y1:C,x2:M,y2:P}),N.push({x1:I,y1:U,x2:M,y2:U}),N.push({x1:I,y1:C,x2:I,y2:P})}else if(i==="horizontal"){var W=d.scale,L=b+a,R=L-o,B=L+o,z=W(v-A),Y=W(v+k);N.push({x1:R,y1:Y,x2:B,y2:Y}),N.push({x1:L,y1:z,x2:L,y2:Y}),N.push({x1:R,y1:z,x2:B,y2:z})}return ge.createElement(Nn,dg({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},f),N.map(function(ie){return ge.createElement("line",dg({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return ge.createElement(Nn,{className:"recharts-errorBars"},m)}}])}(ge.Component);_O(Nh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_O(Nh,"displayName","ErrorBar");function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function b4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(n),!0).forEach(function(r){GZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GZ(e,t,n){return t=VZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VZ(e){var t=KZ(e,"string");return Wf(t)=="symbol"?t:t+""}function KZ(e,t){if(Wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LO=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ta(n,al);if(!o)return null;var s=al.defaultProps,l=s!==void 0?Ms(Ms({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:i==="children"?c=(r||[]).reduce(function(h,d){var p=d.item,f=d.props,m=f.sectors||f.data||[];return h.concat(m.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(h){var d=h.item,p=d.type.defaultProps,f=p!==void 0?Ms(Ms({},p),d.props):{},m=f.dataKey,g=f.name,w=f.legendType,b=f.hide;return{inactive:b,dataKey:m,type:l.iconType||w||"square",color:Rw(d),value:g||m,payload:f}}),Ms(Ms(Ms({},l),al.getWithHeight(o,a)),{},{payload:c,item:o})};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function w4(e){return QZ(e)||JZ(e)||XZ(e)||YZ()}function YZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XZ(e,t){if(e){if(typeof e=="string")return qx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qx(e,t)}}function JZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QZ(e){if(Array.isArray(e))return qx(e)}function qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(n),!0).forEach(function(r){Ru(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ru(e,t,n){return t=ZZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZZ(e){var t=eee(e,"string");return Uf(t)=="symbol"?t:t+""}function eee(e,t){if(Uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sa(e,t,n){return wt(e)||wt(t)?n:Rn(t)?Aa(e,t,n):xt(t)?t(e):n}function Jd(e,t,n,r){var a=JQ(e,function(s){return sa(s,t)});if(n==="number"){var i=a.filter(function(s){return ze(s)||parseFloat(s)});return i.length?[$0(i),I0(i)]:[1/0,-1/0]}var o=r?a.filter(function(s){return!wt(s)}):a;return o.map(function(s){return Rn(s)||s instanceof Date?s:""})}var tee=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<s;c++){var h=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,p=c>=s-1?a[0].coordinate:a[c+1].coordinate,f=void 0;if(ri(d-h)!==ri(p-d)){var m=[];if(ri(p-d)===ri(l[1]-l[0])){f=p;var g=d+l[1]-l[0];m[0]=Math.min(g,(g+h)/2),m[1]=Math.max(g,(g+h)/2)}else{f=h;var w=p+l[1]-l[0];m[0]=Math.min(d,(w+d)/2),m[1]=Math.max(d,(w+d)/2)}var b=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(t>b[0]&&t<=b[1]||t>=m[0]&&t<=m[1]){o=a[c].index;break}}else{var x=Math.min(h,p),v=Math.max(h,p);if(t>(x+d)/2&&t<=(v+d)/2){o=a[c].index;break}}}else for(var j=0;j<s;j++)if(j===0&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<s-1&&t>(r[j].coordinate+r[j-1].coordinate)/2&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j===s-1&&t>(r[j].coordinate+r[j-1].coordinate)/2){o=r[j].index;break}return o},Rw=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mn(mn({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},nee=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,c=s.length;l<c;l++)for(var h=i[s[l]].stackGroups,d=Object.keys(h),p=0,f=d.length;p<f;p++){var m=h[d[p]],g=m.items,w=m.cateAxisId,b=g.filter(function(k){return ro(k.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,v=x!==void 0?mn(mn({},x),b[0].props):b[0].props,j=v.barSize,N=v[w];o[N]||(o[N]=[]);var A=wt(j)?n:j;o[N].push({item:b[0],stackList:b.slice(1),barSize:wt(A)?void 0:vl(A,r,0)})}}return o},ree=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=vl(n,a,0,!0),h,d=[];if(o[0].barSize===+o[0].barSize){var p=!1,f=a/l,m=o.reduce(function(j,N){return j+N.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&f>0&&(p=!0,f*=.9,m=l*f);var g=(a-m)/2>>0,w={offset:g-c,size:0};h=o.reduce(function(j,N){var A={item:N.item,position:{offset:w.offset+w.size+c,size:p?f:N.barSize}},k=[].concat(w4(j),[A]);return w=k[k.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(T){k.push({item:T,position:w})}),k},d)}else{var b=vl(r,a,0,!0);a-2*b-(l-1)*c<=0&&(c=0);var x=(a-2*b-(l-1)*c)/l;x>1&&(x>>=0);var v=s===+s?Math.min(x,s):x;h=o.reduce(function(j,N,A){var k=[].concat(w4(j),[{item:N.item,position:{offset:b+(x+c)*A+(x-v)/2,size:v}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(T){k.push({item:T,position:k[k.length-1].position})}),k},d)}return h},aee=function(t,n,r,a){var i=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=LO({children:i,legendWidth:l});if(c){var h=a||{},d=h.width,p=h.height,f=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&f!=="center"&&ze(t[f]))return mn(mn({},t),{},Ru({},f,t[f]+(d||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&m!=="middle"&&ze(t[m]))return mn(mn({},t),{},Ru({},m,t[m]+(p||0)))}return t},iee=function(t,n,r){return wt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},MO=function(t,n,r,a,i){var o=n.props.children,s=Pa(o,Nh).filter(function(c){return iee(a,i,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,h){var d=sa(h,r);if(wt(d))return c;var p=Array.isArray(d)?[$0(d),I0(d)]:[d,d],f=l.reduce(function(m,g){var w=sa(h,g,0),b=p[0]-Math.abs(Array.isArray(w)?w[0]:w),x=p[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(b,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0])}return null},oee=function(t,n,r,a,i){var o=n.map(function(s){return MO(t,s,r,i,a)}).filter(function(s){return!wt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},DO=function(t,n,r,a,i){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&MO(t,l,c,a)||Jd(t,c,r,i)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var h=0,d=c.length;h<d;h++)s[c[h]]||(s[c[h]]=!0,l.push(c[h]));return l},[])},IO=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},$O=function(t,n,r,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===n&&(i=!0),l.coordinate===r&&(o=!0),l.coordinate});return i||s.push(n),o||s.push(r),s},to=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ri(s[0]-s[1])*2*c:c,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(d){var p=i?i.indexOf(d):d;return{coordinate:a(p)+c,value:d,offset:c}});return h.filter(function(d){return!gh(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,p){return{coordinate:a(d)+c,value:d,index:p,offset:c}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,p){return{coordinate:a(d)+c,value:i?i[d]:d,index:p,offset:c}})},Bv=new WeakMap,Bp=function(t,n){if(typeof n!="function")return t;Bv.has(t)||Bv.set(t,new WeakMap);var r=Bv.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},see=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Lf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:og(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Xd(),realScaleType:"point"}:i==="category"?{scale:Lf(),realScaleType:"band"}:{scale:og(),realScaleType:"linear"};if(yl(a)){var l="scale".concat(j0(a));return{scale:(m4[l]||Xd)(),realScaleType:m4[l]?l:"point"}}return xt(a)?{scale:a}:{scale:Xd(),realScaleType:"point"}},N4=1e-4,lee=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-N4,o=Math.max(a[0],a[1])+N4,s=t(n[0]),l=t(n[r-1]);(s<i||s>o||l<i||l>o)&&t.domain([n[0],n[r-1]])}},uee=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},cee=function(t,n){if(!n||n.length!==2||!ze(n[0])||!ze(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!ze(t[0])||t[0]<r)&&(i[0]=r),(!ze(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},dee=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,s=0;s<n;++s){var l=gh(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=i,t[s][r][1]=i+l,i=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1])}},fee=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var s=gh(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=i,t[o][r][1]=i+s,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},hee={sign:dee,expand:PB,none:Ku,silhouette:CB,wiggle:OB,positive:fee},pee=function(t,n,r){var a=n.map(function(s){return s.props.dataKey}),i=hee[r],o=AB().keys(a).value(function(s,l){return+sa(s,l,0)}).order(gx).offset(i);return o(t)},mee=function(t,n,r,a,i,o){if(!t)return null;var s=o?n.reverse():n,l={},c=s.reduce(function(d,p){var f,m=(f=p.type)!==null&&f!==void 0&&f.defaultProps?mn(mn({},p.type.defaultProps),p.props):p.props,g=m.stackId,w=m.hide;if(w)return d;var b=m[r],x=d[b]||{hasStack:!1,stackGroups:{}};if(Rn(g)){var v=x.stackGroups[g]||{numericAxisId:r,cateAxisId:a,items:[]};v.items.push(p),x.hasStack=!0,x.stackGroups[g]=v}else x.stackGroups[yh("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[p]};return mn(mn({},d),{},Ru({},b,x))},l),h={};return Object.keys(c).reduce(function(d,p){var f=c[p];if(f.hasStack){var m={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,w){var b=f.stackGroups[w];return mn(mn({},g),{},Ru({},w,{numericAxisId:r,cateAxisId:a,items:b.items,stackedData:pee(t,b.items,i)}))},m)}return mn(mn({},d),{},Ru({},p,f))},h)},gee=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var h=PZ(c,i,s);return t.domain([$0(h),I0(h)]),{niceTicks:h}}if(i&&a==="number"){var d=t.domain(),p=CZ(d,i,s);return{niceTicks:p}}return null};function j4(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!wt(a[t.dataKey])){var s=Im(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=sa(a,wt(o)?t.dataKey:o);return wt(l)?null:t.scale(l)}var k4=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+a:null;var l=sa(o,n.dataKey,n.domain[s]);return wt(l)?null:n.scale(l)-i/2+a},yee=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},vee=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mn(mn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Rn(i)){var o=n[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},xee=function(t){return t.reduce(function(n,r){return[$0(r.concat([n[0]]).filter(ze)),I0(r.concat([n[1]]).filter(ze))]},[1/0,-1/0])},RO=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(c,h){var d=xee(h.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},A4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gx=function(t,n,r){if(xt(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(ze(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(A4.test(t[0])){var i=+A4.exec(t[0])[1];a[0]=n[0]-i}else xt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(ze(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(P4.test(t[1])){var o=+P4.exec(t[1])[1];a[1]=n[1]+o}else xt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},hg=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=hw(n,function(d){return d.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var c=i[s],h=i[s-1];o=Math.min((c.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},C4=function(t,n,r){return!t||!t.length||R0(t,Aa(r,"type.defaultProps.domain"))?n:t},BO=function(t,n){var r=t.type.defaultProps?mn(mn({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,h=r.hide;return mn(mn({},jt(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:Rw(t),value:sa(n,a),type:l,payload:n,chartType:c,hide:h})};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function O4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function T4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(n),!0).forEach(function(r){bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bee(e,t,n){return t=wee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wee(e){var t=See(e,"string");return zf(t)=="symbol"?t:t+""}function See(e,t){if(zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pg=Math.PI/180,Nee=function(t){return t*180/Math.PI},tr=function(t,n,r,a){return{x:t+Math.cos(-pg*a)*r,y:n+Math.sin(-pg*a)*r}},jee=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},kee=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,s=jee({x:r,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(r-i)/s,c=Math.acos(l);return a>o&&(c=2*Math.PI-c),{radius:s,angle:Nee(c),angleInRadian:c}},Aee=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},Pee=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},F4=function(t,n){var r=t.x,a=t.y,i=kee({x:r,y:a},n),o=i.radius,s=i.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var h=Aee(n),d=h.startAngle,p=h.endAngle,f=s,m;if(d<=p){for(;f>p;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=p}else{for(;f>d;)f-=360;for(;f<p;)f+=360;m=f>=p&&f<=d}return m?T4(T4({},n),{},{radius:o,angle:Pee(f,n)}):null};function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}var Cee=["offset"];function Oee(e){return Eee(e)||_ee(e)||Fee(e)||Tee()}function Tee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fee(e,t){if(e){if(typeof e=="string")return Vx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vx(e,t)}}function _ee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eee(e){if(Array.isArray(e))return Vx(e)}function Vx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lee(e,t){if(e==null)return{};var n=Mee(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mee(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(r){Dee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dee(e,t,n){return t=Iee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iee(e){var t=$ee(e,"string");return Hf(t)=="symbol"?t:t+""}function $ee(e,t){if(Hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qf.apply(this,arguments)}var Ree=function(t){var n=t.value,r=t.formatter,a=wt(t.children)?n:t.children;return xt(r)?r(a):a},Bee=function(t,n){var r=ri(n-t),a=Math.min(Math.abs(n-t),360);return r*a},Wee=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,c=l.cx,h=l.cy,d=l.innerRadius,p=l.outerRadius,f=l.startAngle,m=l.endAngle,g=l.clockWise,w=(d+p)/2,b=Bee(f,m),x=b>=0?1:-1,v,j;a==="insideStart"?(v=f+x*o,j=g):a==="insideEnd"?(v=m-x*o,j=!g):a==="end"&&(v=m+x*o,j=g),j=b<=0?j:!j;var N=tr(c,h,w,v),A=tr(c,h,w,v+(j?1:-1)*359),k="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(A.x,",").concat(A.y),T=wt(t.id)?yh("recharts-radial-line-"):t.id;return ge.createElement("text",qf({},r,{dominantBaseline:"central",className:et("recharts-radial-bar-label",s)}),ge.createElement("defs",null,ge.createElement("path",{id:T,d:k})),ge.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Uee=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,s=i.cy,l=i.innerRadius,c=i.outerRadius,h=i.startAngle,d=i.endAngle,p=(h+d)/2;if(a==="outside"){var f=tr(o,s,c+r,p),m=f.x,g=f.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,b=tr(o,s,w,p),x=b.x,v=b.y;return{x,y:v,textAnchor:"middle",verticalAnchor:"middle"}},zee=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,s=o.x,l=o.y,c=o.width,h=o.height,d=h>=0?1:-1,p=d*a,f=d>0?"end":"start",m=d>0?"start":"end",g=c>=0?1:-1,w=g*a,b=g>0?"end":"start",x=g>0?"start":"end";if(i==="top"){var v={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:f};return Mn(Mn({},v),r?{height:Math.max(l-r.y,0),width:c}:{})}if(i==="bottom"){var j={x:s+c/2,y:l+h+p,textAnchor:"middle",verticalAnchor:m};return Mn(Mn({},j),r?{height:Math.max(r.y+r.height-(l+h),0),width:c}:{})}if(i==="left"){var N={x:s-w,y:l+h/2,textAnchor:b,verticalAnchor:"middle"};return Mn(Mn({},N),r?{width:Math.max(N.x-r.x,0),height:h}:{})}if(i==="right"){var A={x:s+c+w,y:l+h/2,textAnchor:x,verticalAnchor:"middle"};return Mn(Mn({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:h}:{})}var k=r?{width:c,height:h}:{};return i==="insideLeft"?Mn({x:s+w,y:l+h/2,textAnchor:x,verticalAnchor:"middle"},k):i==="insideRight"?Mn({x:s+c-w,y:l+h/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?Mn({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:m},k):i==="insideBottom"?Mn({x:s+c/2,y:l+h-p,textAnchor:"middle",verticalAnchor:f},k):i==="insideTopLeft"?Mn({x:s+w,y:l+p,textAnchor:x,verticalAnchor:m},k):i==="insideTopRight"?Mn({x:s+c-w,y:l+p,textAnchor:b,verticalAnchor:m},k):i==="insideBottomLeft"?Mn({x:s+w,y:l+h-p,textAnchor:x,verticalAnchor:f},k):i==="insideBottomRight"?Mn({x:s+c-w,y:l+h-p,textAnchor:b,verticalAnchor:f},k):Sc(i)&&(ze(i.x)||Ks(i.x))&&(ze(i.y)||Ks(i.y))?Mn({x:s+vl(i.x,c),y:l+vl(i.y,h),textAnchor:"end",verticalAnchor:"end"},k):Mn({x:s+c/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Hee=function(t){return"cx"in t&&ze(t.cx)};function yr(e){var t=e.offset,n=t===void 0?5:t,r=Lee(e,Cee),a=Mn({offset:n},r),i=a.viewBox,o=a.position,s=a.value,l=a.children,c=a.content,h=a.className,d=h===void 0?"":h,p=a.textBreakAll;if(!i||wt(s)&&wt(l)&&!se.isValidElement(c)&&!xt(c))return null;if(se.isValidElement(c))return se.cloneElement(c,a);var f;if(xt(c)){if(f=se.createElement(c,a),se.isValidElement(f))return f}else f=Ree(a);var m=Hee(i),g=jt(a,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Wee(a,f,g);var w=m?Uee(a):zee(a);return ge.createElement(Zm,qf({className:et("recharts-label",d)},g,w,{breakAll:p}),f)}yr.displayName="Label";var WO=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,h=t.outerRadius,d=t.x,p=t.y,f=t.top,m=t.left,g=t.width,w=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(ze(g)&&ze(w)){if(ze(d)&&ze(p))return{x:d,y:p,width:g,height:w};if(ze(f)&&ze(m))return{x:f,y:m,width:g,height:w}}return ze(d)&&ze(p)?{x:d,y:p,width:0,height:0}:ze(n)&&ze(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:c||0,outerRadius:h||l||s||0,clockWise:b}:t.viewBox?t.viewBox:{}},qee=function(t,n){return t?t===!0?ge.createElement(yr,{key:"label-implicit",viewBox:n}):Rn(t)?ge.createElement(yr,{key:"label-implicit",viewBox:n,value:t}):se.isValidElement(t)?t.type===yr?se.cloneElement(t,{key:"label-implicit",viewBox:n}):ge.createElement(yr,{key:"label-implicit",content:t,viewBox:n}):xt(t)?ge.createElement(yr,{key:"label-implicit",content:t,viewBox:n}):Sc(t)?ge.createElement(yr,qf({viewBox:n},t,{key:"label-implicit"})):null:null},Gee=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=WO(t),o=Pa(a,yr).map(function(l,c){return se.cloneElement(l,{viewBox:n||i,key:"label-".concat(c)})});if(!r)return o;var s=qee(t.label,n||i);return[s].concat(Oee(o))};yr.parseViewBox=WO;yr.renderCallByParent=Gee;function Vee(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Kee=Vee;const Yee=Rt(Kee);function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}var Xee=["valueAccessor"],Jee=["data","dataKey","clockWise","id","textBreakAll"];function Qee(e){return nte(e)||tte(e)||ete(e)||Zee()}function Zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ete(e,t){if(e){if(typeof e=="string")return Kx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kx(e,t)}}function tte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nte(e){if(Array.isArray(e))return Kx(e)}function Kx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mg.apply(this,arguments)}function E4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function L4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(n),!0).forEach(function(r){rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rte(e,t,n){return t=ate(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ate(e){var t=ite(e,"string");return Gf(t)=="symbol"?t:t+""}function ite(e,t){if(Gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M4(e,t){if(e==null)return{};var n=ote(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ote(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ste=function(t){return Array.isArray(t.value)?Yee(t.value):t.value};function os(e){var t=e.valueAccessor,n=t===void 0?ste:t,r=M4(e,Xee),a=r.data,i=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=M4(r,Jee);return!a||!a.length?null:ge.createElement(Nn,{className:"recharts-label-list"},a.map(function(h,d){var p=wt(i)?n(h,d):sa(h&&h.payload,i),f=wt(s)?{}:{id:"".concat(s,"-").concat(d)};return ge.createElement(yr,mg({},jt(h,!0),c,f,{parentViewBox:h.parentViewBox,value:p,textBreakAll:l,viewBox:yr.parseViewBox(wt(o)?h:L4(L4({},h),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}os.displayName="LabelList";function lte(e,t){return e?e===!0?ge.createElement(os,{key:"labelList-implicit",data:t}):ge.isValidElement(e)||xt(e)?ge.createElement(os,{key:"labelList-implicit",data:t,content:e}):Sc(e)?ge.createElement(os,mg({data:t},e,{key:"labelList-implicit"})):null:null}function ute(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=Pa(r,os).map(function(o,s){return se.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return a;var i=lte(e.label,t);return[i].concat(Qee(a))}os.renderCallByParent=ute;function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yx.apply(this,arguments)}function D4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function I4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(n),!0).forEach(function(r){cte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cte(e,t,n){return t=dte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dte(e){var t=fte(e,"string");return Vf(t)=="symbol"?t:t+""}function fte(e,t){if(Vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hte=function(t,n){var r=ri(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Wp=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,h=l*(s?1:-1)+a,d=Math.asin(l/h)/pg,p=c?i:i+o*d,f=tr(n,r,h,p),m=tr(n,r,a,p),g=c?i-o*d:i,w=tr(n,r,h*Math.cos(d*pg),g);return{center:f,circleTangency:m,lineTangency:w,theta:d}},UO=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=hte(o,s),c=o+l,h=tr(n,r,i,o),d=tr(n,r,i,c),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var f=tr(n,r,a,o),m=tr(n,r,a,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},pte=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,h=t.endAngle,d=ri(h-c),p=Wp({cx:n,cy:r,radius:i,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),f=p.circleTangency,m=p.lineTangency,g=p.theta,w=Wp({cx:n,cy:r,radius:i,angle:h,sign:-d,cornerRadius:o,cornerIsExternal:l}),b=w.circleTangency,x=w.lineTangency,v=w.theta,j=l?Math.abs(c-h):Math.abs(c-h)-g-v;if(j<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):UO({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:h});var N="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var A=Wp({cx:n,cy:r,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=A.circleTangency,T=A.lineTangency,E=A.theta,U=Wp({cx:n,cy:r,radius:a,angle:h,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=U.circleTangency,P=U.lineTangency,I=U.theta,M=l?Math.abs(c-h):Math.abs(c-h)-E-I;if(M<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},mte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zO=function(t){var n=I4(I4({},mte),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,h=n.startAngle,d=n.endAngle,p=n.className;if(o<i||h===d)return null;var f=et("recharts-sector",p),m=o-i,g=vl(s,m,0,!0),w;return g>0&&Math.abs(h-d)<360?w=pte({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:d}):w=UO({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:h,endAngle:d}),ge.createElement("path",Yx({},jt(n,!0),{className:f,d:w,role:"img"}))};function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xx.apply(this,arguments)}function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function R4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(n),!0).forEach(function(r){gte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gte(e,t,n){return t=yte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yte(e){var t=vte(e,"string");return Kf(t)=="symbol"?t:t+""}function vte(e,t){if(Kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B4={curveBasisClosed:mB,curveBasisOpen:gB,curveBasis:pB,curveBumpX:eB,curveBumpY:tB,curveLinearClosed:yB,curveLinear:A0,curveMonotoneX:vB,curveMonotoneY:xB,curveNatural:bB,curveStep:wB,curveStepAfter:NB,curveStepBefore:SB},Up=function(t){return t.x===+t.x&&t.y===+t.y},Ad=function(t){return t.x},Pd=function(t){return t.y},xte=function(t,n){if(xt(t))return t;var r="curve".concat(j0(t));return(r==="curveMonotone"||r==="curveBump")&&n?B4["".concat(r).concat(n==="vertical"?"Y":"X")]:B4[r]||A0},bte=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,h=xte(r,s),d=c?i.filter(function(g){return Up(g)}):i,p;if(Array.isArray(o)){var f=c?o.filter(function(g){return Up(g)}):o,m=d.map(function(g,w){return R4(R4({},g),{},{base:f[w]})});return s==="vertical"?p=_p().y(Pd).x1(Ad).x0(function(g){return g.base.x}):p=_p().x(Ad).y1(Pd).y0(function(g){return g.base.y}),p.defined(Up).curve(h),p(m)}return s==="vertical"&&ze(o)?p=_p().y(Pd).x1(Ad).x0(o):ze(o)?p=_p().x(Ad).y1(Pd).y0(o):p=zC().x(Ad).y(Pd),p.defined(Up).curve(h),p(d)},Jx=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?bte(t):a;return se.createElement("path",Xx({},jt(t,!1),$m(t),{className:et("recharts-curve",n),d:o,ref:i}))},HO={exports:{}},wte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ste=wte,Nte=Ste;function qO(){}function GO(){}GO.resetWarningCache=qO;var jte=function(){function e(r,a,i,o,s,l){if(l!==Nte){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:GO,resetWarningCache:qO};return n.PropTypes=n,n};HO.exports=jte();var kte=HO.exports;const Et=Rt(kte);var Ate=Object.getOwnPropertyNames,Pte=Object.getOwnPropertySymbols,Cte=Object.prototype.hasOwnProperty;function W4(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function zp(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),s=i.get(r);if(o&&s)return o===r&&s===n;i.set(n,r),i.set(r,n);var l=e(n,r,a);return i.delete(n),i.delete(r),l}}function U4(e){return Ate(e).concat(Pte(e))}var Ote=Object.hasOwn||function(e,t){return Cte.call(e,t)};function Pl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Tte="__v",Fte="__o",_te="_owner",z4=Object.getOwnPropertyDescriptor,H4=Object.keys;function Ete(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Lte(e,t){return Pl(e.getTime(),t.getTime())}function Mte(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Dte(e,t){return e===t}function q4(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var c=t.entries(),h=!1,d=0;(s=c.next())&&!s.done;){if(a[d]){d++;continue}var p=o.value,f=s.value;if(n.equals(p[0],f[0],l,d,e,t,n)&&n.equals(p[1],f[1],p[0],f[0],e,t,n)){h=a[d]=!0;break}d++}if(!h)return!1;l++}return!0}var Ite=Pl;function $te(e,t,n){var r=H4(e),a=r.length;if(H4(t).length!==a)return!1;for(;a-- >0;)if(!VO(e,t,n,r[a]))return!1;return!0}function Cd(e,t,n){var r=U4(e),a=r.length;if(U4(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=r[a],!VO(e,t,n,i)||(o=z4(e,i),s=z4(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Rte(e,t){return Pl(e.valueOf(),t.valueOf())}function Bte(e,t){return e.source===t.source&&e.flags===t.flags}function G4(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),c=!1,h=0;(s=l.next())&&!s.done;){if(!a[h]&&n.equals(o.value,s.value,o.value,s.value,e,t,n)){c=a[h]=!0;break}h++}if(!c)return!1}return!0}function Wte(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Ute(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function VO(e,t,n,r){return(r===_te||r===Fte||r===Tte)&&(e.$$typeof||t.$$typeof)?!0:Ote(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var zte="[object Arguments]",Hte="[object Boolean]",qte="[object Date]",Gte="[object Error]",Vte="[object Map]",Kte="[object Number]",Yte="[object Object]",Xte="[object RegExp]",Jte="[object Set]",Qte="[object String]",Zte="[object URL]",ene=Array.isArray,V4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,K4=Object.assign,tne=Object.prototype.toString.call.bind(Object.prototype.toString);function nne(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,h=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(m,g,w){if(m===g)return!0;if(m==null||g==null)return!1;var b=typeof m;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(m,g,w):b==="function"?a(m,g,w):!1;var x=m.constructor;if(x!==g.constructor)return!1;if(x===Object)return s(m,g,w);if(ene(m))return t(m,g,w);if(V4!=null&&V4(m))return d(m,g,w);if(x===Date)return n(m,g,w);if(x===RegExp)return c(m,g,w);if(x===Map)return i(m,g,w);if(x===Set)return h(m,g,w);var v=tne(m);return v===qte?n(m,g,w):v===Xte?c(m,g,w):v===Vte?i(m,g,w):v===Jte?h(m,g,w):v===Yte?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,w):v===Zte?p(m,g,w):v===Gte?r(m,g,w):v===zte?s(m,g,w):v===Hte||v===Kte||v===Qte?l(m,g,w):!1}}function rne(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?Cd:Ete,areDatesEqual:Lte,areErrorsEqual:Mte,areFunctionsEqual:Dte,areMapsEqual:r?W4(q4,Cd):q4,areNumbersEqual:Ite,areObjectsEqual:r?Cd:$te,arePrimitiveWrappersEqual:Rte,areRegExpsEqual:Bte,areSetsEqual:r?W4(G4,Cd):G4,areTypedArraysEqual:r?Cd:Wte,areUrlsEqual:Ute};if(n&&(a=K4({},a,n(a))),t){var i=zp(a.areArraysEqual),o=zp(a.areMapsEqual),s=zp(a.areObjectsEqual),l=zp(a.areSetsEqual);a=K4({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function ane(e){return function(t,n,r,a,i,o,s){return e(t,n,s)}}function ine(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(l,c){var h=r(),d=h.cache,p=d===void 0?t?new WeakMap:void 0:d,f=h.meta;return n(l,c,{cache:p,equals:a,meta:f,strict:i})};if(t)return function(l,c){return n(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return n(l,c,o)}}var one=bs();bs({strict:!0});bs({circular:!0});bs({circular:!0,strict:!0});bs({createInternalComparator:function(){return Pl}});bs({strict:!0,createInternalComparator:function(){return Pl}});bs({circular:!0,createInternalComparator:function(){return Pl}});bs({circular:!0,createInternalComparator:function(){return Pl},strict:!0});function bs(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=rne(e),l=nne(s),c=r?r(l):ane(l);return ine({circular:n,comparator:l,createState:a,equals:c,strict:o})}function sne(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Y4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):sne(a)};requestAnimationFrame(r)}function Qx(e){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qx(e)}function lne(e){return fne(e)||dne(e)||cne(e)||une()}function une(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cne(e,t){if(e){if(typeof e=="string")return X4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fne(e){if(Array.isArray(e))return e}function hne(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,s=lne(o),l=s[0],c=s.slice(1);if(typeof l=="number"){Y4(a.bind(null,c),l);return}a(l),Y4(a.bind(null,c));return}Qx(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function J4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Q4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(n),!0).forEach(function(r){KO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KO(e,t,n){return t=pne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pne(e){var t=mne(e,"string");return Yf(t)==="symbol"?t:String(t)}function mne(e,t){if(Yf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gne=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},yne=function(t){return t},vne=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Qd=function(t,n){return Object.keys(n).reduce(function(r,a){return Q4(Q4({},r),{},KO({},a,t(a,n[a])))},{})},Z4=function(t,n,r){return t.map(function(a){return"".concat(vne(a)," ").concat(n,"ms ").concat(r)}).join(",")};function xne(e,t){return Sne(e)||wne(e,t)||YO(e,t)||bne()}function bne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function Sne(e){if(Array.isArray(e))return e}function Nne(e){return Ane(e)||kne(e)||YO(e)||jne()}function jne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YO(e,t){if(e){if(typeof e=="string")return Zx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zx(e,t)}}function kne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ane(e){if(Array.isArray(e))return Zx(e)}function Zx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gg=1e-4,XO=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},JO=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},ej=function(t,n){return function(r){var a=XO(t,n);return JO(a,r)}},Pne=function(t,n){return function(r){var a=XO(t,n),i=[].concat(Nne(a.map(function(o,s){return o*s}).slice(1)),[0]);return JO(i,r)}},tj=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=xne(c,4);a=h[0],i=h[1],o=h[2],s=h[3]}}}var d=ej(a,o),p=ej(i,s),f=Pne(a,o),m=function(b){return b>1?1:b<0?0:b},g=function(b){for(var x=b>1?1:b,v=x,j=0;j<8;++j){var N=d(v)-x,A=f(v);if(Math.abs(N-x)<gg||A<gg)return p(v);v=m(v-N/A)}return p(v)};return g.isStepper=!1,g},Cne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(h,d,p){var f=-(h-d)*r,m=p*i,g=p+(f-m)*s/1e3,w=p*s/1e3+h;return Math.abs(w-d)<gg&&Math.abs(g)<gg?[d,0]:[w,g]};return l.isStepper=!0,l.dt=s,l},One=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tj(a);case"spring":return Cne();default:if(a.split("(")[0]==="cubic-bezier")return tj(a)}return typeof a=="function"?a:null};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function nj(e){return _ne(e)||Fne(e)||QO(e)||Tne()}function Tne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _ne(e){if(Array.isArray(e))return t2(e)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(r){e2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e2(e,t,n){return t=Ene(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ene(e){var t=Lne(e,"string");return Xf(t)==="symbol"?t:String(t)}function Lne(e,t){if(Xf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mne(e,t){return $ne(e)||Ine(e,t)||QO(e,t)||Dne()}function Dne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QO(e,t){if(e){if(typeof e=="string")return t2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t2(e,t)}}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ine(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function $ne(e){if(Array.isArray(e))return e}var yg=function(t,n,r){return t+(n-t)*r},n2=function(t){var n=t.from,r=t.to;return n!==r},Rne=function e(t,n,r){var a=Qd(function(i,o){if(n2(o)){var s=t(o.from,o.to,o.velocity),l=Mne(s,2),c=l[0],h=l[1];return Zn(Zn({},o),{},{from:c,velocity:h})}return o},n);return r<1?Qd(function(i,o){return n2(o)?Zn(Zn({},o),{},{velocity:yg(o.velocity,a[i].velocity,r),from:yg(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const Bne=function(e,t,n,r,a){var i=gne(e,t),o=i.reduce(function(w,b){return Zn(Zn({},w),{},e2({},b,[e[b],t[b]]))},{}),s=i.reduce(function(w,b){return Zn(Zn({},w),{},e2({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,c,h,d=function(){return null},p=function(){return Qd(function(b,x){return x.from},s)},f=function(){return!Object.values(s).filter(n2).length},m=function(b){c||(c=b);var x=b-c,v=x/n.dt;s=Rne(n,s,v),a(Zn(Zn(Zn({},e),t),p())),c=b,f()||(l=requestAnimationFrame(d))},g=function(b){h||(h=b);var x=(b-h)/r,v=Qd(function(N,A){return yg.apply(void 0,nj(A).concat([n(x)]))},o);if(a(Zn(Zn(Zn({},e),t),v)),x<1)l=requestAnimationFrame(d);else{var j=Qd(function(N,A){return yg.apply(void 0,nj(A).concat([n(1)]))},o);a(Zn(Zn(Zn({},e),t),j))}};return d=n.isStepper?m:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}var Wne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Une(e,t){if(e==null)return{};var n=zne(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zne(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Wv(e){return Vne(e)||Gne(e)||qne(e)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qne(e,t){if(e){if(typeof e=="string")return r2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r2(e,t)}}function Gne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vne(e){if(Array.isArray(e))return r2(e)}function r2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(r){$d(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $d(e,t,n){return t=ZO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZO(r.key),r)}}function Xne(e,t,n){return t&&Yne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZO(e){var t=Jne(e,"string");return rc(t)==="symbol"?t:String(t)}function Jne(e,t){if(rc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a2(e,t)}function a2(e,t){return a2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},a2(e,t)}function Zne(e){var t=ere();return function(){var r=vg(e),a;if(t){var i=vg(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return i2(this,a)}}function i2(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o2(e)}function o2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ere(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vg(e){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vg(e)}var po=function(e){Qne(n,e);var t=Zne(n);function n(r,a){var i;Kne(this,n),i=t.call(this,r,a);var o=i.props,s=o.isActive,l=o.attributeName,c=o.from,h=o.to,d=o.steps,p=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(o2(i)),i.changeStyle=i.changeStyle.bind(o2(i)),!s||f<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:h}),i2(i);if(d&&d.length)i.state={style:d[0].style};else if(c){if(typeof p=="function")return i.state={style:c},i2(i);i.state={style:l?$d({},l,c):c}}else i.state={style:{}};return i}return Xne(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,h=i.to,d=i.from,p=this.state.style;if(s){if(!o){var f={style:l?$d({},l,h):h};this.state&&p&&(l&&p[l]!==h||!l&&p!==h)&&this.setState(f);return}if(!(one(a.to,h)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?d:a.to;if(this.state&&p){var w={style:l?$d({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(w)}this.runAnimation(qa(qa({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,c=a.easing,h=a.begin,d=a.onAnimationEnd,p=a.onAnimationStart,f=Bne(o,s,One(c),l,this.changeStyle),m=function(){i.stopJSAnimation=f()};this.manager.start([p,h,m,l,d])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,c=o[0],h=c.style,d=c.duration,p=d===void 0?0:d,f=function(g,w,b){if(b===0)return g;var x=w.duration,v=w.easing,j=v===void 0?"ease":v,N=w.style,A=w.properties,k=w.onAnimationEnd,T=b>0?o[b-1]:w,E=A||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(Wv(g),[i.runJSAnimation.bind(i,{from:T.style,to:N,duration:x,easing:j}),x]);var U=Z4(E,x,j),C=qa(qa(qa({},T.style),N),{},{transition:U});return[].concat(Wv(g),[C,x,k]).filter(yne)};return this.manager.start([l].concat(Wv(o.reduce(f,[h,Math.max(p,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=hne());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,c=a.easing,h=a.onAnimationStart,d=a.onAnimationEnd,p=a.steps,f=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var g=s?$d({},s,l):l,w=Z4(Object.keys(g),o,c);m.start([h,i,qa(qa({},g),{},{transition:w}),o,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=Une(a,Wne),c=se.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!s||c===0||o<=0)return i;var d=function(f){var m=f.props,g=m.style,w=g===void 0?{}:g,b=m.className,x=se.cloneElement(f,qa(qa({},l),{},{style:qa(qa({},w),h),className:b}));return x};return c===1?d(se.Children.only(i)):ge.createElement("div",null,se.Children.map(i,function(p){return d(p)}))}}]),n}(se.PureComponent);po.displayName="Animate";po.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};po.propTypes={from:Et.oneOfType([Et.object,Et.string]),to:Et.oneOfType([Et.object,Et.string]),attributeName:Et.string,duration:Et.number,begin:Et.number,easing:Et.oneOfType([Et.string,Et.func]),steps:Et.arrayOf(Et.shape({duration:Et.number.isRequired,style:Et.object.isRequired,easing:Et.oneOfType([Et.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Et.func]),properties:Et.arrayOf("string"),onAnimationEnd:Et.func})),children:Et.oneOfType([Et.node,Et.func]),isActive:Et.bool,canBegin:Et.bool,onAnimationEnd:Et.func,shouldReAnimate:Et.bool,onAnimationStart:Et.func,onAnimationReStart:Et.func};function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xg.apply(this,arguments)}function tre(e,t){return ire(e)||are(e,t)||rre(e,t)||nre()}function nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rre(e,t){if(e){if(typeof e=="string")return ij(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ij(e,t)}}function ij(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function are(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function ire(e){if(Array.isArray(e))return e}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ore(e,t,n){return t=sre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sre(e){var t=lre(e,"string");return Jf(t)=="symbol"?t:t+""}function lre(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lj=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),s=a>=0?1:-1,l=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0,h;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,f=4;p<f;p++)d[p]=i[p]>o?o:i[p];h="M".concat(t,",").concat(n+s*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(n)),h+="L ".concat(t+r-l*d[1],",").concat(n),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(n+s*d[1])),h+="L ".concat(t+r,",").concat(n+a-s*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-l*d[2],",").concat(n+a)),h+="L ".concat(t+l*d[3],",").concat(n+a),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(n+a-s*d[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);h="M ".concat(t,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(n,`
            L `).concat(t+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r,",").concat(n+s*m,`
            L `).concat(t+r,",").concat(n+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r-l*m,",").concat(n+a,`
            L `).concat(t+l*m,",").concat(n+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(n+a-s*m," Z")}else h="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return h},ure=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(i,i+s),h=Math.max(i,i+s),d=Math.min(o,o+l),p=Math.max(o,o+l);return r>=c&&r<=h&&a>=d&&a<=p}return!1},cre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bw=function(t){var n=sj(sj({},cre),t),r=se.useRef(),a=se.useState(-1),i=tre(a,2),o=i[0],s=i[1];se.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&s(j)}catch{}},[]);var l=n.x,c=n.y,h=n.width,d=n.height,p=n.radius,f=n.className,m=n.animationEasing,g=n.animationDuration,w=n.animationBegin,b=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||d!==+d||h===0||d===0)return null;var v=et("recharts-rectangle",f);return x?ge.createElement(po,{canBegin:o>0,from:{width:h,height:d,x:l,y:c},to:{width:h,height:d,x:l,y:c},duration:g,animationEasing:m,isActive:x},function(j){var N=j.width,A=j.height,k=j.x,T=j.y;return ge.createElement(po,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:g,isActive:b,easing:m},ge.createElement("path",xg({},jt(n,!0),{className:v,d:lj(k,T,N,A,p),ref:r})))}):ge.createElement("path",xg({},jt(n,!0),{className:v,d:lj(l,c,h,d,p)}))};function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s2.apply(this,arguments)}var Ww=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=et("recharts-dot",i);return n===+n&&r===+r&&a===+a?se.createElement("circle",s2({},jt(t,!1),$m(t),{className:o,cx:n,cy:r,r:a})):null};function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}var dre=["x","y","top","left","width","height","className"];function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l2.apply(this,arguments)}function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hre(e,t,n){return t=pre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pre(e){var t=mre(e,"string");return Qf(t)=="symbol"?t:t+""}function mre(e,t){if(Qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gre(e,t){if(e==null)return{};var n=yre(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yre(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var vre=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},xre=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,h=t.width,d=h===void 0?0:h,p=t.height,f=p===void 0?0:p,m=t.className,g=gre(t,dre),w=fre({x:r,y:i,top:s,left:c,width:d,height:f},g);return!ze(r)||!ze(i)||!ze(d)||!ze(f)||!ze(s)||!ze(c)?null:ge.createElement("path",l2({},jt(w,!0),{className:et("recharts-cross",m),d:vre(r,i,d,f,s,c)}))},bre=h6,wre=bre(Object.getPrototypeOf,Object),Sre=wre,Nre=go,jre=Sre,kre=yo,Are="[object Object]",Pre=Function.prototype,Cre=Object.prototype,eT=Pre.toString,Ore=Cre.hasOwnProperty,Tre=eT.call(Object);function Fre(e){if(!kre(e)||Nre(e)!=Are)return!1;var t=jre(e);if(t===null)return!0;var n=Ore.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&eT.call(n)==Tre}var _re=Fre;const Ere=Rt(_re);var Lre=go,Mre=yo,Dre="[object Boolean]";function Ire(e){return e===!0||e===!1||Mre(e)&&Lre(e)==Dre}var $re=Ire;const Rre=Rt($re);function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(this,arguments)}function Bre(e,t){return Hre(e)||zre(e,t)||Ure(e,t)||Wre()}function Wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ure(e,t){if(e){if(typeof e=="string")return cj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cj(e,t)}}function cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zre(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function Hre(e){if(Array.isArray(e))return e}function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(n),!0).forEach(function(r){qre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qre(e,t,n){return t=Gre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gre(e){var t=Vre(e,"string");return Zf(t)=="symbol"?t:t+""}function Vre(e,t){if(Zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hj=function(t,n,r,a,i){var o=r-a,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-o/2,",").concat(n+i),s+="L ".concat(t+r-o/2-a,",").concat(n+i),s+="L ".concat(t,",").concat(n," Z"),s},Kre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yre=function(t){var n=fj(fj({},Kre),t),r=se.useRef(),a=se.useState(-1),i=Bre(a,2),o=i[0],s=i[1];se.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&s(v)}catch{}},[]);var l=n.x,c=n.y,h=n.upperWidth,d=n.lowerWidth,p=n.height,f=n.className,m=n.animationEasing,g=n.animationDuration,w=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||d!==+d||p!==+p||h===0&&d===0||p===0)return null;var x=et("recharts-trapezoid",f);return b?ge.createElement(po,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:h,lowerWidth:d,height:p,x:l,y:c},duration:g,animationEasing:m,isActive:b},function(v){var j=v.upperWidth,N=v.lowerWidth,A=v.height,k=v.x,T=v.y;return ge.createElement(po,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:g,easing:m},ge.createElement("path",bg({},jt(n,!0),{className:x,d:hj(k,T,j,N,A),ref:r})))}):ge.createElement("g",null,ge.createElement("path",bg({},jt(n,!0),{className:x,d:hj(l,c,h,d,p)})))},Xre=["option","shapeType","propTransformer","activeClassName","isActive"];function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function Jre(e,t){if(e==null)return{};var n=Qre(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qre(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(r){Zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zre(e,t,n){return t=eae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eae(e){var t=tae(e,"string");return eh(t)=="symbol"?t:t+""}function tae(e,t){if(eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nae(e,t){return wg(wg({},t),e)}function rae(e,t){return e==="symbols"}function mj(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return ge.createElement(Bw,n);case"trapezoid":return ge.createElement(Yre,n);case"sector":return ge.createElement(zO,n);case"symbols":if(rae(t))return ge.createElement(iw,n);break;default:return null}}function aae(e){return se.isValidElement(e)?e.props:e}function iae(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?nae:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=Jre(e,Xre),c;if(se.isValidElement(t))c=se.cloneElement(t,wg(wg({},l),aae(t)));else if(xt(t))c=t(l);else if(Ere(t)&&!Rre(t)){var h=a(t,l);c=ge.createElement(mj,{shapeType:n,elementProps:h})}else{var d=l;c=ge.createElement(mj,{shapeType:n,elementProps:d})}return s?ge.createElement(Nn,{className:o},c):c}function U0(e,t){return t!=null&&"trapezoids"in e.props}function z0(e,t){return t!=null&&"sectors"in e.props}function th(e,t){return t!=null&&"points"in e.props}function oae(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function sae(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function lae(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function uae(e,t){var n;return U0(e,t)?n=oae:z0(e,t)?n=sae:th(e,t)&&(n=lae),n}function cae(e,t){var n;return U0(e,t)?n="trapezoids":z0(e,t)?n="sectors":th(e,t)&&(n="points"),n}function dae(e,t){if(U0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(z0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return th(e,t)?t.payload:{}}function fae(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=cae(n,t),i=dae(n,t),o=r.filter(function(l,c){var h=R0(i,l),d=n.props[a].filter(function(m){var g=uae(n,t);return g(m,t)}),p=n.props[a].indexOf(d[d.length-1]),f=c===p;return h&&f}),s=r.indexOf(o[o.length-1]);return s}var hae=Math.ceil,pae=Math.max;function mae(e,t,n,r){for(var a=-1,i=pae(hae((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var gae=mae,yae=_6,gj=1/0,vae=17976931348623157e292;function xae(e){if(!e)return e===0?e:0;if(e=yae(e),e===gj||e===-gj){var t=e<0?-1:1;return t*vae}return e===e?e:0}var tT=xae,bae=gae,wae=T0,Uv=tT;function Sae(e){return function(t,n,r){return r&&typeof r!="number"&&wae(t,n,r)&&(n=r=void 0),t=Uv(t),n===void 0?(n=t,t=0):n=Uv(n),r=r===void 0?t<n?1:-1:Uv(r),bae(t,n,r,e)}}var Nae=Sae,jae=Nae,kae=jae(),Aae=kae;const Sg=Rt(Aae);function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(n),!0).forEach(function(r){nT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nT(e,t,n){return t=Pae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pae(e){var t=Cae(e,"string");return nh(t)=="symbol"?t:t+""}function Cae(e,t){if(nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oae=["Webkit","Moz","O","ms"],Tae=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Oae.reduce(function(i,o){return vj(vj({},i),{},nT({},o+r,n))},{});return a[t]=n,a};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(this,arguments)}function xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(n),!0).forEach(function(r){Zr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aT(r.key),r)}}function _ae(e,t,n){return t&&bj(e.prototype,t),n&&bj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eae(e,t,n){return t=jg(t),Lae(e,rT()?Reflect.construct(t,n||[],jg(e).constructor):t.apply(e,n))}function Lae(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(e)}function Mae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rT=function(){return!!e})()}function jg(e){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(e)}function Dae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u2(e,t)}function u2(e,t){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},u2(e,t)}function Zr(e,t,n){return t=aT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aT(e){var t=Iae(e,"string");return ac(t)=="symbol"?t:t+""}function Iae(e,t){if(ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $ae=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Xd().domain(Sg(0,l)).range([i,i+o-s]),h=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(a),scale:c,scaleValues:h}},wj=function(t){return t.changedTouches&&!!t.changedTouches.length},ic=function(e){function t(n){var r;return Fae(this,t),r=Eae(this,t,[n]),Zr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Zr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Zr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),r.detachDragEndListener()}),Zr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Zr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Zr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Zr(r,"handleSlideDragStart",function(a){var i=wj(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Dae(t,e),_ae(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,h=c.length-1,d=Math.min(a,i),p=Math.max(a,i),f=t.getIndexInRange(o,d),m=t.getIndexInRange(o,p);return{startIndex:f-f%l,endIndex:m===h?h:m-m%l}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=sa(i[r],s,r);return xt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,c=l.x,h=l.width,d=l.travellerWidth,p=l.startIndex,f=l.endIndex,m=l.onChange,g=r.pageX-i;g>0?g=Math.min(g,c+h-d-s,c+h-d-o):g<0&&(g=Math.max(g,c-o,c-s));var w=this.getIndex({startX:o+g,endX:s+g});(w.startIndex!==p||w.endIndex!==f)&&m&&m(w),this.setState({startX:o+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=wj(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[o],h=this.props,d=h.x,p=h.width,f=h.travellerWidth,m=h.onChange,g=h.gap,w=h.data,b={startX:this.state.startX,endX:this.state.endX},x=r.pageX-i;x>0?x=Math.min(x,d+p-f-c):x<0&&(x=Math.max(x,d-c)),b[o]=c+x;var v=this.getIndex(b),j=v.startIndex,N=v.endIndex,A=function(){var T=w.length-1;return o==="startX"&&(s>l?j%g===0:N%g===0)||s<l&&N===T||o==="endX"&&(s>l?N%g===0:j%g===0)||s>l&&N===T};this.setState(Zr(Zr({},o,c+x),"brushMoveStartX",r.pageX),function(){m&&A()&&m(v)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,h=this.state[a],d=s.indexOf(h);if(d!==-1){var p=d+r;if(!(p===-1||p>=s.length)){var f=s[p];a==="startX"&&f>=c||a==="endX"&&f<=l||this.setState(Zr({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return ge.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,s=r.height,l=r.data,c=r.children,h=r.padding,d=se.Children.only(c);return d?ge.cloneElement(d,{x:a,y:i,width:o,height:s,margin:h,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,s=this,l=this.props,c=l.y,h=l.travellerWidth,d=l.height,p=l.traveller,f=l.ariaLabel,m=l.data,g=l.startIndex,w=l.endIndex,b=Math.max(r,this.props.x),x=zv(zv({},jt(this.props,!1)),{},{x:b,y:c,width:h,height:d}),v=f||"Min value: ".concat((i=m[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[w])===null||o===void 0?void 0:o.name);return ge.createElement(Nn,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),s.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,x))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,c=i.travellerWidth,h=Math.min(r,a)+c,d=Math.max(Math.abs(a-r)-c,0);return ge.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:h,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,h=this.state,d=h.startX,p=h.endX,f=5,m={pointerEvents:"none",fill:c};return ge.createElement(Nn,{className:"recharts-brush-texts"},ge.createElement(Zm,Ng({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-f,y:o+s/2},m),this.getTextOfTick(a)),ge.createElement(Zm,Ng({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+f,y:o+s/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,s=r.x,l=r.y,c=r.width,h=r.height,d=r.alwaysShowText,p=this.state,f=p.startX,m=p.endX,g=p.isTextActive,w=p.isSlideMoving,b=p.isTravellerMoving,x=p.isTravellerFocused;if(!a||!a.length||!ze(s)||!ze(l)||!ze(c)||!ze(h)||c<=0||h<=0)return null;var v=et("recharts-brush",i),j=ge.Children.count(o)===1,N=Tae("userSelect","none");return ge.createElement(Nn,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(f,m),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(m,"endX"),(g||w||b||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(i+s/2)-1;return ge.createElement(ge.Fragment,null,ge.createElement("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),ge.createElement("line",{x1:a+1,y1:c,x2:a+o-1,y2:c,fill:"none",stroke:"#fff"}),ge.createElement("line",{x1:a+1,y1:c+2,x2:a+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return ge.isValidElement(r)?i=ge.cloneElement(r,a):xt(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,h=r.startIndex,d=r.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return zv({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},i&&i.length?$ae({data:i,width:o,x:s,travellerWidth:l,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var p=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>a?s=l:o=l}return a>=r[s]?s:o}}])}(se.PureComponent);Zr(ic,"displayName","Brush");Zr(ic,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rae=fw;function Bae(e,t){var n;return Rae(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var Wae=Bae,Uae=i6,zae=ys,Hae=Wae,qae=Hr,Gae=T0;function Vae(e,t,n){var r=qae(e)?Uae:Hae;return n&&Gae(e,t,n)&&(t=void 0),r(e,zae(t))}var Kae=Vae;const Yae=Rt(Kae);var Fi=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},Sj=P6;function Xae(e,t,n){t=="__proto__"&&Sj?Sj(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Jae=Xae,Qae=Jae,Zae=k6,eie=ys;function tie(e,t){var n={};return t=eie(t),Zae(e,function(r,a,i){Qae(n,a,t(r,a,i))}),n}var nie=tie;const rie=Rt(nie);function aie(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var iie=aie,oie=fw;function sie(e,t){var n=!0;return oie(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var lie=sie,uie=iie,cie=lie,die=ys,fie=Hr,hie=T0;function pie(e,t,n){var r=fie(e)?uie:cie;return n&&hie(e,t,n)&&(t=void 0),r(e,die(t))}var mie=pie;const iT=Rt(mie);var gie=["x","y"];function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c2.apply(this,arguments)}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){yie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yie(e,t,n){return t=vie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vie(e){var t=xie(e,"string");return rh(t)=="symbol"?t:t+""}function xie(e,t){if(rh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bie(e,t){if(e==null)return{};var n=wie(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Sie(e,t){var n=e.x,r=e.y,a=bie(e,gie),i="".concat(n),o=parseInt(i,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||a.height),h=parseInt(c,10),d="".concat(t.width||a.width),p=parseInt(d,10);return Od(Od(Od(Od(Od({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:h,width:p,name:t.name,radius:t.radius})}function jj(e){return ge.createElement(iae,c2({shapeType:"rectangle",propTransformer:Sie,activeClassName:"recharts-active-bar"},e))}var Nie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=ze(r)||RR(r);return i?t(r,a):(i||bl(),n)}},jie=["value","background"],oT;function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function kie(e,t){if(e==null)return{};var n=Aie(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Aie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kg.apply(this,arguments)}function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(n),!0).forEach(function(r){Yo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lT(r.key),r)}}function Cie(e,t,n){return t&&Aj(e.prototype,t),n&&Aj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oie(e,t,n){return t=Ag(t),Tie(e,sT()?Reflect.construct(t,n||[],Ag(e).constructor):t.apply(e,n))}function Tie(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fie(e)}function Fie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sT=function(){return!!e})()}function Ag(e){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(e)}function _ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d2(e,t)}function d2(e,t){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},d2(e,t)}function Yo(e,t,n){return t=lT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lT(e){var t=Eie(e,"string");return oc(t)=="symbol"?t:t+""}function Eie(e,t){if(oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jh=function(e){function t(){var n;Pie(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Oie(this,t,[].concat(a)),Yo(n,"state",{isAnimationFinished:!1}),Yo(n,"id",yh("recharts-bar-")),Yo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Yo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return _ie(t,e),Cie(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,c=i.activeBar,h=jt(this.props,!1);return r&&r.map(function(d,p){var f=p===l,m=f?c:o,g=On(On(On({},h),d),{},{isActive:f,option:m,index:p,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ge.createElement(Nn,kg({className:"recharts-bar-rectangle"},Rm(a.props,d,p),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(p)}),ge.createElement(jj,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,h=a.animationEasing,d=a.animationId,p=this.state.prevData;return ge.createElement(po,{begin:l,duration:c,isActive:s,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,g=i.map(function(w,b){var x=p&&p[b];if(x){var v=ti(x.x,w.x),j=ti(x.y,w.y),N=ti(x.width,w.width),A=ti(x.height,w.height);return On(On({},w),{},{x:v(m),y:j(m),width:N(m),height:A(m)})}if(o==="horizontal"){var k=ti(0,w.height),T=k(m);return On(On({},w),{},{y:w.y+w.height-T,height:T})}var E=ti(0,w.width),U=E(m);return On(On({},w),{},{width:U})});return ge.createElement(Nn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!R0(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=jt(this.props.background,!1);return i.map(function(c,h){c.value;var d=c.background,p=kie(c,jie);if(!d)return null;var f=On(On(On(On(On({},p),{},{fill:"#eee"},d),l),Rm(r.props,c,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return ge.createElement(jj,kg({key:"background-bar-".concat(h),option:r.props.background,isActive:h===s},f))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,c=i.layout,h=i.children,d=Pa(h,Nh);if(!d)return null;var p=c==="vertical"?o[0].height/2:o[0].width/2,f=function(w,b){var x=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:x,errorVal:sa(w,b)}},m={clipPath:r?"url(#clipPath-".concat(a,")"):null};return ge.createElement(Nn,m,d.map(function(g){return ge.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:f})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,h=r.top,d=r.width,p=r.height,f=r.isAnimationActive,m=r.background,g=r.id;if(a||!i||!i.length)return null;var w=this.state.isAnimationFinished,b=et("recharts-bar",o),x=s&&s.allowDataOverflow,v=l&&l.allowDataOverflow,j=x||v,N=wt(g)?this.id:g;return ge.createElement(Nn,{className:b},x||v?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(N)},ge.createElement("rect",{x:x?c:c-d/2,y:v?h:h-p/2,width:x?d:d*2,height:v?p:p*2}))):null,ge.createElement(Nn,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!f||w)&&os.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(se.PureComponent);oT=jh;Yo(jh,"displayName","Bar");Yo(jh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Oc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yo(jh,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,h=e.dataStartIndex,d=e.displayedData,p=e.offset,f=uee(r,n);if(!f)return null;var m=t.layout,g=n.type.defaultProps,w=g!==void 0?On(On({},g),n.props):n.props,b=w.dataKey,x=w.children,v=w.minPointSize,j=m==="horizontal"?o:i,N=c?j.scale.domain():null,A=yee({numericAxis:j}),k=Pa(x,L6),T=d.map(function(E,U){var C,P,I,M,W,L;c?C=cee(c[h+U],N):(C=sa(E,b),Array.isArray(C)||(C=[A,C]));var R=Nie(v,oT.defaultProps.minPointSize)(C[1],U);if(m==="horizontal"){var B,z=[o.scale(C[0]),o.scale(C[1])],Y=z[0],ie=z[1];P=k4({axis:i,ticks:s,bandSize:a,offset:f.offset,entry:E,index:U}),I=(B=ie??Y)!==null&&B!==void 0?B:void 0,M=f.size;var _=Y-ie;if(W=Number.isNaN(_)?0:_,L={x:P,y:o.y,width:M,height:o.height},Math.abs(R)>0&&Math.abs(W)<Math.abs(R)){var D=ri(W||R)*(Math.abs(R)-Math.abs(W));I-=D,W+=D}}else{var q=[i.scale(C[0]),i.scale(C[1])],te=q[0],H=q[1];if(P=te,I=k4({axis:o,ticks:l,bandSize:a,offset:f.offset,entry:E,index:U}),M=H-te,W=f.size,L={x:i.x,y:I,width:i.width,height:W},Math.abs(R)>0&&Math.abs(M)<Math.abs(R)){var Z=ri(M||R)*(Math.abs(R)-Math.abs(M));M+=Z}}return On(On(On({},E),{},{x:P,y:I,width:M,height:W,value:c?C:C[1],payload:E,background:L},k&&k[U]&&k[U].props),{},{tooltipPayload:[BO(n,E)],tooltipPosition:{x:P+M/2,y:I+W/2}})});return On({data:T,layout:m},p)});function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function Lie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uT(r.key),r)}}function Mie(e,t,n){return t&&Pj(e.prototype,t),n&&Pj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){H0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H0(e,t,n){return t=uT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uT(e){var t=Die(e,"string");return ah(t)=="symbol"?t:t+""}function Die(e,t){if(ah(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iie=function(t,n,r,a,i){var o=t.width,s=t.height,l=t.layout,c=t.children,h=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!ta(c,jh);return h.reduce(function(f,m){var g=n[m],w=g.orientation,b=g.domain,x=g.padding,v=x===void 0?{}:x,j=g.mirror,N=g.reversed,A="".concat(w).concat(j?"Mirror":""),k,T,E,U,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=b[1]-b[0],I=1/0,M=g.categoricalDomain.sort(UR);if(M.forEach(function(q,te){te>0&&(I=Math.min((q||0)-(M[te-1]||0),I))}),Number.isFinite(I)){var W=I/P,L=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(k=W*L/2),g.padding==="no-gap"){var R=vl(t.barCategoryGap,W*L),B=W*L/2;k=B-R-(B-R)/L*R}}}a==="xAxis"?T=[r.left+(v.left||0)+(k||0),r.left+r.width-(v.right||0)-(k||0)]:a==="yAxis"?T=l==="horizontal"?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(k||0),r.top+r.height-(v.bottom||0)-(k||0)]:T=g.range,N&&(T=[T[1],T[0]]);var z=see(g,i,p),Y=z.scale,ie=z.realScaleType;Y.domain(b).range(T),lee(Y);var _=gee(Y,Qa(Qa({},g),{},{realScaleType:ie}));a==="xAxis"?(C=w==="top"&&!j||w==="bottom"&&j,E=r.left,U=d[A]-C*g.height):a==="yAxis"&&(C=w==="left"&&!j||w==="right"&&j,E=d[A]-C*g.width,U=r.top);var D=Qa(Qa(Qa({},g),_),{},{realScaleType:ie,x:E,y:U,scale:Y,width:a==="xAxis"?r.width:g.width,height:a==="yAxis"?r.height:g.height});return D.bandSize=hg(D,_),!g.hide&&a==="xAxis"?d[A]+=(C?-1:1)*D.height:g.hide||(d[A]+=(C?-1:1)*D.width),Qa(Qa({},f),{},H0({},m,D))},{})},cT=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},$ie=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return cT({x:n,y:r},{x:a,y:i})},dT=function(){function e(t){Lie(this,e),this.scale=t}return Mie(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();H0(dT,"EPS",1e-4);var Uw=function(t){var n=Object.keys(t).reduce(function(r,a){return Qa(Qa({},r),{},H0({},a,dT.create(t[a])))},{});return Qa(Qa({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return rie(a,function(l,c){return n[c].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return iT(a,function(i,o){return n[o].isInRange(i)})}})};function Rie(e){return(e%180+180)%180}var Bie=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Rie(a),o=i*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Wie=ys,Uie=vh,zie=C0;function Hie(e){return function(t,n,r){var a=Object(t);if(!Uie(t)){var i=Wie(n);t=zie(t),n=function(s){return i(a[s],s,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var qie=Hie,Gie=tT;function Vie(e){var t=Gie(e),n=t%1;return t===t?n?t-n:t:0}var Kie=Vie,Yie=x6,Xie=ys,Jie=Kie,Qie=Math.max;function Zie(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:Jie(n);return a<0&&(a=Qie(r+a,0)),Yie(e,Xie(t),a)}var eoe=Zie,toe=qie,noe=eoe,roe=toe(noe),aoe=roe;const ioe=Rt(aoe);var ooe=q$(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),zw=se.createContext(void 0),Hw=se.createContext(void 0),fT=se.createContext(void 0),hT=se.createContext({}),pT=se.createContext(void 0),mT=se.createContext(0),gT=se.createContext(0),Oj=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,h=ooe(i);return ge.createElement(zw.Provider,{value:r},ge.createElement(Hw.Provider,{value:a},ge.createElement(hT.Provider,{value:i},ge.createElement(fT.Provider,{value:h},ge.createElement(pT.Provider,{value:o},ge.createElement(mT.Provider,{value:c},ge.createElement(gT.Provider,{value:l},s)))))))},soe=function(){return se.useContext(pT)},yT=function(t){var n=se.useContext(zw);n==null&&bl();var r=n[t];return r==null&&bl(),r},loe=function(){var t=se.useContext(zw);return Ho(t)},uoe=function(){var t=se.useContext(Hw),n=ioe(t,function(r){return iT(r.domain,Number.isFinite)});return n||Ho(t)},vT=function(t){var n=se.useContext(Hw);n==null&&bl();var r=n[t];return r==null&&bl(),r},coe=function(){var t=se.useContext(fT);return t},doe=function(){return se.useContext(hT)},qw=function(){return se.useContext(gT)},Gw=function(){return se.useContext(mT)};function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function foe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hoe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bT(r.key),r)}}function poe(e,t,n){return t&&hoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function moe(e,t,n){return t=Pg(t),goe(e,xT()?Reflect.construct(t,n||[],Pg(e).constructor):t.apply(e,n))}function goe(e,t){if(t&&(sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yoe(e)}function yoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xT=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(e)}function voe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f2(e,t)}function f2(e,t){return f2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},f2(e,t)}function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){Vw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vw(e,t,n){return t=bT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bT(e){var t=xoe(e,"string");return sc(t)=="symbol"?t:t+""}function xoe(e,t){if(sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function boe(e,t){return joe(e)||Noe(e,t)||Soe(e,t)||woe()}function woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Soe(e,t){if(e){if(typeof e=="string")return _j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _j(e,t)}}function _j(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Noe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function joe(e){if(Array.isArray(e))return e}function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h2.apply(this,arguments)}var koe=function(t,n){var r;return ge.isValidElement(t)?r=ge.cloneElement(t,n):xt(t)?r=t(n):r=ge.createElement("line",h2({},n,{className:"recharts-reference-line-line"})),r},Aoe=function(t,n,r,a,i,o,s,l,c){var h=i.x,d=i.y,p=i.width,f=i.height;if(r){var m=c.y,g=t.y.apply(m,{position:o});if(Fi(c,"discard")&&!t.y.isInRange(g))return null;var w=[{x:h+p,y:g},{x:h,y:g}];return l==="left"?w.reverse():w}if(n){var b=c.x,x=t.x.apply(b,{position:o});if(Fi(c,"discard")&&!t.x.isInRange(x))return null;var v=[{x,y:d+f},{x,y:d}];return s==="top"?v.reverse():v}if(a){var j=c.segment,N=j.map(function(A){return t.apply(A,{position:o})});return Fi(c,"discard")&&Yae(N,function(A){return!t.isInRange(A)})?null:N}return null};function Poe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=soe(),h=yT(a),d=vT(i),p=coe();if(!c||!p)return null;ao(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Uw({x:h.scale,y:d.scale}),m=Rn(t),g=Rn(n),w=r&&r.length===2,b=Aoe(f,m,g,w,p,e.position,h.orientation,d.orientation,e);if(!b)return null;var x=boe(b,2),v=x[0],j=v.x,N=v.y,A=x[1],k=A.x,T=A.y,E=Fi(e,"hidden")?"url(#".concat(c,")"):void 0,U=Fj(Fj({clipPath:E},jt(e,!0)),{},{x1:j,y1:N,x2:k,y2:T});return ge.createElement(Nn,{className:et("recharts-reference-line",s)},koe(o,U),yr.renderCallByParent(e,$ie({x1:j,y1:N,x2:k,y2:T})))}var Kw=function(e){function t(){return foe(this,t),moe(this,t,arguments)}return voe(t,e),poe(t,[{key:"render",value:function(){return ge.createElement(Poe,this.props)}}])}(ge.Component);Vw(Kw,"displayName","ReferenceLine");Vw(Kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function p2(){return p2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p2.apply(this,arguments)}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){q0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Coe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ooe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ST(r.key),r)}}function Toe(e,t,n){return t&&Ooe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Foe(e,t,n){return t=Cg(t),_oe(e,wT()?Reflect.construct(t,n||[],Cg(e).constructor):t.apply(e,n))}function _oe(e,t){if(t&&(lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eoe(e)}function Eoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wT=function(){return!!e})()}function Cg(e){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(e)}function Loe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m2(e,t)}function m2(e,t){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},m2(e,t)}function q0(e,t,n){return t=ST(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ST(e){var t=Moe(e,"string");return lc(t)=="symbol"?t:t+""}function Moe(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Doe=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=Uw({x:a.scale,y:i.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Fi(t,"discard")&&!o.isInRange(s)?null:s},G0=function(e){function t(){return Coe(this,t),Foe(this,t,arguments)}return Loe(t,e),Toe(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,c=Rn(a),h=Rn(i);if(ao(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!h)return null;var d=Doe(this.props);if(!d)return null;var p=d.x,f=d.y,m=this.props,g=m.shape,w=m.className,b=Fi(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=Lj(Lj({clipPath:b},jt(this.props,!0)),{},{cx:p,cy:f});return ge.createElement(Nn,{className:et("recharts-reference-dot",w)},t.renderDot(g,x),yr.renderCallByParent(this.props,{x:p-o,y:f-o,width:2*o,height:2*o}))}}])}(ge.Component);q0(G0,"displayName","ReferenceDot");q0(G0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});q0(G0,"renderDot",function(e,t){var n;return ge.isValidElement(e)?n=ge.cloneElement(e,t):xt(e)?n=e(t):n=ge.createElement(Ww,p2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function g2(){return g2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g2.apply(this,arguments)}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Dj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(n),!0).forEach(function(r){V0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ioe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jT(r.key),r)}}function Roe(e,t,n){return t&&$oe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Boe(e,t,n){return t=Og(t),Woe(e,NT()?Reflect.construct(t,n||[],Og(e).constructor):t.apply(e,n))}function Woe(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uoe(e)}function Uoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NT=function(){return!!e})()}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(e)}function zoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y2(e,t)}function y2(e,t){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},y2(e,t)}function V0(e,t,n){return t=jT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jT(e){var t=Hoe(e,"string");return uc(t)=="symbol"?t:t+""}function Hoe(e,t){if(uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qoe=function(t,n,r,a,i){var o=i.x1,s=i.x2,l=i.y1,c=i.y2,h=i.xAxis,d=i.yAxis;if(!h||!d)return null;var p=Uw({x:h.scale,y:d.scale}),f={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},m={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(c,{position:"end"}):p.y.rangeMax};return Fi(i,"discard")&&(!p.isInRange(f)||!p.isInRange(m))?null:cT(f,m)},K0=function(e){function t(){return Ioe(this,t),Boe(this,t,arguments)}return zoe(t,e),Roe(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,h=r.clipPathId;ao(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Rn(a),p=Rn(i),f=Rn(o),m=Rn(s),g=this.props.shape;if(!d&&!p&&!f&&!m&&!g)return null;var w=qoe(d,p,f,m,this.props);if(!w&&!g)return null;var b=Fi(this.props,"hidden")?"url(#".concat(h,")"):void 0;return ge.createElement(Nn,{className:et("recharts-reference-area",l)},t.renderRect(g,Dj(Dj({clipPath:b},jt(this.props,!0)),w)),yr.renderCallByParent(this.props,w))}}])}(ge.Component);V0(K0,"displayName","ReferenceArea");V0(K0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});V0(K0,"renderRect",function(e,t){var n;return ge.isValidElement(e)?n=ge.cloneElement(e,t):xt(e)?n=e(t):n=ge.createElement(Bw,g2({},t,{className:"recharts-reference-area-rect"})),n});function kT(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function Goe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Bie(r,n)}function Voe(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function Tg(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function Koe(e,t){return kT(e,t+1)}function Yoe(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,s=t.end,l=0,c=1,h=o,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:kT(r,c)};var g=l,w,b=function(){return w===void 0&&(w=n(m,g)),w},x=m.coordinate,v=l===0||Tg(e,x,b,h,s);v||(l=0,h=o,c+=1),v&&(h=x+e*(b()/2+a),l+=c)},p;c<=i.length;)if(p=d(),p)return p.v;return[]}function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function Ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(n),!0).forEach(function(r){Xoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xoe(e,t,n){return t=Joe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Joe(e){var t=Qoe(e,"string");return ih(t)=="symbol"?t:t+""}function Qoe(e,t){if(ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zoe(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(p){var f=i[p],m,g=function(){return m===void 0&&(m=n(f,p)),m};if(p===o-1){var w=e*(f.coordinate+e*g()/2-l);i[p]=f=pr(pr({},f),{},{tickCoord:w>0?f.coordinate-w*e:f.coordinate})}else i[p]=f=pr(pr({},f),{},{tickCoord:f.coordinate});var b=Tg(e,f.tickCoord,g,s,l);b&&(l=f.tickCoord-e*(g()/2+a),i[p]=pr(pr({},f),{},{isShow:!0}))},h=o-1;h>=0;h--)c(h);return i}function ese(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var h=r[s-1],d=n(h,s-1),p=e*(h.coordinate+e*d/2-c);o[s-1]=h=pr(pr({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate});var f=Tg(e,h.tickCoord,function(){return d},l,c);f&&(c=h.tickCoord-e*(d/2+a),o[s-1]=pr(pr({},h),{},{isShow:!0}))}for(var m=i?s-1:s,g=function(x){var v=o[x],j,N=function(){return j===void 0&&(j=n(v,x)),j};if(x===0){var A=e*(v.coordinate-e*N()/2-l);o[x]=v=pr(pr({},v),{},{tickCoord:A<0?v.coordinate-A*e:v.coordinate})}else o[x]=v=pr(pr({},v),{},{tickCoord:v.coordinate});var k=Tg(e,v.tickCoord,N,l,c);k&&(l=v.tickCoord+e*(N()/2+a),o[x]=pr(pr({},v),{},{isShow:!0}))},w=0;w<m;w++)g(w);return o}function Yw(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,h=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(ze(l)||Oc.isSsr)return Koe(a,typeof l=="number"&&ze(l)?l:0);var p=[],f=s==="top"||s==="bottom"?"width":"height",m=h&&f==="width"?Yd(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(v,j){var N=xt(c)?c(v.value,j):v.value;return f==="width"?Goe(Yd(N,{fontSize:t,letterSpacing:n}),m,d):Yd(N,{fontSize:t,letterSpacing:n})[f]},w=a.length>=2?ri(a[1].coordinate-a[0].coordinate):1,b=Voe(i,w,f);return l==="equidistantPreserveStart"?Yoe(w,b,g,a,o):(l==="preserveStart"||l==="preserveStartEnd"?p=ese(w,b,g,a,o,l==="preserveStartEnd"):p=Zoe(w,b,g,a,o),p.filter(function(x){return x.isShow}))}var tse=["viewBox"],nse=["viewBox"],rse=["ticks"];function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ou.apply(this,arguments)}function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){Xw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hv(e,t){if(e==null)return{};var n=ase(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ase(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PT(r.key),r)}}function ose(e,t,n){return t&&Rj(e.prototype,t),n&&Rj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sse(e,t,n){return t=Fg(t),lse(e,AT()?Reflect.construct(t,n||[],Fg(e).constructor):t.apply(e,n))}function lse(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return use(e)}function use(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AT=function(){return!!e})()}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fg(e)}function cse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v2(e,t)}function v2(e,t){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},v2(e,t)}function Xw(e,t,n){return t=PT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PT(e){var t=dse(e,"string");return cc(t)=="symbol"?t:t+""}function dse(e,t){if(cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ec=function(e){function t(n){var r;return ise(this,t),r=sse(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return cse(t,e),ose(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=Hv(r,tse),s=this.props,l=s.viewBox,c=Hv(s,nse);return!Iu(i,l)||!Iu(o,c)||!Iu(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,c=a.orientation,h=a.tickSize,d=a.mirror,p=a.tickMargin,f,m,g,w,b,x,v=d?-1:1,j=r.tickSize||h,N=ze(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":f=m=r.coordinate,w=o+ +!d*l,g=w-v*j,x=g-v*p,b=N;break;case"left":g=w=r.coordinate,m=i+ +!d*s,f=m-v*j,b=f-v*p,x=N;break;case"right":g=w=r.coordinate,m=i+ +d*s,f=m+v*j,b=f+v*p,x=N;break;default:f=m=r.coordinate,w=o+ +d*l,g=w+v*j,x=g+v*p,b=N;break}return{line:{x1:f,y1:g,x2:m,y2:w},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,h=r.axisLine,d=Ln(Ln(Ln({},jt(this.props,!1)),jt(h,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);d=Ln(Ln({},d),{},{x1:a,y1:i+p*s,x2:a+o,y2:i+p*s})}else{var f=+(l==="left"&&!c||l==="right"&&c);d=Ln(Ln({},d),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+s})}return ge.createElement("line",Ou({},d,{className:et("recharts-cartesian-axis-line",Aa(h,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,s=this.props,l=s.tickLine,c=s.stroke,h=s.tick,d=s.tickFormatter,p=s.unit,f=Yw(Ln(Ln({},this.props),{},{ticks:r}),a,i),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),w=jt(this.props,!1),b=jt(h,!1),x=Ln(Ln({},w),{},{fill:"none"},jt(l,!1)),v=f.map(function(j,N){var A=o.getTickLineCoord(j),k=A.line,T=A.tick,E=Ln(Ln(Ln(Ln({textAnchor:m,verticalAnchor:g},w),{},{stroke:"none",fill:c},b),T),{},{index:N,payload:j,visibleTicksCount:f.length,tickFormatter:d});return ge.createElement(Nn,Ou({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Rm(o.props,j,N)),l&&ge.createElement("line",Ou({},x,k,{className:et("recharts-cartesian-axis-tick-line",Aa(l,"className"))})),h&&t.renderTickItem(h,E,"".concat(xt(d)?d(j.value,N):j.value).concat(p||"")))});return ge.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,c=a.className,h=a.hide;if(h)return null;var d=this.props,p=d.ticks,f=Hv(d,rse),m=p;return xt(l)&&(m=p&&p.length>0?l(this.props):l(f)),o<=0||s<=0||!m||!m.length?null:ge.createElement(Nn,{className:et("recharts-cartesian-axis",c),ref:function(w){r.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),yr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,s=et(a.className,"recharts-cartesian-axis-tick-value");return ge.isValidElement(r)?o=ge.cloneElement(r,Ln(Ln({},a),{},{className:s})):xt(r)?o=r(Ln(Ln({},a),{},{className:s})):o=ge.createElement(Zm,Ou({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(se.Component);Xw(Ec,"displayName","CartesianAxis");Xw(Ec,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fse=["x1","y1","x2","y2","key"],hse=["offset"];function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(n),!0).forEach(function(r){pse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pse(e,t,n){return t=mse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mse(e){var t=gse(e,"string");return wl(t)=="symbol"?t:t+""}function gse(e,t){if(wl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(this,arguments)}function Wj(e,t){if(e==null)return{};var n=yse(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var vse=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return ge.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function CT(e,t){var n;if(ge.isValidElement(e))n=ge.cloneElement(e,t);else if(xt(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=Wj(t,fse),c=jt(l,!1);c.offset;var h=Wj(c,hse);n=ge.createElement("line",Js({},h,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:s}))}return n}function xse(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var c=vr(vr({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return CT(a,c)});return ge.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function bse(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var c=vr(vr({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return CT(a,c)});return ge.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function wse(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var h=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,f){return p-f});a!==h[0]&&h.unshift(0);var d=h.map(function(p,f){var m=!h[f+1],g=m?a+o-p:h[f+1]-p;if(g<=0)return null;var w=f%t.length;return ge.createElement("rect",{key:"react-".concat(f),y:p,x:r,height:g,width:i,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Sse(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var h=c.map(function(p){return Math.round(p+i-i)}).sort(function(p,f){return p-f});i!==h[0]&&h.unshift(0);var d=h.map(function(p,f){var m=!h[f+1],g=m?i+s-p:h[f+1]-p;if(g<=0)return null;var w=f%r.length;return ge.createElement("rect",{key:"react-".concat(f),x:p,y:o,width:g,height:l,stroke:"none",fill:r[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Nse=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return $O(Yw(vr(vr(vr({},Ec.defaultProps),r),{},{ticks:to(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},jse=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return $O(Yw(vr(vr(vr({},Ec.defaultProps),r),{},{ticks:to(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},lu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function OT(e){var t,n,r,a,i,o,s=qw(),l=Gw(),c=doe(),h=vr(vr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:lu.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:lu.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:lu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:lu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:lu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:lu.verticalFill,x:ze(e.x)?e.x:c.left,y:ze(e.y)?e.y:c.top,width:ze(e.width)?e.width:c.width,height:ze(e.height)?e.height:c.height}),d=h.x,p=h.y,f=h.width,m=h.height,g=h.syncWithTicks,w=h.horizontalValues,b=h.verticalValues,x=loe(),v=uoe();if(!ze(f)||f<=0||!ze(m)||m<=0||!ze(d)||d!==+d||!ze(p)||p!==+p)return null;var j=h.verticalCoordinatesGenerator||Nse,N=h.horizontalCoordinatesGenerator||jse,A=h.horizontalPoints,k=h.verticalPoints;if((!A||!A.length)&&xt(N)){var T=w&&w.length,E=N({yAxis:v?vr(vr({},v),{},{ticks:T?w:v.ticks}):void 0,width:s,height:l,offset:c},T?!0:g);ao(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wl(E),"]")),Array.isArray(E)&&(A=E)}if((!k||!k.length)&&xt(j)){var U=b&&b.length,C=j({xAxis:x?vr(vr({},x),{},{ticks:U?b:x.ticks}):void 0,width:s,height:l,offset:c},U?!0:g);ao(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wl(C),"]")),Array.isArray(C)&&(k=C)}return ge.createElement("g",{className:"recharts-cartesian-grid"},ge.createElement(vse,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),ge.createElement(xse,Js({},h,{offset:c,horizontalPoints:A,xAxis:x,yAxis:v})),ge.createElement(bse,Js({},h,{offset:c,verticalPoints:k,xAxis:x,yAxis:v})),ge.createElement(wse,Js({},h,{horizontalPoints:A})),ge.createElement(Sse,Js({},h,{verticalPoints:k})))}OT.displayName="CartesianGrid";var kse=["type","layout","connectNulls","ref"],Ase=["key"];function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Uj(e,t){if(e==null)return{};var n=Pse(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Pse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(this,arguments)}function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){Za(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uu(e){return Fse(e)||Tse(e)||Ose(e)||Cse()}function Cse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ose(e,t){if(e){if(typeof e=="string")return x2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x2(e,t)}}function Tse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fse(e){if(Array.isArray(e))return x2(e)}function x2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FT(r.key),r)}}function Ese(e,t,n){return t&&Hj(e.prototype,t),n&&Hj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lse(e,t,n){return t=_g(t),Mse(e,TT()?Reflect.construct(t,n||[],_g(e).constructor):t.apply(e,n))}function Mse(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dse(e)}function Dse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TT=function(){return!!e})()}function _g(e){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(e)}function Ise(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b2(e,t)}function b2(e,t){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},b2(e,t)}function Za(e,t,n){return t=FT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FT(e){var t=$se(e,"string");return dc(t)=="symbol"?t:t+""}function $se(e,t){if(dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jr=function(e){function t(){var n;_se(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Lse(this,t,[].concat(a)),Za(n,"state",{isAnimationFinished:!0,totalLength:0}),Za(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Za(n,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(b,x){return b+x});if(!c)return n.generateSimpleStrokeDasharray(s,o);for(var h=Math.floor(o/c),d=o%c,p=s-o,f=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>d){f=[].concat(uu(l.slice(0,m)),[d-g]);break}var w=f.length%2===0?[0,p]:[p];return[].concat(uu(t.repeat(l,h)),uu(f),w).map(function(b){return"".concat(b,"px")}).join(", ")}),Za(n,"id",yh("recharts-line-")),Za(n,"pathRef",function(o){n.mainCurve=o}),Za(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Za(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ise(t,e),Ese(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,l=i.yAxis,c=i.layout,h=i.children,d=Pa(h,Nh);if(!d)return null;var p=function(g,w){return{x:g.x,y:g.y,value:g.value,errorVal:sa(g.payload,w)}},f={clipPath:r?"url(#clipPath-".concat(a,")"):null};return ge.createElement(Nn,f,d.map(function(m){return ge.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,h=s.dataKey,d=jt(this.props,!1),p=jt(l,!0),f=c.map(function(g,w){var b=Qr(Qr(Qr({key:"dot-".concat(w),r:3},d),p),{},{index:w,cx:g.x,cy:g.y,value:g.value,dataKey:h,payload:g.payload,points:c});return t.renderDotItem(l,b)}),m={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ge.createElement(Nn,Zd({className:"recharts-line-dots",key:"dots"},m),f)}},{key:"renderCurveStatically",value:function(r,a,i,o){var s=this.props,l=s.type,c=s.layout,h=s.connectNulls;s.ref;var d=Uj(s,kse),p=Qr(Qr(Qr({},jt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:h});return ge.createElement(Jx,Zd({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,h=o.animationBegin,d=o.animationDuration,p=o.animationEasing,f=o.animationId,m=o.animateNewValues,g=o.width,w=o.height,b=this.state,x=b.prevPoints,v=b.totalLength;return ge.createElement(po,{begin:h,duration:d,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var N=j.t;if(x){var A=x.length/s.length,k=s.map(function(P,I){var M=Math.floor(I*A);if(x[M]){var W=x[M],L=ti(W.x,P.x),R=ti(W.y,P.y);return Qr(Qr({},P),{},{x:L(N),y:R(N)})}if(m){var B=ti(g*2,P.x),z=ti(w/2,P.y);return Qr(Qr({},P),{},{x:B(N),y:z(N)})}return Qr(Qr({},P),{},{x:P.x,y:P.y})});return i.renderCurveStatically(k,r,a)}var T=ti(0,v),E=T(N),U;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});U=i.getStrokeDasharray(E,v,C)}else U=i.generateSimpleStrokeDasharray(v,E);return i.renderCurveStatically(s,r,a,{strokeDasharray:U})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,s=i.isAnimationActive,l=this.state,c=l.prevPoints,h=l.totalLength;return s&&o&&o.length&&(!c&&h>0||!R0(c,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,c=a.xAxis,h=a.yAxis,d=a.top,p=a.left,f=a.width,m=a.height,g=a.isAnimationActive,w=a.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,x=s.length===1,v=et("recharts-line",l),j=c&&c.allowDataOverflow,N=h&&h.allowDataOverflow,A=j||N,k=wt(w)?this.id:w,T=(r=jt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},E=T.r,U=E===void 0?3:E,C=T.strokeWidth,P=C===void 0?2:C,I=JR(o)?o:{},M=I.clipDot,W=M===void 0?!0:M,L=U*2+P;return ge.createElement(Nn,{className:v},j||N?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(k)},ge.createElement("rect",{x:j?p:p-f/2,y:N?d:d-m/2,width:j?f:f*2,height:N?m:m*2})),!W&&ge.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ge.createElement("rect",{x:p-L/2,y:d-L/2,width:f+L,height:m+L}))):null,!x&&this.renderCurve(A,k),this.renderErrorBar(A,k),(x||o)&&this.renderDots(A,W,k),(!g||b)&&os.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(uu(r),[0]):r,o=[],s=0;s<a;++s)o=[].concat(uu(o),uu(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(ge.isValidElement(r))i=ge.cloneElement(r,a);else if(xt(r))i=r(a);else{var o=a.key,s=Uj(a,Ase),l=et("recharts-line-dot",typeof r!="boolean"?r.className:"");i=ge.createElement(Ww,Zd({key:o},s,{className:l}))}return i}}])}(se.PureComponent);Za(jr,"displayName","Line");Za(jr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Oc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Za(jr,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,h=t.layout,d=l.map(function(p,f){var m=sa(p,o);return h==="horizontal"?{x:j4({axis:n,ticks:a,bandSize:s,entry:p,index:f}),y:wt(m)?null:r.scale(m),value:m,payload:p}:{x:wt(m)?null:n.scale(m),y:j4({axis:r,ticks:i,bandSize:s,entry:p,index:f}),value:m,payload:p}});return Qr({points:d,layout:h},c)});function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Rse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LT(r.key),r)}}function Wse(e,t,n){return t&&Bse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Use(e,t,n){return t=Eg(t),zse(e,_T()?Reflect.construct(t,n||[],Eg(e).constructor):t.apply(e,n))}function zse(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hse(e)}function Hse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_T=function(){return!!e})()}function Eg(e){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(e)}function qse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w2(e,t)}function w2(e,t){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},w2(e,t)}function ET(e,t,n){return t=LT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LT(e){var t=Gse(e,"string");return fc(t)=="symbol"?t:t+""}function Gse(e,t){if(fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S2.apply(this,arguments)}function Vse(e){var t=e.xAxisId,n=qw(),r=Gw(),a=yT(t);return a==null?null:se.createElement(Ec,S2({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return to(o,!0)}}))}var Y0=function(e){function t(){return Rse(this,t),Use(this,t,arguments)}return qse(t,e),Wse(t,[{key:"render",value:function(){return se.createElement(Vse,this.props)}}])}(se.Component);ET(Y0,"displayName","XAxis");ET(Y0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IT(r.key),r)}}function Xse(e,t,n){return t&&Yse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jse(e,t,n){return t=Lg(t),Qse(e,MT()?Reflect.construct(t,n||[],Lg(e).constructor):t.apply(e,n))}function Qse(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zse(e)}function Zse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MT=function(){return!!e})()}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(e)}function ele(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N2(e,t)}function N2(e,t){return N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},N2(e,t)}function DT(e,t,n){return t=IT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IT(e){var t=tle(e,"string");return hc(t)=="symbol"?t:t+""}function tle(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j2.apply(this,arguments)}var nle=function(t){var n=t.yAxisId,r=qw(),a=Gw(),i=vT(n);return i==null?null:se.createElement(Ec,j2({},i,{className:et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(s){return to(s,!0)}}))},X0=function(e){function t(){return Kse(this,t),Jse(this,t,arguments)}return ele(t,e),Xse(t,[{key:"render",value:function(){return se.createElement(nle,this.props)}}])}(se.Component);DT(X0,"displayName","YAxis");DT(X0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qj(e){return ole(e)||ile(e)||ale(e)||rle()}function rle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(e,t){if(e){if(typeof e=="string")return k2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k2(e,t)}}function ile(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ole(e){if(Array.isArray(e))return k2(e)}function k2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A2=function(t,n,r,a,i){var o=Pa(t,Kw),s=Pa(t,G0),l=[].concat(qj(o),qj(s)),c=Pa(t,K0),h="".concat(a,"Id"),d=a[0],p=n;if(l.length&&(p=l.reduce(function(g,w){if(w.props[h]===r&&Fi(w.props,"extendDomain")&&ze(w.props[d])){var b=w.props[d];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},p)),c.length){var f="".concat(d,"1"),m="".concat(d,"2");p=c.reduce(function(g,w){if(w.props[h]===r&&Fi(w.props,"extendDomain")&&ze(w.props[f])&&ze(w.props[m])){var b=w.props[f],x=w.props[m];return[Math.min(g[0],b,x),Math.max(g[1],b,x)]}return g},p)}return i&&i.length&&(p=i.reduce(function(g,w){return ze(w)?[Math.min(g[0],w),Math.max(g[1],w)]:g},p)),p},$T={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function i(l,c,h,d,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var f=new a(h,d||l,p),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)t.call(h,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},s.prototype.listeners=function(c){var h=n?n+c:c,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,f=d.length,m=new Array(f);p<f;p++)m[p]=d[p].fn;return m},s.prototype.listenerCount=function(c){var h=n?n+c:c,d=this._events[h];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,h,d,p,f,m){var g=n?n+c:c;if(!this._events[g])return!1;var w=this._events[g],b=arguments.length,x,v;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,d),!0;case 4:return w.fn.call(w.context,h,d,p),!0;case 5:return w.fn.call(w.context,h,d,p,f),!0;case 6:return w.fn.call(w.context,h,d,p,f,m),!0}for(v=1,x=new Array(b-1);v<b;v++)x[v-1]=arguments[v];w.fn.apply(w.context,x)}else{var j=w.length,N;for(v=0;v<j;v++)switch(w[v].once&&this.removeListener(c,w[v].fn,void 0,!0),b){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,h);break;case 3:w[v].fn.call(w[v].context,h,d);break;case 4:w[v].fn.call(w[v].context,h,d,p);break;default:if(!x)for(N=1,x=new Array(b-1);N<b;N++)x[N-1]=arguments[N];w[v].fn.apply(w[v].context,x)}}return!0},s.prototype.on=function(c,h,d){return i(this,c,h,d,!1)},s.prototype.once=function(c,h,d){return i(this,c,h,d,!0)},s.prototype.removeListener=function(c,h,d,p){var f=n?n+c:c;if(!this._events[f])return this;if(!h)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===h&&(!p||m.once)&&(!d||m.context===d)&&o(this,f);else{for(var g=0,w=[],b=m.length;g<b;g++)(m[g].fn!==h||p&&!m[g].once||d&&m[g].context!==d)&&w.push(m[g]);w.length?this._events[f]=w.length===1?w[0]:w:o(this,f)}return this},s.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})($T);var sle=$T.exports;const lle=Rt(sle);var qv=new lle,Gv="recharts.syncMouseEvents";function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}function ule(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RT(r.key),r)}}function dle(e,t,n){return t&&cle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vv(e,t,n){return t=RT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RT(e){var t=fle(e,"string");return oh(t)=="symbol"?t:t+""}function fle(e,t){if(oh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hle=function(){function e(){ule(this,e),Vv(this,"activeIndex",0),Vv(this,"coordinateList",[]),Vv(this,"layout","horizontal")}return dle(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,s=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,h=n.offset,d=h===void 0?null:h,p=n.mouseHandlerCallback,f=p===void 0?null:p;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=i+l+c,p=o+this.offset.top+s/2+h;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])}();function ple(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&ze(r)&&ze(a))return!0}return!1}function mle(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function BT(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=tr(t,n,r,a),s=tr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function gle(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,h=t.outerRadius,d=t.angle,p=tr(s,l,c,d),f=tr(s,l,h,d);r=p.x,a=p.y,i=f.x,o=f.y}else return BT(t);return[{x:r,y:a},{x:i,y:o}]}function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(r){yle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yle(e,t,n){return t=vle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vle(e){var t=xle(e,"string");return sh(t)=="symbol"?t:t+""}function xle(e,t){if(sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ble(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,h=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,f=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!f||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var m,g=Jx;if(p==="ScatterChart")m=o,g=xre;else if(p==="BarChart")m=mle(d,o,l,h),g=Bw;else if(d==="radial"){var w=BT(o),b=w.cx,x=w.cy,v=w.radius,j=w.startAngle,N=w.endAngle;m={cx:b,cy:x,startAngle:j,endAngle:N,innerRadius:v,outerRadius:v},g=zO}else m={points:gle(d,o,l)},g=Jx;var A=Hp(Hp(Hp(Hp({stroke:"#ccc",pointerEvents:"none"},l),m),jt(f,!1)),{},{payload:s,payloadIndex:c,className:et("recharts-tooltip-cursor",f.className)});return se.isValidElement(f)?se.cloneElement(f,A):se.createElement(g,A)}var wle=["item"],Sle=["children","className","width","height","style","compact","title","desc"];function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tu.apply(this,arguments)}function Vj(e,t){return kle(e)||jle(e,t)||UT(e,t)||Nle()}function Nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jle(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(h){c=!0,a=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function kle(e){if(Array.isArray(e))return e}function Kj(e,t){if(e==null)return{};var n=Ale(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ale(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ple(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zT(r.key),r)}}function Ole(e,t,n){return t&&Cle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tle(e,t,n){return t=Mg(t),Fle(e,WT()?Reflect.construct(t,n||[],Mg(e).constructor):t.apply(e,n))}function Fle(e,t){if(t&&(pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _le(e)}function _le(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WT=function(){return!!e})()}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(e)}function Ele(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P2(e,t)}function P2(e,t){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},P2(e,t)}function mc(e){return Dle(e)||Mle(e)||UT(e)||Lle()}function Lle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UT(e,t){if(e){if(typeof e=="string")return C2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C2(e,t)}}function Mle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dle(e){if(Array.isArray(e))return C2(e)}function C2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(r){st(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function st(e,t,n){return t=zT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zT(e){var t=Ile(e,"string");return pc(t)=="symbol"?t:t+""}function Ile(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $le={xAxis:["bottom","top"],yAxis:["left","right"]},Rle={width:"100%",height:"100%"},HT={x:0,y:0};function qp(e){return e}var Ble=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Wle=function(t,n,r,a){var i=n.find(function(h){return h&&h.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return Ce(Ce(Ce({},a),tr(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,c=a.angle;return Ce(Ce(Ce({},a),tr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return HT},J0=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(mc(s),mc(c)):s},[]);return o.length>0?o:t&&t.length&&ze(a)&&ze(i)?t.slice(a,i+1):[]};function qT(e){return e==="number"?[0,"auto"]:void 0}var O2=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,s=J0(n,t);return r<0||!i||!i.length||r>=s.length?null:i.reduce(function(l,c){var h,d=(h=c.props.data)!==null&&h!==void 0?h:n;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?s:d;p=Im(f,o.dataKey,a)}else p=d&&d[r]||s[r];return p?[].concat(mc(l),[BO(c,p)]):l},[])},Xj=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=Ble(i,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,h=tee(o,s,c,l);if(h>=0&&c){var d=c[h]&&c[h].value,p=O2(t,n,h,d),f=Wle(r,s,h,i);return{activeTooltipIndex:h,activeLabel:d,activePayload:p,activeCoordinate:f}}return null},Ule=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=t.layout,d=t.children,p=t.stackOffset,f=IO(h,i);return r.reduce(function(m,g){var w,b=g.type.defaultProps!==void 0?Ce(Ce({},g.type.defaultProps),g.props):g.props,x=b.type,v=b.dataKey,j=b.allowDataOverflow,N=b.allowDuplicatedCategory,A=b.scale,k=b.ticks,T=b.includeHidden,E=b[o];if(m[E])return m;var U=J0(t.data,{graphicalItems:a.filter(function(_){var D,q=o in _.props?_.props[o]:(D=_.type.defaultProps)===null||D===void 0?void 0:D[o];return q===E}),dataStartIndex:l,dataEndIndex:c}),C=U.length,P,I,M;ple(b.domain,j,x)&&(P=Gx(b.domain,null,j),f&&(x==="number"||A!=="auto")&&(M=Jd(U,v,"category")));var W=qT(x);if(!P||P.length===0){var L,R=(L=b.domain)!==null&&L!==void 0?L:W;if(v){if(P=Jd(U,v,x),x==="category"&&f){var B=WR(P);N&&B?(I=P,P=Sg(0,C)):N||(P=C4(R,P,g).reduce(function(_,D){return _.indexOf(D)>=0?_:[].concat(mc(_),[D])},[]))}else if(x==="category")N?P=P.filter(function(_){return _!==""&&!wt(_)}):P=C4(R,P,g).reduce(function(_,D){return _.indexOf(D)>=0||D===""||wt(D)?_:[].concat(mc(_),[D])},[]);else if(x==="number"){var z=oee(U,a.filter(function(_){var D,q,te=o in _.props?_.props[o]:(D=_.type.defaultProps)===null||D===void 0?void 0:D[o],H="hide"in _.props?_.props.hide:(q=_.type.defaultProps)===null||q===void 0?void 0:q.hide;return te===E&&(T||!H)}),v,i,h);z&&(P=z)}f&&(x==="number"||A!=="auto")&&(M=Jd(U,v,"category"))}else f?P=Sg(0,C):s&&s[E]&&s[E].hasStack&&x==="number"?P=p==="expand"?[0,1]:RO(s[E].stackGroups,l,c):P=DO(U,a.filter(function(_){var D=o in _.props?_.props[o]:_.type.defaultProps[o],q="hide"in _.props?_.props.hide:_.type.defaultProps.hide;return D===E&&(T||!q)}),x,h,!0);if(x==="number")P=A2(d,P,E,i,k),R&&(P=Gx(R,P,j));else if(x==="category"&&R){var Y=R,ie=P.every(function(_){return Y.indexOf(_)>=0});ie&&(P=Y)}}return Ce(Ce({},m),{},st({},E,Ce(Ce({},b),{},{axisType:i,domain:P,categoricalDomain:M,duplicateDomain:I,originalDomain:(w=b.domain)!==null&&w!==void 0?w:W,isCategorical:f,layout:h})))},{})},zle=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=t.layout,d=t.children,p=J0(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),f=p.length,m=IO(h,i),g=-1;return r.reduce(function(w,b){var x=b.type.defaultProps!==void 0?Ce(Ce({},b.type.defaultProps),b.props):b.props,v=x[o],j=qT("number");if(!w[v]){g++;var N;return m?N=Sg(0,f):s&&s[v]&&s[v].hasStack?(N=RO(s[v].stackGroups,l,c),N=A2(d,N,v,i)):(N=Gx(j,DO(p,r.filter(function(A){var k,T,E=o in A.props?A.props[o]:(k=A.type.defaultProps)===null||k===void 0?void 0:k[o],U="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return E===v&&!U}),"number",h),a.defaultProps.allowDataOverflow),N=A2(d,N,v,i)),Ce(Ce({},w),{},st({},v,Ce(Ce({axisType:i},a.defaultProps),{},{hide:!0,orientation:Aa($le,"".concat(i,".").concat(g%2),null),domain:N,originalDomain:j,isCategorical:m,layout:h})))}return w},{})},Hle=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=t.children,d="".concat(a,"Id"),p=Pa(h,i),f={};return p&&p.length?f=Ule(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(f=zle(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),f},qle=function(t){var n=Ho(t),r=to(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:hw(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:hg(n,r)}},Jj=function(t){var n=t.children,r=t.defaultShowTooltip,a=ta(n,ic),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Gle=function(t){return!t||!t.length?!1:t.some(function(n){var r=ro(n&&n.type);return r&&r.indexOf("Bar")>=0})},Qj=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Vle=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,c=r.width,h=r.height,d=r.children,p=r.margin||{},f=ta(d,ic),m=ta(d,al),g=Object.keys(l).reduce(function(N,A){var k=l[A],T=k.orientation;return!k.mirror&&!k.hide?Ce(Ce({},N),{},st({},T,N[T]+k.width)):N},{left:p.left||0,right:p.right||0}),w=Object.keys(o).reduce(function(N,A){var k=o[A],T=k.orientation;return!k.mirror&&!k.hide?Ce(Ce({},N),{},st({},T,Aa(N,"".concat(T))+k.height)):N},{top:p.top||0,bottom:p.bottom||0}),b=Ce(Ce({},w),g),x=b.bottom;f&&(b.bottom+=f.props.height||ic.defaultProps.height),m&&n&&(b=aee(b,a,r,n));var v=c-b.left-b.right,j=h-b.top-b.bottom;return Ce(Ce({brushBottom:x},b),{},{width:Math.max(v,0),height:Math.max(j,0)})},Kle=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Yle=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,h=t.formatAxisMap,d=t.defaultProps,p=function(b,x){var v=x.graphicalItems,j=x.stackGroups,N=x.offset,A=x.updateId,k=x.dataStartIndex,T=x.dataEndIndex,E=b.barSize,U=b.layout,C=b.barGap,P=b.barCategoryGap,I=b.maxBarSize,M=Qj(U),W=M.numericAxisName,L=M.cateAxisName,R=Gle(v),B=[];return v.forEach(function(z,Y){var ie=J0(b.data,{graphicalItems:[z],dataStartIndex:k,dataEndIndex:T}),_=z.type.defaultProps!==void 0?Ce(Ce({},z.type.defaultProps),z.props):z.props,D=_.dataKey,q=_.maxBarSize,te=_["".concat(W,"Id")],H=_["".concat(L,"Id")],Z={},X=l.reduce(function(Re,Ie){var Fe=x["".concat(Ie.axisType,"Map")],De=_["".concat(Ie.axisType,"Id")];Fe&&Fe[De]||Ie.axisType==="zAxis"||bl();var Le=Fe[De];return Ce(Ce({},Re),{},st(st({},Ie.axisType,Le),"".concat(Ie.axisType,"Ticks"),to(Le)))},Z),G=X[L],ce=X["".concat(L,"Ticks")],ae=j&&j[te]&&j[te].hasStack&&vee(z,j[te].stackGroups),le=ro(z.type).indexOf("Bar")>=0,xe=hg(G,ce),be=[],de=R&&nee({barSize:E,stackGroups:j,totalSize:Kle(X,L)});if(le){var re,Pe,Te=wt(q)?I:q,ke=(re=(Pe=hg(G,ce,!0))!==null&&Pe!==void 0?Pe:Te)!==null&&re!==void 0?re:0;be=ree({barGap:C,barCategoryGap:P,bandSize:ke!==xe?ke:xe,sizeList:de[H],maxBarSize:Te}),ke!==xe&&(be=be.map(function(Re){return Ce(Ce({},Re),{},{position:Ce(Ce({},Re.position),{},{offset:Re.position.offset-ke/2})})}))}var Oe=z&&z.type&&z.type.getComposedData;Oe&&B.push({props:Ce(Ce({},Oe(Ce(Ce({},X),{},{displayedData:ie,props:b,dataKey:D,item:z,bandSize:xe,barPosition:be,offset:N,stackedData:ae,layout:U,dataStartIndex:k,dataEndIndex:T}))),{},st(st(st({key:z.key||"item-".concat(Y)},W,X[W]),L,X[L]),"animationId",A)),childIndex:e9(z,b.children),item:z})}),B},f=function(b,x){var v=b.props,j=b.dataStartIndex,N=b.dataEndIndex,A=b.updateId;if(!w3({props:v}))return null;var k=v.children,T=v.layout,E=v.stackOffset,U=v.data,C=v.reverseStackOrder,P=Qj(T),I=P.numericAxisName,M=P.cateAxisName,W=Pa(k,r),L=mee(U,W,"".concat(I,"Id"),"".concat(M,"Id"),E,C),R=l.reduce(function(_,D){var q="".concat(D.axisType,"Map");return Ce(Ce({},_),{},st({},q,Hle(v,Ce(Ce({},D),{},{graphicalItems:W,stackGroups:D.axisType===I&&L,dataStartIndex:j,dataEndIndex:N}))))},{}),B=Vle(Ce(Ce({},R),{},{props:v,graphicalItems:W}),x==null?void 0:x.legendBBox);Object.keys(R).forEach(function(_){R[_]=h(v,R[_],B,_.replace("Map",""),n)});var z=R["".concat(M,"Map")],Y=qle(z),ie=p(v,Ce(Ce({},R),{},{dataStartIndex:j,dataEndIndex:N,updateId:A,graphicalItems:W,stackGroups:L,offset:B}));return Ce(Ce({formattedGraphicalItems:ie,graphicalItems:W,offset:B,stackGroups:L},Y),R)},m=function(w){function b(x){var v,j,N;return Ple(this,b),N=Tle(this,b,[x]),st(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),st(N,"accessibilityManager",new hle),st(N,"handleLegendBBoxUpdate",function(A){if(A){var k=N.state,T=k.dataStartIndex,E=k.dataEndIndex,U=k.updateId;N.setState(Ce({legendBBox:A},f({props:N.props,dataStartIndex:T,dataEndIndex:E,updateId:U},Ce(Ce({},N.state),{},{legendBBox:A}))))}}),st(N,"handleReceiveSyncEvent",function(A,k,T){if(N.props.syncId===A){if(T===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(k)}}),st(N,"handleBrushChange",function(A){var k=A.startIndex,T=A.endIndex;if(k!==N.state.dataStartIndex||T!==N.state.dataEndIndex){var E=N.state.updateId;N.setState(function(){return Ce({dataStartIndex:k,dataEndIndex:T},f({props:N.props,dataStartIndex:k,dataEndIndex:T,updateId:E},N.state))}),N.triggerSyncEvent({dataStartIndex:k,dataEndIndex:T})}}),st(N,"handleMouseEnter",function(A){var k=N.getMouseInfo(A);if(k){var T=Ce(Ce({},k),{},{isTooltipActive:!0});N.setState(T),N.triggerSyncEvent(T);var E=N.props.onMouseEnter;xt(E)&&E(T,A)}}),st(N,"triggeredAfterMouseMove",function(A){var k=N.getMouseInfo(A),T=k?Ce(Ce({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var E=N.props.onMouseMove;xt(E)&&E(T,A)}),st(N,"handleItemMouseEnter",function(A){N.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),st(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),st(N,"handleMouseMove",function(A){A.persist(),N.throttleTriggeredAfterMouseMove(A)}),st(N,"handleMouseLeave",function(A){N.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var T=N.props.onMouseLeave;xt(T)&&T(k,A)}),st(N,"handleOuterEvent",function(A){var k=ZR(A),T=Aa(N.props,"".concat(k));if(k&&xt(T)){var E,U;/.*touch.*/i.test(k)?U=N.getMouseInfo(A.changedTouches[0]):U=N.getMouseInfo(A),T((E=U)!==null&&E!==void 0?E:{},A)}}),st(N,"handleClick",function(A){var k=N.getMouseInfo(A);if(k){var T=Ce(Ce({},k),{},{isTooltipActive:!0});N.setState(T),N.triggerSyncEvent(T);var E=N.props.onClick;xt(E)&&E(T,A)}}),st(N,"handleMouseDown",function(A){var k=N.props.onMouseDown;if(xt(k)){var T=N.getMouseInfo(A);k(T,A)}}),st(N,"handleMouseUp",function(A){var k=N.props.onMouseUp;if(xt(k)){var T=N.getMouseInfo(A);k(T,A)}}),st(N,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),st(N,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseDown(A.changedTouches[0])}),st(N,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseUp(A.changedTouches[0])}),st(N,"handleDoubleClick",function(A){var k=N.props.onDoubleClick;if(xt(k)){var T=N.getMouseInfo(A);k(T,A)}}),st(N,"handleContextMenu",function(A){var k=N.props.onContextMenu;if(xt(k)){var T=N.getMouseInfo(A);k(T,A)}}),st(N,"triggerSyncEvent",function(A){N.props.syncId!==void 0&&qv.emit(Gv,N.props.syncId,A,N.eventEmitterSymbol)}),st(N,"applySyncEvent",function(A){var k=N.props,T=k.layout,E=k.syncMethod,U=N.state.updateId,C=A.dataStartIndex,P=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)N.setState(Ce({dataStartIndex:C,dataEndIndex:P},f({props:N.props,dataStartIndex:C,dataEndIndex:P,updateId:U},N.state)));else if(A.activeTooltipIndex!==void 0){var I=A.chartX,M=A.chartY,W=A.activeTooltipIndex,L=N.state,R=L.offset,B=L.tooltipTicks;if(!R)return;if(typeof E=="function")W=E(B,A);else if(E==="value"){W=-1;for(var z=0;z<B.length;z++)if(B[z].value===A.activeLabel){W=z;break}}var Y=Ce(Ce({},R),{},{x:R.left,y:R.top}),ie=Math.min(I,Y.x+Y.width),_=Math.min(M,Y.y+Y.height),D=B[W]&&B[W].value,q=O2(N.state,N.props.data,W),te=B[W]?{x:T==="horizontal"?B[W].coordinate:ie,y:T==="horizontal"?_:B[W].coordinate}:HT;N.setState(Ce(Ce({},A),{},{activeLabel:D,activeCoordinate:te,activePayload:q,activeTooltipIndex:W}))}else N.setState(A)}),st(N,"renderCursor",function(A){var k,T=N.state,E=T.isTooltipActive,U=T.activeCoordinate,C=T.activePayload,P=T.offset,I=T.activeTooltipIndex,M=T.tooltipAxisBandSize,W=N.getTooltipEventType(),L=(k=A.props.active)!==null&&k!==void 0?k:E,R=N.props.layout,B=A.key||"_recharts-cursor";return ge.createElement(ble,{key:B,activeCoordinate:U,activePayload:C,activeTooltipIndex:I,chartName:n,element:A,isActive:L,layout:R,offset:P,tooltipAxisBandSize:M,tooltipEventType:W})}),st(N,"renderPolarAxis",function(A,k,T){var E=Aa(A,"type.axisType"),U=Aa(N.state,"".concat(E,"Map")),C=A.type.defaultProps,P=C!==void 0?Ce(Ce({},C),A.props):A.props,I=U&&U[P["".concat(E,"Id")]];return se.cloneElement(A,Ce(Ce({},I),{},{className:et(E,I.className),key:A.key||"".concat(k,"-").concat(T),ticks:to(I,!0)}))}),st(N,"renderPolarGrid",function(A){var k=A.props,T=k.radialLines,E=k.polarAngles,U=k.polarRadius,C=N.state,P=C.radiusAxisMap,I=C.angleAxisMap,M=Ho(P),W=Ho(I),L=W.cx,R=W.cy,B=W.innerRadius,z=W.outerRadius;return se.cloneElement(A,{polarAngles:Array.isArray(E)?E:to(W,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(U)?U:to(M,!0).map(function(Y){return Y.coordinate}),cx:L,cy:R,innerRadius:B,outerRadius:z,key:A.key||"polar-grid",radialLines:T})}),st(N,"renderLegend",function(){var A=N.state.formattedGraphicalItems,k=N.props,T=k.children,E=k.width,U=k.height,C=N.props.margin||{},P=E-(C.left||0)-(C.right||0),I=LO({children:T,formattedGraphicalItems:A,legendWidth:P,legendContent:c});if(!I)return null;var M=I.item,W=Kj(I,wle);return se.cloneElement(M,Ce(Ce({},W),{},{chartWidth:E,chartHeight:U,margin:C,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),st(N,"renderTooltip",function(){var A,k=N.props,T=k.children,E=k.accessibilityLayer,U=ta(T,ji);if(!U)return null;var C=N.state,P=C.isTooltipActive,I=C.activeCoordinate,M=C.activePayload,W=C.activeLabel,L=C.offset,R=(A=U.props.active)!==null&&A!==void 0?A:P;return se.cloneElement(U,{viewBox:Ce(Ce({},L),{},{x:L.left,y:L.top}),active:R,label:W,payload:R?M:[],coordinate:I,accessibilityLayer:E})}),st(N,"renderBrush",function(A){var k=N.props,T=k.margin,E=k.data,U=N.state,C=U.offset,P=U.dataStartIndex,I=U.dataEndIndex,M=U.updateId;return se.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Bp(N.handleBrushChange,A.props.onChange),data:E,x:ze(A.props.x)?A.props.x:C.left,y:ze(A.props.y)?A.props.y:C.top+C.height+C.brushBottom-(T.bottom||0),width:ze(A.props.width)?A.props.width:C.width,startIndex:P,endIndex:I,updateId:"brush-".concat(M)})}),st(N,"renderReferenceElement",function(A,k,T){if(!A)return null;var E=N,U=E.clipPathId,C=N.state,P=C.xAxisMap,I=C.yAxisMap,M=C.offset,W=A.type.defaultProps||{},L=A.props,R=L.xAxisId,B=R===void 0?W.xAxisId:R,z=L.yAxisId,Y=z===void 0?W.yAxisId:z;return se.cloneElement(A,{key:A.key||"".concat(k,"-").concat(T),xAxis:P[B],yAxis:I[Y],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:U})}),st(N,"renderActivePoints",function(A){var k=A.item,T=A.activePoint,E=A.basePoint,U=A.childIndex,C=A.isRange,P=[],I=k.props.key,M=k.item.type.defaultProps!==void 0?Ce(Ce({},k.item.type.defaultProps),k.item.props):k.item.props,W=M.activeDot,L=M.dataKey,R=Ce(Ce({index:U,dataKey:L,cx:T.x,cy:T.y,r:4,fill:Rw(k.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},jt(W,!1)),$m(W));return P.push(b.renderActiveDot(W,R,"".concat(I,"-activePoint-").concat(U))),E?P.push(b.renderActiveDot(W,Ce(Ce({},R),{},{cx:E.x,cy:E.y}),"".concat(I,"-basePoint-").concat(U))):C&&P.push(null),P}),st(N,"renderGraphicChild",function(A,k,T){var E=N.filterFormatItem(A,k,T);if(!E)return null;var U=N.getTooltipEventType(),C=N.state,P=C.isTooltipActive,I=C.tooltipAxis,M=C.activeTooltipIndex,W=C.activeLabel,L=N.props.children,R=ta(L,ji),B=E.props,z=B.points,Y=B.isRange,ie=B.baseLine,_=E.item.type.defaultProps!==void 0?Ce(Ce({},E.item.type.defaultProps),E.item.props):E.item.props,D=_.activeDot,q=_.hide,te=_.activeBar,H=_.activeShape,Z=!!(!q&&P&&R&&(D||te||H)),X={};U!=="axis"&&R&&R.props.trigger==="click"?X={onClick:Bp(N.handleItemMouseEnter,A.props.onClick)}:U!=="axis"&&(X={onMouseLeave:Bp(N.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Bp(N.handleItemMouseEnter,A.props.onMouseEnter)});var G=se.cloneElement(A,Ce(Ce({},E.props),X));function ce(Ie){return typeof I.dataKey=="function"?I.dataKey(Ie.payload):null}if(Z)if(M>=0){var ae,le;if(I.dataKey&&!I.allowDuplicatedCategory){var xe=typeof I.dataKey=="function"?ce:"payload.".concat(I.dataKey.toString());ae=Im(z,xe,W),le=Y&&ie&&Im(ie,xe,W)}else ae=z==null?void 0:z[M],le=Y&&ie&&ie[M];if(H||te){var be=A.props.activeIndex!==void 0?A.props.activeIndex:M;return[se.cloneElement(A,Ce(Ce(Ce({},E.props),X),{},{activeIndex:be})),null,null]}if(!wt(ae))return[G].concat(mc(N.renderActivePoints({item:E,activePoint:ae,basePoint:le,childIndex:M,isRange:Y})))}else{var de,re=(de=N.getItemByXY(N.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:G},Pe=re.graphicalItem,Te=Pe.item,ke=Te===void 0?A:Te,Oe=Pe.childIndex,Re=Ce(Ce(Ce({},E.props),X),{},{activeIndex:Oe});return[se.cloneElement(ke,Re),null,null]}return Y?[G,null,null]:[G,null]}),st(N,"renderCustomized",function(A,k,T){return se.cloneElement(A,Ce(Ce({key:"recharts-customized-".concat(T)},N.props),N.state))}),st(N,"renderMap",{CartesianGrid:{handler:qp,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:qp},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:qp},YAxis:{handler:qp},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((v=x.id)!==null&&v!==void 0?v:yh("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=E6(N.triggeredAfterMouseMove,(j=x.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return Ele(b,w),Ole(b,[{key:"componentDidMount",value:function(){var v,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,j=v.children,N=v.data,A=v.height,k=v.layout,T=ta(j,ji);if(T){var E=T.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,C=O2(this.state,N,E,U),P=this.state.tooltipTicks[E].coordinate,I=(this.state.offset.top+A)/2,M=k==="horizontal",W=M?{x:P,y:I}:{y:P,x:I},L=this.state.formattedGraphicalItems.find(function(B){var z=B.item;return z.type.name==="Scatter"});L&&(W=Ce(Ce({},W),L.props.points[E].tooltipPosition),C=L.props.points[E].tooltipPayload);var R={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:U,activePayload:C,activeCoordinate:W};this.setState(R),this.renderCursor(T),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var N,A;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(v){sx([ta(v.children,ji)],[ta(this.props.children,ji)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=ta(this.props.children,ji);if(v&&typeof v.props.shared=="boolean"){var j=v.props.shared?"axis":"item";return s.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),A=PY(N),k={chartX:Math.round(v.pageX-A.left),chartY:Math.round(v.pageY-A.top)},T=N.width/j.offsetWidth||1,E=this.inRange(k.chartX,k.chartY,T);if(!E)return null;var U=this.state,C=U.xAxisMap,P=U.yAxisMap,I=this.getTooltipEventType(),M=Xj(this.state,this.props.data,this.props.layout,E);if(I!=="axis"&&C&&P){var W=Ho(C).scale,L=Ho(P).scale,R=W&&W.invert?W.invert(k.chartX):null,B=L&&L.invert?L.invert(k.chartY):null;return Ce(Ce({},k),{},{xValue:R,yValue:B},M)}return M?Ce(Ce({},k),M):null}},{key:"inRange",value:function(v,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,k=v/N,T=j/N;if(A==="horizontal"||A==="vertical"){var E=this.state.offset,U=k>=E.left&&k<=E.left+E.width&&T>=E.top&&T<=E.top+E.height;return U?{x:k,y:T}:null}var C=this.state,P=C.angleAxisMap,I=C.radiusAxisMap;if(P&&I){var M=Ho(P);return F4({x:k,y:T},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,j=this.getTooltipEventType(),N=ta(v,ji),A={};N&&j==="axis"&&(N.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=$m(this.props,this.handleOuterEvent);return Ce(Ce({},k),A)}},{key:"addListener",value:function(){qv.on(Gv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qv.removeListener(Gv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,j,N){for(var A=this.state.formattedGraphicalItems,k=0,T=A.length;k<T;k++){var E=A[k];if(E.item===v||E.props.key===v.key||j===ro(E.item.type)&&N===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,j=this.state.offset,N=j.left,A=j.top,k=j.height,T=j.width;return ge.createElement("defs",null,ge.createElement("clipPath",{id:v},ge.createElement("rect",{x:N,y:A,height:k,width:T})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(j,N){var A=Vj(N,2),k=A[0],T=A[1];return Ce(Ce({},j),{},st({},k,T.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(j,N){var A=Vj(N,2),k=A[0],T=A[1];return Ce(Ce({},j),{},st({},k,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[v])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(v){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[v])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(v){var j=this.state,N=j.formattedGraphicalItems,A=j.activeItem;if(N&&N.length)for(var k=0,T=N.length;k<T;k++){var E=N[k],U=E.props,C=E.item,P=C.type.defaultProps!==void 0?Ce(Ce({},C.type.defaultProps),C.props):C.props,I=ro(C.type);if(I==="Bar"){var M=(U.data||[]).find(function(B){return ure(v,B)});if(M)return{graphicalItem:E,payload:M}}else if(I==="RadialBar"){var W=(U.data||[]).find(function(B){return F4(v,B)});if(W)return{graphicalItem:E,payload:W}}else if(U0(E,A)||z0(E,A)||th(E,A)){var L=fae({graphicalItem:E,activeTooltipItem:A,itemData:P.data}),R=P.activeIndex===void 0?L:P.activeIndex;return{graphicalItem:Ce(Ce({},E),{},{childIndex:R}),payload:th(E,A)?P.data[L]:E.props.data[L]}}}return null}},{key:"render",value:function(){var v=this;if(!w3(this))return null;var j=this.props,N=j.children,A=j.className,k=j.width,T=j.height,E=j.style,U=j.compact,C=j.title,P=j.desc,I=Kj(j,Sle),M=jt(I,!1);if(U)return ge.createElement(Oj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement(ux,Tu({},M,{width:k,height:T,title:C,desc:P}),this.renderClipPath(),N3(N,this.renderMap)));if(this.props.accessibilityLayer){var W,L;M.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,M.role=(L=this.props.role)!==null&&L!==void 0?L:"application",M.onKeyDown=function(B){v.accessibilityManager.keyboardEvent(B)},M.onFocus=function(){v.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return ge.createElement(Oj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement("div",Tu({className:et("recharts-wrapper",A),style:Ce({position:"relative",cursor:"default",width:k,height:T},E)},R,{ref:function(z){v.container=z}}),ge.createElement(ux,Tu({},M,{width:k,height:T,title:C,desc:P,style:Rle}),this.renderClipPath(),N3(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(se.Component);st(m,"displayName",n),st(m,"defaultProps",Ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),st(m,"getDerivedStateFromProps",function(w,b){var x=w.dataKey,v=w.data,j=w.children,N=w.width,A=w.height,k=w.layout,T=w.stackOffset,E=w.margin,U=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var P=Jj(w);return Ce(Ce(Ce({},P),{},{updateId:0},f(Ce(Ce({props:w},P),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:v,prevWidth:N,prevHeight:A,prevLayout:k,prevStackOffset:T,prevMargin:E,prevChildren:j})}if(x!==b.prevDataKey||v!==b.prevData||N!==b.prevWidth||A!==b.prevHeight||k!==b.prevLayout||T!==b.prevStackOffset||!Iu(E,b.prevMargin)){var I=Jj(w),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},W=Ce(Ce({},Xj(b,v,k)),{},{updateId:b.updateId+1}),L=Ce(Ce(Ce({},I),M),W);return Ce(Ce(Ce({},L),f(Ce({props:w},L),b)),{},{prevDataKey:x,prevData:v,prevWidth:N,prevHeight:A,prevLayout:k,prevStackOffset:T,prevMargin:E,prevChildren:j})}if(!sx(j,b.prevChildren)){var R,B,z,Y,ie=ta(j,ic),_=ie&&(R=(B=ie.props)===null||B===void 0?void 0:B.startIndex)!==null&&R!==void 0?R:U,D=ie&&(z=(Y=ie.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&z!==void 0?z:C,q=_!==U||D!==C,te=!wt(v),H=te&&!q?b.updateId:b.updateId+1;return Ce(Ce({updateId:H},f(Ce(Ce({props:w},b),{},{updateId:H,dataStartIndex:_,dataEndIndex:D}),b)),{},{prevChildren:j,dataStartIndex:_,dataEndIndex:D})}return null}),st(m,"renderActiveDot",function(w,b,x){var v;return se.isValidElement(w)?v=se.cloneElement(w,b):xt(w)?v=w(b):v=ge.createElement(Ww,b),ge.createElement(Nn,{className:"recharts-active-dot",key:x},v)});var g=se.forwardRef(function(b,x){return ge.createElement(m,Tu({},b,{ref:x}))});return g.displayName=m.displayName,g},Xle=Yle({chartName:"LineChart",GraphicalChild:jr,axisComponents:[{axisType:"xAxis",AxisComp:Y0},{axisType:"yAxis",AxisComp:X0}],formatAxisMap:Iie});const Jle={showWaypoints:!0,showSpecialConditions:{minimum4Engines:!0,minimum3Engines:!0,lossOfPressure:!0,tenPercent:!0},distanceUnit:"nm",fuelUnit:"lbs"};function GT(e,t,n){console.log(`Calculating reverse segments for ${t}`);const r=Qle(e,t);r.initialFuel=8;const i=Ta(r,n).map((s,l)=>({...s,initialFuel:s.initialFuel/1e3,remainingFuel:s.remainingFuel/1e3,fuelConsumed:s.fuelConsumed/1e3,fuelConsumptionPerHour:s.fuelConsumptionPerHour?s.fuelConsumptionPerHour/1e3:void 0})),o=i.length>0?i[0].initialFuel:8;return console.log(`Calculated ${i.length} reverse segments with total fuel required: ${o} klb`),i}function Qle(e,t){const n={...e};return n.specialCondition=t,n.wind&&(n.wind=-n.wind),n.segments=[],n.isReverse=!0,n.skipClimb=!0,n}function VT(e,t,n=!1){const r={normal:[]};if(!e)return console.error("HGI: No leg provided to calculateHGIDataForLeg"),r;console.log("HGI: Always recalculating normal segments for HGI display");const a={...e,specialCondition:"normal",segments:[],initialFuel:void 0,fuelRemaining:void 0,fuelConsumed:void 0};if(r.normal=Zj(a,"normal",t),console.log(`HGI: Calculated normal condition with ${r.normal.length} points`),r.normal.length===0)return console.warn("HGI: No points generated for normal condition"),r;if(e.type==="lrc970"||e.type==="lrc950"||e.type==="lrc1010"){console.log("HGI: Calculating special conditions for LRC leg");const i=["minimum4Engines","minimum3Engines","lossOfPressure","tenPercent"];i.forEach(o=>{var s;if(console.log(`HGI: Calculating points for ${o}`),o===e.specialCondition&&e.segments&&e.segments.length>0){console.log(`HGI: Using existing segments for ${o}`);const l=[],h=(e.segments.length>0&&e.segments[0].initialFuel?e.segments[0].initialFuel:(e.initialFuel||0)*1e3)/1e3;console.log(`HGI ${o} (from existing segments): Initial fuel = ${h} klb, from segment = ${(s=e.segments[0])==null?void 0:s.initialFuel} lbs, from leg = ${e.initialFuel} klb`),l.push({distance:0,fuel:h,label:"Start"}),e.segments.forEach((d,p)=>{const f=(d.remainingFuel||0)/1e3;console.log(`HGI ${o} Segment ${p}: distance=${d.endDistance.toFixed(1)}nm, fuel=${f.toFixed(3)}klb`),l.push({distance:d.endDistance,fuel:f,altitude:d.endAltitude,label:p===0?"Top of Climb":void 0})}),r[o]=l}else{const l=Zj(e,o,t);console.log(`HGI: ${o} calculated ${l.length} points`),r[o]=l}}),n&&(console.log("HGI: Calculating reverse flight conditions"),i.forEach(o=>{const s=`reverse${o.charAt(0).toUpperCase()}${o.slice(1)}`;console.log(`HGI: Calculating reverse points for ${o}`);const l=GT(e,o,t),c=Zle(l,e.distance||0);console.log(`HGI: ${s} calculated ${c.length} points from ${l.length} segments`),r[s]=c}))}return n&&tue(r),r}function Zle(e,t){const n=[];if(e.length===0)return n;const r=e[0],a=e[e.length-1];console.log("Reverse segments fuel debug:",{segmentCount:e.length,firstSegment:{initialFuel:r.initialFuel,remainingFuel:r.remainingFuel,fuelConsumed:r.fuelConsumed},lastSegment:{initialFuel:a.initialFuel,remainingFuel:a.remainingFuel,fuelConsumed:a.fuelConsumed}});const i=Math.max(...e.map(o=>o.initialFuel||0));return n.push({distance:t,fuel:i,altitude:r.startAltitude,label:"End (Reverse Start)"}),n.push({distance:0,fuel:8,altitude:a.endAltitude,label:"Start (8 klb reserve)"}),console.log("Reverse segments to HGI points (reverse calc visualization):",{segmentCount:e.length,pointCount:n.length,endOfLeg:{dist:n[0].distance,fuel:n[0].fuel.toFixed(1)},startOfLeg:{dist:n[1].distance,fuel:n[1].fuel.toFixed(1)}}),n}function Zj(e,t,n){var s;const r=[];let a=[];if(e.specialCondition===t&&e.segments&&e.segments.length>0)console.log("HGI: Using existing segments for",t),a=e.segments;else{const l=n||{zeroFuelWeight:85,drag:"withoutPods",oddEven:"odd"};console.log("HGI: Recalculating segments for",t,"config:",l);const c={...e,specialCondition:t,segments:[]};a=Ta(c,l)}if(a.length===0)return r;const o=(a.length>0&&a[0].initialFuel?a[0].initialFuel:(e.initialFuel||0)*1e3)/1e3;return console.log(`HGI ${t}: Initial fuel = ${o} klb, from segment = ${(s=a[0])==null?void 0:s.initialFuel} lbs, from leg = ${e.initialFuel} klb`),r.push({distance:0,fuel:o,label:"Start"}),a.forEach((l,c)=>{const h=l.endDistance,d=l.remainingFuel||0,p=d/1e3,f=Math.max(p,0);console.log(`HGI Segment ${c}: distance=${h.toFixed(1)}nm, fuel=${f.toFixed(3)}klb (${d.toFixed(0)}lbs)`),r.push({distance:h,fuel:f,altitude:l.endAltitude,label:void 0})}),r}function eue(e){const t={normal:[]},n=e.configuration.fuelOnBoard||0;if(console.log("HGI Plan calculation:",{planId:e.metadata.id,fuelOnBoard:e.configuration.fuelOnBoard,initialFuel:n,legsCount:e.legs.length,configuration:e.configuration,legs:e.legs.map(o=>{var s;return{id:o.id,type:o.type,distance:o.distance,segments:((s=o.segments)==null?void 0:s.length)||0,fuelConsumed:o.fuelConsumed,initialFuel:o.initialFuel}})}),!n||n===0)return console.warn("HGI: No fuel on board set for plan"),t;let r=0,a=0;t.normal.push({distance:0,fuel:n,label:"Start"});const i=o=>o.segments&&o.segments.length>0?o.segments.reduce((s,l)=>s+(l.fuelConsumed||l.fuelConsumptionPerSegment||0),0)/1e3:o.fuelConsumed||o.fuelConsumption||0;return e.legs.forEach((o,s)=>{var h;const l=i(o),c=o.distance||0;if(o.type==="taxi"||s+1,console.log(`Processing leg ${s}:`,{type:o.type,distance:c,legFuelConsumed:l,segments:((h=o.segments)==null?void 0:h.length)||0,hasSegments:o.segments&&o.segments.length>0}),o.type==="taxi"){a+=l,t.normal.push({distance:r,fuel:n-a,label:"End Taxi"});return}if(o.segments&&o.segments.length>0){const d=r;o.segments.forEach((p,f)=>{const m=(p.fuelConsumed||p.fuelConsumptionPerSegment||0)/1e3;p.endDistance-p.startDistance,a+=m,r=d+p.endDistance;let g;s===0&&f===0&&(g="Top of Climb"),t.normal.push({distance:r,fuel:n-a,altitude:p.endAltitude,label:g})}),t.normal.push({distance:r,fuel:n-a,label:`END OF LEG ${s+1}`,isEndOfLeg:!0})}else a+=l,r+=c,t.normal.push({distance:r,fuel:n-a,label:`END OF LEG ${s+1}`,isEndOfLeg:!0})}),t.normal.sort((o,s)=>o.distance-s.distance),t}function tue(e){["minimum4Engines","minimum3Engines","lossOfPressure","tenPercent"].forEach(n=>{const r=e[n],a=`reverse${n.charAt(0).toUpperCase()}${n.slice(1)}`,i=e[a];if(r&&i&&r.length>=2&&i.length>=2){const o=nue(r,i);o&&(console.log(`Found PNR intersection for ${n}:`,{distance:o.distance.toFixed(1),fuel:o.fuel.toFixed(1)}),r.push({distance:o.distance,fuel:o.fuel,altitude:o.altitude,label:`PNR (${n})`,isPNR:!0}),r.sort((s,l)=>s.distance-l.distance),i.push({distance:o.distance,fuel:o.fuel,altitude:o.altitude,label:`PNR (${n})`,isPNR:!0}),i.sort((s,l)=>s.distance-l.distance))}})}function nue(e,t){if(e.length<2||t.length<2)return null;const n=e[0],r=e[e.length-1],a=t[0],i=t[t.length-1],o=n.distance,s=n.fuel,l=r.distance,c=r.fuel,h=a.distance,d=a.fuel,p=i.distance,f=i.fuel,m=(o-l)*(d-f)-(s-c)*(h-p);if(Math.abs(m)<1e-4)return null;const g=((o-h)*(d-f)-(s-d)*(h-p))/m,w=-((o-l)*(s-d)-(s-c)*(o-h))/m;if(g>=0&&g<=1&&w>=0&&w<=1){const b=o+g*(l-o),x=s+g*(c-s),v=(n.altitude||0)+g*((r.altitude||0)-(n.altitude||0));return{distance:b,fuel:x,altitude:v,label:"PNR"}}return null}function Td(e,t,n){let r=e;return n==="kg"?r/2.20462:n==="tons"?r/2204.62:r}function Mo(e,t,n){return t===n?e:n==="km"?e*1.852:e}function T2(e,t,n){const r=new Date;let a={...e};e.name==="AMMIT"&&console.log(" Priority check for AMMIT:",{currentActualTime:e.actualTime,currentTimeUpdatedFrom:e.timeUpdatedFrom,currentFob:e.fob,currentFobUpdatedFrom:e.fobUpdatedFrom,incomingSource:n,hasTimeUpdate:t.actualTime!==void 0,hasFobUpdate:t.actualFob!==void 0||t.fob!==void 0}),t.actualTime!==void 0&&(n==="waypoints-tab"?(console.log(` Updating time from waypoints-tab for ${e.name}:`,{oldTime:e.actualTime,newTime:t.actualTime,timeUpdatedFrom:"waypoints-tab"}),a.actualTime=t.actualTime,a.timeUpdatedFrom="waypoints-tab",a.lastTimeUpdate=r,t.isActual!==void 0&&(a.isActual=t.isActual)):n==="fuel-tab"&&e.timeUpdatedFrom!=="waypoints-tab"?(console.log(` Updating time from fuel-tab for ${e.name}:`,{oldTime:e.actualTime,newTime:t.actualTime,timeUpdatedFrom:"fuel-tab"}),a.actualTime=t.actualTime,a.timeUpdatedFrom="fuel-tab",a.lastTimeUpdate=r,t.isActual!==void 0&&(a.isActual=t.isActual)):n==="fuel-tab"&&e.timeUpdatedFrom==="waypoints-tab"&&console.log(` Fuel tab time update blocked - Waypoints tab has priority for waypoint ${e.name}`,{attemptedTime:t.actualTime,currentTime:e.actualTime,timeUpdatedFrom:e.timeUpdatedFrom})),(t.actualFob!==void 0||t.fob!==void 0)&&(n==="fuel-tab"?(t.actualFob!==void 0&&(a.actualFob=t.actualFob),t.fob!==void 0&&(a.fob=t.fob),t.fuelOnBoard!==void 0&&(a.fuelOnBoard=t.fuelOnBoard),a.fobUpdatedFrom="fuel-tab",a.lastFobUpdate=r):n==="waypoints-tab"&&e.fobUpdatedFrom!=="fuel-tab"?(t.actualFob!==void 0&&(a.actualFob=t.actualFob),t.fob!==void 0&&(a.fob=t.fob),t.fuelOnBoard!==void 0&&(a.fuelOnBoard=t.fuelOnBoard),a.fobUpdatedFrom="waypoints-tab",a.lastFobUpdate=r):n==="waypoints-tab"&&e.fobUpdatedFrom==="fuel-tab"&&console.log(` Waypoints tab FOB update blocked - Fuel tab has priority for waypoint ${e.name}`));const i=["actualTime","isActual","actualFob","fob","fuelOnBoard","timeUpdatedFrom","fobUpdatedFrom","lastTimeUpdate","lastFobUpdate"];return Object.keys(t).forEach(o=>{i.includes(o)||(a[o]=t[o])}),a}const He=r0()(a0((e,t)=>({activePlan:null,actualPlan:null,fuelReads:[],currentWaypointId:null,currentSegmentId:null,currentLegId:null,currentLegIndex:0,currentRole:null,actionLog:[],showActionLog:!0,graphLineVisibility:{minimum4Engines:!1,minimum3Engines:!1,lossOfPressure:!1,tenPercent:!1,show970Line:!1,showWaypoints:!0},setActivePlan:n=>{var d,p;const r=t();r.actualPlan&&r.actualPlan.metadata.id===n.metadata.id&&(console.log("Preserving fuel reads from existing actualPlan"),n.legs.forEach((f,m)=>{const g=r.actualPlan.legs[m];g&&g.fuelReads&&g.fuelReads.length>0&&(f.fuelReads=g.fuelReads)}));const i=(f=>{const m=JSON.parse(JSON.stringify(f));return m.metadata.createdAt=new Date(m.metadata.createdAt),m.metadata.updatedAt=new Date(m.metadata.updatedAt),m.configuration.startTime=new Date(m.configuration.startTime),m.legs.forEach(g=>{g.segments&&g.segments.forEach(w=>{w.startTime&&(w.startTime=new Date(w.startTime)),w.endTime&&(w.endTime=new Date(w.endTime))}),g.fuelReads&&g.fuelReads.forEach(w=>{w.time&&(w.time=new Date(w.time))})}),m})(n);i.legs.forEach(f=>{f.specialCondition&&f.specialCondition!=="normal"&&(console.log(` Clearing special condition ${f.specialCondition} from leg to ensure normal fuel calculation`),f.specialCondition="normal",f.segments=[])}),i.legs.forEach((f,m)=>{f.segments=Ta(f,i.configuration)}),console.log(" InFlightStore: Calculating fuel values for plan",i.metadata.flightNumber);const o=rl(i);console.log(" InFlightStore: BEFORE fuel calculation"),i.legs.forEach((f,m)=>{var w;const g=(w=f.waypoints)==null?void 0:w.find(b=>{var x;return b.name==="-TOC-"||((x=b.name)==null?void 0:x.includes("TOC"))});g&&console.log(` BEFORE: TOC waypoint in leg ${m}:`,{name:g.name,id:g.id,fob:g.fob,fuelOnBoard:g.fuelOnBoard,altitude:g.altitude,distance:g.distance,totalDistance:g.totalDistance})}),o.legs.forEach((f,m)=>{var w,b;const g=(w=f.waypoints)==null?void 0:w.find(x=>{var v;return x.name==="-TOC-"||((v=x.name)==null?void 0:v.includes("TOC"))});g&&console.log(` AFTER: TOC waypoint in leg ${m}:`,{name:g.name,id:g.id,fob:g.fob,fuelOnBoard:g.fuelOnBoard,altitude:g.altitude,distance:g.distance,totalDistance:g.totalDistance,segments:(b=f.segments)==null?void 0:b.map(x=>({point:x.point,remainingFuel:x.remainingFuel,remainingFuelKlb:x.remainingFuel/1e3,initialFuel:x.initialFuel,initialFuelKlb:x.initialFuel/1e3,fuelConsumed:x.fuelConsumed||x.fuelConsumptionPerSegment}))})}),o.fuel=n.fuel;const s=i.legs.findIndex(f=>f.type==="taxi"),l=s>=0?s:0,c=((d=i.legs[l])==null?void 0:d.id)||null,h=o.legs.find(f=>{var m;return(m=f.waypoints)==null?void 0:m.some(g=>g.name==="-TOC-"||g.id==="-TOC-")});if(h){const f=(p=h.waypoints)==null?void 0:p.find(m=>m.name==="-TOC-"||m.id==="-TOC-");console.log(" FINAL CHECK before setState - TOC waypoint:",{name:f==null?void 0:f.name,id:f==null?void 0:f.id,fob:f==null?void 0:f.fob,fuelOnBoard:f==null?void 0:f.fuelOnBoard,hasFob:(f==null?void 0:f.fob)!==void 0})}e({activePlan:n,actualPlan:o,currentLegIndex:l,currentLegId:c})},updateActualPlan:n=>e(r=>{var i;if(!r.actualPlan)return r;if(n.legs){const o=n.legs.find(s=>{var l;return(l=s.waypoints)==null?void 0:l.some(c=>c.name==="-TOC-"||c.id==="-TOC-")});if(o){const s=(i=o.waypoints)==null?void 0:i.find(l=>l.name==="-TOC-"||l.id==="-TOC-");console.log(" updateActualPlan - TOC waypoint in updates:",{name:s==null?void 0:s.name,id:s==null?void 0:s.id,fob:s==null?void 0:s.fob,fuelOnBoard:s==null?void 0:s.fuelOnBoard,hasFob:(s==null?void 0:s.fob)!==void 0})}}return n.metadata?{actualPlan:n}:{actualPlan:{...r.actualPlan,...n,legs:n.legs||r.actualPlan.legs}}}),addFuelRead:n=>e(r=>({fuelReads:[...r.fuelReads,n].sort((a,i)=>a.timestamp.getTime()-i.timestamp.getTime())})),updateFuelRead:(n,r)=>e(a=>({fuelReads:a.fuelReads.map(i=>i.id===n?{...i,...r}:i)})),deleteFuelRead:n=>e(r=>({fuelReads:r.fuelReads.filter(a=>a.id!==n)})),setCurrentWaypoint:n=>e({currentWaypointId:n}),setCurrentSegment:n=>e({currentSegmentId:n}),setCurrentLeg:n=>e({currentLegId:n}),setCurrentLegIndex:n=>e({currentLegIndex:n}),setCurrentRole:n=>e({currentRole:n}),updateWaypoint:(n,r,a)=>e(i=>{if(!i.actualPlan)return i;if(!a){const l={...i.actualPlan};return l.legs=l.legs.map(c=>({...c,waypoints:c.waypoints.map(h=>h.id===n?{...h,...r}:h)})),{actualPlan:l}}const o={...i.actualPlan};let s=[];if(o.legs=o.legs.map(l=>({...l,waypoints:l.waypoints.map(c=>{var h,d;if(c.id===n){const p={...c};c.name==="AMMIT"&&console.log(" InFlightStore - AMMIT waypoint before update:",{id:c.id,name:c.name,actualTime:c.actualTime,timeUpdatedFrom:c.timeUpdatedFrom,lastTimeUpdate:c.lastTimeUpdate,source:a,incomingUpdates:r});const f=T2(c,r,a);return r.actualTime!==void 0&&a==="fuel-tab"&&p.timeUpdatedFrom==="waypoints-tab"&&((h=f.actualTime)==null?void 0:h.getTime())===((d=p.actualTime)==null?void 0:d.getTime())&&s.push("Time update blocked - Waypoints tab has priority"),(r.actualFob!==void 0||r.fob!==void 0)&&a==="waypoints-tab"&&p.fobUpdatedFrom==="fuel-tab"&&f.fob===p.fob&&s.push("FOB update blocked - Fuel tab has priority"),f}return c})})),s.length>0){const l=i.actualPlan.legs.flatMap(c=>c.waypoints||[]).find(c=>c.id===n);l&&t().addActionLogEntry("PRIORITY",`${l.name}: ${s.join(", ")} (from ${a})`)}return{actualPlan:o}}),markWaypointActual:n=>{t().updateWaypoint(n,{isActual:!0,actualTime:new Date})},addActionLogEntry:(n,r)=>e(a=>({actionLog:[{id:crypto.randomUUID(),timestamp:new Date,action:n,details:r},...a.actionLog]})),clearActionLog:()=>e({actionLog:[]}),setShowActionLog:n=>e({showActionLog:n}),updateGraphLineVisibility:n=>e(r=>({graphLineVisibility:{...r.graphLineVisibility,...n}})),resetInFlightData:()=>e({activePlan:null,actualPlan:null,fuelReads:[],currentWaypointId:null,currentSegmentId:null,currentLegId:null,currentLegIndex:0,currentRole:null,actionLog:[],showActionLog:!0}),clearAllUserInputs:()=>{const n=t();if(!n.actualPlan||!n.activePlan)return;const r=JSON.parse(JSON.stringify(n.activePlan));r.metadata.createdAt=new Date(r.metadata.createdAt),r.metadata.updatedAt=new Date(r.metadata.updatedAt),r.configuration.startTime=new Date(r.configuration.startTime),r.legs.forEach(i=>{i.fuelReads=[],i.waypoints&&i.waypoints.forEach(o=>{delete o.actualTime,delete o.isActual,delete o.timeUpdatedFrom,delete o.fobUpdatedFrom,delete o.lastTimeUpdate,delete o.lastFobUpdate,o.eta&&(o.eta=new Date(o.eta))})}),delete r.line970,r.legs.forEach((i,o)=>{i.segments=Ta(i,r.configuration)});const a=rl(r);e({actualPlan:a,fuelReads:[],actionLog:[],graphLineVisibility:{minimum4Engines:!1,minimum3Engines:!1,lossOfPressure:!1,tenPercent:!1,show970Line:!1,showWaypoints:!0}})}}),{name:"in-flight-store",storage:{getItem:e=>{var r;const t=localStorage.getItem(e);if(!t)return null;const{state:n}=JSON.parse(t);return n.activePlan&&(n.activePlan.metadata&&(n.activePlan.metadata.createdAt=new Date(n.activePlan.metadata.createdAt),n.activePlan.metadata.updatedAt=new Date(n.activePlan.metadata.updatedAt)),n.activePlan.configuration&&(n.activePlan.configuration.startTime=new Date(n.activePlan.configuration.startTime))),n.actualPlan&&(n.actualPlan.configuration&&(n.actualPlan.configuration.startTime=new Date(n.actualPlan.configuration.startTime)),(r=n.actualPlan.legs)==null||r.forEach(a=>{var i,o;(i=a.waypoints)==null||i.forEach(s=>{s.eta&&(s.eta=new Date(s.eta)),s.actualTime&&(s.actualTime=new Date(s.actualTime))}),(o=a.fuelReads)==null||o.forEach(s=>{s.time&&(s.time=new Date(s.time))})}),console.log(" Recalculating fuel values for actualPlan loaded from localStorage"),n.actualPlan=rl(n.actualPlan)),n.fuelReads&&n.fuelReads.forEach(a=>{a.timestamp&&(a.timestamp=new Date(a.timestamp)),a.time&&(a.time=new Date(a.time))}),n.actionLog&&n.actionLog.forEach(a=>{a.timestamp&&(a.timestamp=new Date(a.timestamp))}),{state:n}},setItem:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},removeItem:e=>{localStorage.removeItem(e)}}})),Jw=r0()(a0((e,t)=>({theme:"light",setTheme:n=>{e({theme:n}),n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleTheme:()=>{const r=t().theme==="light"?"dark":"light";t().setTheme(r)}}),{name:"theme-store",onRehydrateStorage:()=>e=>{(e==null?void 0:e.theme)==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}));function Qw({data:e,config:t=Jle,title:n="HGI Graph",height:r=400,showControls:a=!0,maxDistance:i,leg:o,line970:s}){var A,k,T,E,U;const l=He(C=>C.graphLineVisibility),c=He(C=>C.updateGraphLineVisibility),h=Jw(C=>C.theme),[d,p]=se.useState({...t,showSpecialConditions:{minimum4Engines:l.minimum4Engines,minimum3Engines:l.minimum3Engines,lossOfPressure:l.lossOfPressure,tenPercent:l.tenPercent},showWaypoints:l.showWaypoints});se.useEffect(()=>{p(C=>({...C,showSpecialConditions:{minimum4Engines:l.minimum4Engines,minimum3Engines:l.minimum3Engines,lossOfPressure:l.lossOfPressure,tenPercent:l.tenPercent},showWaypoints:l.showWaypoints}))},[l]),console.log("HGIGraph data:",{normal:((A=e.normal)==null?void 0:A.length)||0,minimum3Engines:((k=e.minimum3Engines)==null?void 0:k.length)||0,minimum4Engines:((T=e.minimum4Engines)==null?void 0:T.length)||0,lossOfPressure:((E=e.lossOfPressure)==null?void 0:E.length)||0,tenPercent:((U=e.tenPercent)==null?void 0:U.length)||0}),e.minimum3Engines&&e.minimum3Engines.length>0&&console.log("3 Engines data points:",e.minimum3Engines);const f=C=>C.map(P=>({...P,distance:Mo(P.distance,"nm",d.distanceUnit),fuel:Td(P.fuel,"lbs",d.fuelUnit)})),m=f(e.normal);if(console.log("HGIGraph - chartData length:",m.length),m.length===0)return console.warn("HGIGraph - No chart data available!"),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 shadow",children:u.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[u.jsx("p",{className:"text-lg font-semibold mb-2",children:"No HGI Data Available"}),u.jsx("p",{className:"text-sm",children:"Please ensure the leg has valid segments and distance."})]})});const w=(()=>{if(!o||!o.waypoints||m.length===0)return m;const C=[...m],P=[];if(o.waypoints.forEach((I,M)=>{let W=0;if(M===0)W=0;else for(let B=0;B<M;B++)W+=o.waypoints[B].distance||0;const L=Mo(W,"nm",d.distanceUnit);let R=null;if(L===0&&m.length>0)R=m[0].fuel;else for(let B=0;B<m.length-1;B++)if(m[B].distance<=L&&m[B+1].distance>=L){const z=(L-m[B].distance)/(m[B+1].distance-m[B].distance);R=m[B].fuel-(m[B].fuel-m[B+1].fuel)*z;break}R!==null&&P.push({distance:L,fuel:R,label:I.name,isWaypoint:!0,originalIndex:M})}),P.sort((I,M)=>I.distance-M.distance),P.length>0){let M=[],W=[P[0]];for(let L=1;L<P.length;L++)P[L].distance-P[L-1].distance<50?W.push(P[L]):(W.length>1&&M.push(W),W=[P[L]]);W.length>1&&M.push(W),M.forEach(L=>{L.forEach((R,B)=>{R.isOverlapping=!0,R.waypointIndex=B})})}return C.push(...P),C.sort((I,M)=>I.distance-M.distance),C})(),b=C=>{const{cx:P,cy:I,payload:M}=C;if(M.isCurrentPosition)return P===void 0||I===void 0||isNaN(P)||isNaN(I)?null:u.jsxs("g",{transform:`translate(${P},${I})`,children:[u.jsx("circle",{r:8,fill:"#f59e0b",stroke:"#fff",strokeWidth:3,className:"animate-pulse"}),u.jsx("circle",{r:3,fill:"#dc2626"}),u.jsx("text",{x:0,y:-16,fill:"#dc2626",textAnchor:"middle",fontSize:12,fontWeight:"bold",children:"Current Position"})]});if(M.isPNR)return P===void 0||I===void 0||isNaN(P)||isNaN(I)?null:u.jsxs("g",{transform:`translate(${P},${I})`,children:[u.jsx("circle",{r:6,fill:"#dc2626",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-12,fill:"#dc2626",textAnchor:"middle",fontSize:12,fontWeight:"bold",children:"PNR"})]});if(M.isNormalIntersection)return P===void 0||I===void 0||isNaN(P)||isNaN(I)?null:u.jsxs("g",{transform:`translate(${P},${I})`,children:[u.jsx("circle",{r:5,fill:"#f97316",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-12,fill:"#f97316",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:""})]});if(M.isEndOfLeg)return P===void 0||I===void 0||isNaN(P)||isNaN(I)?null:u.jsxs("g",{transform:`translate(${P},${I})`,children:[u.jsx("circle",{r:4,fill:"#10b981",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-12,fill:"#000",textAnchor:"middle",fontSize:12,fontWeight:"bold",children:M.label})]});if(M.label==="Start"||M.label==="Top of Climb")return P===void 0||I===void 0||isNaN(P)||isNaN(I)?null:u.jsxs("g",{transform:`translate(${P},${I})`,children:[u.jsx("circle",{r:3,fill:"#10b981"}),u.jsx("text",{x:0,y:-10,fill:"#666",textAnchor:"middle",fontSize:10,children:M.label})]});if(M.isWaypoint){if(P===void 0||I===void 0||isNaN(P)||isNaN(I))return null;const W=M.waypointIndex||0,R=M.isOverlapping||!1?W%2===0?-25:20:-10;return u.jsxs("g",{transform:`translate(${P},${I})`,children:[u.jsx("circle",{r:4,fill:"#3b82f6",stroke:"#fff",strokeWidth:2}),d.showWaypoints&&u.jsx("text",{x:0,y:R,fill:"#1f2937",textAnchor:"middle",fontSize:11,fontWeight:"bold",children:M.label})]})}return null},x=(C,P)=>I=>{const{cx:M,cy:W,index:L,payload:R}=I;if(R.isCurrentPosition)return M===void 0||W===void 0||isNaN(M)||isNaN(W)?null:u.jsxs("g",{transform:`translate(${M},${W})`,children:[u.jsx("circle",{r:8,fill:"#f59e0b",stroke:"#fff",strokeWidth:3,className:"animate-pulse"}),u.jsx("circle",{r:3,fill:"#dc2626"}),u.jsx("text",{x:0,y:-16,fill:"#dc2626",textAnchor:"middle",fontSize:12,fontWeight:"bold",children:"Current Position"})]});if(R.isPNR)return M===void 0||W===void 0||isNaN(M)||isNaN(W)?null:u.jsxs("g",{transform:`translate(${M},${W})`,children:[u.jsx("circle",{r:6,fill:"#dc2626",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-12,fill:"#dc2626",textAnchor:"middle",fontSize:12,fontWeight:"bold",children:"PNR"})]});if(R.isNormalIntersection)return M===void 0||W===void 0||isNaN(M)||isNaN(W)?null:u.jsxs("g",{transform:`translate(${M},${W})`,children:[u.jsx("circle",{r:5,fill:"#f97316",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-12,fill:"#f97316",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:""})]});if(L===0||L===C.length-1){const B=L===0,z=R.fuel;return z===void 0||M===void 0||W===void 0||isNaN(M)||isNaN(W)?null:u.jsxs("g",{transform:`translate(${M},${W})`,children:[u.jsx("circle",{r:3,fill:P}),u.jsx("text",{x:B?-5:5,y:-8,fill:P,textAnchor:B?"end":"start",fontSize:11,fontWeight:"bold",children:z.toFixed(1)})]})}return null},v=C=>{const P=!d.showSpecialConditions[C];c({[C]:P}),p({...d,showSpecialConditions:{...d.showSpecialConditions,[C]:P}})},j=()=>{switch(d.fuelUnit){case"kg":return"Fuel (1000 kg)";case"tons":return"Fuel (tons)";default:return"Fuel (klb)"}},N=()=>d.distanceUnit==="km"?"Distance (km)":"Distance (nm)";return u.jsxs("div",{className:"space-y-4 opacity-0 animate-fadeIn",style:{animationDelay:"0.2s",animationFillMode:"forwards"},children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:"font-semibold text-lg dark:text-gray-100",children:n}),a&&u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("select",{value:d.distanceUnit,onChange:C=>p({...d,distanceUnit:C.target.value}),className:"px-2 py-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm",children:[u.jsx("option",{value:"nm",children:"Nautical Miles"}),u.jsx("option",{value:"km",children:"Kilometers"})]}),u.jsxs("select",{value:d.fuelUnit,onChange:C=>p({...d,fuelUnit:C.target.value}),className:"px-2 py-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm",children:[u.jsx("option",{value:"lbs",children:"Pounds"}),u.jsx("option",{value:"kg",children:"Kilograms"}),u.jsx("option",{value:"tons",children:"Tons"})]})]})]}),a&&e.minimum4Engines&&u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>v("minimum4Engines"),className:et("px-3 py-1 rounded text-sm font-medium transition-all duration-300 transform hover:scale-105",d.showSpecialConditions.minimum4Engines?"bg-blue-500 text-white shadow-lg scale-105":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 hover:shadow-md"),children:"4 Engines"}),u.jsx("button",{onClick:()=>v("minimum3Engines"),className:et("px-3 py-1 rounded text-sm font-medium transition-all duration-300 transform hover:scale-105",d.showSpecialConditions.minimum3Engines?"bg-orange-500 text-white shadow-lg scale-105":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 hover:shadow-md"),children:"3 Engines"}),u.jsx("button",{onClick:()=>v("lossOfPressure"),className:et("px-3 py-1 rounded text-sm font-medium transition-all duration-300 transform hover:scale-105",d.showSpecialConditions.lossOfPressure?"bg-red-500 text-white shadow-lg scale-105":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 hover:shadow-md"),children:"Loss of Pressure"}),u.jsx("button",{onClick:()=>v("tenPercent"),className:et("px-3 py-1 rounded text-sm font-medium transition-colors",d.showSpecialConditions.tenPercent?"bg-purple-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:"10% Addition"}),u.jsxs("label",{className:"flex items-center gap-2 ml-4",children:[u.jsx("input",{type:"checkbox",checked:d.showWaypoints,onChange:C=>{const P=C.target.checked;c({showWaypoints:P}),p({...d,showWaypoints:P})},className:"rounded"}),u.jsx("span",{className:"text-sm dark:text-gray-300",children:"Show Waypoints"})]}),s&&u.jsxs("label",{className:"flex items-center gap-2 ml-4",children:[u.jsx("input",{type:"checkbox",checked:l.show970Line,onChange:C=>c({show970Line:C.target.checked}),className:"rounded"}),u.jsx("span",{className:"text-sm dark:text-gray-300",children:"Show 970 2/3"})]})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow",children:u.jsx("div",{className:"relative",children:u.jsx(bY,{width:"100%",height:r,children:u.jsxs(Xle,{data:w,margin:{top:5,right:30,left:20,bottom:5},children:[u.jsx(OT,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:opacity-20"}),u.jsx(Y0,{dataKey:"distance",label:{value:N(),position:"insideBottom",offset:-5,style:{fill:"#6b7280"}},domain:i?[0,Mo(i,"nm",d.distanceUnit)]:["auto","auto"],type:"number",allowDataOverflow:!1,tick:{fill:"#6b7280"},stroke:"#9ca3af",ticks:(()=>{const C=new Set;m.forEach(W=>{W.label&&W.label.startsWith("End ")&&C.add(W.distance)});const P=Math.max(...w.map(W=>W.distance)),M=d.distanceUnit==="km"?Mo(100,"nm","km"):100;for(let W=0;W<=P;W+=M)C.add(Math.round(W));return Array.from(C).sort((W,L)=>W-L)})(),tickFormatter:C=>Math.round(C).toString()}),u.jsx(X0,{label:{value:j(),angle:-90,position:"insideLeft",style:{fill:"#6b7280"}},domain:[0,"dataMax"],tick:{fill:"#6b7280"},stroke:"#9ca3af",ticks:(()=>{const C=[];C.push(...m),d.showSpecialConditions.minimum4Engines&&e.minimum4Engines&&C.push(...f(e.minimum4Engines)),d.showSpecialConditions.minimum3Engines&&e.minimum3Engines&&C.push(...f(e.minimum3Engines)),d.showSpecialConditions.lossOfPressure&&e.lossOfPressure&&C.push(...f(e.lossOfPressure)),d.showSpecialConditions.tenPercent&&e.tenPercent&&C.push(...f(e.tenPercent)),d.showSpecialConditions.minimum4Engines&&e.reverseMinimum4Engines&&C.push(...f(e.reverseMinimum4Engines)),d.showSpecialConditions.minimum3Engines&&e.reverseMinimum3Engines&&C.push(...f(e.reverseMinimum3Engines)),d.showSpecialConditions.lossOfPressure&&e.reverseLossOfPressure&&C.push(...f(e.reverseLossOfPressure)),d.showSpecialConditions.tenPercent&&e.reverseTenPercent&&C.push(...f(e.reverseTenPercent));const P=C.map(z=>z.fuel),I=Math.min(...P),M=Math.max(...P);let W=5;d.fuelUnit==="kg"?W=5/2.20462:d.fuelUnit==="tons"&&(W=5/2204.62);const L=Math.floor(I/W)*W,R=Math.ceil(M/W)*W,B=[];for(let z=L;z<=R;z+=W)B.push(z);return B})(),tickFormatter:C=>C.toFixed(0)}),u.jsx(ji,{content:({active:C,payload:P,label:I})=>{if(!C||!P||P.length===0)return null;const M=I,W=[],L=(_,D)=>{let q=null,te=1/0;for(const H of _){const Z=Math.abs(H.distance-D);Z<te&&(te=Z,q=H)}if(q&&te<.5)return q.fuel;for(let H=0;H<_.length-1;H++)if(_[H].distance<=D&&_[H+1].distance>=D){const Z=(D-_[H].distance)/(_[H+1].distance-_[H].distance);return _[H].fuel-(_[H].fuel-_[H+1].fuel)*Z}return null};if(e.actual&&e.actual.some(_=>Math.abs(_.distance-M)<.5)){const _=L(m,M),D=e.actual?L(f(e.actual),M):null;if(_!==null&&W.push({name:"Normal",value:_,color:"#10b981"}),D!==null&&(W.push({name:"Actual",value:D,color:h==="dark"?"#f59e0b":"#000000"}),_!==null)){const q=D-_,te=q>=0?"#10b981":"#ef4444";W.push({name:"Delta",value:q,color:te,showSign:!0})}}else{const _=L(m,M);if(_!==null&&W.push({name:"Normal",value:_,color:"#10b981"}),d.showSpecialConditions.minimum4Engines&&e.minimum4Engines){const D=L(f(e.minimum4Engines),M);D!==null&&W.push({name:"4 Engines",value:D,color:"#3b82f6"})}if(d.showSpecialConditions.minimum3Engines&&e.minimum3Engines){const D=L(f(e.minimum3Engines),M);D!==null&&W.push({name:"3 Engines",value:D,color:"#f97316"})}if(d.showSpecialConditions.lossOfPressure&&e.lossOfPressure){const D=L(f(e.lossOfPressure),M);D!==null&&W.push({name:"Loss of Pressure",value:D,color:"#ef4444"})}if(d.showSpecialConditions.tenPercent&&e.tenPercent){const D=L(f(e.tenPercent),M);D!==null&&W.push({name:"10% Addition",value:D,color:"#a855f7"})}if(d.showSpecialConditions.minimum4Engines&&e.reverseMinimum4Engines){const D=L(f(e.reverseMinimum4Engines),M);D!==null&&W.push({name:"4 Engines (Return)",value:D,color:"#3b82f6"})}if(d.showSpecialConditions.minimum3Engines&&e.reverseMinimum3Engines){const D=L(f(e.reverseMinimum3Engines),M);D!==null&&W.push({name:"3 Engines (Return)",value:D,color:"#f97316"})}if(d.showSpecialConditions.lossOfPressure&&e.reverseLossOfPressure){const D=L(f(e.reverseLossOfPressure),M);D!==null&&W.push({name:"Loss of Pressure (Return)",value:D,color:"#ef4444"})}if(d.showSpecialConditions.tenPercent&&e.reverseTenPercent){const D=L(f(e.reverseTenPercent),M);D!==null&&W.push({name:"10% Addition (Return)",value:D,color:"#a855f7"})}if(e.actual&&e.actual.length>0){const D=L(f(e.actual),M);D!==null&&W.push({name:"Actual",value:D,color:h==="dark"?"#f59e0b":"#000000"})}if(l.show970Line&&s){const D=[{distance:Mo(s.startDistance,"nm",d.distanceUnit),fuel:Td(s.startFOB,"lbs",d.fuelUnit)},{distance:Mo(s.endDistance,"nm",d.distanceUnit),fuel:Td(s.endFOB,"lbs",d.fuelUnit)}],q=L(D,M);if(q!==null){W.push({name:"970 2/3",value:q,color:"#ec4899"});const te=L(m,M);if(te!==null){const Z=q-te;W.push({name:" from Normal",value:Z,color:Z>=0?"#10b981":"#ef4444",showSign:!0})}const H=e.actual?L(f(e.actual),M):null;if(H!==null){const Z=q-H;W.push({name:" from Actual",value:Z,color:Z>=0?"#10b981":"#ef4444",showSign:!0})}}}}const B=w.find(_=>Math.abs(_.distance-M)<.5&&_.label),z=w.find(_=>Math.abs(_.distance-M)<.5&&_.isCurrentPosition);let Y=!1,ie=!1;if(!B&&!z){const _=[];_.push(...m.filter(te=>!te.isWaypoint)),d.showSpecialConditions.minimum4Engines&&e.minimum4Engines&&_.push(...f(e.minimum4Engines)),d.showSpecialConditions.minimum3Engines&&e.minimum3Engines&&_.push(...f(e.minimum3Engines)),d.showSpecialConditions.lossOfPressure&&e.lossOfPressure&&_.push(...f(e.lossOfPressure)),d.showSpecialConditions.tenPercent&&e.tenPercent&&_.push(...f(e.tenPercent)),Y=!!_.find(te=>Math.abs(te.distance-M)<.5&&te.isPNR),ie=!!_.find(te=>Math.abs(te.distance-M)<.5&&te.isNormalIntersection)}return u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 shadow-lg rounded-lg border border-gray-200 dark:border-gray-700",children:[z&&u.jsx("div",{className:"font-bold text-red-600 dark:text-red-400 text-sm mb-1",children:"Current Position"}),(B==null?void 0:B.label)&&!z&&u.jsx("div",{className:"font-semibold text-sm mb-1 dark:text-gray-100",children:B.label}),Y&&u.jsx("div",{className:"font-bold text-red-600 dark:text-red-400 text-sm mb-1",children:"Point of No Return (PNR)"}),ie&&u.jsx("div",{className:"font-bold text-orange-600 dark:text-orange-400 text-sm mb-1",children:"Line Intersection"}),u.jsxs("div",{className:"text-sm dark:text-gray-200",children:[u.jsxs("div",{className:"mb-1",children:[N(),": ",M.toFixed(1)]}),W.map((_,D)=>u.jsxs("div",{style:{color:_.color},children:[_.name,": ",_.showSign&&_.value>=0?"+":"",_.value.toFixed(1)," ",_.name==="Delta"||_.name.includes("")?"klb":d.fuelUnit]},D))]})]})}}),u.jsx(al,{}),u.jsx(jr,{type:"monotone",data:w,dataKey:"fuel",stroke:"#10b981",strokeWidth:3,name:"Normal",dot:C=>{const{index:P,payload:I,cx:M,cy:W}=C,L=o&&o.waypoints&&o.waypoints.length>0;return I.isCurrentPosition||I.isEndOfLeg||I.isPNR||I.isNormalIntersection||I.isWaypoint?b(C):!L&&I.isSubSegmentPoint?M===void 0||W===void 0||isNaN(M)||isNaN(W)?null:u.jsxs("g",{transform:`translate(${M},${W})`,children:[u.jsx("circle",{r:3,fill:"#10b981",stroke:"#fff",strokeWidth:1}),u.jsx("text",{x:0,y:-8,fill:"#10b981",textAnchor:"middle",fontSize:8,fontWeight:"bold",children:I.label})]}):!L&&I.isSegmentPoint?M===void 0||W===void 0||isNaN(M)||isNaN(W)?null:u.jsxs("g",{transform:`translate(${M},${W})`,children:[u.jsx("rect",{x:-3,y:-3,width:6,height:6,fill:"#10b981",stroke:"#fff",strokeWidth:1}),u.jsx("text",{x:0,y:-10,fill:"#10b981",textAnchor:"middle",fontSize:9,fontWeight:"bold",children:I.label})]}):P===0||P===w.length-1?x(w,"#10b981")(C):I.label?b(C):null},strokeOpacity:1,zIndex:10}),d.showSpecialConditions.minimum4Engines&&e.minimum4Engines&&(()=>{const C=f(e.minimum4Engines);return u.jsx(jr,{type:"monotone",data:C,dataKey:"fuel",stroke:"#3b82f6",strokeWidth:2,name:"4 Engines",dot:P=>{const{payload:I}=P;return I.isPNR||I.isNormalIntersection||P.index===0||P.index===C.length-1?x(C,"#3b82f6")(P):null},strokeDasharray:"5 5",connectNulls:!1})})(),d.showSpecialConditions.minimum3Engines&&e.minimum3Engines&&(()=>{const C=f(e.minimum3Engines);return u.jsx(jr,{type:"monotone",data:C,dataKey:"fuel",stroke:"#f97316",strokeWidth:2,name:"3 Engines",dot:P=>{const{payload:I}=P;return I.isPNR||I.isNormalIntersection||P.index===0||P.index===C.length-1?x(C,"#f97316")(P):null},strokeDasharray:"5 5",connectNulls:!1})})(),d.showSpecialConditions.lossOfPressure&&e.lossOfPressure&&(()=>{const C=f(e.lossOfPressure);return u.jsx(jr,{type:"monotone",data:C,dataKey:"fuel",stroke:"#ef4444",strokeWidth:2,name:"Loss of Pressure",dot:P=>{const{payload:I}=P;return I.isPNR||I.isNormalIntersection||P.index===0||P.index===C.length-1?x(C,"#ef4444")(P):null},strokeDasharray:"5 5",connectNulls:!1})})(),d.showSpecialConditions.tenPercent&&e.tenPercent&&(()=>{const C=f(e.tenPercent);return u.jsx(jr,{type:"monotone",data:C,dataKey:"fuel",stroke:"#a855f7",strokeWidth:2,connectNulls:!1,name:"10% Addition",dot:P=>{const{payload:I}=P;return I.isPNR||I.isNormalIntersection||P.index===0||P.index===C.length-1?x(C,"#a855f7")(P):null},strokeDasharray:"5 5"})})(),d.showSpecialConditions.minimum4Engines&&e.reverseMinimum4Engines&&(()=>{const C=f(e.reverseMinimum4Engines);return console.log("Reverse 4 Engines lineData:",C),console.log("First point (distance 0):",C[0]),console.log("Last point:",C[C.length-1]),u.jsx(jr,{type:"monotone",data:C,dataKey:"fuel",stroke:"#3b82f6",strokeWidth:2,name:"4 Engines (Return)",dot:P=>{const{payload:I}=P;return I.isPNR||P.index===0||P.index===C.length-1?x(C,"#3b82f6")(P):null},strokeDasharray:"2 2",opacity:.6,connectNulls:!1})})(),d.showSpecialConditions.minimum3Engines&&e.reverseMinimum3Engines&&(()=>{const C=f(e.reverseMinimum3Engines);return u.jsx(jr,{type:"monotone",data:C,dataKey:"fuel",stroke:"#f97316",strokeWidth:2,name:"3 Engines (Return)",dot:P=>{const{payload:I}=P;return I.isPNR||P.index===0||P.index===C.length-1?x(C,"#f97316")(P):null},strokeDasharray:"2 2",opacity:.6,connectNulls:!1})})(),d.showSpecialConditions.lossOfPressure&&e.reverseLossOfPressure&&(()=>{const C=f(e.reverseLossOfPressure);return u.jsx(jr,{type:"monotone",data:C,dataKey:"fuel",stroke:"#ef4444",strokeWidth:2,name:"Loss of Pressure (Return)",dot:P=>{const{payload:I}=P;return I.isPNR||P.index===0||P.index===C.length-1?x(C,"#ef4444")(P):null},strokeDasharray:"2 2",opacity:.6,connectNulls:!1})})(),d.showSpecialConditions.tenPercent&&e.reverseTenPercent&&(()=>{const C=f(e.reverseTenPercent);return u.jsx(jr,{type:"monotone",data:C,dataKey:"fuel",stroke:"#a855f7",strokeWidth:2,name:"10% Addition (Return)",dot:P=>{const{payload:I}=P;return I.isPNR||P.index===0||P.index===C.length-1?x(C,"#a855f7")(P):null},strokeDasharray:"2 2",opacity:.6,connectNulls:!1})})(),e.actual&&e.actual.length>0&&(()=>{const C=f(e.actual);return u.jsx(jr,{type:"monotone",data:C,dataKey:"fuel",stroke:h==="dark"?"#f59e0b":"#000000",strokeWidth:3,name:"Actual",dot:P=>{const{cx:I,cy:M,payload:W}=P;return I===void 0||M===void 0||isNaN(I)||isNaN(M)?null:u.jsxs("g",{transform:`translate(${I},${M})`,children:[u.jsx("circle",{r:5,fill:h==="dark"?"#f59e0b":"#000000",stroke:"#fff",strokeWidth:2}),W.label&&u.jsx("text",{x:0,y:-10,fill:h==="dark"?"#f59e0b":"#000",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:W.label})]})},strokeOpacity:1,connectNulls:!1,zIndex:20})})(),s&&l.show970Line&&(()=>{const C=[{distance:Mo(s.startDistance,"nm",d.distanceUnit),fuel:Td(s.startFOB,"lbs",d.fuelUnit)},{distance:Mo(s.endDistance,"nm",d.distanceUnit),fuel:Td(s.endFOB,"lbs",d.fuelUnit)}];return u.jsx(jr,{type:"monotone",data:C,dataKey:"fuel",stroke:"#ec4899",strokeWidth:3,name:"970 2/3",dot:P=>{const{cx:I,cy:M,index:W}=P;return I===void 0||M===void 0||isNaN(I)||isNaN(M)?null:u.jsxs("g",{transform:`translate(${I},${M})`,children:[u.jsx("circle",{r:5,fill:"#ec4899",stroke:"#fff",strokeWidth:2}),u.jsx("text",{x:0,y:-10,fill:"#ec4899",textAnchor:"middle",fontSize:11,fontWeight:"bold",children:W===0?"Current":"Dest"})]})},strokeDasharray:"8 4",connectNulls:!1,zIndex:15})})()]})})})})]})}function ai(e){return e*(Math.PI/180)}function F2(e){return e*(180/Math.PI)}function Fd(e,t){const r=ai(t.latitude-e.latitude),a=ai(t.longitude-e.longitude),i=Math.sin(r/2)*Math.sin(r/2)+Math.cos(ai(e.latitude))*Math.cos(ai(t.latitude))*Math.sin(a/2)*Math.sin(a/2);return 3440.065*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))}function rue(e,t){const n=ai(t.longitude-e.longitude),r=ai(e.latitude),a=ai(t.latitude),i=Math.sin(n)*Math.cos(a),o=Math.cos(r)*Math.sin(a)-Math.sin(r)*Math.cos(a)*Math.cos(n);return(F2(Math.atan2(i,o))+360)%360}function aue(e,t){return(e-t+360)%360}function Kv(e,t){return(e+t+360)%360}function ek(e,t,n){const a=t/3440.065,i=ai(e.latitude),o=ai(e.longitude),s=ai(n),l=Math.asin(Math.sin(i)*Math.cos(a)+Math.cos(i)*Math.sin(a)*Math.cos(s)),c=o+Math.atan2(Math.sin(s)*Math.sin(a)*Math.cos(i),Math.cos(a)-Math.sin(i)*Math.sin(l));return{latitude:F2(l),longitude:F2(c)}}function Us(e,t,n){const r=rue(e,t);return aue(r,n)}function iue(e,t,n,r,a){if(n===0)return 0;const o=(r+180)%360-a,s=ai(o),l=n*Math.cos(s);return Math.round(l)}function oue({leg:e,index:t,onUpdate:n,onClose:r,planFuel:a}){var p,f,m,g,w,b,x,v,j;const[i,o]=se.useState("inputs"),[s,l]=se.useState(0),c=qt(N=>N.getCurrentPlan()),h=(c==null?void 0:c.legs[t])||e;console.log("LegEditView render - Current leg:",{id:h.id,type:h.type,specialCondition:h.specialCondition,index:t,isa:h.isa,initialFuel:h.initialFuel,segmentsCount:(p=h.segments)==null?void 0:p.length,firstSegmentISA:(m=(f=h.segments)==null?void 0:f[0])==null?void 0:m.isa,firstSegmentTAS:(w=(g=h.segments)==null?void 0:g[0])==null?void 0:w.trueAirSpeed,firstSegmentInitialFuel:(x=(b=h.segments)==null?void 0:b[0])==null?void 0:x.initialFuel,planFuelOnBoard:(v=c==null?void 0:c.configuration)==null?void 0:v.fuelOnBoard,activeTab:i,usingStoreLeg:!!(c!=null&&c.legs[t])}),se.useEffect(()=>{var N,A,k,T,E;i==="segments"&&console.log(" SWITCHED TO SEGMENTS TAB:",{legId:h.id,isa:h.isa,segmentsCount:(N=h.segments)==null?void 0:N.length,firstSegmentTAS:(k=(A=h.segments)==null?void 0:A[0])==null?void 0:k.trueAirSpeed,secondSegmentTAS:(E=(T=h.segments)==null?void 0:T[1])==null?void 0:E.trueAirSpeed})},[i,h.id,h.isa,h.segments]);const d=(N,A)=>{console.log("LegEditView handleInputChange:",{field:N,value:A,legId:h.id}),N==="isa"&&console.log(" ISA CHANGE DETECTED:",{oldISA:h.isa,newISA:A}),N==="wind"?n({wind:A}):N==="altitudeMode"?A==="fixed"&&h.altitude===0?n({altitudeMode:A,altitude:25e3}):n({[N]:A}):(console.log("Calling onUpdate with:",{[N]:A}),n({[N]:A}))};return u.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-gray-900 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-shrink-0 px-3 sm:px-6 py-3 sm:py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold dark:text-gray-100 truncate mr-2",children:[h.type==="taxi"?"Taxi":`Leg ${t+1}`," - ",h.type.toUpperCase(),h.waypointSuffix?` ${h.waypointSuffix}`:""]}),u.jsx("button",{onClick:r,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 p-1 sm:p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex-shrink-0",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"flex-shrink-0 px-3 sm:px-6 py-2 border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:u.jsx("div",{className:"flex gap-1 sm:gap-2 min-w-max",children:(h.type==="taxi"?["inputs"]:["inputs","segments","waypoints","hgi"]).map(N=>u.jsx("button",{onClick:()=>o(N),className:et("px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-medium capitalize transition-colors text-sm sm:text-base",i===N?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:N},N))})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6 min-h-0 bg-gray-50 dark:bg-gray-900",children:[i==="inputs"&&u.jsx(sue,{leg:h,onChange:d,planFuel:a}),i==="segments"&&u.jsx(lue,{leg:h,segments:h.segments,onChange:d}),i==="waypoints"&&u.jsx(uue,{leg:h,onUpdate:n,triggerForeFlightImport:s}),i==="hgi"&&u.jsx(cue,{leg:h})]}),u.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex gap-2",children:i==="waypoints"&&u.jsxs(u.Fragment,{children:[((j=c==null?void 0:c.metadata)==null?void 0:j.navlogUrl)&&u.jsx(Ke,{size:"sm",variant:"secondary",onClick:()=>zb(c.metadata.navlogUrl),children:"View NavLog"}),u.jsx(Ke,{size:"sm",variant:"primary",onClick:()=>l(N=>N+1),children:"Import FPL"})]})}),u.jsx(Ke,{onClick:r,children:"Done"})]})})]})}function sue({leg:e,onChange:t,planFuel:n}){const r=e.type==="taxi",a=qt(l=>l.getCurrentPlan()),i=(a==null?void 0:a.configuration)||{zeroFuelWeight:85,drag:"withoutPods",oddEven:"odd"},[o,s]=se.useState([]);return se.useEffect(()=>{if(e.type!=="taxi"&&e.distance>0){const l={...e,specialCondition:"normal",segments:[]},c=Ta(l,i);s(c)}},[e.type,e.distance,e.altitude,e.isa,e.wind,e.zfwChange,i]),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-4 dark:text-gray-100",children:r?"Taxi Parameters":"Flight Parameters"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{children:r?u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm text-label-gray dark:text-label-gray-dark mb-1",children:"Altitude (ft)"}),u.jsx("input",{type:"number",value:e.altitude||"",onChange:l=>{const c=l.target.value;if(c==="")t("altitude",1e3);else{const h=parseInt(c);if(!isNaN(h)){const d=Math.max(1e3,Math.min(12e3,h));t("altitude",d)}}},className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",step:"1000",min:"1000",max:"12000",placeholder:"1000-12000 ft"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Taxi altitude must be between 1,000 and 12,000 feet"})]}):u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm text-label-gray dark:text-label-gray-dark mb-1",children:"Altitude Mode"}),u.jsxs("select",{value:e.altitudeMode||"fixed",onChange:l=>t("altitudeMode",l.target.value),className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg mb-3",children:[u.jsx("option",{value:"cc",children:"CC (Cruise Ceiling)"}),u.jsx("option",{value:"fixed",children:"Fixed Altitude"})]}),e.altitudeMode==="fixed"&&u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm text-label-gray dark:text-label-gray-dark mb-1",children:"Altitude (ft)"}),u.jsx("input",{type:"number",value:e.altitude||"",onChange:l=>{const c=l.target.value;if(c==="")t("altitude",0);else{const h=parseInt(c);isNaN(h)||t("altitude",h)}},className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",step:"1000",min:"0",placeholder:"Enter altitude"})]}),e.altitudeMode==="cc"&&u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:"Altitude will be calculated automatically based on optimal cruise ceiling"})]})}),r?u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray dark:text-label-gray-dark mb-1",children:"Fuel Consumption (lbs)"}),u.jsx("input",{type:"number",value:e.fuelConsumed||e.fuelConsumption||1,onChange:l=>{const c=parseFloat(l.target.value)||1;t("fuelConsumed",c),t("fuelConsumption",c)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",step:"0.1",min:"0",placeholder:"1.0"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Default fuel consumption for taxi operations"})]}):e.type!=="holding"&&e.type!=="anchor"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Distance (nm)"}),u.jsx("input",{type:"number",value:e.distance||"",onChange:l=>{const c=l.target.value;if(c==="")t("distance",0);else{const h=parseFloat(c);isNaN(h)||t("distance",h)}},className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",step:"0.1",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Wind (kts)"}),u.jsx("input",{type:"number",value:e.wind||0,onChange:l=>{const c=l.target.value;if(c===""||c==="-")return;const h=parseFloat(c);t("wind",isNaN(h)?0:h)},className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",step:"0.1",min:"-200",max:"200",placeholder:"0.0"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Positive = tailwind (increases ground speed), Negative = headwind (decreases ground speed)"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Note: This input is used only when no flight plan waypoints are imported"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"ISA Deviation (C)"}),u.jsx("input",{type:"number",value:e.isa||0,onChange:l=>{const c=parseFloat(l.target.value)||0;console.log(" ISA input onChange:",{oldValue:e.isa,newValue:c,rawValue:l.target.value}),t("isa",c)},onBlur:l=>{console.log(" ISA input onBlur:",{value:l.target.value,currentISA:e.isa})},className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",step:"0.1"})]})]}):null,u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Change in ZFW (klb)"}),u.jsx("input",{type:"number",value:e.zfwChange||0,onChange:l=>t("zfwChange",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"0.1",placeholder:"0.0"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Weight change during leg (cargo drop: negative, pickup: positive)"})]}),e.type==="airRefueling"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Fuel Offload (lbs)"}),u.jsx("input",{type:"number",value:e.fuelOffload||0,onChange:l=>t("fuelOffload",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"0.1",min:"0",placeholder:"Enter fuel to transfer"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Amount of fuel to transfer to another aircraft"})]}),e.type==="shield"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Fuel Received (lbs)"}),u.jsx("input",{type:"number",value:e.fuelReceived||0,onChange:l=>t("fuelReceived",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"0.1",min:"0",placeholder:"Enter fuel to receive"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Amount of fuel to receive from another aircraft"})]}),e.type==="anchor"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Anchor Time (minutes)"}),u.jsx("input",{type:"number",value:e.waitingMinutes||0,onChange:l=>t("waitingMinutes",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"1",min:"0",placeholder:"Enter anchor duration"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Duration of anchor/orbiting operation. Fuel consumption: 4200 lbs/hour"})]}),e.type==="holding"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Holding Time (minutes)"}),u.jsx("input",{type:"number",value:e.waitingMinutes||0,onChange:l=>t("waitingMinutes",parseFloat(l.target.value)||0),className:"w-full px-3 py-2 border rounded-lg",step:"1",min:"0",placeholder:"Enter holding duration"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Duration of holding pattern. Fuel consumption based on weight/altitude lookup table"})]}),e.type==="lrc950"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Fuel Efficiency Improvement (%)"}),u.jsx("input",{type:"number",value:e.fuelEfficiencyPercent||9,onChange:l=>t("fuelEfficiencyPercent",parseFloat(l.target.value)||9),className:"w-full px-3 py-2 border rounded-lg",step:"0.1",min:"0",max:"50",placeholder:"9"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"LRC 950 (3.5 engine) fuel efficiency improvement compared to LRC 970. Default: 9%"})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-4 dark:text-gray-100",children:"Calculated Values"}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Total Distance"}),u.jsxs("span",{className:"value-text",children:[e.distance.toFixed(1)," nm"]})]}),o.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Fuel Consumed (Normal)"}),u.jsxs("span",{className:"value-text",children:[(o.reduce((l,c)=>l+(c.fuelConsumed||0),0)/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Duration (Normal)"}),u.jsxs("span",{className:"value-text",children:[Math.round(o.reduce((l,c)=>l+(c.duration||0),0))," min"]})]})]}),e.initialFuel&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray",children:"Initial Fuel"}),u.jsxs("span",{className:"value-text",children:[e.initialFuel.toFixed(1)," klb"]})]})]}),o&&o.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"font-medium mb-2 text-sm dark:text-gray-100",children:"Flight Plan Fuel Requirements"}),u.jsx("div",{className:"space-y-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 text-sm",children:(()=>{const l=o.reduce((b,x)=>b+(x.fuelConsumed||0),0),c=o[o.length-1],h=(c==null?void 0:c.fuelConsumptionPerHour)||0,d=Math.max(4e3,h),p=.1*(l+d),f=4e3,m=l+d+p+f,g=(e.initialFuel||0)*1e3,w=g-m;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trip Fuel"}),u.jsxs("span",{className:"font-medium dark:text-gray-100",children:[(l/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Hour/Alternate"}),u.jsxs("span",{className:"font-medium",children:[(d/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Route Reserve (10%)"}),u.jsxs("span",{className:"font-medium",children:[(p/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Holding + Unusable"}),u.jsxs("span",{className:"font-medium",children:[(f/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t border-blue-200 dark:border-blue-700",children:[u.jsx("span",{className:"font-semibold dark:text-gray-100",children:"Total Required"}),u.jsxs("span",{className:"font-semibold",children:[(m/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Initial Fuel"}),u.jsxs("span",{className:"font-medium",children:[(g/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Spare Fuel"}),u.jsxs("span",{className:`font-medium ${w<0?"text-red-600":"text-green-600"}`,children:[(w/1e3).toFixed(1)," klb"]})]})]})})()})]})]})]})}function lue({leg:e,segments:t,onChange:n}){console.log("LegSegmentsTab - leg special condition:",e.specialCondition),console.log("LegSegmentsTab - segments:",t),console.log("LegSegmentsTab - segments length:",t==null?void 0:t.length),console.log("LegSegmentsTab - leg type:",e.type);const[r,a]=se.useState({}),[i,o]=se.useState(!1),[s,l]=se.useState(!1),[c,h]=se.useState(!1),d=qt(m=>m.getCurrentPlan()),p=(d==null?void 0:d.configuration)||{zeroFuelWeight:85,drag:"withoutPods",oddEven:"odd"},f=ge.useMemo(()=>!t||!s||!e.manualSegmentAltitudes?t:t.map((m,g)=>{var b;const w=(b=e.manualSegmentAltitudes)==null?void 0:b[g];return w!==void 0?{...m,endAltitude:w,altitude:w}:m}),[t,s,e.manualSegmentAltitudes]);return ge.useEffect(()=>{if(e.type==="lrc970"||e.type==="lrc1010"){console.log("Calculating reverse segments for LRC leg");const m={};["minimum4Engines","minimum3Engines","lossOfPressure","tenPercent"].forEach(w=>{try{const b=GT(e,w,p);b&&b.length>0&&(m[w]=b,console.log(`Calculated ${b.length} reverse segments for ${w}`))}catch(b){console.error(`Error calculating reverse segments for ${w}:`,b)}}),a(m)}},[e,e.specialCondition,e.segments]),u.jsxs("div",{className:"space-y-4",children:[(e.type==="lrc970"||e.type==="lrc1010")&&u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg space-y-4",children:[u.jsx("h3",{className:"font-semibold text-sm",children:"Special Conditions"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Flight Condition"}),u.jsxs("select",{value:e.specialCondition||"normal",onChange:m=>{const g=m.target.value==="normal"?"normal":m.target.value;console.log("Special condition dropdown onChange:",{currentValue:e.specialCondition,newValue:g,eventTargetValue:m.target.value,legId:e.id,legType:e.type}),n("specialCondition",g)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",children:[u.jsx("option",{value:"normal",children:"Normal State"}),u.jsx("option",{value:"minimum4Engines",children:"4 Engines ( 4 )"}),u.jsx("option",{value:"minimum3Engines",children:"3 Engines (3 )"}),u.jsx("option",{value:"lossOfPressure",children:"Loss of Pressure ( )"}),u.jsx("option",{value:"tenPercent",children:"10% Addition"})]})]}),e.specialCondition==="lossOfPressure"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-label-gray mb-1",children:"Pressure Altitude Limit (ft)"}),u.jsx("input",{type:"number",value:e.pressureAltitudeLimit||1e4,onChange:m=>n("pressureAltitudeLimit",parseInt(m.target.value)||1e4),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",step:"1000",min:"0",max:"20000",placeholder:"Enter altitude limit"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum altitude when flying without pressurization"})]})]}),!f||f.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No segments calculated yet. Add distance to generate segments."}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"font-semibold",children:["Flight Segments ",e.manualSegmentAltitudes&&Object.keys(e.manualSegmentAltitudes).length>0?"(Manual Edit)":"(Auto-calculated)"]}),u.jsxs("div",{className:"flex items-center gap-4",children:[e.manualSegmentAltitudes&&Object.keys(e.manualSegmentAltitudes).length>0&&u.jsx("button",{onClick:()=>{h(!0)},className:"text-sm px-3 py-1 text-blue-600 hover:text-blue-800 border border-blue-600 hover:border-blue-800 rounded transition-colors",children:"Reset to Auto"}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:s,onChange:m=>{l(m.target.checked)},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{children:"Manual Edit Segment"})]})]})]}),s&&u.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-3 mb-4",children:u.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[u.jsx("strong",{children:"Manual Edit Mode:"})," You can now edit segment altitudes. Changes will affect fuel and time calculations."]})}),u.jsx("div",{className:"overflow-x-auto -mx-3 sm:mx-0",children:u.jsxs("table",{className:"w-full border-collapse text-xs bg-white dark:bg-gray-900 min-w-max",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Point"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Altitude"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Initial Weight (klb)"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Distance"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:" Distance"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"IAS"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"TAS"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"GS"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Duration"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:" Time"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Ini Fuel (klb)"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Fuel/Hr (klb)"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Fuel/Seg (klb)"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Rem Fuel (klb)"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"ISA"}),u.jsx("th",{className:"text-left py-1 px-1 sm:px-2 text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Wind"})]})}),u.jsx("tbody",{children:f.map((m,g)=>{var j,N,A,k;const w=e.specialCondition&&e.specialCondition!=="normal"?"Cruise":g===0?"Climb":"Cruise",b=m.endAltitude?Math.round(m.endAltitude/1e3):"--",x=f.slice(0,g+1).reduce((T,E)=>T+(E.duration||0),0),v=T=>{const E=Math.floor(T/60),U=Math.round(T%60);return`${E}:${U.toString().padStart(2,"0")}`};return u.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:w}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:s?u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"number",value:((j=e.manualSegmentAltitudes)==null?void 0:j[g])!==void 0?Math.round(e.manualSegmentAltitudes[g]/1e3):m.endAltitude?Math.round(m.endAltitude/1e3):0,onChange:T=>{const U=(parseInt(T.target.value)||0)*1e3,C={...e.manualSegmentAltitudes||{},[g]:U};n("manualSegmentAltitudes",C)},className:et("w-16 px-1 py-0.5 text-xs border rounded focus:outline-none focus:ring-1 focus:ring-blue-500",((N=e.manualSegmentAltitudes)==null?void 0:N[g])!==void 0&&e.manualSegmentAltitudes[g]!==m.endAltitude?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 dark:bg-gray-700"),min:"0",max:"45",step:"1"}),((A=e.manualSegmentAltitudes)==null?void 0:A[g])!==void 0&&e.manualSegmentAltitudes[g]!==((k=t[g])==null?void 0:k.endAltitude)&&u.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400",title:"Modified",children:"*"})]}):b}),u.jsx("td",{className:"py-1 px-2 text-xs dark:text-gray-300",title:`Raw: ${m.initialWeight}, Type: ${typeof m.initialWeight}`,children:m.initialWeight?(m.initialWeight/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:Math.round(m.endDistance-m.startDistance)}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:Math.round(m.endDistance)}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:m.indicatedAirSpeed||"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:m.trueAirSpeed||"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:m.groundSpeed||"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:m.duration?Math.round(m.duration):"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:v(x)}),u.jsx("td",{className:"py-1 px-2 text-xs dark:text-gray-300",title:`Raw: ${m.initialFuel}`,children:m.initialFuel!==void 0&&m.initialFuel!==null?(m.initialFuel/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:m.fuelConsumptionPerHour?(m.fuelConsumptionPerHour/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:m.fuelConsumed?(m.fuelConsumed/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:m.remainingFuel?(m.remainingFuel/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:m.isa!==void 0?Math.round(m.isa):"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:m.projectedWind!==void 0?Math.round(m.projectedWind):"--"})]},m.id)})})]})}),(e.type==="lrc970"||e.type==="lrc1010")&&f.length>0&&u.jsxs("div",{className:"mt-6",children:[u.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 text-sm font-medium text-primary hover:text-primary-dark transition-colors",children:[u.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),i?"Hide":"Show"," Reverse Flight Calculations"]}),i&&u.jsxs("div",{className:"mt-4 space-y-4",children:[u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[u.jsx("strong",{children:"Reverse Flight Calculations:"})," Starting from destination with 8 lbs reserve fuel, flying back to origin with reversed wind conditions."]})}),Object.entries(r).map(([m,g])=>{if(!g||g.length===0)return null;const w=nx(m),b=e.specialCondition===m;return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:`font-medium text-sm ${b?"text-primary":"text-gray-700 dark:text-gray-300"}`,children:[w," (Return)",b&&u.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Current)"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse text-xs bg-white dark:bg-gray-900",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Point"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Alt"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Initial Weight (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Dist"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:" Dist"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"GS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Time"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:" Time"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Fuel/Hr"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Fuel/Seg"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Rem Fuel"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700 dark:text-gray-300",children:"Wind"})]})}),u.jsxs("tbody",{children:[g.map((x,v)=>{var T,E,U;const j="Cruise",N=x.endAltitude?Math.round(x.endAltitude/1e3):"--",A=g.slice(0,v+1).reduce((C,P)=>C+(P.duration||0),0),k=C=>{const P=Math.floor(C/60),I=Math.round(C%60);return`${P}:${I.toString().padStart(2,"0")}`};return u.jsxs("tr",{className:`border-b dark:border-gray-700 ${b?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:j}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:N}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:x.initialWeight?(x.initialWeight/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:Math.round(x.endDistance-x.startDistance)}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:Math.round(x.endDistance)}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:x.groundSpeed||"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:x.duration?Math.round(x.duration):"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:k(A)}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:((T=x.fuelConsumptionPerHour)==null?void 0:T.toFixed(1))||"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:((E=x.fuelConsumed)==null?void 0:E.toFixed(1))||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs font-medium dark:text-gray-100",children:((U=x.remainingFuel)==null?void 0:U.toFixed(1))||"--"}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300",children:x.projectedWind!==void 0?x.projectedWind.toFixed(1):"--"})]},`${m}-${v}`)}),u.jsxs("tr",{className:"font-medium bg-gray-100 dark:bg-gray-700",children:[u.jsx("td",{colSpan:8,className:"py-1 px-2 text-xs text-right dark:text-gray-300",children:"Total Fuel Required:"}),u.jsxs("td",{colSpan:3,className:"py-1 px-2 text-xs dark:text-gray-300",children:[(8+g.reduce((x,v)=>x+(v.fuelConsumed||0),0)).toFixed(1)," lbs"]}),u.jsx("td",{className:"py-1 px-1 sm:px-2 text-xs dark:text-gray-300"})]})]})]})})]},m)})]})]})]}),u.jsx(gl,{isOpen:c,onClose:()=>h(!1),onConfirm:()=>{n("manualSegmentAltitudes",void 0),n("segments",void 0),l(!1)},title:"Reset to Auto",message:"Reset segments to auto values?",confirmText:"Reset",cancelText:"Cancel",variant:"warning",size:"minimal"})]})}function uue({leg:e,onUpdate:t,triggerForeFlightImport:n}){var q,te,H;console.log("LegWaypointsTab - leg:",e),console.log("LegWaypointsTab - waypoints:",e==null?void 0:e.waypoints),console.log("LegWaypointsTab - waypoints length:",(q=e==null?void 0:e.waypoints)==null?void 0:q.length);const[r,a]=se.useState(!1),i=ge.useRef(n);ge.useEffect(()=>{n>i.current&&a(!0),i.current=n},[n]);const[o,s]=se.useState(null),[l,c]=se.useState(null),[h,d]=se.useState({name:"",distance:"",magHDG:"",isa:"",latitude:"",longitude:""}),[p,f]=se.useState(null),[m,g]=se.useState([]),[w,b]=se.useState(!1),[x,v]=se.useState(!1),[j,N]=se.useState(""),[A,k]=se.useState([]),[T,E]=se.useState(!0),U=qt(Z=>Z.getCurrentPlan()),C=((te=U==null?void 0:U.configuration)==null?void 0:te.startTime)||new Date;(H=U==null?void 0:U.metadata)==null||H.navlogUrl;const P=(Z,X)=>{const G={id:crypto.randomUUID(),timestamp:new Date,action:Z,details:X};k(ce=>[G,...ce])},I=()=>{k([])},M=Z=>{const X={...e,specialCondition:"normal"},G=qt.getState().getCurrentPlan(),ce=Ta(X,G==null?void 0:G.configuration);if(!ce||ce.length===0)return null;let ae=0;for(let de=0;de<ce.length;de++){const re=ce[de],Pe=re.endDistance||re.accumulatedDistance||0,Te=re.startDistance!==void 0?re.startDistance:ae;if(Z>=Te&&Z<=Pe){const ke=Pe-Te,Oe=ke>0?(Z-Te)/ke:0,Re=re.initialFuel||0,Ie=re.fuelConsumed||re.fuelConsumptionPerSegment||0,De=(Re-Ie*Oe)/1e3,Le=re.startAltitude||0,Ge=re.endAltitude||0,Ue=Le+(Ge-Le)*Oe;return{fuel:De,altitude:Math.round(Ue/1e3),ias:re.indicatedAirSpeed||re.ias||0,tas:re.trueAirSpeed||0,groundSpeed:re.groundSpeed||0,isa:re.isa||0}}ae=Pe}const le=e.segments[e.segments.length-1],xe=le&&(le.endDistance||le.accumulatedDistance)||0;if(le&&Z>xe)return{fuel:(le.remainingFuel||0)/1e3,altitude:Math.round((le.endAltitude||0)/1e3),ias:le.indicatedAirSpeed||le.ias||0,tas:le.trueAirSpeed||0,groundSpeed:le.groundSpeed||0,isa:le.isa||0};const be=e.segments[0];return be&&Z<=(be.startDistance||0)?{fuel:(be.initialFuel||0)/1e3,altitude:Math.round((be.startAltitude||0)/1e3),ias:be.indicatedAirSpeed||be.ias||0,tas:be.trueAirSpeed||0,groundSpeed:be.groundSpeed||0,isa:be.isa||0}:null},W=(Z,X)=>{console.log("=== FOREFLIGHT IMPORT DEBUG ==="),console.log("Importing waypoints:",Z),console.log("Total waypoints before processing:",Z.length),console.log("NavLog URL received:",X);const G=[];let ce=0;for(let be=0;be<Z.length;be++){const de=Z[be],re=de.name.toUpperCase();if(re.includes("TOC")||re.includes("TOD")||re.startsWith("-TOC-")||re.startsWith("-TOD-"))ce+=de.distance||0,console.log(`Found ${de.name} with distance ${de.distance} nm - will add to next waypoint`);else{const Te={...de,distance:(de.distance||0)+ce};ce>0&&console.log(`Added ${ce} nm to ${de.name}, new distance: ${Te.distance} nm`),G.push(Te),ce=0}}console.log("Total waypoints after processing:",G.length),G.forEach((be,de)=>{console.log(`Waypoint ${de+1}: ${be.name} - Distance: ${be.distance} nm`)}),G.length>0&&G[0].distance>0&&(console.log(`First waypoint ${G[0].name} has distance ${G[0].distance} - setting to 0`),G[0]={...G[0],distance:0});const ae=G.findIndex(be=>be.name.toLowerCase().includes("alternate")||be.name.toLowerCase().includes("cruise profile"));ae>=0&&(console.log(`Removing alternate route waypoints from index ${ae} onwards`),G.splice(ae));let le=G.reduce((be,de)=>be+(de.distance||0),0);console.log("Total distance from waypoints:",le),console.log("All waypoint distances:",G.map(be=>`${be.name}: ${be.distance} nm`).join(", ")),console.log("=== END DEBUG ===");const xe=G.map(be=>({...be,fob:be.id==="-TOC-"||be.fob===void 0?void 0:be.fob,fuelOnBoard:be.id==="-TOC-"||be.fuelOnBoard===void 0?void 0:be.fuelOnBoard}));if(t({waypoints:xe,distance:le}),X&&U&&(console.log("Updating plan metadata with navlogUrl"),qt.getState().updatePlan(U.metadata.id,{metadata:{...U.metadata,navlogUrl:X}})),a(!1),G.length>0&&U){const be=G[0],de=G[G.length-1];be.name&&de.name&&(console.log("Offering rename dialog for plan"),N(`${be.name} - ${de.name}`),v(!0))}},L=Z=>{const X=Math.floor(Z/60),G=Math.floor(Z%60);return`${X}:${G.toString().padStart(2,"0")}`},R=Z=>{if(!Z)return"--";const X=Z.getHours(),G=Z.getMinutes();return`${X.toString().padStart(2,"0")}:${G.toString().padStart(2,"0")}`},B=Z=>{const X=e.waypoints[Z].name;f({index:Z,name:X}),s(null)},z=()=>{if(!p)return;g(ce=>[...ce,{action:`Deleted waypoint ${p.name}`,waypoints:[...e.waypoints]}]);const Z=p.index,X=e.waypoints[Z],G=[...e.waypoints];if(G.splice(Z,1),Z<G.length){const ce=G[Z];if(G[Z]={...ce,distance:(ce.distance||0)+(X.distance||0)},Z>0){const ae=G[Z-1];if(ae.coordinate&&ce.coordinate){const le=Ya(ae.coordinate.latitude,ae.coordinate.longitude),xe=Us(ae.coordinate,ce.coordinate,le);G[Z]={...G[Z],magHDG:Math.round(xe),heading:xe}}}}t({waypoints:G}),P("DELETE",`Deleted waypoint ${p.name}`),b(!0),setTimeout(()=>b(!1),5e3),f(null)},Y=()=>{if(m.length===0)return;const Z=m[m.length-1];t({waypoints:Z.waypoints}),g(X=>X.slice(0,-1)),b(!1)},ie=()=>{U&&(console.log("Renaming plan to:",j),qt.getState().updatePlan(U.metadata.id,{metadata:{...U.metadata,name:j}})),v(!1)},_=()=>{console.log("Rename cancelled"),v(!1)},D=()=>{if(!l||!h.name||!h.distance||!h.magHDG)return;const Z=l.afterIndex,X=e.waypoints[Z];let G={latitude:0,longitude:0};h.latitude&&h.longitude&&(G={latitude:parseFloat(h.latitude),longitude:parseFloat(h.longitude)});let ce=X.magDec||0;G.latitude!==0&&G.longitude!==0&&(ce=Ya(G.latitude,G.longitude));const ae={id:`${h.name}-${Date.now()}`,name:h.name,distance:parseFloat(h.distance),magHDG:parseFloat(h.magHDG),heading:parseFloat(h.magHDG),isActual:!1,note:"",coordinate:G,isa:h.isa?parseFloat(h.isa):X.isa||0,temp:h.isa?parseFloat(h.isa):X.temp||0,altitude:X.altitude,wind:X.wind,windVelocity:X.windVelocity,magDec:ce,eet:0,toEET:0,eta:null,fob:0,fuelOnBoard:0,groundSpeed:0,trueAirSpeed:0,ias:0,headTail:0,velPlan:0};g(be=>[...be,{action:`Added waypoint ${ae.name}`,waypoints:[...e.waypoints]}]);const le=[...e.waypoints];le.splice(Z+1,0,ae),t({waypoints:le});const xe=e.waypoints[Z].name;P("ADD",`Added waypoint ${h.name} after ${xe}`),b(!0),setTimeout(()=>b(!1),5e3),c(null),d({name:"",distance:"",magHDG:"",isa:"",latitude:"",longitude:""}),s(null)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:"font-semibold dark:text-gray-100",children:"Flight Plan"}),u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Last Import: ",new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),", ",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.waypoints.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No waypoints added yet. Import from ForeFlight to get started."}):u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:T?"flex-1 overflow-x-auto overflow-y-auto -mx-3 sm:mx-0":"overflow-x-auto -mx-3 sm:mx-0",children:u.jsxs("table",{className:"w-full text-sm bg-white dark:bg-gray-900 min-w-max",children:[u.jsxs("thead",{children:[u.jsxs("tr",{className:"border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[u.jsx("th",{className:"w-10 dark:text-gray-300",rowSpan:2}),u.jsx("th",{className:"text-left py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"Name"}),u.jsxs("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:["MAG",u.jsx("br",{}),"HDG"]}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"Dst"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"Total Dst"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"Dst Rem"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"EET"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"ETA"}),u.jsxs("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:["Time",u.jsx("br",{}),"Rem"]}),u.jsxs("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:["FOB",u.jsx("br",{}),"(klb)"]}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"Alt"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"IAS"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"TAS"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"GS"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",colSpan:3,children:"Wind"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"ISA"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"Mag Dec"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"lat"}),u.jsx("th",{className:"text-center py-2 px-1 sm:px-2 font-medium dark:text-gray-300 whitespace-nowrap",rowSpan:2,children:"long"})]}),u.jsxs("tr",{className:"border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[u.jsx("th",{className:"text-center py-1 px-1 sm:px-2 text-xs font-normal dark:text-gray-300 whitespace-nowrap",children:"DIR"}),u.jsx("th",{className:"text-center py-1 px-1 sm:px-2 text-xs font-normal dark:text-gray-300 whitespace-nowrap",children:"VEL"}),u.jsx("th",{className:"text-center py-1 px-1 sm:px-2 text-xs font-normal dark:text-gray-300 whitespace-nowrap",children:"Head/Tail"})]})]}),u.jsx("tbody",{children:(()=>{const Z=[...e.waypoints];let X=-1;const G=Z.findIndex(ae=>ae.name==="-TOC-");if(G!==-1)X=G,console.log("TOC waypoint already exists at index:",X);else if(e.segments&&e.segments.length>0){const ae=e.segments[0];if(ae.startAltitude!==void 0&&ae.endAltitude!==void 0&&ae.endAltitude>ae.startAltitude){const le=ae.endDistance||0;console.log("TOC calculation:",{segmentEndDistance:ae.endDistance,segmentStartDistance:ae.startDistance,tocDistanceFromDeparture:le});let xe=-1,be=0;for(let Pe=0;Pe<Z.length;Pe++){const Te=be+(Z[Pe].distance||0);if(le<=Te){xe=Pe;break}be=Te}xe===-1&&(xe=Z.length);let de=0;if(xe===0)de=le;else{let Pe=0;for(let Te=0;Te<xe;Te++)Pe+=Z[Te].distance||0;de=le-Pe}const re={id:"-TOC-",name:"-TOC-",isActual:!1,note:"Top of Climb",coordinate:{latitude:0,longitude:0},heading:0,distance:de,distanceRemain:0,totalDistance:0,eet:0,toEET:0,eta:null,fob:void 0,fuelOnBoard:void 0,altitude:ae.endAltitude||0,groundSpeed:ae.groundSpeed||0,trueAirSpeed:ae.trueAirSpeed||0,ias:ae.indicatedAirSpeed||ae.ias||0,wind:0,windVelocity:0,headTail:0,isa:ae.isa||0,temp:ae.isa||0,magDec:0,magHDG:0,velPlan:0};if(xe<Z.length){const Pe=Z[xe];if(xe>0){const Te=Pe.distance-de;Z[xe]={...Pe,distance:Te,totalDistance:0}}else Z[xe]={...Pe,distance:Pe.distance-le,totalDistance:0};re.heading=Pe.heading,re.magHDG=Pe.magHDG,re.magDec=Pe.magDec}else{const Pe=Z[Z.length-1];re.heading=Pe.heading,re.magHDG=Pe.magHDG,re.magDec=Pe.magDec}Z.splice(xe,0,re),X=xe;for(let Pe=xe+1;Pe<Z.length;Pe++)Z[Pe]={...Z[Pe],totalDistance:0};console.log("After TOC insertion:"),Z.forEach((Pe,Te)=>{console.log(`${Te}: ${Pe.name} - distance: ${Pe.distance}, totalDistance: ${Pe.totalDistance}`)}),console.log("Updating leg waypoints to include TOC waypoint..."),t({waypoints:Z})}}return Z.map((ae,le)=>{var mt,tt,ut,Ne;let xe=0;if(ae.totalDistance&&ae.totalDistance>0)xe=ae.totalDistance,console.log(`${ae.name}: Using totalDistance ${ae.totalDistance}`);else{for(let yt=0;yt<le;yt++)xe+=Z[yt].distance||0;console.log(`${ae.name}: Calculated cumulative distance ${xe} from previous waypoints`)}const be=xe+(ae.distance||0);console.log(`${ae.name}: Final cumulative distance ${be} (${xe} + ${ae.distance})`);const de=e.distance-be,re=le===0?0:xe,Pe=M(re);let Te,ke,Oe,Re,Ie,Fe;if(le===0&&re===0)Te=e.initialFuel||ae.fob||0,ke=0,Oe=0,Re=0,Ie=0,Fe=ae.isa||10;else if(Pe)Te=Pe.fuel,ke=Pe.altitude,Oe=Pe.groundSpeed,Re=Pe.ias,Ie=Pe.tas,Fe=Pe.isa;else if(re===0&&e.initialFuel){Te=e.initialFuel;const yt=(mt=e.segments)==null?void 0:mt[0];yt?(ke=Math.round((yt.startAltitude||0)/1e3),Re=yt.ias||yt.indicatedAirSpeed||0,Ie=yt.trueAirSpeed||0,Oe=yt.groundSpeed||0,Fe=yt.isa||ae.isa||0):(ke=ae.altitude?Math.round(ae.altitude/1e3):0,Oe=ae.groundSpeed||0,Re=ae.ias||0,Ie=ae.trueAirSpeed||0,Fe=ae.isa||0)}else Te=ae.fob!==void 0?ae.fob:e.initialFuel||0,ke=ae.altitude?Math.round(ae.altitude/1e3):0,Oe=ae.groundSpeed||0,Re=ae.ias||0,Ie=ae.trueAirSpeed||0,Fe=ae.isa||0;let De=0;if(ae.distance>0){const yt=xe+ae.distance/2,ct=M(yt),jn=(ct==null?void 0:ct.groundSpeed)||ae.groundSpeed||0;jn>0&&(De=ae.distance/jn*60)}let Le=0;for(let yt=0;yt<=le;yt++){const ct=Z[yt];let jn=0;for(let bt=0;bt<yt;bt++)jn+=Z[bt].distance||0;const Ct=jn+ct.distance/2,Ot=Ct>0?M(Ct):null,ar=(Ot==null?void 0:Ot.groundSpeed)||ct.groundSpeed||0;ar>0&&ct.distance>0&&(Le+=ct.distance/ar*60)}const Ge=new Date(C.getTime()+Le*60*1e3);let Ue=0;for(let yt=le+1;yt<Z.length;yt++){const ct=Z[yt];let jn=0;for(let bt=0;bt<yt;bt++)jn+=Z[bt].distance||0;const Ct=jn+ct.distance/2,Ot=M(Ct),ar=(Ot==null?void 0:Ot.groundSpeed)||ct.groundSpeed||0;ar>0&&ct.distance>0&&(Ue+=ct.distance/ar*60)}return u.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx("td",{className:"py-2 px-1 relative",children:ae.id!=="-TOC-"?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>s(o===le?null:le),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),o===le&&u.jsxs("div",{className:"absolute left-0 top-8 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 py-1 min-w-[150px]",children:[u.jsx("button",{onClick:()=>{c({afterIndex:le}),s(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-100 text-sm",children:"Add Waypoint After"}),le>0&&u.jsx("button",{onClick:()=>B(le),className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-red-600 dark:text-red-400",children:"Delete Waypoint"})]})]}):u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Auto"})}),u.jsx("td",{className:"py-2 px-1 sm:px-2 font-medium dark:text-gray-100",children:ae.name}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(ae.magHDG||0)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(ae.distance||0)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(be)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(de)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:L(De)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:R(Ge)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:L(Ue)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Te.toFixed(1)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(ke)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(Re)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(Ie)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(Oe)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(ae.wind||0)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(ae.windVelocity||0)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(ae.headTail||0)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:Math.round(Fe)}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:((tt=ae.magDec)==null?void 0:tt.toFixed(1))||"0.0"}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:((ut=ae.coordinate)==null?void 0:ut.latitude.toFixed(4))||"--"}),u.jsx("td",{className:"text-center py-2 px-1 sm:px-2 dark:text-gray-300",children:((Ne=ae.coordinate)==null?void 0:Ne.longitude.toFixed(3))||"--"})]},ae.id)})})()})]})}),T&&u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[u.jsxs("div",{className:"px-4 py-2 flex items-center justify-between bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h4",{className:"font-semibold text-sm dark:text-gray-100",children:"Action Log"}),u.jsxs("div",{className:"flex items-center gap-2",children:[A.length>0&&u.jsx("button",{onClick:()=>{confirm("Clear all action log entries?")&&I()},className:"text-gray-500 hover:text-gray-700 text-xs",children:"Clear"}),u.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsx("div",{className:"h-24 sm:h-32 overflow-y-auto",children:A.length===0?u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 p-4 text-center",children:"No actions logged yet"}):u.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:A.map(Z=>u.jsx("div",{className:"px-2 sm:px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700",children:u.jsxs("div",{className:"flex items-start sm:items-center gap-2 flex-col sm:flex-row",children:[u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono w-12 flex-shrink-0",children:it(Z.timestamp,"HH:mm")}),u.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row sm:items-center",children:[u.jsx("span",{className:"text-xs font-semibold text-primary",children:Z.action}),u.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300 sm:ml-2",children:Z.details})]})]})},Z.id))})})]})]}),!T&&e.waypoints.length>0&&u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 p-2",children:u.jsxs("button",{onClick:()=>E(!0),className:"w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-1 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-100 transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Show Action Log"]})}),r&&u.jsx(ax,{onImport:W,onClose:()=>{a(!1)},legAltitude:e.altitude}),w&&m.length>0&&u.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-auto bg-gray-800 dark:bg-gray-700 text-white rounded-lg shadow-lg p-4 flex items-center justify-between gap-4 z-50",children:[u.jsx("span",{className:"text-sm",children:m[m.length-1].action}),u.jsx(Ke,{size:"sm",variant:"ghost",onClick:Y,className:"text-white hover:bg-gray-700",children:"Undo"})]}),p&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-sm p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-2 dark:text-gray-100",children:"Delete Waypoint"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Are you sure you want to delete waypoint ",u.jsx("strong",{children:p.name}),"? This action can be undone."]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ke,{variant:"danger",onClick:z,className:"flex-1",children:"Delete"}),u.jsx(Ke,{variant:"ghost",onClick:()=>f(null),className:"flex-1",children:"Cancel"})]})]})}),l&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-4 dark:text-gray-100",children:"Add New Waypoint"}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Adding waypoint after: ",e.waypoints[l.afterIndex].name]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Waypoint Name"}),u.jsx("input",{type:"text",value:h.name,onChange:Z=>d({...h,name:Z.target.value.toUpperCase()}),placeholder:"e.g. WAYP1",className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Distance from ",e.waypoints[l.afterIndex].name," (nm)"]}),u.jsx("input",{type:"number",value:h.distance,onChange:Z=>d({...h,distance:Z.target.value}),placeholder:"0.0",step:"0.1",className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Magnetic Heading from ",e.waypoints[l.afterIndex].name," ()"]}),u.jsx("input",{type:"number",value:h.magHDG,onChange:Z=>d({...h,magHDG:Z.target.value}),placeholder:"0",min:"0",max:"359",className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg"})]}),u.jsxs("div",{className:"border-t pt-4 mt-4",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Optional Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"ISA Deviation (C)"}),u.jsx("input",{type:"number",value:h.isa,onChange:Z=>d({...h,isa:Z.target.value}),placeholder:"e.g. +10 or -5",className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Temperature deviation from standard atmosphere"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Latitude"}),u.jsx("input",{type:"number",value:h.latitude,onChange:Z=>d({...h,latitude:Z.target.value}),placeholder:"e.g. 37.9361",step:"0.0001",min:"-90",max:"90",className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Longitude"}),u.jsx("input",{type:"number",value:h.longitude,onChange:Z=>d({...h,longitude:Z.target.value}),placeholder:"e.g. 23.9444",step:"0.0001",min:"-180",max:"180",className:"w-full px-3 py-2 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg"})]})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"Coordinates in decimal degrees (positive = N/E, negative = S/W)"})]})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx(Ke,{onClick:D,disabled:!h.name||!h.distance||!h.magHDG,children:"Add Waypoint"}),u.jsx(Ke,{variant:"ghost",onClick:()=>{c(null),d({name:"",distance:"",magHDG:"",isa:"",latitude:"",longitude:""})},children:"Cancel"})]})]})}),r&&u.jsx(ax,{onImport:W,onClose:()=>a(!1),legAltitude:e.altitude}),x&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 animate-scaleIn",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Flight Plan Import Options"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"How would you like to use the imported flight plan data?"}),u.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Suggested flight plan name:"}),u.jsx("p",{className:"font-semibold text-lg",children:j})]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx(Ke,{onClick:ie,className:"w-full",children:"Rename Flight Plan"}),u.jsx(Ke,{onClick:()=>{const Z=e.waypoints[0],X=e.waypoints[e.waypoints.length-1];if(Z&&X){const G=`${Z.name}-${X.name}`;t({waypointSuffix:G})}v(!1)},variant:"secondary",className:"w-full",children:"Add Waypoint Names to This Leg Only"}),u.jsx(Ke,{variant:"ghost",onClick:_,className:"w-full",children:"Keep Everything As Is"})]})]})})]})}function cue({leg:e}){const t=qt(a=>a.getCurrentPlan()),n=t==null?void 0:t.configuration,r=VT(e,n,!0);return!e.segments||e.segments.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No HGI data available. Add distance and segments to view the graph."}):u.jsxs("div",{className:"space-y-4",children:[u.jsx(Qw,{data:r,title:`HGI Graph - ${e.type.toUpperCase()}`,showControls:!0,height:500,maxDistance:e.distance,leg:e}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-sm mb-2 dark:text-gray-100",children:"Graph Information"}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"The HGI (Height Gradient Indicator) graph shows fuel remaining vs distance traveled."}),u.jsxs("ul",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2 space-y-1",children:[u.jsx("li",{children:" Green line: Normal flight conditions"}),u.jsx("li",{children:" Blue dashed: 4 engines minimum fuel scenario"}),u.jsx("li",{children:" Orange dashed: 3 engines (engine failure)"}),u.jsx("li",{children:" Red dashed: Loss of cabin pressure"}),u.jsx("li",{children:" Purple dashed: 10% additional fuel buffer"})]}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-3 font-semibold",children:"Return Flight Lines (lighter, shorter dashes):"}),u.jsxs("ul",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 space-y-1",children:[u.jsx("li",{children:" These show fuel consumption for flying back from destination to origin"}),u.jsx("li",{children:" Wind effects are reversed (headwind becomes tailwind)"}),u.jsx("li",{children:" Same special conditions apply on the return journey"})]})]})]})}const due=["taxi","lrc970","lrc950","lrc1010","lowNavigation","shield","holding","airRefueling","anchor"];function fue({onSelect:e,onClose:t}){const[n,r]=se.useState("lrc970"),a=()=>{e(n),t()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Select Leg Type"}),u.jsx("div",{className:"space-y-2",children:due.map(i=>u.jsxs("label",{className:"flex items-center p-3 rounded-lg border cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:n===i?"#3B82F6":"#E5E7EB",backgroundColor:n===i?"#EFF6FF":"transparent"},children:[u.jsx("input",{type:"radio",name:"legType",value:i,checked:n===i,onChange:()=>r(i),className:"mr-3"}),u.jsx("span",{className:"font-medium",children:g8(i)})]},i))}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx(Ke,{variant:"secondary",onClick:t,className:"flex-1",children:"Cancel"}),u.jsx(Ke,{onClick:a,className:"flex-1",children:"Add Leg"})]})]})})})}function hue({legs:e,onEditLeg:t,onDeleteLeg:n,initialFuel:r=62,initialWeight:a=146}){const i=f=>{let m="";switch(f.type){case"taxi":m="Taxi";break;case"lrc970":m="LRC 970";break;case"lrc950":m="LRC 950 (3.5 Engine)";break;case"lrc1010":m="LRC 1010";break;case"lowNavigation":m="Low Navigation";break;case"shield":m="Shield";break;case"holding":m="Holding";break;case"airRefueling":m="Air Refueling";break;case"anchor":m="Anchor";break;case"lrc900":m="LRC 900";break;case"lrc850":m="LRC 850";break;case"lrc700":m="LRC 700";break;case"lrc600":m="LRC 600";break;case"lrc550":m="LRC 550";break;case"lrc400":m="LRC 400";break;case"lrc300":m="LRC 300";break;case"lrc10":m="LRC 10";break;default:m=f.type}return f.waypointSuffix?`${m} ${f.waypointSuffix}`:m},o=f=>f===0?"Cruise Ceiling":f.toString(),s=(f,m)=>f.slice(0,m+1).reduce((g,w)=>g+(w.distance||0),0),l=f=>f.segments&&f.segments.length>0?f.segments.reduce((g,w)=>g+(w.fuelConsumed||w.fuelConsumptionPerSegment||0),0)/1e3:f.fuelConsumed||f.fuelConsumption||0,c=f=>f.type==="shield"&&f.fuelReceived?f.fuelReceived:f.type==="airRefueling"&&f.fuelOffload?-f.fuelOffload:0,h=(f,m)=>{let g=r;for(let w=0;w<=m;w++)g-=l(f[w]),g+=c(f[w]);return g},d=(f,m)=>m===0?r:h(f,m-1),p=(f,m)=>{let g=a;for(let w=0;w<=m;w++)g-=l(f[w]),g+=c(f[w]),g+=f[w].zfwChange||0;return g};return e.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No legs added yet"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Name"}),u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Route Altitude"}),u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Change in ZFW"}),u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Leg distance"}),u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Wait time"}),u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Total distance"}),u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Start fuel"}),u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Fuel consumed"}),u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Fuel received/transferred"}),u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Fuel Remained"}),u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"End of leg weight"}),(t||n)&&u.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:"Actions"})]})}),u.jsx("tbody",{children:e.map((f,m)=>u.jsxs("tr",{className:m%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:[u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:i(f)}),u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:o(f.altitude)}),u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:f.zfwChange||0}),u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:f.type==="taxi"?"--":(f.distance||0).toFixed(0)}),u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:f.waitingMinutes?`${f.waitingMinutes} min`:"--"}),u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:s(e,m).toFixed(0)}),u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:d(e,m).toFixed(1)}),u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:l(f).toFixed(1)}),u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:c(f)!==0?c(f)>0?`+${c(f).toFixed(1)}`:c(f).toFixed(1):"--"}),u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:h(e,m).toFixed(1)}),u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:p(e,m).toFixed(0)}),(t||n)&&u.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 dark:text-gray-100",children:u.jsxs("div",{className:"flex gap-2",children:[t&&u.jsx(Ke,{size:"sm",variant:"ghost",onClick:()=>t(f,m),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Edit"}),n&&u.jsx(Ke,{size:"sm",variant:"ghost",onClick:()=>n(m),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:"Delete"})]})})]},f.id))})]})})}function pue(){qt(c=>c.currentPlanId);const e=qt(c=>c.getCurrentPlan),t=qt(c=>c.updatePlan),n=Ur(c=>c.setAppFlow),r=KP(),[a,i]=se.useState("aircraft"),o=e();if(console.log("=== PLAN EDIT VIEW ==="),console.log("Plan loaded:",o==null?void 0:o.metadata.id),console.log("Has navlogUrl:",o!=null&&o.metadata.navlogUrl?"YES":"NO"),o!=null&&o.metadata.navlogUrl&&console.log("NavlogUrl preview:",o.metadata.navlogUrl.substring(0,100)+"..."),!o)return r("/"),null;const s=()=>{qt.getState().setCurrentPlan(null),n({type:"planning"})},l=()=>{t(o.metadata.id,{metadata:{...o.metadata,state:"ready"}}),qt.getState().setCurrentPlan(null),n({type:"planning"})};return u.jsxs("div",{className:"min-h-screen bg-background dark:bg-background-dark transition-colors duration-300",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 transition-colors duration-300",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:s,className:"text-primary",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsx("h1",{className:"text-lg font-semibold flex-1 dark:text-gray-100",children:o.metadata.name}),o.metadata.navlogUrl&&u.jsx(Ke,{size:"sm",variant:"secondary",onClick:()=>zb(o.metadata.navlogUrl),children:"View NavLog"}),o.metadata.state==="planning"&&u.jsx(Ke,{size:"sm",onClick:l,children:"Ready to Flight"})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-3 sm:px-4 py-2 overflow-x-auto transition-colors duration-300",children:u.jsxs("div",{className:"flex gap-1 sm:gap-2 min-w-max",children:[u.jsx("button",{onClick:()=>i("aircraft"),className:et("px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-sm sm:text-base",a==="aircraft"?"bg-primary text-white shadow-lg scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:shadow-md"),children:"Aircraft"}),u.jsx("button",{onClick:()=>i("legs"),className:et("px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-sm sm:text-base",a==="legs"?"bg-primary text-white shadow-lg scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:shadow-md"),children:"Legs"}),u.jsx("button",{onClick:()=>i("hgi"),className:et("px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-sm sm:text-base",a==="hgi"?"bg-primary text-white shadow-lg scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:shadow-md"),children:"HGI Graph"})]})}),u.jsx("div",{className:"p-4",children:u.jsx("div",{className:"animate-fadeIn",children:a==="aircraft"?u.jsx(mue,{plan:o,onUpdate:c=>t(o.metadata.id,c)}):a==="legs"?u.jsx(gue,{plan:o,onUpdate:c=>t(o.metadata.id,c)}):u.jsx(yue,{plan:o})},a)})]})}function mue({plan:e,onUpdate:t}){const n=(r,a)=>{const i={configuration:{...e.configuration,[r]:a}};console.log("Aircraft config change:",{field:r,value:a}),t(i)};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"panel",children:u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"label-text mb-1",children:"Tail Number"}),u.jsx("p",{className:"value-text text-xl dark:text-gray-100",children:e.configuration.tailNumber||"Not specified"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"label-text mb-1",children:"Estimated Takeoff Time"}),u.jsx("input",{type:"datetime-local",value:it(e.configuration.startTime,"yyyy-MM-dd'T'HH:mm"),onChange:r=>n("startTime",new Date(r.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg"})]})]})}),u.jsxs("div",{className:"panel",children:[u.jsx("h3",{className:"font-semibold mb-4 dark:text-gray-100",children:"Aircraft Configuration"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[u.jsx("p",{className:"label-text mb-1",children:"Zero Fuel Weight"}),u.jsx("input",{type:"number",value:e.configuration.zeroFuelWeight,onChange:r=>n("zeroFuelWeight",parseFloat(r.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",step:"0.1"})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[u.jsx("p",{className:"label-text mb-1",children:"Fuel On Board (klb)"}),u.jsx("input",{type:"number",value:e.configuration.fuelOnBoard||"",onChange:r=>n("fuelOnBoard",parseFloat(r.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",step:"0.1",placeholder:"Enter fuel loaded"})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[u.jsx("p",{className:"label-text mb-1",children:"Drag Configuration"}),u.jsxs("select",{value:e.configuration.drag,onChange:r=>n("drag",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg mb-2",children:[u.jsx("option",{value:"withPods",children:"With Pods (60)"}),u.jsx("option",{value:"withoutPods",children:"Without Pods (40)"}),u.jsx("option",{value:"102",children:"102 (20)"}),u.jsx("option",{value:"custom",children:"Custom Value"})]}),e.configuration.drag==="custom"&&u.jsx("input",{type:"number",value:e.configuration.dragValue||"",onChange:r=>n("dragValue",parseFloat(r.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",placeholder:"Enter custom drag value",step:"0.1"})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[u.jsx("p",{className:"label-text mb-1",children:"Flight Rule"}),u.jsxs("select",{value:e.configuration.oddEven,onChange:r=>n("oddEven",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg",children:[u.jsx("option",{value:"odd",children:"Odd"}),u.jsx("option",{value:"even",children:"Even"})]})]})]})]})]})}function gue({plan:e,onUpdate:t}){const[n,r]=se.useState(null),[a,i]=se.useState(!1),o=e.legs.find(p=>p.type==="lrc970"||p.type==="lrc950"||p.type==="lrc1010"),[s,l]=se.useState((o==null?void 0:o.id)||null);se.useEffect(()=>{const p=e.legs.some(f=>f.id===s);if(!s||!p){const f=e.legs.find(m=>m.type==="lrc970"||m.type==="lrc950"||m.type==="lrc1010");f&&l(f.id)}},[e.legs,s]);const c=qt(p=>p.updateLeg),h=p=>{t({legs:e.legs.filter(f=>f.id!==p)})},d=(p,f)=>{const m=e.legs.findIndex(g=>g.id===p);if(console.log(" PlanEditView handleUpdateLeg:",{legId:p,legIndex:m,updates:f,foundLeg:m!==-1,planId:e.metadata.id}),m===-1){console.error(" Leg not found!",{legId:p,availableLegs:e.legs.map(g=>g.id)});return}c(e.metadata.id,m,f),setTimeout(()=>{var b,x;const g=qt.getState().getCurrentPlan(),w=g==null?void 0:g.legs[m];console.log(" PlanEditView after updateLeg:",{legId:p,specialCondition:w==null?void 0:w.specialCondition,legType:w==null?void 0:w.type,isa:w==null?void 0:w.isa,segmentTAS:(x=(b=w==null?void 0:w.segments)==null?void 0:b[1])==null?void 0:x.trueAirSpeed})},100)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"panel",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"font-semibold dark:text-gray-100",children:"Flight Legs"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{size:"sm",variant:"secondary",onClick:()=>{const p=tx();p.type="taxi",p.altitude=1e3,p.altitudeMode="fixed",p.distance=0,p.segments=[],p.fuelConsumed=1,p.fuelConsumption=1,p.initialFuel=e.configuration.fuelOnBoard,p.wind=0,p.isa=0,t({legs:[...e.legs,p]})},children:"Add Taxi"}),u.jsx(Ke,{size:"sm",onClick:()=>i(!0),children:"Add Leg"})]})]}),u.jsx(hue,{legs:e.legs,onEditLeg:(p,f)=>{console.log("PlanEditView opening edit for leg:",{legId:p.id,specialCondition:p.specialCondition,index:f}),r({leg:{...p},index:f})},onDeleteLeg:p=>h(e.legs[p].id),initialFuel:e.configuration.fuelOnBoard,initialWeight:e.configuration.zeroFuelWeight+e.configuration.fuelOnBoard})]}),n&&u.jsx(oue,{leg:e.legs[n.index],index:n.index,onUpdate:p=>{console.log("PlanEditView LegEditView onUpdate:",{legId:n.leg.id,index:n.index,updates:p}),d(e.legs[n.index].id,p)},onClose:()=>r(null),planFuel:e.fuel},`${n.leg.id}-${n.index}`),a&&u.jsx(fue,{onSelect:p=>{const f=tx();f.type=p,f.initialFuel=e.configuration.fuelOnBoard,p==="taxi"&&(f.altitude=1e3,f.altitudeMode="fixed",f.distance=0,f.fuelConsumed=1,f.fuelConsumption=1,f.wind=0,f.isa=0),p==="anchor"&&(f.altitude=1e4,f.altitudeMode="fixed",f.distance=0,f.waitingMinutes=30,f.wind=0,f.isa=0),p==="holding"&&(f.altitude=1e4,f.altitudeMode="fixed",f.distance=0,f.waitingMinutes=20,f.wind=0,f.isa=0);const m=e.legs.length;t({legs:[...e.legs,f]}),i(!1),p!=="taxi"&&setTimeout(()=>{r({leg:f,index:m})},100)},onClose:()=>i(!1)}),u.jsxs("div",{className:"panel mt-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Leg for Refueling Rules"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Choose which leg to use for calculating Flight Plan Fuel Requirements"})]})}),u.jsxs("select",{value:s||"",onChange:p=>l(p.target.value||null),className:"px-4 py-2 border dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 dark:text-gray-100 max-w-md",style:{textAlignLast:"left"},children:[u.jsx("option",{value:"",children:"Select a leg..."}),e.legs.filter(p=>p.type==="lrc970"||p.type==="lrc950"||p.type==="lrc1010").map((p,f)=>{const m=e.legs.findIndex(w=>w.id===p.id),g=p.type==="lrc970"?"LRC 970":p.type==="lrc950"?"LRC 950 (3.5 Engine)":"LRC 1010";return u.jsxs("option",{value:p.id,style:{textAlign:"left"},children:["Leg ",m+1,": ",g," - ",(p.distance||0).toFixed(0)," nm"]},p.id)})]}),s&&(()=>{const p=e.legs.find(A=>A.id===s);if(!p||!p.segments||p.segments.length===0)return null;const f=p.segments.reduce((A,k)=>A+(k.fuelConsumed||k.fuelConsumptionPerSegment||0),0),m=p.segments[p.segments.length-1],g=(m==null?void 0:m.fuelConsumptionPerHour)||0,w=Math.max(4e3,g),b=.1*(f+w),x=4e3,v=f+w+b+x,N=(p.initialFuel||0)*1e3-v;return u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"font-medium mb-2 dark:text-gray-100",children:"Flight Plan Fuel Requirements"}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trip Fuel"}),u.jsxs("span",{className:"font-medium dark:text-gray-100",children:[(f/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Hour/Alternate"}),u.jsxs("span",{className:"font-medium dark:text-gray-100",children:[(w/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Route Reserve (10%)"}),u.jsxs("span",{className:"font-medium dark:text-gray-100",children:[(b/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Holding + Unusable"}),u.jsxs("span",{className:"font-medium dark:text-gray-100",children:[(x/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t border-blue-200 dark:border-blue-700",children:[u.jsx("span",{className:"font-semibold dark:text-gray-100",children:"Total Required"}),u.jsxs("span",{className:"font-semibold dark:text-gray-100",children:[(v/1e3).toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between pt-2",children:[u.jsx("span",{className:et("font-semibold",N>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:"Spare Fuel"}),u.jsxs("span",{className:et("font-semibold",N>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[(N/1e3).toFixed(1)," klb"]})]})]})})]})})()]})]})}function yue({plan:e}){var a,i,o,s;const t=e.configuration.fuelOnBoard&&e.configuration.fuelOnBoard>0;console.log("HGI Section Debug:",{planId:e.metadata.id,fuelOnBoard:e.configuration.fuelOnBoard,hasValidFuel:t,legs:e.legs.length,legDetails:e.legs.map(l=>{var c;return{id:l.id,type:l.type,distance:l.distance,segments:((c=l.segments)==null?void 0:c.length)||0,initialFuel:l.initialFuel}})});const n=t?eue(e):{normal:[]};console.log("HGI Data result:",{normalPoints:((a=n.normal)==null?void 0:a.length)||0,firstPoint:(i=n.normal)==null?void 0:i[0],lastPoint:(s=n.normal)==null?void 0:s[((o=n.normal)==null?void 0:o.length)-1]});const r=e.legs.some(l=>l.segments&&l.segments.length>0);return t?r?u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:u.jsx(Qw,{data:n,title:"Full Flight HGI Graph",showControls:!0,height:600})}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[u.jsx("h3",{className:"font-semibold mb-4 dark:text-gray-100",children:"Flight Summary"}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-label-gray text-sm",children:"Total Distance"}),u.jsxs("p",{className:"text-xl font-semibold dark:text-gray-100",children:[e.legs.reduce((l,c)=>l+(c.distance||0),0).toFixed(1)," nm"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-label-gray text-sm",children:"Total Fuel"}),u.jsxs("p",{className:"text-xl font-semibold dark:text-gray-100",children:[(e.configuration.fuelOnBoard||0).toFixed(1)," klb"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-label-gray text-sm",children:"Number of Legs"}),u.jsx("p",{className:"text-xl font-semibold dark:text-gray-100",children:e.legs.length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-label-gray text-sm",children:"Fuel Remaining"}),u.jsxs("p",{className:"text-xl font-semibold dark:text-gray-100",children:[(()=>{const l=e.legs.reduce((d,p)=>d+(p.fuelConsumed||0),0);return((e.configuration.fuelOnBoard||0)-l).toFixed(1)})()," klb"]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-sm mb-2 dark:text-gray-100",children:"About HGI Graph"}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"The HGI (Height Gradient Indicator) graph displays the fuel consumption profile for your entire flight. It shows how fuel decreases over distance, helping you visualize fuel efficiency and consumption patterns."}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:"Note: Special conditions (4 engines, 3 engines, etc.) are calculated per-leg basis. The full flight graph shows only normal conditions for now."})]})]}):u.jsxs("div",{className:"text-center py-16 text-gray-500 dark:text-gray-400",children:[u.jsx("p",{className:"mb-2",children:"No HGI data available."}),u.jsx("p",{className:"text-sm",children:"Add legs with distance to view the full flight HGI graph."})]}):u.jsxs("div",{className:"text-center py-16 text-gray-500 dark:text-gray-400",children:[u.jsx("p",{className:"mb-2",children:"No fuel configuration."}),u.jsx("p",{className:"text-sm",children:"Please set the fuel on board in the Aircraft tab."})]})}function vue(){const e=Ur(m=>m.appFlow),t=Ur(m=>m.setAppFlow),n=qt(m=>m.getPlanById),r=He(m=>m.setActivePlan),a=He(m=>m.setCurrentRole),i=KP();if(e.type!=="confirmNav"&&e.type!=="confirmPilot"&&e.type!=="confirmEng")return i("/"),null;const o=n(e.planId);if(!o)return i("/"),null;const s={confirmNav:{role:"navigator",title:"Navigator",icon:"",color:"bg-blue-600"},confirmPilot:{role:"pilot",title:"Pilot",icon:"",color:"bg-purple-600"},confirmEng:{role:"engineer",title:"Engineer",icon:"",color:"bg-green-600"}},{role:l,title:c,icon:h,color:d}=s[e.type],p=()=>{switch(console.log("Setting active plan:",o),r(o),a(l),l){case"navigator":t({type:"nav",planId:e.planId});break;case"pilot":t({type:"pilot",planId:e.planId});break;case"engineer":t({type:"eng",planId:e.planId});break}},f=()=>{t({type:"planning"})};return u.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl p-8 w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:`w-20 h-20 ${d} rounded-full flex items-center justify-center mx-auto mb-4`,children:u.jsx("span",{className:"text-4xl",children:h})}),u.jsxs("h2",{className:"text-2xl font-bold text-black-1 dark:text-gray-100",children:["Start as ",c]}),u.jsx("p",{className:"text-label-gray dark:text-label-gray-dark mt-2",children:o.metadata.name})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-4 mb-8 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray dark:text-label-gray-dark",children:"Total Distance:"}),u.jsxs("span",{className:"text-value-gray dark:text-value-gray-dark font-medium",children:[o.legs.reduce((m,g)=>m+g.distance,0).toFixed(0)," nm"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray dark:text-label-gray-dark",children:"Fuel Required:"}),u.jsxs("span",{className:"text-value-gray dark:text-value-gray-dark font-medium",children:[o.fuel.total.toFixed(1)," klb"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-label-gray dark:text-label-gray-dark",children:"Legs:"}),u.jsx("span",{className:"text-value-gray dark:text-value-gray-dark font-medium",children:o.legs.length})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Ke,{onClick:p,size:"full",children:"Start Flight"}),u.jsx(Ke,{onClick:f,variant:"ghost",size:"full",children:"Cancel"})]})]})})}function Zw({children:e}){const[t,n]=se.useState(!1);return u.jsxs("div",{className:"h-screen bg-background dark:bg-background-dark transition-colors duration-300 grid",style:{gridTemplateRows:"auto 1fr"},children:[u.jsx("div",{className:et("bg-gradient-to-r from-purple-600 to-blue-600 text-white transition-all duration-300 cursor-pointer",t?"h-16":"h-8"),onClick:()=>n(!t),children:u.jsx("div",{className:"h-full flex items-center justify-center px-4",children:t?u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"font-semibold text-sm",children:"Sync Active"}),u.jsx("p",{className:"text-xs opacity-80",children:"Connected to 2 devices"})]}):u.jsx("p",{className:"text-xs font-medium",children:"Tap to view sync status"})})}),u.jsx("div",{className:"overflow-hidden",children:e})]})}function KT({tabs:e,activeTab:t,onTabChange:n}){const[r,a]=se.useState(null),i=s=>l=>{a(s),l.preventDefault()},o=s=>l=>{r===s&&n(s),a(null),l.preventDefault()};return u.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:u.jsx("div",{className:"flex",children:e.map(s=>u.jsxs("button",{onClick:()=>n(s.id),onTouchStart:i(s.id),onTouchEnd:o(s.id),onTouchCancel:()=>a(null),className:et("flex-1 py-2 px-4 flex flex-col items-center gap-1 transition-colors","touch-manipulation",t===s.id?"text-primary":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",r===s.id&&"bg-gray-100 dark:bg-gray-700"),children:[u.jsx("div",{className:"w-6 h-6",children:s.icon}),u.jsx("span",{className:"text-xs font-medium",children:s.label})]},s.id))})})}const Yv={no1:"No.1",no2:"No.2",no3:"No.3",no4:"No.4",lhAUX:"LH AUX",rhAUX:"RH AUX",lhEXT:"LH EXT",rhEXT:"RH EXT",totalizer:"Totalizer"},tk={no1:"Eng 1",no2:"Eng 2",no3:"Eng 3",no4:"Eng 4"};function xue({isOpen:e,onClose:t,onSubmit:n,availableWaypoints:r,title:a="Add Fuel Read",isTaxiLeg:i=!1}){const[o,s]=se.useState(nk()),[l,c]=se.useState(null),[h,d]=se.useState(!1),[p,f]=se.useState(!1);se.useEffect(()=>{if(e){const v=nk();i?(v.waypointId="taxi-start",c({id:"taxi-start",name:"Starting Fuel",distance:0,totalDistance:0})):c(null),s(v),d(!1)}},[e,i,r]),se.useEffect(()=>{if(o.waypointId){const v=r.find(N=>N.id===o.waypointId);c(v||null);const j=(v==null?void 0:v.name)==="-TOC-"||(v==null?void 0:v.id)==="-TOC-";f(j),j&&!o.flowMeter2&&s(N=>({...N,flowMeter2:{no1:0,no2:0,no3:0,no4:0}}))}},[o.waypointId,r]);const m=(v,j)=>{const N=parseFloat(j)||0;s(A=>({...A,gauges:{...A.gauges,[v]:N}}))},g=(v,j,N=!1)=>{if(v==="ffFuelConsumption")return;const A=parseFloat(j)||0;s(N&&p?k=>({...k,flowMeter2:{...k.flowMeter2,[v]:A}}):k=>({...k,flowMeter:{...k.flowMeter,[v]:A}}))},w=()=>{if(!o.waypointId&&!i){alert("Please select a waypoint");return}i&&!o.waypointId&&(o.waypointId="taxi-start"),n(o)},b=mr(o.gauges),x=p&&o.flowMeter2?(o.flowMeter.no1+o.flowMeter2.no1)/2+(o.flowMeter.no2+o.flowMeter2.no2)/2+(o.flowMeter.no3+o.flowMeter2.no3)/2+(o.flowMeter.no4+o.flowMeter2.no4)/2:o.flowMeter.no1+o.flowMeter.no2+o.flowMeter.no3+o.flowMeter.no4;return u.jsx(gl,{isOpen:e,onClose:t,onConfirm:w,title:a,message:"",confirmText:"Add Fuel Read",cancelText:"Cancel",size:"large",children:u.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto",children:[i?u.jsx("div",{children:u.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Recording starting fuel before taxi"})}):u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waypoint"}),u.jsxs("select",{value:o.waypointId,onChange:v=>s(j=>({...j,waypointId:v.target.value})),className:"w-full h-9 px-3 border rounded text-sm",required:!0,children:[u.jsx("option",{value:"",children:"Select waypoint..."}),r.map(v=>u.jsxs("option",{value:v.id,children:[v.name," (",(v.totalDistance||v.distance||0).toFixed(0)," nm)"]},v.id))]}),l&&u.jsxs("div",{className:"space-y-1 mt-1",children:[u.jsx("p",{className:"text-xs text-gray-500",children:(()=>{const v=l.fob||l.fuelOnBoard;return v!=null?`Planned fuel: ${v.toFixed(1)} klbs`:"Planned fuel: Not calculated"})()}),l.eta&&u.jsxs("p",{className:"text-xs text-gray-500",children:["Planned time: ",it(l.eta,"HH:mm")]})]})]}),l&&!i&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Actual Time at Waypoint"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{type:"datetime-local",value:o.actualTime?it(o.actualTime,"yyyy-MM-dd'T'HH:mm"):"",onChange:v=>{const j=v.target.value?new Date(v.target.value):null;s(N=>({...N,actualTime:j})),d(!!j)},className:"w-full h-9 px-3 border rounded text-sm"}),l.eta&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("p",{className:"text-xs text-gray-500",children:["Planned ETA: ",it(l.eta,"HH:mm")]}),h&&o.actualTime&&u.jsxs("p",{className:`text-sm font-medium ${(o.actualTime.getTime()-l.eta.getTime())/6e4>0?"text-red-600":"text-green-600"}`,children:["Time Delta: ",(()=>{const v=(o.actualTime.getTime()-l.eta.getTime())/6e4,j=Math.abs(v),N=Math.floor(j),A=Math.round((j-N)*60);return`${v>0?"+":v<0?"-":""}${N.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`})()]})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i?"Starting Fuel (klbs)":"Fuel Gauges (klbs)"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Main Tanks"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["no1","no2","no3","no4"].map(v=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Yv[v]}),u.jsx("input",{type:"number",value:o.gauges[v],onChange:j=>m(v,j.target.value),onFocus:j=>{o.gauges[v]===0&&j.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]},v))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Auxiliary Tanks"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["lhAUX","rhAUX","lhEXT","rhEXT"].map(v=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Yv[v]}),u.jsx("input",{type:"number",value:o.gauges[v],onChange:j=>m(v,j.target.value),onFocus:j=>{o.gauges[v]===0&&j.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]},v))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Totalizer"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Yv.totalizer}),u.jsx("input",{type:"number",value:o.gauges.totalizer,onChange:v=>m("totalizer",v.target.value),onFocus:v=>{o.gauges.totalizer===0&&v.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Additional Tanks"}),u.jsx("input",{type:"number",value:o.gauges.additionalTanks||0,onChange:v=>m("additionalTanks",v.target.value),onFocus:v=>{(o.gauges.additionalTanks||0)===0&&v.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]})]})]}),u.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:u.jsxs("p",{className:"text-sm font-medium",children:["Total Fuel: ",u.jsxs("span",{className:"text-blue-600",children:[b.toFixed(1)," klbs"]})]})})]}),!i&&u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Flow Meters (lbs/hr) ",p&&"- TOC Special Reading"]}),u.jsxs("div",{className:"mb-3",children:[p&&u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"First Reading"}),u.jsx("div",{className:"grid grid-cols-4 gap-3",children:["no1","no2","no3","no4"].map(v=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:tk[v]}),u.jsx("input",{type:"number",value:o.flowMeter[v],onChange:j=>g(v,j.target.value),onFocus:j=>{o.flowMeter[v]===0&&j.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"10",min:"0"})]},v))})]}),p&&o.flowMeter2&&u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Second Reading"}),u.jsx("div",{className:"grid grid-cols-4 gap-3",children:["no1","no2","no3","no4"].map(v=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:tk[v]}),u.jsx("input",{type:"number",value:o.flowMeter2[v],onChange:j=>g(v,j.target.value,!0),onFocus:j=>{o.flowMeter2[v]===0&&j.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"10",min:"0"})]},v))})]}),u.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:[u.jsxs("p",{className:"text-sm font-medium",children:[p?"Average":"Total"," Flow: ",u.jsxs("span",{className:"text-green-600",children:[x.toFixed(0)," lbs/hr"]}),u.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(x/1e3).toFixed(1)," klbs/hr)"]})]}),p&&o.flowMeter2&&u.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Reading 1: ",(o.flowMeter.no1+o.flowMeter.no2+o.flowMeter.no3+o.flowMeter.no4).toFixed(0)," lbs/hr | Reading 2: ",(o.flowMeter2.no1+o.flowMeter2.no2+o.flowMeter2.no3+o.flowMeter2.no4).toFixed(0)," lbs/hr"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"EICAS FOB (klbs)"}),u.jsx("input",{type:"number",value:o.eicasFOB,onChange:v=>s(j=>({...j,eicasFOB:parseFloat(v.target.value)||0})),onFocus:v=>{o.eicasFOB===0&&v.target.select()},className:"w-full h-9 px-3 border rounded text-sm",step:"0.1",min:"0",placeholder:"EICAS Fuel On Board reading"}),o.eicasFOB>0&&b>0&&u.jsx("div",{className:"mt-2 p-2 bg-yellow-50 rounded",children:u.jsxs("p",{className:"text-sm",children:["Gauge vs EICAS:",u.jsxs("span",{className:`ml-1 font-medium ${Math.abs(b-o.eicasFOB)>.5?"text-red-600":"text-green-600"}`,children:[b-o.eicasFOB>0?"+":"",(b-o.eicasFOB).toFixed(1)," klbs"]})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),u.jsx("textarea",{value:o.notes,onChange:v=>s(j=>({...j,notes:v.target.value})),className:"w-full h-20 px-3 py-2 border rounded text-sm resize-none",placeholder:"Optional notes about this fuel read..."})]})]})})}function nk(){return{waypointId:"",gauges:{no1:0,no2:0,no3:0,no4:0,lhAUX:0,rhAUX:0,lhEXT:0,rhEXT:0,totalizer:0,additionalTanks:0},flowMeter:{no1:0,no2:0,no3:0,no4:0},flowMeter2:void 0,eicasFOB:0,notes:"",actualTime:new Date}}const Gp={no1:"No.1",no2:"No.2",no3:"No.3",no4:"No.4",lhAUX:"LH AUX",rhAUX:"RH AUX",lhEXT:"LH EXT",rhEXT:"RH EXT",totalizer:"Totalizer",additionalTanks:"Additional"};function bue({isOpen:e,onClose:t,onSubmit:n,fuelRead:r,availableWaypoints:a}){const[i,o]=se.useState({no1:0,no2:0,no3:0,no4:0,lhAUX:0,rhAUX:0,lhEXT:0,rhEXT:0,totalizer:0,additionalTanks:0}),[s,l]=se.useState({no1:0,no2:0,no3:0,no4:0}),[c,h]=se.useState(0),[d,p]=se.useState("");se.useEffect(()=>{r&&e&&(o(r.fuelGauges||{no1:0,no2:0,no3:0,no4:0,lhAUX:0,rhAUX:0,lhEXT:0,rhEXT:0,totalizer:0,additionalTanks:0}),l(r.flowMeter||{no1:0,no2:0,no3:0,no4:0}),h(r.eicasFOB||0),p(r.note||""))},[r,e]);const f=(v,j)=>{const N=parseFloat(j)||0;o(A=>({...A,[v]:N}))},m=(v,j)=>{const N=parseFloat(j)||0;l(A=>({...A,[v]:N}))},g=()=>{r&&n(r.id,{fuelGauges:i,flowMeter:s,eicasFOB:c,note:d})},w=mr(i),b=s.no1+s.no2+s.no3+s.no4,x=a.find(v=>v.id===(r==null?void 0:r.waypointId));return u.jsx(gl,{isOpen:e,onClose:t,onConfirm:g,title:"Edit Fuel Read",message:"",confirmText:"Update Fuel Read",cancelText:"Cancel",size:"large",children:u.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto",children:[u.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Waypoint"}),u.jsx("p",{className:"text-base font-semibold",children:(x==null?void 0:x.name)||"Unknown"}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Distance: ",(r==null?void 0:r.distance.toFixed(0))||0," nm"]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Fuel Gauges (klbs)"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Main Tanks"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["no1","no2","no3","no4"].map(v=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Gp[v]}),u.jsx("input",{type:"number",value:i[v],onChange:j=>f(v,j.target.value),onFocus:j=>{i[v]===0&&j.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]},v))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Auxiliary Tanks"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["lhAUX","rhAUX","lhEXT","rhEXT"].map(v=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Gp[v]}),u.jsx("input",{type:"number",value:i[v],onChange:j=>f(v,j.target.value),onFocus:j=>{i[v]===0&&j.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]},v))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Totalizer"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Gp.totalizer}),u.jsx("input",{type:"number",value:i.totalizer,onChange:v=>f("totalizer",v.target.value),onFocus:v=>{i.totalizer===0&&v.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]}),i.additionalTanks!==void 0&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Gp.additionalTanks}),u.jsx("input",{type:"number",value:i.additionalTanks||0,onChange:v=>f("additionalTanks",v.target.value),onFocus:v=>{(i.additionalTanks||0)===0&&v.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"0.1",min:"0",placeholder:"0.0"})]})]})]}),u.jsx("div",{className:"p-2 bg-blue-50 rounded",children:u.jsxs("p",{className:"text-sm font-medium",children:["Total from Gauges: ",u.jsxs("span",{className:"text-blue-600",children:[w.toFixed(1)," klbs"]})]})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Flow Meters (lbs/hr)"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:["no1","no2","no3","no4"].map((v,j)=>u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Eng ",j+1]}),u.jsx("input",{type:"number",value:s[v],onChange:N=>m(v,N.target.value),onFocus:N=>{s[v]===0&&N.target.select()},className:"w-full h-8 px-2 border rounded text-sm",step:"100",min:"0",placeholder:"0"})]},v))}),u.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:u.jsxs("p",{className:"text-sm font-medium",children:["Total Flow: ",u.jsxs("span",{className:"text-green-600",children:[b.toFixed(0)," lbs/hr"]}),u.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(b/1e3).toFixed(1)," klbs/hr)"]})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"EICAS FOB (klbs)"}),u.jsx("input",{type:"number",value:c,onChange:v=>h(parseFloat(v.target.value)||0),onFocus:v=>{c===0&&v.target.select()},className:"w-full h-9 px-3 border rounded text-sm",step:"0.1",min:"0",placeholder:"EICAS Fuel On Board reading"}),c>0&&w>0&&u.jsx("div",{className:"mt-2 p-2 bg-yellow-50 rounded",children:u.jsxs("p",{className:"text-sm",children:["Gauge vs EICAS:",u.jsxs("span",{className:`ml-1 font-medium ${Math.abs(w-c)>.5?"text-red-600":"text-green-600"}`,children:[w-c>0?"+":"",(w-c).toFixed(1)," klbs"]})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),u.jsx("textarea",{value:d,onChange:v=>p(v.target.value),className:"w-full h-20 px-3 py-2 border rounded text-sm resize-none",placeholder:"Optional notes about this fuel reading..."})]})]})})}function wue(e,t,n,r,a,i="",o){if(t==="taxi-start"){const h={id:crypto.randomUUID(),distance:0,waypointId:"taxi-start",fuelGauges:{no1:n.no1||0,no2:n.no2||0,no3:n.no3||0,no4:n.no4||0,lhAUX:n.lhAUX||0,rhAUX:n.rhAUX||0,lhEXT:n.lhEXT||0,rhEXT:n.rhEXT||0,totalizer:n.totalizer||0,additionalTanks:n.additionalTanks},flowMeter:{no1:0,no2:0,no3:0,no4:0},time:o||new Date,eicasFOB:a,note:i,fuelUsePerPriod:0,tog:0,fuelUsedAtBOP:0,remainingTime:0,timeGapFromPlan:0,plannedRemainingFuel:e.configuration.fuelOnBoard||0,fuelGapFromPlan:0,fuelGapFromEICAS:0,gapAnalysis:{altitudeGap:0,timeGap:0,fuelGap:0,windGap:0,noActualWaypoint:!1}},d=mr(h.fuelGauges),p=e.configuration.fuelOnBoard||0;return h.fuelGapFromPlan=d-p,h.fuelGapFromEICAS=d-h.eicasFOB,h}const l=YT(e).find(h=>h.id===t||h.name===t);if(!l)throw new Error(`Waypoint ${t} not found in flight plan`);console.log("Creating fuel read for waypoint:",{waypointId:t,waypointName:l.name,distance:l.distance,totalDistance:l.totalDistance});const c={id:crypto.randomUUID(),distance:l.totalDistance||l.distance||0,waypointId:t,fuelGauges:{no1:n.no1||0,no2:n.no2||0,no3:n.no3||0,no4:n.no4||0,lhAUX:n.lhAUX||0,rhAUX:n.rhAUX||0,lhEXT:n.lhEXT||0,rhEXT:n.rhEXT||0,totalizer:n.totalizer||0,additionalTanks:n.additionalTanks},flowMeter:{no1:r.no1||0,no2:r.no2||0,no3:r.no3||0,no4:r.no4||0},time:o||new Date,eicasFOB:a,note:i,fuelUsePerPriod:0,tog:0,fuelUsedAtBOP:0,remainingTime:0,timeGapFromPlan:0,plannedRemainingFuel:l.fob||l.fuelOnBoard||0,fuelGapFromPlan:0,fuelGapFromEICAS:0,gapAnalysis:{altitudeGap:0,timeGap:0,fuelGap:0,windGap:0,noActualWaypoint:!1}};return Nue(c,l),c}function Sue(e,t){if(t.waypointId==="taxi-start"){const a=e.legs.findIndex(o=>o.type==="taxi");if(a===-1)throw new Error("No taxi leg found in flight plan");return{...e,legs:e.legs.map((o,s)=>{if(s!==a)return o;const c=[...o.fuelReads||[],t];return c.sort((h,d)=>h.distance-d.distance),{...o,fuelReads:c}})}}const n=e.legs.findIndex(a=>{var i;return(i=a.waypoints)==null?void 0:i.some(o=>o.id===t.waypointId||o.name===t.waypointId)});if(n===-1)throw new Error(`No leg found containing waypoint ${t.waypointId}`);return{...e,legs:e.legs.map((a,i)=>{if(i!==n)return a;const s=[...a.fuelReads||[],t];return s.sort((l,c)=>l.distance-c.distance),{...a,fuelReads:s}})}}function Nue(e,t){const n=mr(e.fuelGauges),r=t.fob||t.fuelOnBoard||0;e.fuelGapFromPlan=n-r,e.fuelGapFromEICAS=n-e.eicasFOB;const a=e.time,i=t.eta;i&&a&&(e.timeGapFromPlan=(a.getTime()-i.getTime())/(1e3*60)),e.gapAnalysis={altitudeGap:0,timeGap:e.timeGapFromPlan,fuelGap:e.fuelGapFromPlan,windGap:0,noActualWaypoint:!1}}function YT(e){const t=[];let n=0;for(const r of e.legs)if(r.waypoints)for(const a of r.waypoints)n+=a.distance||0,t.push({...a,totalDistance:a.totalDistance||n});return t}function hr(e,t=1){return e.toFixed(t)}function _2(e){const t=e<0?"-":"+",n=Math.abs(e),r=Math.floor(n),a=Math.round((n-r)*60);return`${t}${r.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}function XT(e,t){return e*(t/60)}function JT(e){return(e.no1+e.no2+e.no3+e.no4)/1e3}function jue({fuelReads:e,availableWaypoints:t,canModify:n,onDelete:r,onEdit:a,totalPlanDistance:i=0,isTaxiLeg:o=!1}){const[s,l]=se.useState(null),[c,h]=se.useState(null),d=m=>{if(m==="taxi-start")return"Starting Fuel";const g=t.find(w=>w.id===m);return(g==null?void 0:g.name)||m},p=(m,g=.5)=>{const w=Math.abs(m);return w<g?"text-green-600":w<g*2?"text-yellow-600":"text-red-600"},f=m=>{r&&r(m),h(null)};return e.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[u.jsx("p",{children:"No fuel reads recorded yet"}),n&&u.jsx("p",{className:"text-sm mt-2",children:"Add your first fuel read to begin tracking"})]}):u.jsxs("div",{className:"space-y-3",children:[e.map((m,g)=>{const w=mr(m.fuelGauges),b=d(m.waypointId);return u.jsx("div",{className:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300",children:g+1})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h4",{className:"font-medium text-sm",children:b}),u.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[m.distance.toFixed(0)," nm ",i>0&&`(${(i-m.distance).toFixed(0)} nm to destination)`]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400 mt-1",children:[u.jsxs("span",{children:["Total: ",hr(w)," klbs"]}),u.jsxs("span",{children:["EICAS: ",hr(m.eicasFOB)," klbs"]}),m.fuelGapFromPlan!==0&&u.jsxs("span",{className:p(m.fuelGapFromPlan),children:["Gap: ",m.fuelGapFromPlan>0?"+":"",hr(m.fuelGapFromPlan)," klbs"]}),m.timeGapFromPlan!==0&&u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:p(m.timeGapFromPlan,5),children:["Time: ",_2(m.timeGapFromPlan)]}),m.flowMeter&&!o&&u.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",(()=>{const x=JT(m.flowMeter);return`${XT(x,Math.abs(m.timeGapFromPlan)).toFixed(2)} klbs`})(),")"]})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ke,{size:"sm",variant:"ghost",onClick:()=>l(m),className:"h-7 px-2 text-xs",children:"View"}),n&&a&&u.jsx(Ke,{size:"sm",variant:"ghost",onClick:()=>a(m),className:"h-7 px-2 text-xs",children:"Edit"}),n&&r&&u.jsx(Ke,{size:"sm",variant:"danger",onClick:()=>h(m.id),className:"h-7 px-2 text-xs",children:"Delete"})]})]})},m.id)}),s&&u.jsx(kue,{fuelRead:s,waypoint:t.find(m=>m.id===s.waypointId)||null,waypointName:d(s.waypointId),onClose:()=>l(null)}),c&&u.jsx(gl,{isOpen:!0,onClose:()=>h(null),onConfirm:()=>f(c),title:"Delete Fuel Read",message:"Are you sure you want to delete this fuel read? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",size:"compact"})]})}function kue({fuelRead:e,waypoint:t,waypointName:n,onClose:r}){const a=mr(e.fuelGauges),i=e.flowMeter.no1+e.flowMeter.no2+e.flowMeter.no3+e.flowMeter.no4;return u.jsx(gl,{isOpen:!0,onClose:r,title:`Fuel Read: ${n}`,message:"",confirmText:"Close",size:"normal",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Distance"}),u.jsxs("p",{className:"font-medium",children:[e.distance.toFixed(1)," nm"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Time"}),u.jsx("p",{className:"font-medium",children:it(e.time,"HH:mm:ss")}),(t==null?void 0:t.eta)&&u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Planned: ",it(t.eta,"HH:mm")]}),t.actualTime&&u.jsxs("p",{className:`text-xs font-medium mt-1 ${(t.actualTime.getTime()-t.eta.getTime())/6e4>0?"text-red-600":"text-green-600"}`,children:["Delta: ",(()=>{const o=(t.actualTime.getTime()-t.eta.getTime())/6e4;return _2(o)})()]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded",children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Fuel Summary"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Total Gauges"}),u.jsxs("p",{className:"font-medium",children:[hr(a)," klbs"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"EICAS FOB"}),u.jsxs("p",{className:"font-medium",children:[hr(e.eicasFOB)," klbs"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Gauge vs EICAS"}),u.jsxs("p",{className:`font-medium ${Math.abs(e.fuelGapFromEICAS)>.5?"text-red-600":"text-green-600"}`,children:[e.fuelGapFromEICAS>0?"+":"",hr(e.fuelGapFromEICAS)," klbs"]})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Tank Readings (klbs)"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[u.jsxs("div",{children:["No.1: ",hr(e.fuelGauges.no1)]}),u.jsxs("div",{children:["No.2: ",hr(e.fuelGauges.no2)]}),u.jsxs("div",{children:["No.3: ",hr(e.fuelGauges.no3)]}),u.jsxs("div",{children:["No.4: ",hr(e.fuelGauges.no4)]}),u.jsxs("div",{children:["LH AUX: ",hr(e.fuelGauges.lhAUX)]}),u.jsxs("div",{children:["RH AUX: ",hr(e.fuelGauges.rhAUX)]}),u.jsxs("div",{children:["LH EXT: ",hr(e.fuelGauges.lhEXT)]}),u.jsxs("div",{children:["RH EXT: ",hr(e.fuelGauges.rhEXT)]}),u.jsxs("div",{children:["Totalizer: ",hr(e.fuelGauges.totalizer)]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Flow Meters (lbs/hr)"}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[u.jsxs("div",{children:["Eng 1: ",e.flowMeter.no1.toFixed(0)]}),u.jsxs("div",{children:["Eng 2: ",e.flowMeter.no2.toFixed(0)]}),u.jsxs("div",{children:["Eng 3: ",e.flowMeter.no3.toFixed(0)]}),u.jsxs("div",{children:["Eng 4: ",e.flowMeter.no4.toFixed(0)]})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total: ",i.toFixed(0)," lbs/hr (",(i/1e3).toFixed(1)," klbs/hr)"]})]}),(e.fuelGapFromPlan!==0||e.timeGapFromPlan!==0)&&u.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded",children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Gap Analysis"}),u.jsxs("div",{className:"space-y-1 text-sm",children:[e.fuelGapFromPlan!==0&&u.jsxs("p",{children:["Fuel Gap: ",u.jsxs("span",{className:rk(e.fuelGapFromPlan),children:[e.fuelGapFromPlan>0?"+":"",hr(e.fuelGapFromPlan)," klbs"]})]}),e.timeGapFromPlan!==0&&u.jsxs("div",{children:[u.jsxs("p",{children:["Time Gap: ",u.jsx("span",{className:rk(e.timeGapFromPlan,5),children:_2(e.timeGapFromPlan)})]}),e.flowMeter&&u.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Expected fuel consumption based on flow rate: ",(()=>{const o=JT(e.flowMeter),s=XT(o,Math.abs(e.timeGapFromPlan));return`${o.toFixed(2)} klbs/hr  ${Math.abs(e.timeGapFromPlan).toFixed(2)} min = ${s.toFixed(2)} klbs`})()]})]})]})]}),e.note&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Notes"}),u.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 p-2 rounded",children:e.note})]})]})})}function rk(e,t=.5){const n=Math.abs(e);return n<t?"text-green-600":n<t*2?"text-yellow-600":"text-red-600"}function QT(e,t,n){var c,h;console.log(" recalculateWaypointETAs called with:",{planId:e.metadata.id,updatedWaypointId:t,actualTime:n.toISOString(),totalLegs:e.legs.length});const r=JSON.parse(JSON.stringify(e));let a=!1,i=-1,o=-1;for(let d=0;d<r.legs.length;d++){const p=r.legs[d];if(p.waypoints){console.log(` Checking leg ${d} with ${p.waypoints.length} waypoints`);for(let f=0;f<p.waypoints.length;f++){const m=p.waypoints[f];if(console.log(`  - Waypoint ${f}: id="${m.id}", name="${m.name}", comparing with "${t}"`),m.id===t){a=!0,i=d,o=f,console.log("   MATCH FOUND!");break}}if(a)break}}if(!a)return console.warn(" Waypoint not found for ETA recalculation:",t),e;console.log(" Found waypoint at:",{legIndex:i,waypointIndex:o,waypointName:r.legs[i].waypoints[o].name});let s=new Date(n);const l=r.legs[i];for(let d=o+1;d<l.waypoints.length;d++){const p=l.waypoints[d],f=l.waypoints[d-1],m=p.totalDistance||0,g=f.totalDistance||0,w=m-g,b=p.groundSpeed||l.groundSpeed||450,x=w/b,v=x*60*60*1e3;console.log(`   Distance calculation for ${p.name}:`,{waypointTotalDistance:m,prevWaypointTotalDistance:g,distanceBetween:w,groundSpeed:b,timeToWaypointHours:x,timeToWaypointMs:v});const j=new Date(s.getTime()+v);p.eta=j,console.log(` Updated ETA for waypoint ${p.name}:`,{previousETA:(c=p.eta)==null?void 0:c.toISOString(),newETA:j.toISOString(),distanceBetween:w,groundSpeed:b,timeToWaypointHours:x}),p.actualTime&&p.isActual?s=new Date(p.actualTime):s=j}for(let d=i+1;d<r.legs.length;d++){const p=r.legs[d];if(!(!p.waypoints||p.waypoints.length===0)){p.waitingMinutes&&p.waitingMinutes>0&&(s=new Date(s.getTime()+p.waitingMinutes*60*1e3));for(let f=0;f<p.waypoints.length;f++){const m=p.waypoints[f];if(f===0){const g=r.legs[d-1],w=(h=g.waypoints)==null?void 0:h[g.waypoints.length-1];if(w){const b=m.totalDistance-(w.totalDistance||0),x=m.groundSpeed||p.groundSpeed||450,j=b/x*60*60*1e3,N=new Date(s.getTime()+j);m.eta=N,s=m.actualTime&&m.isActual?new Date(m.actualTime):N}}else{const g=p.waypoints[f-1],w=m.totalDistance||0,b=g.totalDistance||0,x=w-b,v=m.groundSpeed||p.groundSpeed||450,N=x/v*60*60*1e3,A=new Date(s.getTime()+N);m.eta=A,s=m.actualTime&&m.isActual?new Date(m.actualTime):A}}}}return r.metadata.createdAt=new Date(r.metadata.createdAt),r.metadata.updatedAt=new Date(r.metadata.updatedAt),r.configuration.startTime=new Date(r.configuration.startTime),r.legs.forEach(d=>{d.waypoints&&d.waypoints.forEach(p=>{p.eta&&(p.eta=new Date(p.eta)),p.actualTime&&(p.actualTime=new Date(p.actualTime))})}),console.log(" recalculateWaypointETAs completed. Summary:",{updatedWaypointId:t,totalWaypointsProcessed:r.legs.reduce((d,p)=>{var f;return d+(((f=p.waypoints)==null?void 0:f.length)||0)},0),legsProcessed:r.legs.length}),r}function Aue({plan:e,currentLegId:t,canModifyFuel:n,onPlanUpdate:r}){var N,A;const[a,i]=se.useState(!1),[o,s]=se.useState(!1),[l,c]=se.useState(null),h=He(k=>k.addActionLogEntry),d=He(k=>k.updateWaypoint),p=He(k=>k.updateActualPlan),f=((N=e==null?void 0:e.legs)==null?void 0:N.find(k=>k.id===t))||((A=e==null?void 0:e.legs)==null?void 0:A[0]),m=(f==null?void 0:f.type)==="taxi"?[{id:"taxi-start",name:"Starting Fuel",distance:0,totalDistance:0}]:e?YT(e):[],g=(f==null?void 0:f.fuelReads)||[];console.log("SimpleFuelDashboard - Current leg fuel reads:",{currentLegId:t,currentLegHasFuelReads:f==null?void 0:f.fuelReads,fuelReadsCount:g.length});const w=k=>{var T;if(!e){alert("No active flight plan");return}try{let E=k.flowMeter;k.flowMeter2&&(E={no1:(k.flowMeter.no1+k.flowMeter2.no1)/2,no2:(k.flowMeter.no2+k.flowMeter2.no2)/2,no3:(k.flowMeter.no3+k.flowMeter2.no3)/2,no4:(k.flowMeter.no4+k.flowMeter2.no4)/2});const U=wue(e,k.waypointId,k.gauges,E,k.eicasFOB,k.notes,k.actualTime);if(k.waypointId!=="taxi-start"&&(He.getState().actualPlan||e).legs.flatMap(te=>te.waypoints||[]).find(te=>te.id===k.waypointId)){const te={actualFob:k.eicasFOB||mr(k.gauges),fob:k.eicasFOB||mr(k.gauges),fuelOnBoard:(k.eicasFOB||mr(k.gauges))*1e3};k.actualTime&&(te.actualTime=k.actualTime,te.isActual=!0),d(k.waypointId,te,"fuel-tab")}const P=He.getState().actualPlan||e;if(k.waypointId!=="taxi-start"&&k.actualTime){const _=P.legs.flatMap(D=>D.waypoints||[]).find(D=>D.id===k.waypointId);if(_!=null&&_.actualTime&&_.actualTime.getTime()===k.actualTime.getTime()){const D=QT(P,k.waypointId,k.actualTime);p(D)}}const M=He.getState().actualPlan||P;let W=Sue(M,U);console.log("Fuel read added to plan:",{fuelReadId:U.id,waypointId:U.waypointId,actualTime:k.actualTime,updatedLegFuelReads:(T=W.legs.find(_=>{var D;return(D=_.waypoints)==null?void 0:D.some(q=>q.id===U.waypointId)}))==null?void 0:T.fuelReads}),r(W);const L=k.waypointId==="taxi-start"?{name:"Starting Fuel"}:e.legs.flatMap(_=>_.waypoints||[]).find(_=>_.id===k.waypointId),R=mr(k.gauges),B=(L==null?void 0:L.name)==="-TOC-"||(L==null?void 0:L.id)==="-TOC-",z=`Added fuel read at ${(L==null?void 0:L.name)||"Unknown"} | FOB: ${R.toFixed(1)} klb`,Y=[];if(k.eicasFOB&&Y.push(`EICAS: ${k.eicasFOB.toFixed(1)} klb`),B&&k.flowMeter2){const _=E.no1+E.no2+E.no3+E.no4;Y.push(`Flow (avg): ${_.toFixed(0)} lbs/hr`)}k.notes&&Y.push(`Note: ${k.notes}`),k.actualTime&&Y.push(`Time: ${it(k.actualTime,"HH:mm")}`);const ie=Y.length>0?`${z} | ${Y.join(" | ")}`:z;h("FUEL READ",ie),i(!1)}catch(E){alert(E instanceof Error?E.message:"Failed to add fuel read")}},b=k=>{if(!f||!e)return;const T=f.fuelReads.find(I=>I.id===k),E=f.fuelReads.filter(I=>I.id!==k),U={...f,fuelReads:E},C=e.legs.map(I=>I.id===f.id?U:I),P={...e,legs:C};if(r(P),T){const I=T.waypointId==="taxi-start"?{name:"Starting Fuel"}:e.legs.flatMap(W=>W.waypoints||[]).find(W=>W.id===T.waypointId),M=mr(T.fuelGauges);h("FUEL READ",`Deleted fuel read at ${(I==null?void 0:I.name)||"Unknown"} | FOB was ${M.toFixed(1)} klb`)}},x=k=>{c(k),s(!0)},v=(k,T)=>{if(!f||!e)return;const E=f.fuelReads.find(M=>M.id===k),U=f.fuelReads.map(M=>M.id===k?{...M,...T}:M),C={...f,fuelReads:U},P=e.legs.map(M=>M.id===f.id?C:M),I={...e,legs:P};if(r(I),E){const M=E.waypointId==="taxi-start"?{name:"Starting Fuel"}:e.legs.flatMap(B=>B.waypoints||[]).find(B=>B.id===E.waypointId),W=mr(E.fuelGauges),L=T.fuelGauges?mr(T.fuelGauges):W;let R=`Updated fuel read at ${(M==null?void 0:M.name)||"Unknown"}`;if(Math.abs(L-W)>=.1){const B=L-W;R+=` | FOB: ${W.toFixed(1)}  ${L.toFixed(1)} klb (${B>0?"+":""}${B.toFixed(1)})`}else R+=` | FOB: ${L.toFixed(1)} klb`;h("FUEL READ",R)}s(!1),c(null)},j=Pue(g,f);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Fuel Management"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f?`Current Leg: ${f.type} (${g.length} fuel reads)`:"No leg selected"})]}),n&&e&&u.jsx(Ke,{onClick:()=>i(!0),className:"h-9",children:(f==null?void 0:f.type)==="taxi"?"Add Starting Fuel":"Add Fuel Read"})]}),j&&u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border dark:border-gray-700",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:(f==null?void 0:f.type)==="taxi"?"Starting Fuel":"Latest Reading"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[j.latestFuel.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border dark:border-gray-700",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Fuel Used"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[j.fuelUsed.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border dark:border-gray-700",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Avg Gap"}),u.jsxs("p",{className:`text-lg font-bold ${Math.abs(j.avgGap)>1?"text-red-600":Math.abs(j.avgGap)>.5?"text-yellow-600":"text-green-600"}`,children:[j.avgGap>0?"+":"",j.avgGap.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border dark:border-gray-700",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Distance"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[j.distanceCovered.toFixed(0)," nm"]})]})]}),(e==null?void 0:e.line970)&&u.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-purple-900 mb-2",children:"970 2/3 Calculation"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-purple-700",children:["From: ",e.line970.startDistance.toFixed(0)," nm"]}),u.jsxs("p",{className:"text-purple-700",children:["FOB: ",e.line970.startFOB.toFixed(1)," klbs"]})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-purple-700",children:["To: ",e.line970.endDistance.toFixed(0)," nm"]}),u.jsxs("p",{className:"text-purple-700",children:["FOB: ",e.line970.endFOB.toFixed(1)," klbs"]})]})]}),u.jsxs("div",{className:"mt-2 pt-2 border-t border-purple-200",children:[u.jsxs("p",{className:"text-sm text-purple-700",children:["Fuel Consumption: ",(e.line970.startFOB-e.line970.endFOB).toFixed(1)," klbs"]}),e.line970.endFOB<0&&u.jsx("p",{className:"text-red-600 font-semibold text-sm mt-1",children:" Insufficient fuel!"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsx("h3",{className:"text-sm font-semibold",children:"Fuel Reads"})}),u.jsx("div",{className:"p-4",children:e?m.length===0?u.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[u.jsx("p",{children:"No waypoints available"}),u.jsx("p",{className:"text-sm mt-2",children:"Add waypoints to your flight plan first"})]}):u.jsx(jue,{fuelReads:g,availableWaypoints:m,canModify:n,onDelete:b,onEdit:x,totalPlanDistance:e?e.legs.reduce((k,T)=>k+(T.distance||0),0):0,isTaxiLeg:(f==null?void 0:f.type)==="taxi"}):u.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[u.jsx("p",{children:"No active flight plan"}),u.jsx("p",{className:"text-sm mt-2",children:"Select a flight plan to manage fuel reads"})]})})]}),a&&u.jsx(xue,{isOpen:a,onClose:()=>i(!1),onSubmit:w,availableWaypoints:m,isTaxiLeg:(f==null?void 0:f.type)==="taxi"}),o&&u.jsx(bue,{isOpen:o,onClose:()=>{s(!1),c(null)},onSubmit:v,fuelRead:l,availableWaypoints:m})]})}function Pue(e,t){if(e.length===0)return null;const n=[...e].sort((h,d)=>h.distance-d.distance),r=n[n.length-1],a=mr(r.fuelGauges),o=((t==null?void 0:t.initialFuel)||0)-a,s=r.distance,c=n.reduce((h,d)=>h+d.fuelGapFromPlan,0)/n.length;return{latestFuel:a,fuelUsed:Math.max(0,o),avgGap:c,distanceCovered:Math.max(0,s)}}function Cue({value:e,max:t,label:n,unit:r,danger:a=0,warning:i=0}){const o=e/t*100,s=()=>e<=a?"#FF3B30":e<=i?"#FF9500":"#34C759";return u.jsxs("div",{className:"relative w-48 h-48",children:[u.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:[u.jsx("circle",{cx:"96",cy:"96",r:"80",fill:"none",stroke:"currentColor",className:"text-gray-300 dark:text-gray-600",strokeWidth:"16",strokeDasharray:"377 377",strokeDashoffset:"94"}),u.jsx("circle",{cx:"96",cy:"96",r:"80",fill:"none",stroke:s(),strokeWidth:"16",strokeDasharray:"377 377",strokeDashoffset:94+377*.75*(1-o/100),className:"transition-all duration-500"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("p",{className:"text-3xl font-bold",style:{color:s()},children:e.toFixed(1)}),u.jsx("p",{className:"text-sm text-label-gray dark:text-label-gray-dark",children:r}),u.jsx("p",{className:"text-xs text-label-gray dark:text-label-gray-dark mt-2",children:n})]}),a>0&&u.jsxs("div",{className:"absolute bottom-2 left-2 text-xs text-danger",children:[a," ",r]}),i>0&&u.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-warning",children:[i," ",r]})]})}function ZT(){var h;const e=He(d=>d.actualPlan),t=He(d=>d.updateActualPlan),n=He(d=>d.currentLegIndex);if(!e)return u.jsx("div",{className:"text-center py-8 text-gray-500",children:u.jsx("p",{children:"No active flight plan"})});const r=e.legs[n||0],a=(r==null?void 0:r.id)||((h=e.legs[0])==null?void 0:h.id)||null,i=e.configuration.fuelOnBoard,o=r!=null&&r.fuelReads&&r.fuelReads.length>0?r.fuelReads.reduce((d,p)=>p.distance>d.distance?p:d):null,s=o?mr(o.fuelGauges):(r==null?void 0:r.initialFuel)||i,l=i-s,c=d=>{console.log("FuelDashboard - Updating actual plan"),t(d)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"panel",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Fuel Status"}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx(Cue,{value:s,max:i,label:"Fuel Remaining",unit:"klbs",danger:5,warning:10})}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"label-text",children:"Capacity"}),u.jsxs("p",{className:"value-text text-xl",children:[i.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"label-text",children:"Used"}),u.jsxs("p",{className:"value-text text-xl text-warning",children:[l.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"label-text",children:"Remaining"}),u.jsxs("p",{className:"value-text text-xl text-success",children:[s.toFixed(1)," klbs"]})]})]})]}),u.jsx(Aue,{plan:e,currentLegId:a,canModifyFuel:!0,onPlanUpdate:c}),u.jsxs("div",{className:"panel",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Flight Plan Fuel (klbs)"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"label-text",children:"Trip Fuel"}),u.jsxs("span",{className:"value-text",children:[e.fuel.tripFuel.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"label-text",children:"Route Reserve (10%)"}),u.jsxs("span",{className:"value-text",children:[e.fuel.tripFuel10Percent.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"label-text",children:"Holding + Unusable"}),u.jsxs("span",{className:"value-text",children:[(e.fuel.holding+e.fuel.unusable).toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"label-text",children:"Alternate"}),u.jsxs("span",{className:"value-text",children:[e.fuel.finalHour.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[u.jsx("span",{className:"font-semibold",children:"Total Required"}),u.jsxs("span",{className:"font-semibold",children:[e.fuel.total.toFixed(1)," klbs"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"label-text",children:"Spare Fuel"}),u.jsxs("span",{className:`value-text ${e.fuel.spareFuel<0?"text-danger":"text-success"}`,children:[e.fuel.spareFuel.toFixed(1)," klbs"]})]})]})]})]})}function Oue({selectedLegIndex:e}){const t=He(d=>d.actualPlan),n=He(d=>d.currentLegIndex),[r,a]=se.useState("normal"),i=e!==void 0?e:n;if(se.useEffect(()=>{a("normal")},[i]),!t)return null;const o=t.legs[i];if(!o)return u.jsxs("div",{className:"panel",children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Segments"}),u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No leg selected"})]});let s=o.segments||[];if(r!=="normal"||r==="normal"&&o.specialCondition&&o.specialCondition!=="normal")try{if(r==="normal"){const d={...o,specialCondition:"normal",segments:[]},p=Ta(d,t.configuration);p&&p.length>0&&(s=p)}else{const d=Wb(o,t.configuration,r);d&&d.length>0&&(s=d)}}catch(d){console.error("Error calculating segments for condition:",r,d)}if(!s||s.length===0)return u.jsxs("div",{className:"panel",children:[u.jsxs("h3",{className:"font-semibold mb-4",children:[o.type==="taxi"?"Taxi":`Leg ${i+1}`," - ",o.type.toUpperCase()," Segments"]}),u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No segments available for this leg"})]});const l=d=>{const p=Math.floor(d/60),f=Math.round(d%60);return`${p}:${f.toString().padStart(2,"0")}`},c=["normal","minimum4Engines","minimum3Engines","lossOfPressure","tenPercent"],h=nx(r);return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"panel",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"font-semibold",children:[o.type==="taxi"?"Taxi":`Leg ${i+1}`," - ",o.type.toUpperCase()," Segments"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm text-gray-600",children:"Condition:"}),u.jsx("select",{value:r,onChange:d=>a(d.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:c.map(d=>u.jsxs("option",{value:d,children:[nx(d),d==="normal"&&" (Default)"]},d))})]})]}),r!=="normal"&&u.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Showing calculations for:"})," ",h,u.jsx("span",{className:"ml-2 text-xs",children:"(Analyzing special condition scenario)"})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse text-xs",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b bg-gray-50",children:[u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Point"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Altitude"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Initial Weight (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Distance"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:" Distance"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"IAS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"TAS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"GS"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Duration"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:" Time"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Ini Fuel (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Fuel/Hr (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Fuel/Seg (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Rem Fuel (klb)"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"ISA"}),u.jsx("th",{className:"text-left py-1 px-2 text-xs font-medium text-gray-700",children:"Wind"})]})}),u.jsx("tbody",{children:s.map((d,p)=>{const f=r&&r!=="normal"?"Cruise":p===0?"Climb":"Cruise",m=d.endAltitude?Math.round(d.endAltitude/1e3):"--",g=s.slice(0,p+1).reduce((w,b)=>w+(b.duration||0),0);return u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsx("td",{className:"py-1 px-2 text-xs",children:f}),u.jsx("td",{className:"py-1 px-2 text-xs",children:m}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.initialWeight?Math.round(r==="normal"?d.initialWeight:d.initialWeight/1e3):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:Math.round(d.endDistance-d.startDistance)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:Math.round(d.endDistance)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.indicatedAirSpeed||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.trueAirSpeed||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.groundSpeed||"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.duration?Math.round(d.duration):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:l(g)}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.initialFuel!==void 0&&d.initialFuel!==null?(d.initialFuel/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.fuelConsumptionPerHour?(d.fuelConsumptionPerHour/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.fuelConsumed?(d.fuelConsumed/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.remainingFuel?(d.remainingFuel/1e3).toFixed(1):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.isa!==void 0?Math.round(d.isa):"--"}),u.jsx("td",{className:"py-1 px-2 text-xs",children:d.projectedWind!==void 0?Math.round(d.projectedWind):"--"})]},d.id)})})]})})]})})}function Tue({waypoints:e,leg:t,scheduledTakeoffTime:n=new Date,onWaypointClick:r,showActions:a=!1,onAddWaypoint:i,onDeleteWaypoint:o,onDirectTo:s,onUpdateActual:l}){const[c,h]=ge.useState(null),d=m=>{const g=Math.floor(m/60),w=Math.floor(m%60);return`${g}:${w.toString().padStart(2,"0")}`},p=m=>m?it(m,"HH:mm"):"--:--",f=e.map((m,g)=>{var C,P,I,M,W,L,R,B;let w=0;for(let z=0;z<=g;z++)w+=e[z].distance||0;const b=m.distanceRemain!==void 0?m.distanceRemain:0;let x=m.eet||0;if(!x&&m.distance>0){const z=m.groundSpeed||((P=(C=t.segments)==null?void 0:C[0])==null?void 0:P.groundSpeed)||0;z>0&&(x=m.distance/z*60)}let v=m.eta;if(!v){let z=0;for(let Y=0;Y<=g;Y++){const ie=e[Y];if(ie.eet)z+=ie.eet;else if(ie.distance>0){const _=ie.groundSpeed||((M=(I=t.segments)==null?void 0:I[0])==null?void 0:M.groundSpeed)||0;_>0&&(z+=ie.distance/_*60)}}v=new Date(n.getTime()+z*60*1e3)}let j=m.toEET||0;if(!j)for(let z=g+1;z<e.length;z++){const Y=e[z];if(Y.eet)j+=Y.eet;else if(Y.distance>0){const ie=Y.groundSpeed||((L=(W=t.segments)==null?void 0:W[0])==null?void 0:L.groundSpeed)||0;ie>0&&(j+=Y.distance/ie*60)}}let N,A,k,T,E,U;if(N=m.fob!==void 0?m.fob:m.fuelOnBoard?m.fuelOnBoard/1e3:t.initialFuel||0,m.name==="-TOC-"||m.id==="-TOC-"){const z=He.getState().actualPlan,Y=He.getState().activePlan,ie=z||Y;let _=null;if(ie&&ie.configuration){const q={...t,specialCondition:"normal"};_=Ta(q,ie.configuration)}console.log(" TOC waypoint - checking segments:",{hasLegSegments:!!t.segments,legSegmentCount:((R=t.segments)==null?void 0:R.length)||0,legSpecialCondition:t.specialCondition,normalSegmentCount:(_==null?void 0:_.length)||0,normalSegments:_==null?void 0:_.map(q=>({point:q.point,remainingFuel:q.remainingFuel,remainingFuelKlb:q.remainingFuel?q.remainingFuel/1e3:void 0,initialFuel:q.initialFuel,initialFuelKlb:q.initialFuel?q.initialFuel/1e3:void 0}))});const D=_||t.segments;if(D&&D.length>0){const q=D.find(te=>te.point==="climb");if(q&&q.remainingFuel!==void 0){const te=q.remainingFuel,H=te>1e3?te/1e3:te;console.log(" OVERRIDE: Using climb segment fuel for TOC display:",{originalFob:N,climbSegmentFuel:te,calculatedFob:H,isConverted:te>1e3,fromNormalSegments:D===_}),N=H}else console.warn(" No climb segment found or no remaining fuel in climb segment")}}return(m.name==="-TOC-"||(B=m.name)!=null&&B.includes("TOC"))&&console.log(" TOC Waypoint FOB display:",{waypointName:m.name,waypointId:m.id,fuelOnBoard:m.fuelOnBoard,fob:m.fob,calculatedFob:N,legInitialFuel:t.initialFuel}),A=m.altitude||0,k=m.groundSpeed||0,T=m.ias||0,E=m.trueAirSpeed||0,U=m.isa||m.temp||0,g===0&&w===0&&(A=0,k=0,T=0,E=0),{...m,cumulativeDistance:w,distRemaining:b,eet:x,eta:v,timeRemaining:j,fob:N,altitude:Math.round(A),groundSpeed:Math.round(k),ias:Math.round(T),tas:Math.round(E),isa:Math.round(U)}});return u.jsx("div",{className:"w-full",children:u.jsxs("table",{className:"w-full text-sm bg-white dark:bg-gray-900",children:[u.jsxs("thead",{className:"sticky top-0 z-10",children:[u.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[u.jsx("th",{className:"w-10 bg-white dark:bg-gray-900",rowSpan:2}),u.jsx("th",{className:"text-left py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"Name"}),u.jsxs("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:["MAG",u.jsx("br",{}),"HDG"]}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"Dst"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"Total Dst"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"Dst Rem"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"EET"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"ETA"}),u.jsxs("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:["Time",u.jsx("br",{}),"Rem"]}),u.jsxs("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:["FOB",u.jsx("br",{}),"(klb)"]}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"Alt"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"IAS"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"TAS"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"GS"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",colSpan:3,children:"Wind"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"ISA"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"Mag Dec"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"lat"}),u.jsx("th",{className:"text-center py-2 px-2 font-medium bg-white dark:bg-gray-900 dark:text-gray-100",rowSpan:2,children:"long"})]}),u.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[u.jsx("th",{className:"text-center py-1 px-2 text-xs font-normal bg-white dark:bg-gray-900 dark:text-gray-300",children:"DIR"}),u.jsx("th",{className:"text-center py-1 px-2 text-xs font-normal bg-white dark:bg-gray-900 dark:text-gray-300",children:"VEL"}),u.jsx("th",{className:"text-center py-1 px-2 text-xs font-normal bg-white dark:bg-gray-900 dark:text-gray-300",children:"Head/Tail"})]})]}),u.jsx("tbody",{children:f.map((m,g)=>{var w,b,x;return u.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>r==null?void 0:r(m,g),children:[u.jsx("td",{className:"py-2 px-1 relative",children:a?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:v=>{v.stopPropagation(),h(c===g?null:g)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),c===g&&u.jsxs("div",{className:"absolute left-0 top-8 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 min-w-[150px]",children:[l&&u.jsx("button",{onClick:v=>{v.stopPropagation(),l(g),h(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium text-primary",children:"Update Actual"}),s&&g<e.length-1&&u.jsx("button",{onClick:v=>{v.stopPropagation(),s(g),h(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium dark:text-gray-100",children:"Direct To..."}),u.jsx("button",{onClick:v=>{v.stopPropagation(),i==null||i(g),h(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm dark:text-gray-100",children:"Add Waypoint After"}),g>0&&u.jsx("button",{onClick:v=>{v.stopPropagation(),o==null||o(g),h(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-red-600 dark:text-red-400",children:"Delete Waypoint"})]})]}):null}),u.jsx("td",{className:"py-2 px-2 font-medium dark:text-gray-100",children:u.jsxs("div",{className:"flex items-center gap-1",children:[m.name,m.isActual&&u.jsx("span",{className:"text-xs bg-primary/10 text-primary px-1.5 py-0.5 rounded font-normal",children:"A"})]})}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:Math.round(m.magHDG||0)}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:Math.round(m.distance||0)}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:Math.round(m.cumulativeDistance)}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:Math.round(m.distRemaining)}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.eet?d(m.eet):"0:00"}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.isActual&&m.actualTime?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.eta?p(m.eta):"--:--"}),u.jsx("span",{className:`font-medium ${m.eta&&m.actualTime.getTime()>m.eta.getTime()?"text-red-600":m.eta&&m.actualTime.getTime()<m.eta.getTime()?"text-green-600":"text-primary"}`,children:(()=>{var v,j;return m.name==="AMMIT"&&console.log(" AMMIT waypoint time display:",{actualTime:m.actualTime,actualTimeString:(v=m.actualTime)==null?void 0:v.toISOString(),formattedTime:p(m.actualTime),timeUpdatedFrom:m.timeUpdatedFrom,lastTimeUpdate:m.lastTimeUpdate,isActual:m.isActual,eta:m.eta,etaString:(j=m.eta)==null?void 0:j.toISOString()}),p(m.actualTime)})()})]}):m.eta?p(m.eta):"--:--"}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.timeRemaining?d(m.timeRemaining):"--:--"}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.isActual&&m.actualFob!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.fob?m.fob.toFixed(1):"--"}),u.jsx("span",{className:`font-medium ${m.fob&&m.actualFob>m.fob?"text-green-600":m.fob&&m.actualFob<m.fob?"text-red-600":"text-primary"}`,children:m.actualFob.toFixed(1)})]}):m.fob?m.fob.toFixed(1):"--"}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.isActual&&m.actualAltitude!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.altitude>0?Math.round(m.altitude/1e3):0}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualAltitude/1e3)})]}):m.altitude>0?Math.round(m.altitude/1e3):0}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.ias||0}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.isActual&&m.actualTrueAirSpeed!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.tas||0}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualTrueAirSpeed)})]}):m.tas||0}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.isActual&&m.actualGroundSpeed!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.groundSpeed||0}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualGroundSpeed)})]}):m.groundSpeed||0}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.isActual&&m.actualWindDirection!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:Math.round(m.wind||0)}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualWindDirection)})]}):Math.round(m.wind||0)}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.isActual&&m.actualWindVelocity!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:Math.round(m.windVelocity||0)}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualWindVelocity)})]}):Math.round(m.windVelocity||0)}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.isActual&&m.actualHeadTail!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:Math.round(m.headTail||0)}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualHeadTail)})]}):Math.round(m.headTail||0)}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:m.isActual&&m.actualIsa!==void 0?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"line-through text-gray-400 text-xs",children:m.isa}),u.jsx("span",{className:"text-primary font-medium",children:Math.round(m.actualIsa)})]}):m.isa}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:((w=m.magDec)==null?void 0:w.toFixed(1))||"0.0"}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:((b=m.coordinate)==null?void 0:b.latitude.toFixed(4))||"--"}),u.jsx("td",{className:"text-center py-2 px-2 dark:text-gray-300",children:((x=m.coordinate)==null?void 0:x.longitude.toFixed(3))||"--"})]},m.id)})})]})})}function eF(){var q,te,H,Z;const e=He(X=>X.actualPlan),t=He(X=>X.updateActualPlan),n=He(X=>X.currentLegIndex),r=He(X=>X.actionLog),a=He(X=>X.showActionLog),i=He(X=>X.addActionLogEntry),o=He(X=>X.setShowActionLog),s=He(X=>X.clearActionLog),l=He(X=>X.updateWaypoint),[c,h]=se.useState(null),[d,p]=se.useState(null),[f,m]=se.useState("distance"),[g,w]=se.useState(!1),[b,x]=se.useState("existing"),[v,j]=se.useState(null),[N,A]=se.useState(0),[k,T]=se.useState(null),[E,U]=se.useState({groundSpeed:"",trueAirSpeed:"",altitude:"",time:"",windVelocity:"",windDirection:"",fob:"",isa:"",note:""}),[C,P]=se.useState({name:"",distance:"",magneticHeading:"",latitude:"",longitude:""});if(!e)return null;const I=e.legs[n||0];if(!I)return null;const M=(q=I.waypoints)==null?void 0:q.find(X=>X.name==="-TOC-"||X.id==="-TOC-");M&&(console.log(" WaypointManager - TOC waypoint from currentLeg:",{name:M.name,id:M.id,fob:M.fob,fuelOnBoard:M.fuelOnBoard,hasFob:M.fob!==void 0,hasFuelOnBoard:M.fuelOnBoard!==void 0}),console.log(" WaypointManager - Leg segments:",{hasSegments:!!I.segments,segmentCount:((te=I.segments)==null?void 0:te.length)||0,specialCondition:I.specialCondition,segments:(H=I.segments)==null?void 0:H.map(X=>({point:X.point,remainingFuel:X.remainingFuel,remainingFuelKlb:X.remainingFuel?X.remainingFuel/1e3:void 0}))}));const W=X=>{const G=/\b(Time|FOB):\s*([\+\-][^\s,]+)/g;let ce=0;const ae=[];let le;for(;(le=G.exec(X))!==null;){le.index>ce&&ae.push(u.jsx("span",{children:X.substring(ce,le.index)},`text-${ce}`));const[xe,be,de]=le,re=de.startsWith("+"),Pe=de.startsWith("-");let Te="#374151";be==="Time"?Te=re?"#dc2626":Pe?"#16a34a":"#374151":be==="FOB"&&(Te=re?"#16a34a":Pe?"#dc2626":"#374151"),ae.push(u.jsxs("span",{children:[be,": ",u.jsx("strong",{style:{color:Te},children:de})]},`match-${le.index}`)),ce=le.index+xe.length}return ce<X.length&&ae.push(u.jsx("span",{children:X.substring(ce)},"text-end")),u.jsx(u.Fragment,{children:ae})},L=X=>{h({afterIndex:X}),P({name:"",distance:"",magneticHeading:"",latitude:"",longitude:""})},R=X=>{const G=I.waypoints[X];p({waypoint:G,index:X})},B=()=>{if(!d||!e)return;const X=d.index,G=I.waypoints[X],ce=[...I.waypoints];if(ce.splice(X,1),X<ce.length){const be=ce[X];if(ce[X]={...be,distance:(be.distance||0)+(G.distance||0)},X>0){const de=ce[X-1];if(de.coordinate&&be.coordinate){const re=Ya(de.coordinate.latitude,de.coordinate.longitude),Pe=Us(de.coordinate,be.coordinate,re);ce[X]={...ce[X],magHDG:Math.round(Pe),heading:Pe}}}}const ae=[...e.legs];ae[n||0]={...I,waypoints:ce};const le={...e,legs:ae},xe=rl(le);t(xe),i("DELETE",`Deleted waypoint ${d.waypoint.name}`),p(null)},z=()=>{if(!c||!e)return;const X=I.waypoints[c.afterIndex],G=JS(C.name||"NEW WPT");if(f==="coordinate")G.coordinate={latitude:parseFloat(C.latitude),longitude:parseFloat(C.longitude)};else{const re=Ya(X.coordinate.latitude,X.coordinate.longitude),Pe=Kv(parseFloat(C.magneticHeading),re);G.coordinate=ek(X.coordinate,parseFloat(C.distance),Pe)}if(X.coordinate&&G.coordinate){const re=Fd(X.coordinate,G.coordinate),Pe=Ya(X.coordinate.latitude,X.coordinate.longitude),Te=Us(X.coordinate,G.coordinate,Pe);G.distance=Math.round(re),G.magHDG=Math.round(Te),G.heading=Te}else G.distance=0,G.magHDG=0,G.heading=0;const ce=[...I.waypoints];if(ce.splice(c.afterIndex+1,0,G),c.afterIndex+2<ce.length){const re=ce[c.afterIndex+2];if(G.coordinate&&re.coordinate){const Pe=Fd(G.coordinate,re.coordinate),Te=Ya(G.coordinate.latitude,G.coordinate.longitude),ke=Us(G.coordinate,re.coordinate,Te);ce[c.afterIndex+2]={...re,distance:Math.round(Pe),magHDG:Math.round(ke),heading:ke}}}const ae=ce.reduce((re,Pe)=>re+(Pe.distance||0),0),le=[...e.legs];le[n||0]={...I,waypoints:ce,distance:ae};const xe={...e,legs:le},be=rl(xe);t(be);const de=I.waypoints[c.afterIndex].name;i("ADD",`Added waypoint ${C.name} after ${de}`),h(null)},Y=X=>{var ce,ae,le,xe,be,de;const G=I.waypoints[X];T({index:X,waypoint:G}),U({groundSpeed:((ce=G.groundSpeed)==null?void 0:ce.toString())||"",trueAirSpeed:((ae=G.trueAirSpeed)==null?void 0:ae.toString())||"",altitude:G.altitude?Math.round(G.altitude/1e3).toString():"",time:G.eta?it(G.eta,"HH:mm"):it(new Date,"HH:mm"),windVelocity:((le=G.windVelocity)==null?void 0:le.toString())||"",windDirection:((xe=G.wind)==null?void 0:xe.toString())||"",fob:((be=G.fob)==null?void 0:be.toFixed(1))||"",isa:((de=G.isa)==null?void 0:de.toString())||"",note:G.note||""})},ie=()=>{if(!k||!e)return;const{index:X,waypoint:G}=k;console.log(" confirmUpdateActual called for waypoint:",{name:G.name,id:G.id,index:X,actualData:E});let ce=null;if(E.time){const[Ne,yt]=E.time.split(":").map(Number);ce=new Date(G.eta||new Date),ce.setHours(Ne,yt,0,0)}let ae=G.headTail||0;const le=parseFloat(E.groundSpeed)||G.groundSpeed||0,xe=parseFloat(E.trueAirSpeed)||G.trueAirSpeed||0,be=parseFloat(E.windVelocity)||G.windVelocity||0,de=parseFloat(E.windDirection)||G.wind||0;if(be>0&&G.heading){const Ne=Kv(G.magHDG||G.heading,G.magDec||0);ae=iue(xe,le,be,de,Ne)}const re={isActual:!0,actualGroundSpeed:le,actualTrueAirSpeed:xe,actualAltitude:E.altitude?parseFloat(E.altitude)*1e3:G.altitude,actualWindVelocity:be,actualWindDirection:de,actualIsa:E.isa?parseFloat(E.isa):G.isa,actualHeadTail:ae,note:E.note};ce&&(re.actualTime=ce),E.fob&&(re.actualFob=parseFloat(E.fob),re.fob=parseFloat(E.fob),re.fuelOnBoard=parseFloat(E.fob)*1e3),l(G.id,re,"waypoints-tab");const Te=He.getState().actualPlan;if(ce&&Te){const Ne=QT(Te,G.id,ce);t(Ne)}let ke=`Updated actual for waypoint ${G.name}`;const Oe=[];if(ce&&G.eta){const Ne=Math.round((ce.getTime()-G.eta.getTime())/6e4);Ne!==0&&Oe.push(`Time: ${Ne>0?"+":""}${Ne} min`)}if(!isNaN(le)&&G.groundSpeed){const Ne=le-G.groundSpeed;Math.abs(Ne)>=1&&Oe.push(`GS: ${Ne>0?"+":""}${Math.round(Ne)} kts`)}if(!isNaN(xe)&&G.trueAirSpeed){const Ne=xe-G.trueAirSpeed;Math.abs(Ne)>=1&&Oe.push(`TAS: ${Ne>0?"+":""}${Math.round(Ne)} kts`)}const Re=E.altitude?parseFloat(E.altitude):0;if(Re&&G.altitude){const Ne=Re-G.altitude/1e3;Math.abs(Ne)>=.5&&Oe.push(`Alt: ${Ne>0?"+":""}${Ne.toFixed(1)}k ft`)}const Ie=parseFloat(E.fob);if(!isNaN(Ie)&&G.fob){const Ne=Ie-G.fob;Math.abs(Ne)>=.1&&Oe.push(`FOB: ${Ne>0?"+":""}${Ne.toFixed(1)} klb`)}if(!isNaN(be)&&G.windVelocity){const Ne=be-G.windVelocity;Math.abs(Ne)>=1&&Oe.push(`Wind Vel: ${Ne>0?"+":""}${Math.round(Ne)} kts`)}const Fe=parseFloat(E.windDirection);if(!isNaN(Fe)&&G.wind){const Ne=Fe-G.wind;Math.abs(Ne)>=5&&Oe.push(`Wind Dir: ${Ne>0?"+":""}${Math.round(Ne)}`)}const De=parseFloat(E.isa);if(!isNaN(De)&&G.isa!==void 0){const Ne=De-G.isa;Math.abs(Ne)>=1&&Oe.push(`ISA: ${Ne>0?"+":""}${Math.round(Ne)}C`)}if(ae!==void 0&&G.headTail!==void 0){const Ne=ae-G.headTail;Math.abs(Ne)>=1&&Oe.push(`H/T: ${Ne>0?"+":""}${Math.round(Ne)} kts`)}Oe.length>0&&(ke+=` | : ${Oe.join(", ")}`);const Le=[];if(ce&&G.eta){const Ne=Math.round((ce.getTime()-G.eta.getTime())/6e4);Ne>5?Le.push("arriving late"):Ne<-5&&Le.push("arriving early")}const Ge=parseFloat(E.fob);if(!isNaN(Ge)&&G.fob){const Ne=Ge-G.fob;Ne<-.2?Le.push("higher fuel burn than planned"):Ne>.2&&Le.push("lower fuel burn than expected")}const Ue=parseFloat(E.windVelocity);if(!isNaN(Ue)&&G.windVelocity){const Ne=Ue-G.windVelocity;ae<-20?Le.push("strong headwinds"):ae>20?Le.push("strong tailwinds"):Math.abs(Ne)>15&&Le.push(Ne>0?"stronger winds than forecast":"lighter winds than forecast")}const mt=parseFloat(E.isa);if(!isNaN(mt)&&G.isa!==void 0){const Ne=mt-G.isa;Ne>5?Le.push("warmer than expected"):Ne<-5&&Le.push("colder than expected")}const tt=E.altitude?parseFloat(E.altitude):0;if(tt&&G.altitude){const Ne=tt-G.altitude/1e3;Math.abs(Ne)>=2&&Le.push(Ne>0?"flying higher than planned":"flying lower than planned")}let ut="";if(E.note&&E.note.trim())ut=E.note,Le.length>0&&(ut+=` (${Le.join(", ")})`);else if(Le.length>0){const Ne=Le.join(", ");ut=Ne.charAt(0).toUpperCase()+Ne.slice(1)}ut&&(ke+=` | Note: ${ut}`),i("UPDATE ACTUAL",ke),T(null)},_=X=>{w(!0),x("existing"),j(null),A(X),P({name:"",distance:"",magneticHeading:"",latitude:"",longitude:""})},D=()=>{if(!e)return;let X=[...I.waypoints];const G=X[N];if(b==="existing"&&v!==null){const de=X[v];if(G.coordinate&&de.coordinate){const re=Fd(G.coordinate,de.coordinate),Pe=Ya(G.coordinate.latitude,G.coordinate.longitude),Te=Us(G.coordinate,de.coordinate,Pe),ke={...de,distance:Math.round(re),magHDG:Math.round(Te),heading:Te},Oe=X.slice(0,N+1),Re=X.slice(v+1);X=[...Oe,ke,...Re]}else{const re=X.slice(0,N+1),Pe=X.slice(v);X=[...re,...Pe]}}else if(b==="new"){const de=JS(C.name||"DIRECT");if(C.latitude&&C.longitude)de.coordinate={latitude:parseFloat(C.latitude),longitude:parseFloat(C.longitude)};else{const ke=Ya(G.coordinate.latitude,G.coordinate.longitude),Oe=Kv(parseFloat(C.magneticHeading),ke);de.coordinate=ek(G.coordinate,parseFloat(C.distance),Oe)}if(G.coordinate&&de.coordinate){const ke=Fd(G.coordinate,de.coordinate),Oe=Ya(G.coordinate.latitude,G.coordinate.longitude),Re=Us(G.coordinate,de.coordinate,Oe);de.distance=Math.round(ke),de.magHDG=Math.round(Re),de.heading=Re}else de.distance=0,de.magHDG=0,de.heading=0;let re=N+1;const Pe=X.slice(0,re);let Te=X.slice(re);if(Te.length>0){const ke=Te[0];if(de.coordinate&&ke.coordinate){const Oe=Fd(de.coordinate,ke.coordinate),Re=Ya(de.coordinate.latitude,de.coordinate.longitude),Ie=Us(de.coordinate,ke.coordinate,Re);Te[0]={...ke,distance:Math.round(Oe),magHDG:Math.round(Ie),heading:Ie}}}X=[...Pe,de,...Te]}const ce=X.reduce((de,re)=>de+(re.distance||0),0),ae=[...e.legs];ae[n||0]={...I,waypoints:X,distance:ce};const le={...e,legs:ae},xe=rl(le);t(xe);const be=I.waypoints[N].name;if(b==="existing"&&v!==null){const de=I.waypoints[v].name;i("DIRECT TO",`Direct from ${be} to ${de}`)}else b==="new"&&i("DIRECT TO",`Direct from ${be} to ${C.name}`);w(!1)};return u.jsxs("div",{className:"h-full grid",style:{gridTemplateRows:"auto 1fr auto"},children:[u.jsxs("div",{className:"bg-primary text-white px-4 py-1 flex items-center justify-between",children:[u.jsx("h3",{className:"font-semibold text-sm",children:I.type.replace("lrc","LRC ").toUpperCase()}),u.jsx("button",{className:"text-white/80 hover:text-white",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),u.jsxs("div",{className:"min-h-0 overflow-y-auto bg-gray-50 dark:bg-gray-900 relative",children:[u.jsx(Tue,{waypoints:I.waypoints,leg:I,scheduledTakeoffTime:e.configuration.startTime,showActions:!0,onAddWaypoint:L,onDeleteWaypoint:R,onDirectTo:_,onUpdateActual:Y}),a&&u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 mt-4",children:[u.jsxs("div",{className:"px-4 py-2 flex items-center justify-between bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h4",{className:"font-semibold text-sm dark:text-gray-100",children:"Action Log"}),u.jsxs("div",{className:"flex items-center gap-2",children:[r.length>0&&u.jsx("button",{onClick:()=>{confirm("Clear all action log entries?")&&s()},className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-xs",children:"Clear"}),u.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800",children:r.length===0?u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 p-4 text-center",children:"No actions logged yet"}):u.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.map(X=>u.jsx("div",{className:"px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono w-12 flex-shrink-0",children:it(X.timestamp,"HH:mm")}),u.jsxs("div",{className:"flex-1 flex items-center",children:[u.jsx("span",{className:"text-xs font-semibold text-primary",children:X.action}),u.jsx("span",{className:"text-xs ml-2 dark:text-gray-300",children:W(X.details)})]})]})},X.id))})})]})]}),!a&&u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 p-2",children:u.jsxs("button",{onClick:()=>o(!0),className:"w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-1 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-100 transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Show Action Log"]})}),d&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-sm p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-2 dark:text-gray-100",children:"Delete Waypoint"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:["Are you sure you want to delete waypoint ",u.jsx("strong",{children:d.waypoint.name}),"?"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:B,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Delete"}),u.jsx("button",{onClick:()=>p(null),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})}),c&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-4 dark:text-gray-100",children:"Add New Waypoint"}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:["Adding waypoint after: ",I.waypoints[c.afterIndex].name]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Waypoint Name"}),u.jsx("input",{type:"text",value:C.name,onChange:X=>P({...C,name:X.target.value}),placeholder:"Enter waypoint name",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>m("distance"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${f==="distance"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Distance & Heading"}),u.jsx("button",{onClick:()=>m("coordinate"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${f==="coordinate"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Coordinates"})]}),f==="distance"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Distance (nm)"}),u.jsx("input",{type:"number",value:C.distance,onChange:X=>P({...C,distance:X.target.value}),placeholder:"Enter distance in nautical miles",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Magnetic Heading"}),u.jsx("input",{type:"number",value:C.magneticHeading,onChange:X=>P({...C,magneticHeading:X.target.value}),placeholder:"Enter magnetic heading (0-360)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Latitude"}),u.jsx("input",{type:"number",step:"0.0001",value:C.latitude,onChange:X=>P({...C,latitude:X.target.value}),placeholder:"Enter latitude (e.g., 31.7417)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Longitude"}),u.jsx("input",{type:"number",step:"0.0001",value:C.longitude,onChange:X=>P({...C,longitude:X.target.value}),placeholder:"Enter longitude (e.g., 35.485)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{onClick:z,disabled:!C.name||f==="distance"&&(!C.distance||!C.magneticHeading)||f==="coordinate"&&(!C.latitude||!C.longitude),className:"flex-1 bg-primary hover:bg-primary-dark text-white py-2 px-4 rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Add Waypoint"}),u.jsx("button",{onClick:()=>h(null),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})]})}),g&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-4 dark:text-gray-100",children:"Direct To Waypoint"}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:["From: ",u.jsx("strong",{children:(Z=I.waypoints[N])==null?void 0:Z.name})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>x("existing"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${b==="existing"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Existing Waypoint"}),u.jsx("button",{onClick:()=>x("new"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${b==="new"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"New Waypoint"})]}),b==="existing"?u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Waypoint"}),u.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded-lg",children:I.waypoints.slice(N+1).map((X,G)=>u.jsxs("button",{onClick:()=>j(N+1+G),className:`w-full text-left p-3 hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-200 dark:border-gray-700 last:border-b-0 ${v===N+1+G?"bg-primary/10":""}`,children:[u.jsx("div",{className:"font-medium dark:text-gray-100",children:X.name}),u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[X.distance," nm  ",X.magHDG,""]})]},X.id))})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Waypoint Name"}),u.jsx("input",{type:"text",value:C.name,onChange:X=>P({...C,name:X.target.value}),placeholder:"Enter waypoint name",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>m("distance"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${f==="distance"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Distance & Heading"}),u.jsx("button",{onClick:()=>m("coordinate"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${f==="coordinate"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Coordinates"})]}),f==="distance"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Distance (nm)"}),u.jsx("input",{type:"number",value:C.distance,onChange:X=>P({...C,distance:X.target.value}),placeholder:"Enter distance in nautical miles",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Magnetic Heading"}),u.jsx("input",{type:"number",value:C.magneticHeading,onChange:X=>P({...C,magneticHeading:X.target.value}),placeholder:"Enter magnetic heading (0-360)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Latitude"}),u.jsx("input",{type:"number",step:"0.0001",value:C.latitude,onChange:X=>P({...C,latitude:X.target.value}),placeholder:"Enter latitude (e.g., 31.7417)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Longitude"}),u.jsx("input",{type:"number",step:"0.0001",value:C.longitude,onChange:X=>P({...C,longitude:X.target.value}),placeholder:"Enter longitude (e.g., 35.485)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{onClick:D,disabled:b==="existing"&&v===null||b==="new"&&(!C.name||f==="distance"&&(!C.distance||!C.magneticHeading)||f==="coordinate"&&(!C.latitude||!C.longitude)),className:"flex-1 bg-primary hover:bg-primary-dark text-white py-2 px-4 rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Execute Direct To"}),u.jsx("button",{onClick:()=>w(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})]})}),k&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[u.jsxs("h3",{className:"text-lg font-bold mb-4 dark:text-gray-100",children:["Update ",k.waypoint.name]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 mb-3",children:"Actuals"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Ground Speed"}),u.jsx("input",{type:"number",value:E.groundSpeed,onChange:X=>U({...E,groundSpeed:X.target.value}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"True Airspeed"}),u.jsx("input",{type:"number",value:E.trueAirSpeed,onChange:X=>U({...E,trueAirSpeed:X.target.value}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Route alt."}),u.jsx("input",{type:"number",value:E.altitude,onChange:X=>U({...E,altitude:X.target.value}),placeholder:"Alt in thousands",className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Time"}),u.jsx("input",{type:"time",value:E.time,onChange:X=>U({...E,time:X.target.value}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Wind Velocity"}),u.jsx("input",{type:"number",value:E.windVelocity,onChange:X=>U({...E,windVelocity:X.target.value}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Wind Direction"}),u.jsx("input",{type:"number",value:E.windDirection,onChange:X=>U({...E,windDirection:X.target.value}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"FOB (klb)"}),u.jsx("input",{type:"number",step:"0.1",value:E.fob,onChange:X=>U({...E,fob:X.target.value}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"ISA"}),u.jsx("input",{type:"number",value:E.isa,onChange:X=>U({...E,isa:X.target.value}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded text-sm"})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-3",children:"Planned"}),u.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"Ground Speed"}),u.jsx("div",{className:"py-1",children:k.waypoint.groundSpeed||"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"True Airspeed"}),u.jsx("div",{className:"py-1",children:k.waypoint.trueAirSpeed||"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"Route alt."}),u.jsx("div",{className:"py-1",children:k.waypoint.altitude?Math.round(k.waypoint.altitude/1e3):"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"Time"}),u.jsx("div",{className:"py-1",children:k.waypoint.eta?it(k.waypoint.eta,"HH:mm"):"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"Wind Velocity"}),u.jsx("div",{className:"py-1",children:k.waypoint.windVelocity||"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"Wind Direction"}),u.jsx("div",{className:"py-1",children:k.waypoint.wind||"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"FOB (klb)"}),u.jsx("div",{className:"py-1",children:k.waypoint.fob?k.waypoint.fob.toFixed(1):"--"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs mb-1",children:"ISA"}),u.jsx("div",{className:"py-1",children:k.waypoint.isa!==void 0?k.waypoint.isa:"--"})]})]})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Note"}),u.jsx("textarea",{value:E.note,onChange:X=>U({...E,note:X.target.value}),rows:2,className:"w-full px-3 py-2 border rounded-lg text-sm",placeholder:"Add any notes..."})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{onClick:()=>T(null),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),u.jsx("button",{onClick:ie,className:"flex-1 bg-primary hover:bg-primary-dark text-white py-2 px-4 rounded-lg transition-colors",children:"Save"})]})]})]})})]})}function tF(){const e=He(o=>o.actualPlan),t=He(o=>o.currentLegIndex),n=He(o=>o.currentSegmentIndex),r=He(o=>o.totalFuelRemaining),a=se.useMemo(()=>{var l,c,h,d,p,f,m;if(!e||t<0||!e.legs[t])return{normal:[]};const o=e.legs[t];if(console.log("FlightGraph: Current leg:",{type:o.type,distance:o.distance,initialFuel:o.initialFuel,segments:((l=o.segments)==null?void 0:l.length)||0,specialCondition:o.specialCondition,firstSegment:(c=o.segments)!=null&&c[0]?{initialFuel:o.segments[0].initialFuel,remainingFuel:o.segments[0].remainingFuel,fuelConsumed:o.segments[0].fuelConsumed}:null}),o.type==="taxi")return{normal:[]};const s=VT(o,e.configuration,!0);if(console.log("FlightGraph: HGI data calculated:",{normal:((h=s.normal)==null?void 0:h.length)||0,minimum4Engines:((d=s.minimum4Engines)==null?void 0:d.length)||0,minimum3Engines:((p=s.minimum3Engines)==null?void 0:p.length)||0,lossOfPressure:((f=s.lossOfPressure)==null?void 0:f.length)||0,tenPercent:((m=s.tenPercent)==null?void 0:m.length)||0}),o.fuelReads&&o.fuelReads.length>0&&o.type!=="taxi"){const g=[],w=o.initialFuel||0;!o.fuelReads.some(x=>x.distance===0)&&w>0&&g.push({distance:0,fuel:w,label:"Initial",isActualRead:!0}),o.fuelReads.forEach(x=>{const v=x.fuelGauges.no1+x.fuelGauges.no2+x.fuelGauges.no3+x.fuelGauges.no4+x.fuelGauges.lhAUX+x.fuelGauges.rhAUX+x.fuelGauges.lhEXT+x.fuelGauges.rhEXT+(x.fuelGauges.additionalTanks||0);g.push({distance:x.distance,fuel:v,label:x.waypointId||`Read at ${x.distance}nm`,isActualRead:!0})}),g.sort((x,v)=>x.distance-v.distance),s.actual=g,console.log("FlightGraph: Added actual fuel line with",g.length,"points")}if(r!==null&&n>=0){let g=0;if(o.segments&&n<o.segments.length){const x=o.segments[n];n>0&&(g=o.segments[n-1].endDistance);const v=n>0?o.segments[n-1].endDistance:0,j=x.endDistance;g+=(j-v)*.5}const w={distance:g,fuel:r/1e3,label:"Current Position",isCurrentPosition:!0};["normal","minimum3Engines","minimum4Engines","lossOfPressure","tenPercent"].forEach(x=>{if(s[x]&&s[x].length>0){const v=s[x],j=v.findIndex(N=>N.distance>g);j>=0?v.splice(j,0,w):v.push(w)}})}return s},[e,t,n,r]);if(!e)return u.jsx("div",{className:"panel",children:u.jsxs("div",{className:"text-center text-gray-500 py-8",children:[u.jsx("p",{className:"text-lg font-semibold mb-2",children:"No Flight Data Available"}),u.jsx("p",{className:"text-sm",children:"Please ensure a flight plan is loaded."})]})});const i=t>=0?e.legs[t]:null;return u.jsx("div",{className:"panel",children:u.jsx(Qw,{data:a,title:"In-Flight HGI Graph",showControls:!0,height:500,leg:i,maxDistance:i==null?void 0:i.distance,line970:e==null?void 0:e.line970})})}function e5({isOpen:e,onClose:t,onConfirm:n}){const[r,a]=se.useState(new Date);if(!e)return null;const i=()=>{n(r),t()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-md",children:[u.jsx("h2",{className:"text-xl font-bold text-black-1 dark:text-gray-100 mb-4",children:"Confirm Takeoff Time"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-label-gray dark:text-label-gray-dark mb-2",children:"Takeoff Date & Time"}),u.jsx("input",{type:"datetime-local",value:it(r,"yyyy-MM-dd'T'HH:mm"),onChange:o=>a(new Date(o.target.value)),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ke,{onClick:i,size:"full",children:"Confirm Takeoff"}),u.jsx(Ke,{onClick:t,variant:"ghost",size:"full",children:"Cancel"})]})]})})}class Fue{constructor(t){Qn(this,"ws",null);Qn(this,"reconnectTimer",null);Qn(this,"pingTimer",null);Qn(this,"deviceId");Qn(this,"role");Qn(this,"serverUrl","");Qn(this,"isHost",!1);Qn(this,"connectedDevices",new Map);Qn(this,"onPlanUpdate");Qn(this,"onWaypointUpdate");Qn(this,"onFuelRead");Qn(this,"onTakeoff");Qn(this,"onDeviceConnected");Qn(this,"onDeviceDisconnected");Qn(this,"onConnectionStatusChange");this.role=t,this.deviceId=this.generateDeviceId()}async startAsHost(t=8765){this.isHost=!0,this.serverUrl=`ws://localhost:${t}`,this.broadcastPresence(),await this.connect()}async joinSession(t,n=8765){this.isHost=!1,this.serverUrl=`ws://${t}:${n}`,await this.connect()}async discoverHosts(){const t=[],n=this.getLocalNetworkBase();for(let r=1;r<255;r++){const a=`${n}.${r}`;try{const i=await fetch(`http://${a}:8765/info`,{signal:AbortSignal.timeout(100)});if(i.ok){const o=await i.json();t.push({id:o.deviceId,name:o.name,role:o.role,address:a,lastSeen:new Date,isConnected:!1})}}catch{}}return t}async connect(){try{this.ws=new WebSocket(this.serverUrl),this.ws.onopen=()=>{var t;console.log("Sync connection established"),(t=this.onConnectionStatusChange)==null||t.call(this,!0),this.sendMessage({type:"role_announce",role:this.role,data:{deviceName:this.getDeviceName(),platform:this.getPlatform()}}),this.startPingTimer()},this.ws.onmessage=t=>{this.handleMessage(JSON.parse(t.data))},this.ws.onclose=()=>{var t;console.log("Sync connection closed"),(t=this.onConnectionStatusChange)==null||t.call(this,!1),this.stopPingTimer(),this.scheduleReconnect()},this.ws.onerror=t=>{console.error("Sync connection error:",t)}}catch(t){console.error("Failed to connect:",t),this.scheduleReconnect()}}handleMessage(t){var n,r,a,i;if(t.deviceId!==this.deviceId){if(!this.canReceiveMessageType(t.type,t.role)){console.warn(`Ignoring ${t.type} from ${t.role} - not permitted`);return}switch(t.type){case"plan_update":(n=this.onPlanUpdate)==null||n.call(this,t.data);break;case"waypoint_update":(r=this.onWaypointUpdate)==null||r.call(this,t.data.waypoint,t.data.legIndex,t.role);break;case"fuel_read":(a=this.onFuelRead)==null||a.call(this,t.data);break;case"takeoff":(i=this.onTakeoff)==null||i.call(this,new Date(t.data.takeoffTime));break;case"role_announce":this.handleDeviceAnnounce(t);break;case"ping":const o=this.connectedDevices.get(t.deviceId);o&&(o.lastSeen=new Date);break}}}sendMessage(t){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return;const n={id:crypto.randomUUID(),deviceId:this.deviceId,timestamp:new Date,role:this.role,...t};this.ws.send(JSON.stringify(n))}sendPlanUpdate(t){if(this.role!=="engineer"){console.warn("Only Engineer can send plan updates");return}this.sendMessage({type:"plan_update",data:t})}sendWaypointUpdate(t,n){if(this.role!=="engineer"&&this.role!=="navigator"){console.warn("Only Engineer and Navigator can send waypoint updates");return}this.sendMessage({type:"waypoint_update",data:{waypoint:t,legIndex:n}})}sendFuelRead(t){if(this.role!=="engineer"){console.warn("Only Engineer can send fuel reads");return}this.sendMessage({type:"fuel_read",data:t})}sendTakeoff(t){this.sendMessage({type:"takeoff",data:{takeoffTime:t}})}canReceiveMessageType(t,n){var i;return(((i={plan_update:{engineer:["navigator","pilot"],navigator:[],pilot:[]},waypoint_update:{engineer:["navigator","pilot"],navigator:["engineer","pilot"],pilot:[]},fuel_read:{engineer:["navigator","pilot"],navigator:[],pilot:[]},takeoff:{engineer:["navigator","pilot"],navigator:["engineer","pilot"],pilot:["engineer","navigator"]}}[t])==null?void 0:i[n])||[]).includes(this.role)}handleDeviceAnnounce(t){var a;const n={id:t.deviceId,name:t.data.deviceName,role:t.role,address:"",lastSeen:new Date,isConnected:!0},r=this.connectedDevices.has(n.id);this.connectedDevices.set(n.id,n),r||(a=this.onDeviceConnected)==null||a.call(this,n)}generateDeviceId(){return`${this.getPlatform()}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getDeviceName(){return typeof window<"u"&&navigator.userAgent?navigator.userAgent.split(" ")[0]:"Unknown Device"}getPlatform(){if(typeof window<"u"){const t=navigator.userAgent;if(/iPad/.test(t))return"iPad";if(/iPhone/.test(t))return"iPhone";if(/Windows/.test(t))return"Windows";if(/Mac/.test(t))return"Mac";if(/Linux/.test(t))return"Linux"}return"Unknown"}getLocalNetworkBase(){return"192.168.1"}startPingTimer(){this.pingTimer=setInterval(()=>{this.sendMessage({type:"ping",data:{}});const t=Date.now();this.connectedDevices.forEach((n,r)=>{var a;t-n.lastSeen.getTime()>3e4&&(this.connectedDevices.delete(r),(a=this.onDeviceDisconnected)==null||a.call(this,n))})},1e4)}stopPingTimer(){this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null)}scheduleReconnect(){this.reconnectTimer||(this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this.connect()},5e3))}broadcastPresence(){console.log("Broadcasting sync service on port 8765")}disconnect(){this.stopPingTimer(),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws&&(this.ws.close(),this.ws=null),this.connectedDevices.clear()}}let Qs=null;function Do(e){return(!Qs||Qs.role!==e)&&(Qs=new Fue(e)),Qs}function ak(){Qs&&(Qs.disconnect(),Qs=null)}function _ue(e,t,n){const r=He.getState().actualPlan;if(!r)return null;const a=r.legs[t];if(!a||!a.waypoints)return null;const i=a.waypoints.find(h=>h.id===e.id);if(!i)return null;let o=i;if(e.actualTime&&e.timeUpdatedFrom){const h=T2(i,{actualTime:e.actualTime,isActual:e.isActual},e.timeUpdatedFrom);o={...o,...h}}if((e.fob!==void 0||e.actualFob!==void 0)&&e.fobUpdatedFrom){const h=T2(o,{fob:e.fob,actualFob:e.actualFob,fuelOnBoard:e.fuelOnBoard},e.fobUpdatedFrom);o={...o,...h}}Object.keys(e).filter(h=>!["actualTime","isActual","fob","actualFob","fuelOnBoard","timeUpdatedFrom","fobUpdatedFrom","lastTimeUpdate","lastFobUpdate"].includes(h)).forEach(h=>{o[h]=e[h]});const l={...r,legs:r.legs.map((h,d)=>d===t?{...h,waypoints:h.waypoints.map(p=>p.id===e.id?o:p)}:h)},c=Eue(i,o,n);return c&&He.getState().addActionLogEntry("SYNC",c),l}function Eue(e,t,n){var a,i;const r=[];return((a=t.actualTime)==null?void 0:a.getTime())!==((i=e.actualTime)==null?void 0:i.getTime())?t.timeUpdatedFrom&&r.push(`Time updated from ${t.timeUpdatedFrom}`):e.timeUpdatedFrom==="waypoints-tab"&&t.timeUpdatedFrom==="fuel-tab"&&r.push("Time update from fuel-tab blocked (waypoints-tab has priority)"),t.fob!==e.fob||t.actualFob!==e.actualFob?t.fobUpdatedFrom&&r.push(`FOB updated from ${t.fobUpdatedFrom}`):e.fobUpdatedFrom==="fuel-tab"&&t.fobUpdatedFrom==="waypoints-tab"&&r.push("FOB update from waypoints-tab blocked (fuel-tab has priority)"),r.length>0?`${t.name}: ${r.join(", ")} (by ${n.toUpperCase()})`:null}function t5(e={}){const[t,n]=se.useState(!1),[r,a]=se.useState([]),i=He(x=>x.currentRole),o=He(x=>x.updateActualPlan),s=He(x=>x.setCurrentLegIndex),l=He(x=>x.setCurrentLeg),c=He(x=>x.addActionLogEntry);se.useEffect(()=>{if(!i)return;const x=Do(i);return x.onConnectionStatusChange=v=>{n(v)},x.onDeviceConnected=v=>{a(j=>[...j,v]),c("SYNC",`${v.role} connected: ${v.name}`)},x.onDeviceDisconnected=v=>{a(j=>j.filter(N=>N.id!==v.id)),c("SYNC",`${v.role} disconnected: ${v.name}`)},x.onPlanUpdate=v=>{o(v),c("SYNC","Received plan update from Engineer")},x.onWaypointUpdate=(v,j,N)=>{const A=_ue(v,j,N);A&&o(A)},x.onFuelRead=v=>{const j=He.getState().actualPlan;if(!j)return;const N={...j,legs:j.legs.map(A=>A.waypoints.some(k=>k.id===v.waypointId)?{...A,fuelReads:[...A.fuelReads||[],v]}:A)};o(N),c("SYNC",`Fuel reading received: ${v.eicasFOB.toFixed(1)} klb`)},x.onTakeoff=v=>{const j=He.getState().actualPlan;if(!j)return;const N={...j,configuration:{...j.configuration,startTime:v}};o(N),He.getState().currentLegIndex===0&&j.legs.length>1&&(s(1),l(j.legs[1].id)),c("SYNC",`Takeoff synchronized at ${v.toLocaleTimeString()}`)},e.autoConnect&&e.hostAddress&&x.joinSession(e.hostAddress,e.port||8765),()=>{ak()}},[i]);const h=se.useCallback(async()=>{if(!i)return;await Do(i).startAsHost(e.port||8765)},[i,e.port]),d=se.useCallback(async x=>{if(!i)return;await Do(i).joinSession(x,e.port||8765)},[i,e.port]),p=se.useCallback(async()=>i?await Do(i).discoverHosts():[],[i]),f=se.useCallback(()=>{ak(),n(!1),a([])},[]),m=se.useCallback(x=>{if(!i)return;Do(i).sendPlanUpdate(x)},[i]),g=se.useCallback((x,v)=>{if(!i)return;Do(i).sendWaypointUpdate(x,v)},[i]),w=se.useCallback(x=>{if(!i)return;Do(i).sendFuelRead(x)},[i]),b=se.useCallback(x=>{if(!i)return;Do(i).sendTakeoff(x)},[i]);return{isConnected:t,connectedDevices:r,startAsHost:h,joinSession:d,discoverHosts:p,disconnect:f,sendPlanUpdate:m,sendWaypointUpdate:g,sendFuelRead:w,sendTakeoff:b}}function nF({isOpen:e,onClose:t}){const[n,r]=se.useState("choose"),[a,i]=se.useState(""),[o,s]=se.useState([]),[l,c]=se.useState(!1),{isConnected:h,connectedDevices:d,startAsHost:p,joinSession:f,discoverHosts:m,disconnect:g}=t5();se.useEffect(()=>{h&&r("choose")},[h]);const w=async()=>{try{await p(),r("host")}catch{alert("Failed to start sync host. Make sure port 8765 is available.")}},b=async v=>{try{await f(v)}catch{alert("Failed to join sync session. Check the host address.")}},x=async()=>{c(!0);try{const v=await m();s(v)}catch(v){console.error("Discovery failed:",v)}finally{c(!1)}};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-black-1 dark:text-gray-100",children:"Sync Manager"}),u.jsx("button",{onClick:t,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-green-700 dark:text-green-300 font-medium",children:"Connected"})]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2 dark:text-gray-100",children:"Connected Devices"}),d.length===0?u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No other devices connected yet"}):u.jsx("div",{className:"space-y-2",children:d.map(v=>u.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium dark:text-gray-100",children:v.name}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[v.role.charAt(0).toUpperCase()+v.role.slice(1),"  ",v.address]})]}),u.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:it(v.lastSeen,"HH:mm:ss")})]})},v.id))})]}),u.jsx(Ke,{onClick:g,variant:"danger",size:"full",children:"Disconnect"})]}):u.jsxs(u.Fragment,{children:[n==="choose"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose how to sync with other devices on your network:"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:()=>r("host"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-lg hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-colors text-left",children:[u.jsx("h3",{className:"font-semibold mb-1 dark:text-gray-100",children:"Host a Session"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Start a sync server on this device (recommended for Engineer role)"})]}),u.jsxs("button",{onClick:()=>r("join"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-lg hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-colors text-left",children:[u.jsx("h3",{className:"font-semibold mb-1 dark:text-gray-100",children:"Join a Session"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Connect to an existing sync server"})]})]})]}),n==="host"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold mb-2 dark:text-gray-100",children:"Hosting Sync Session"}),u.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Other devices can connect using:"}),u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-2 font-mono text-sm dark:text-gray-100",children:[window.location.hostname,":8765"]})]}),u.jsx("p",{className:"text-sm text-gray-600",children:"Make sure all devices are on the same network. The sync server is running on port 8765."}),u.jsx(Ke,{onClick:w,size:"full",children:"Start Hosting"}),u.jsx("button",{onClick:()=>r("choose"),className:"w-full text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 text-sm",children:"Back"})]}),n==="join"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Host Address"}),u.jsx("input",{type:"text",value:a,onChange:v=>i(v.target.value),placeholder:"192.168.1.100",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Enter the IP address of the host device (without port)"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{onClick:()=>b(a),disabled:!a,size:"full",children:"Connect"}),u.jsx(Ke,{onClick:x,variant:"secondary",disabled:l,children:l?"Scanning...":"Scan"})]}),o.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2 dark:text-gray-100",children:"Discovered Hosts"}),u.jsx("div",{className:"space-y-2",children:o.map(v=>u.jsxs("button",{onClick:()=>i(v.address),className:"w-full p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 text-left",children:[u.jsx("p",{className:"font-medium dark:text-gray-100",children:v.name}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.address})]},v.id))})]}),u.jsx("button",{onClick:()=>r("choose"),className:"w-full text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 text-sm",children:"Back"})]})]})]})}):null}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),rF=(e,t)=>{const n=se.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,...c},h)=>se.createElement("svg",{ref:h,...Lue,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${Mue(e)}`,s].join(" "),...c},[...t.map(([d,p])=>se.createElement(d,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=rF("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=rF("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$ue=({isOpen:e,onClose:t})=>{var I,M;const[n,r]=se.useState(""),[a,i]=se.useState(""),[o,s]=se.useState(""),[l,c]=se.useState(""),[h,d]=se.useState(""),[p,f]=se.useState(null),[m,g]=se.useState(null),[w,b]=se.useState(null),x=He(W=>W.updateActualPlan),v=He(W=>W.actualPlan),j=He(W=>W.currentLegIndex),N=He(W=>W.addActionLogEntry),A=((M=(I=v==null?void 0:v.legs)==null?void 0:I[j])==null?void 0:M.distance)||0;se.useEffect(()=>{f(null),g(null),b(null)},[n,a,o,l,h]);const k=W=>{const L=W.split(":");if(L.length!==2)return null;const R=parseInt(L[0]),B=parseInt(L[1]);return isNaN(R)||isNaN(B)||B<0||B>=60?null:R+B/60},T=()=>{const W=parseFloat(n),L=parseFloat(l),R=parseFloat(a);if(isNaN(W)||isNaN(L)||L<=0){alert("Please enter valid current FOB and average fuel flow values");return}if(isNaN(R)||R<=0||R>A){alert(`Please enter a valid distance to destination (max: ${A.toFixed(0)} nm)`);return}let B;if(o){const _=k(o);if(!_||_<=0){alert("Please enter a valid time in HH:MM format");return}B=_}else if(h){const _=parseFloat(h);if(isNaN(_)||_<=0){alert("Please enter a valid ground speed value");return}B=R/_,b(B)}else{alert("Please enter either time to destination or ground speed");return}const z=B*L;f(z);const Y=W-z;g(Y);const ie=`970 2/3 Calculation | Current FOB: ${W.toFixed(1)} klb | Distance to Dest: ${R.toFixed(0)} nm | Fuel Flow: ${L.toFixed(1)} klb/hr | Time: ${P(B)} | Fuel Consumption: ${z.toFixed(1)} klb | FOB on Arrival: ${Y.toFixed(1)} klb${Y<0?"  INSUFFICIENT FUEL":""}`;N("FUEL CALC",ie)},E=()=>{r(""),i(""),s(""),c(""),d(""),f(null),g(null),b(null)},U=()=>{if(!v||m===null)return;const W=parseFloat(a),L=A-W,R=A,B={...v,line970:{startDistance:L,startFOB:parseFloat(n),endDistance:R,endFOB:m}};x(B);const z=v!=null&&v.line970?"updated":"added";N("HGI GRAPH",`970 2/3 line ${z} | From ${L.toFixed(0)} nm (${parseFloat(n).toFixed(1)} klb) to ${R.toFixed(0)} nm (${m.toFixed(1)} klb)`),alert(`970 2/3 line ${z} in HGI graph`),t()},C=()=>{if(!v)return;const{line970:W,...L}=v;x(L),N("HGI GRAPH","970 2/3 line cleared"),alert("970 2/3 line removed from HGI graph"),t()};if(!e)return null;const P=W=>{const L=Math.floor(W),R=Math.round((W-L)*60);return`${L}h ${R}m`};return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),u.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b sticky top-0 bg-white z-10",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"970 2/3 Fuel Calculator"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(Iue,{size:20})})]}),u.jsx("div",{className:"overflow-y-auto flex-1 p-6 pt-4",children:u.jsxs("div",{className:"space-y-4",children:[A>0&&u.jsx("div",{className:"bg-blue-50 p-3 rounded-lg text-sm",children:u.jsxs("p",{className:"text-gray-700",children:["Total leg distance: ",u.jsxs("span",{className:"font-semibold",children:[A.toFixed(0)," nm"]})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current FOB (klb)"}),u.jsx("input",{type:"number",value:n,onChange:W=>r(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 25.5",step:"0.1"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Distance to Destination (nm) ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:a,onChange:W=>i(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Required (max: ${A.toFixed(0)} nm)`,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time to Destination (HH:MM)"}),u.jsx("input",{type:"text",value:o,onChange:W=>{const L=W.target.value;/^[0-9:]*$/.test(L)&&s(L)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 03:30",pattern:"[0-9]{1,2}:[0-9]{2}"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Average Fuel Flow (klb/hr)"}),u.jsx("input",{type:"number",value:l,onChange:W=>c(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 6.5",step:"0.1"})]}),!o&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Average Ground Speed (kts)"}),u.jsx("input",{type:"number",value:h,onChange:W=>d(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 450"})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx(Ke,{onClick:T,variant:"primary",fullWidth:!0,children:"Calculate"}),u.jsx(Ke,{onClick:E,variant:"secondary",fullWidth:!0,children:"Reset"}),(v==null?void 0:v.line970)&&u.jsx(Ke,{onClick:C,variant:"danger",fullWidth:!0,children:"Clear from HGI"})]}),(p!==null||m!==null||w!==null)&&u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg space-y-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Results:"}),a&&u.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[u.jsx("span",{children:"Current Position:"}),u.jsxs("span",{className:"font-mono",children:[(A-parseFloat(a)).toFixed(0)," nm"]})]}),p!==null&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-700",children:"Fuel Consumption:"}),u.jsxs("span",{className:"font-mono font-semibold",children:[p.toFixed(1)," klb"]})]}),m!==null&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-700",children:"FOB on Arrival:"}),u.jsxs("span",{className:`font-mono font-semibold ${m<0?"text-red-600":""}`,children:[m.toFixed(1)," klb"]})]}),w!==null&&!o&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-700",children:"Calculated Time:"}),u.jsx("span",{className:"font-mono font-semibold",children:P(w)})]}),m!==null&&m<0&&u.jsx("div",{className:"mt-2 p-2 bg-red-100 rounded text-red-700 text-sm",children:" Warning: Insufficient fuel to reach destination!"}),m!==null&&a&&u.jsx("div",{className:"mt-4",children:u.jsx(Ke,{onClick:U,variant:"secondary",fullWidth:!0,children:v!=null&&v.line970?"Update in HGI Graph":"Add to HGI Graph"})})]})]})})]})]})},Rue="modulepreload",Bue=function(e,t){return new URL(e,t).href},ik={},E2=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=Bue(c,r),c in ik)return;ik[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(!!r)for(let m=o.length-1;m>=0;m--){const g=o[m];if(g.href===c&&(!h||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Rue,h||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};function It(e){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}var xr=Uint8Array,aa=Uint16Array,n5=Int32Array,Q0=new xr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Z0=new xr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L2=new xr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aF=function(e,t){for(var n=new aa(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var a=new n5(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return{b:n,r:a}},iF=aF(Q0,2),oF=iF.b,M2=iF.r;oF[28]=258,M2[258]=28;var sF=aF(Z0,0),Wue=sF.b,ok=sF.r,D2=new aa(32768);for(var en=0;en<32768;++en){var Io=(en&43690)>>1|(en&21845)<<1;Io=(Io&52428)>>2|(Io&13107)<<2,Io=(Io&61680)>>4|(Io&3855)<<4,D2[en]=((Io&65280)>>8|(Io&255)<<8)>>1}var _i=function(e,t,n){for(var r=e.length,a=0,i=new aa(t);a<r;++a)e[a]&&++i[e[a]-1];var o=new aa(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var s;if(n){s=new aa(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var c=a<<4|e[a],h=t-e[a],d=o[e[a]-1]++<<h,p=d|(1<<h)-1;d<=p;++d)s[D2[d]>>l]=c}else for(s=new aa(r),a=0;a<r;++a)e[a]&&(s[a]=D2[o[e[a]-1]++]>>15-e[a]);return s},ds=new xr(288);for(var en=0;en<144;++en)ds[en]=8;for(var en=144;en<256;++en)ds[en]=9;for(var en=256;en<280;++en)ds[en]=7;for(var en=280;en<288;++en)ds[en]=8;var lh=new xr(32);for(var en=0;en<32;++en)lh[en]=5;var Uue=_i(ds,9,0),zue=_i(ds,9,1),Hue=_i(lh,5,0),que=_i(lh,5,1),Xv=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ga=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Jv=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},r5=function(e){return(e+7)/8|0},lF=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new xr(e.subarray(t,n))},Gue=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Xa=function(e,t,n){var r=new Error(t||Gue[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Xa),!n)throw r;return r},Vue=function(e,t,n,r){var a=e.length,i=0;if(!a||t.f&&!t.l)return n||new xr(0);var o=!n,s=o||t.i!=2,l=t.i;o&&(n=new xr(a*3));var c=function(ae){var le=n.length;if(ae>le){var xe=new xr(Math.max(le*2,ae));xe.set(n),n=xe}},h=t.f||0,d=t.p||0,p=t.b||0,f=t.l,m=t.d,g=t.m,w=t.n,b=a*8;do{if(!f){h=Ga(e,d,1);var x=Ga(e,d+1,3);if(d+=3,x)if(x==1)f=zue,m=que,g=9,w=5;else if(x==2){var A=Ga(e,d,31)+257,k=Ga(e,d+10,15)+4,T=A+Ga(e,d+5,31)+1;d+=14;for(var E=new xr(T),U=new xr(19),C=0;C<k;++C)U[L2[C]]=Ga(e,d+C*3,7);d+=k*3;for(var P=Xv(U),I=(1<<P)-1,M=_i(U,P,1),C=0;C<T;){var W=M[Ga(e,d,I)];d+=W&15;var v=W>>4;if(v<16)E[C++]=v;else{var L=0,R=0;for(v==16?(R=3+Ga(e,d,3),d+=2,L=E[C-1]):v==17?(R=3+Ga(e,d,7),d+=3):v==18&&(R=11+Ga(e,d,127),d+=7);R--;)E[C++]=L}}var B=E.subarray(0,A),z=E.subarray(A);g=Xv(B),w=Xv(z),f=_i(B,g,1),m=_i(z,w,1)}else Xa(1);else{var v=r5(d)+4,j=e[v-4]|e[v-3]<<8,N=v+j;if(N>a){l&&Xa(0);break}s&&c(p+j),n.set(e.subarray(v,N),p),t.b=p+=j,t.p=d=N*8,t.f=h;continue}if(d>b){l&&Xa(0);break}}s&&c(p+131072);for(var Y=(1<<g)-1,ie=(1<<w)-1,_=d;;_=d){var L=f[Jv(e,d)&Y],D=L>>4;if(d+=L&15,d>b){l&&Xa(0);break}if(L||Xa(2),D<256)n[p++]=D;else if(D==256){_=d,f=null;break}else{var q=D-254;if(D>264){var C=D-257,te=Q0[C];q=Ga(e,d,(1<<te)-1)+oF[C],d+=te}var H=m[Jv(e,d)&ie],Z=H>>4;H||Xa(3),d+=H&15;var z=Wue[Z];if(Z>3){var te=Z0[Z];z+=Jv(e,d)&(1<<te)-1,d+=te}if(d>b){l&&Xa(0);break}s&&c(p+131072);var X=p+q;if(p<z){var G=i-z,ce=Math.min(z,X);for(G+p<0&&Xa(3);p<ce;++p)n[p]=r[G+p]}for(;p<X;++p)n[p]=n[p-z]}}t.l=f,t.p=_,t.b=p,t.f=h,f&&(h=1,t.m=g,t.d=m,t.n=w)}while(!h);return p!=n.length&&o?lF(n,0,p):n.subarray(0,p)},Ki=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},_d=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Qv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,i=n.slice();if(!a)return{t:cF,l:0};if(a==1){var o=new xr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(N,A){return N.f-A.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,h=1,d=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};h!=a-1;)s=n[n[c].f<n[d].f?c++:d++],l=n[c!=h&&n[c].f<n[d].f?c++:d++],n[h++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=i[0].s,r=1;r<a;++r)i[r].s>p&&(p=i[r].s);var f=new aa(p+1),m=I2(n[h-1],f,0);if(m>t){var r=0,g=0,w=m-t,b=1<<w;for(i.sort(function(A,k){return f[k.s]-f[A.s]||A.f-k.f});r<a;++r){var x=i[r].s;if(f[x]>t)g+=b-(1<<m-f[x]),f[x]=t;else break}for(g>>=w;g>0;){var v=i[r].s;f[v]<t?g-=1<<t-f[v]++-1:++r}for(;r>=0&&g;--r){var j=i[r].s;f[j]==t&&(--f[j],++g)}m=t}return{t:new xr(f),l:m}},I2=function(e,t,n){return e.s==-1?Math.max(I2(e.l,t,n+1),I2(e.r,t,n+1)):t[e.s]=n},sk=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new aa(++t),r=0,a=e[0],i=1,o=function(l){n[r++]=l},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return{c:n.subarray(0,r),n:t}},Ed=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},uF=function(e,t,n){var r=n.length,a=r5(t+2);e[a]=r&255,e[a+1]=r>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<r;++i)e[a+i+4]=n[i];return(a+4+r)*8},lk=function(e,t,n,r,a,i,o,s,l,c,h){Ki(t,h++,n),++a[256];for(var d=Qv(a,15),p=d.t,f=d.l,m=Qv(i,15),g=m.t,w=m.l,b=sk(p),x=b.c,v=b.n,j=sk(g),N=j.c,A=j.n,k=new aa(19),T=0;T<x.length;++T)++k[x[T]&31];for(var T=0;T<N.length;++T)++k[N[T]&31];for(var E=Qv(k,7),U=E.t,C=E.l,P=19;P>4&&!U[L2[P-1]];--P);var I=c+5<<3,M=Ed(a,ds)+Ed(i,lh)+o,W=Ed(a,p)+Ed(i,g)+o+14+3*P+Ed(k,U)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&I<=M&&I<=W)return uF(t,h,e.subarray(l,l+c));var L,R,B,z;if(Ki(t,h,1+(W<M)),h+=2,W<M){L=_i(p,f,0),R=p,B=_i(g,w,0),z=g;var Y=_i(U,C,0);Ki(t,h,v-257),Ki(t,h+5,A-1),Ki(t,h+10,P-4),h+=14;for(var T=0;T<P;++T)Ki(t,h+3*T,U[L2[T]]);h+=3*P;for(var ie=[x,N],_=0;_<2;++_)for(var D=ie[_],T=0;T<D.length;++T){var q=D[T]&31;Ki(t,h,Y[q]),h+=U[q],q>15&&(Ki(t,h,D[T]>>5&127),h+=D[T]>>12)}}else L=Uue,R=ds,B=Hue,z=lh;for(var T=0;T<s;++T){var te=r[T];if(te>255){var q=te>>18&31;_d(t,h,L[q+257]),h+=R[q+257],q>7&&(Ki(t,h,te>>23&31),h+=Q0[q]);var H=te&31;_d(t,h,B[H]),h+=z[H],H>3&&(_d(t,h,te>>5&8191),h+=Z0[H])}else _d(t,h,L[te]),h+=R[te]}return _d(t,h,L[256]),h+R[256]},Kue=new n5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cF=new xr(0),Yue=function(e,t,n,r,a,i){var o=i.z||e.length,s=new xr(r+o+5*(1+Math.ceil(o/7e3))+a),l=s.subarray(r,s.length-a),c=i.l,h=(i.r||0)&7;if(t){h&&(l[0]=i.r>>3);for(var d=Kue[t-1],p=d>>13,f=d&8191,m=(1<<n)-1,g=i.p||new aa(32768),w=i.h||new aa(m+1),b=Math.ceil(n/3),x=2*b,v=function(be){return(e[be]^e[be+1]<<b^e[be+2]<<x)&m},j=new n5(25e3),N=new aa(288),A=new aa(32),k=0,T=0,E=i.i||0,U=0,C=i.w||0,P=0;E+2<o;++E){var I=v(E),M=E&32767,W=w[I];if(g[M]=W,w[I]=M,C<=E){var L=o-E;if((k>7e3||U>24576)&&(L>423||!c)){h=lk(e,l,0,j,N,A,T,U,P,E-P,h),U=k=T=0,P=E;for(var R=0;R<286;++R)N[R]=0;for(var R=0;R<30;++R)A[R]=0}var B=2,z=0,Y=f,ie=M-W&32767;if(L>2&&I==v(E-ie))for(var _=Math.min(p,L)-1,D=Math.min(32767,E),q=Math.min(258,L);ie<=D&&--Y&&M!=W;){if(e[E+B]==e[E+B-ie]){for(var te=0;te<q&&e[E+te]==e[E+te-ie];++te);if(te>B){if(B=te,z=ie,te>_)break;for(var H=Math.min(ie,te-2),Z=0,R=0;R<H;++R){var X=E-ie+R&32767,G=g[X],ce=X-G&32767;ce>Z&&(Z=ce,W=X)}}}M=W,W=g[M],ie+=M-W&32767}if(z){j[U++]=268435456|M2[B]<<18|ok[z];var ae=M2[B]&31,le=ok[z]&31;T+=Q0[ae]+Z0[le],++N[257+ae],++A[le],C=E+B,++k}else j[U++]=e[E],++N[e[E]]}}for(E=Math.max(E,C);E<o;++E)j[U++]=e[E],++N[e[E]];h=lk(e,l,c,j,N,A,T,U,P,E-P,h),c||(i.r=h&7|l[h/8|0]<<3,h-=7,i.h=w,i.p=g,i.i=E,i.w=C)}else{for(var E=i.w||0;E<o+c;E+=65535){var xe=E+65535;xe>=o&&(l[h/8|0]=c,xe=o),h=uF(l,h+1,e.subarray(E,xe))}i.i=o}return lF(s,0,r+r5(h)+a)},dF=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,i=n.length|0,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=r+=n[o];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}e=r,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Xue=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new xr(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return Yue(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,a)},fF=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Jue=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=dF();a.p(t.dictionary),fF(e,2,a.d())}},Que=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Xa(6,"invalid zlib data"),(e[1]>>5&1)==1&&Xa(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function $2(e,t){t||(t={});var n=dF();n.p(e);var r=Xue(e,t,t.dictionary?6:2,4);return Jue(r,t),fF(r,r.length-4,n.d()),r}function Zue(e,t){return Vue(e.subarray(Que(e),-4),{i:2},t,t)}var ece=typeof TextDecoder<"u"&&new TextDecoder,tce=0;try{ece.decode(cF,{stream:!0}),tce=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Zv(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Ht={log:Zv,warn:function(e){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):Zv.call(null,arguments))},error:function(e){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):Zv(e))}};function e1(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){zs(r.response,t,n)},r.onerror=function(){Ht.error("could not download file")},r.send()}function uk(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Vp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ef,R2,zs=lt.saveAs||((typeof window>"u"?"undefined":It(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=lt.URL||lt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?uk(a.href)?e1(e,t,n):Vp(a,a.target="_blank"):Vp(a)):(a.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Vp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(uk(e))e1(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Vp(r)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:It(i)!=="object"&&(Ht.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return e1(e,t,n);var a=e.type==="application/octet-stream",i=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":It(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var h=s.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},s.readAsDataURL(e)}else{var l=lt.URL||lt.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hF(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,i=n[r].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+s+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function t1(e,t){var n=e[0],r=e[1],a=e[2],i=e[3];n=ur(n,r,a,i,t[0],7,-680876936),i=ur(i,n,r,a,t[1],12,-389564586),a=ur(a,i,n,r,t[2],17,606105819),r=ur(r,a,i,n,t[3],22,-1044525330),n=ur(n,r,a,i,t[4],7,-176418897),i=ur(i,n,r,a,t[5],12,1200080426),a=ur(a,i,n,r,t[6],17,-1473231341),r=ur(r,a,i,n,t[7],22,-45705983),n=ur(n,r,a,i,t[8],7,1770035416),i=ur(i,n,r,a,t[9],12,-1958414417),a=ur(a,i,n,r,t[10],17,-42063),r=ur(r,a,i,n,t[11],22,-1990404162),n=ur(n,r,a,i,t[12],7,1804603682),i=ur(i,n,r,a,t[13],12,-40341101),a=ur(a,i,n,r,t[14],17,-1502002290),n=cr(n,r=ur(r,a,i,n,t[15],22,1236535329),a,i,t[1],5,-165796510),i=cr(i,n,r,a,t[6],9,-1069501632),a=cr(a,i,n,r,t[11],14,643717713),r=cr(r,a,i,n,t[0],20,-373897302),n=cr(n,r,a,i,t[5],5,-701558691),i=cr(i,n,r,a,t[10],9,38016083),a=cr(a,i,n,r,t[15],14,-660478335),r=cr(r,a,i,n,t[4],20,-405537848),n=cr(n,r,a,i,t[9],5,568446438),i=cr(i,n,r,a,t[14],9,-1019803690),a=cr(a,i,n,r,t[3],14,-187363961),r=cr(r,a,i,n,t[8],20,1163531501),n=cr(n,r,a,i,t[13],5,-1444681467),i=cr(i,n,r,a,t[2],9,-51403784),a=cr(a,i,n,r,t[7],14,1735328473),n=dr(n,r=cr(r,a,i,n,t[12],20,-1926607734),a,i,t[5],4,-378558),i=dr(i,n,r,a,t[8],11,-2022574463),a=dr(a,i,n,r,t[11],16,1839030562),r=dr(r,a,i,n,t[14],23,-35309556),n=dr(n,r,a,i,t[1],4,-1530992060),i=dr(i,n,r,a,t[4],11,1272893353),a=dr(a,i,n,r,t[7],16,-155497632),r=dr(r,a,i,n,t[10],23,-1094730640),n=dr(n,r,a,i,t[13],4,681279174),i=dr(i,n,r,a,t[0],11,-358537222),a=dr(a,i,n,r,t[3],16,-722521979),r=dr(r,a,i,n,t[6],23,76029189),n=dr(n,r,a,i,t[9],4,-640364487),i=dr(i,n,r,a,t[12],11,-421815835),a=dr(a,i,n,r,t[15],16,530742520),n=fr(n,r=dr(r,a,i,n,t[2],23,-995338651),a,i,t[0],6,-198630844),i=fr(i,n,r,a,t[7],10,1126891415),a=fr(a,i,n,r,t[14],15,-1416354905),r=fr(r,a,i,n,t[5],21,-57434055),n=fr(n,r,a,i,t[12],6,1700485571),i=fr(i,n,r,a,t[3],10,-1894986606),a=fr(a,i,n,r,t[10],15,-1051523),r=fr(r,a,i,n,t[1],21,-2054922799),n=fr(n,r,a,i,t[8],6,1873313359),i=fr(i,n,r,a,t[15],10,-30611744),a=fr(a,i,n,r,t[6],15,-1560198380),r=fr(r,a,i,n,t[13],21,1309151649),n=fr(n,r,a,i,t[4],6,-145523070),i=fr(i,n,r,a,t[11],10,-1120210379),a=fr(a,i,n,r,t[2],15,718787259),r=fr(r,a,i,n,t[9],21,-343485551),e[0]=Xo(n,e[0]),e[1]=Xo(r,e[1]),e[2]=Xo(a,e[2]),e[3]=Xo(i,e[3])}function ey(e,t,n,r,a,i){return t=Xo(Xo(t,e),Xo(r,i)),Xo(t<<a|t>>>32-a,n)}function ur(e,t,n,r,a,i,o){return ey(t&n|~t&r,e,t,a,i,o)}function cr(e,t,n,r,a,i,o){return ey(t&r|n&~r,e,t,a,i,o)}function dr(e,t,n,r,a,i,o){return ey(t^n^r,e,t,a,i,o)}function fr(e,t,n,r,a,i,o){return ey(n^(t|~r),e,t,a,i,o)}function pF(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)t1(r,nce(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(t1(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,t1(r,a),r}function nce(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}ef=lt.atob.bind(lt),R2=lt.btoa.bind(lt);var ck="0123456789abcdef".split("");function rce(e){for(var t="",n=0;n<4;n++)t+=ck[e>>8*n+4&15]+ck[e>>8*n&15];return t}function ace(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function B2(e){return pF(e).map(ace).join("")}var ice=function(e){for(var t=0;t<e.length;t++)e[t]=rce(e[t]);return e.join("")}(pF("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xo(e,t){if(ice){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function W2(e,t){var n,r,a,i;if(e!==n){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var h=s[l];c=(c+h+o.charCodeAt(l))%256,s[l]=s[c],s[c]=h}n=e,r=s}else s=r;var d=t.length,p=0,f=0,m="";for(l=0;l<d;l++)f=(f+(h=s[p=(p+1)%256]))%256,s[p]=s[f],s[f]=h,o=s[(s[p]+s[f])%256],m+=String.fromCharCode(t.charCodeAt(l)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dk={print:4,modify:8,copy:16,"annot-forms":32};function pu(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach(function(s){if(dk.perm!==void 0)throw new Error("Invalid permission: "+s);a+=dk[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=B2(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=W2(this.encryptionKey,this.padding)}function mu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[r]}return t}function fk(e){if(It(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,a){if(a=a||!1,typeof n!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[r,!!a],i},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,r)}catch(s){lt.console&&Ht.error("jsPDF PubSub Error",s.message,s)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function uh(e){if(!(this instanceof uh))return new uh(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function mF(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function qo(e,t,n,r,a){if(!(this instanceof qo))return new qo(e,t,n,r,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,mF.call(this,r,a)}function Zs(e,t,n,r,a){if(!(this instanceof Zs))return new Zs(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,mF.call(this,r,a)}function at(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],o=[],s=1,l=16,c="S",h=null;It(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,a=e.format||a,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=fk;var m="1.3",g=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(O){m=O};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return w};var b=f.__private__.getPageFormat=function(O){return w[O]};a=a||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},v=x.COMPAT;function j(){this.saveGraphicsState(),re(new ot(Ne,0,0,-Ne,0,wo()*Ne).toString()+" cm"),this.setFontSize(this.getFontSize()/Ne),c="n",v=x.ADVANCED}function N(){this.restoreGraphicsState(),c="S",v=x.COMPAT}var A=f.__private__.combineFontStyleAndFontWeight=function(O,K){if(O=="bold"&&K=="normal"||O=="bold"&&K==400||O=="normal"&&K=="italic"||O=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(O=K==400||K==="normal"?O==="italic"?"italic":"normal":K!=700&&K!=="bold"||O!=="normal"?(K==700?"bold":K)+""+O:"bold"),O};f.advancedAPI=function(O){var K=v===x.COMPAT;return K&&j.call(this),typeof O!="function"||(O(this),K&&N.call(this)),this},f.compatAPI=function(O){var K=v===x.ADVANCED;return K&&N.call(this),typeof O!="function"||(O(this),K&&j.call(this)),this},f.isAdvancedAPI=function(){return v===x.ADVANCED};var k,T=function(O){if(v!==x.ADVANCED)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=f.roundToPrecision=f.__private__.roundToPrecision=function(O,K){var ue=t||K;if(isNaN(O)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(ue).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf=typeof l=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return E(O,l)}:l==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return E(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return E(O,16)};var U=f.f2=f.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return E(O,2)},C=f.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return E(O,3)},P=f.scale=f.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return v===x.COMPAT?O*Ne:v===x.ADVANCED?O:void 0},I=function(O){return v===x.COMPAT?wo()-O:v===x.ADVANCED?O:void 0},M=function(O){return P(I(O))};f.__private__.setPrecision=f.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(t=parseInt(O,10))};var W,L="00000000000000000000000000000000",R=f.__private__.getFileId=function(){return L},B=f.__private__.setFileId=function(O){return L=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():L.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ir=new pu(h.userPermissions,h.userPassword,h.ownerPassword,L)),L};f.setFileId=function(O){return B(O),this},f.getFileId=function(){return R()};var z=f.__private__.convertDateToPDFDate=function(O){var K=O.getTimezoneOffset(),ue=K<0?"+":"-",fe=Math.floor(Math.abs(K/60)),ve=Math.abs(K%60),Ae=[ue,q(fe),"'",q(ve),"'"].join("");return["D:",O.getFullYear(),q(O.getMonth()+1),q(O.getDate()),q(O.getHours()),q(O.getMinutes()),q(O.getSeconds()),Ae].join("")},Y=f.__private__.convertPDFDateToDate=function(O){var K=parseInt(O.substr(2,4),10),ue=parseInt(O.substr(6,2),10)-1,fe=parseInt(O.substr(8,2),10),ve=parseInt(O.substr(10,2),10),Ae=parseInt(O.substr(12,2),10),Be=parseInt(O.substr(14,2),10);return new Date(K,ue,fe,ve,Ae,Be,0)},ie=f.__private__.setCreationDate=function(O){var K;if(O===void 0&&(O=new Date),O instanceof Date)K=z(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=O}return W=K},_=f.__private__.getCreationDate=function(O){var K=W;return O==="jsDate"&&(K=Y(W)),K};f.setCreationDate=function(O){return ie(O),this},f.getCreationDate=function(O){return _(O)};var D,q=f.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},te=f.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},H=0,Z=[],X=[],G=0,ce=[],ae=[],le=!1,xe=X,be=function(){H=0,G=0,X=[],Z=[],ce=[],Ii=kn(),Da=kn()};f.__private__.setCustomOutputDestination=function(O){le=!0,xe=O};var de=function(O){le||(xe=O)};f.__private__.resetCustomOutputDestination=function(){le=!1,xe=X};var re=f.__private__.out=function(O){return O=O.toString(),G+=O.length+1,xe.push(O),xe},Pe=f.__private__.write=function(O){return re(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},Te=f.__private__.getArrayBuffer=function(O){for(var K=O.length,ue=new ArrayBuffer(K),fe=new Uint8Array(ue);K--;)fe[K]=O.charCodeAt(K);return ue},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ke};var Oe=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(O){return Oe=v===x.ADVANCED?O/Ne:O,this};var Re,Ie=f.__private__.getFontSize=f.getFontSize=function(){return v===x.COMPAT?Oe:Oe*Ne},Fe=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(O){return Fe=O,this},f.__private__.getR2L=f.getR2L=function(){return Fe};var De,Le=f.__private__.setZoomMode=function(O){var K=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))Re=O;else if(isNaN(O)){if(K.indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');Re=O}else Re=parseInt(O,10)};f.__private__.getZoomMode=function(){return Re};var Ge,Ue=f.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');De=O};f.__private__.getPageMode=function(){return De};var mt=f.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');Ge=O};f.__private__.getLayoutMode=function(){return Ge},f.__private__.setDisplayMode=f.setDisplayMode=function(O,K,ue){return Le(O),mt(K),Ue(ue),this};var tt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(O){if(Object.keys(tt).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tt[O]},f.__private__.getDocumentProperties=function(){return tt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(O){for(var K in tt)tt.hasOwnProperty(K)&&O[K]&&(tt[K]=O[K]);return this},f.__private__.setDocumentProperty=function(O,K){if(Object.keys(tt).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tt[O]=K};var ut,Ne,yt,ct,jn,Ct={},Ot={},ar=[],bt={},ws={},un={},La={},Di=null,cn=0,ft=[],_t=new fk(f),Ss=e.hotfixes||[],Yn={},di={},fi=[],ot=function O(K,ue,fe,ve,Ae,Be){if(!(this instanceof O))return new O(K,ue,fe,ve,Ae,Be);isNaN(K)&&(K=1),isNaN(ue)&&(ue=0),isNaN(fe)&&(fe=0),isNaN(ve)&&(ve=1),isNaN(Ae)&&(Ae=0),isNaN(Be)&&(Be=0),this._matrix=[K,ue,fe,ve,Ae,Be]};Object.defineProperty(ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ot.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(O)},ot.prototype.multiply=function(O){var K=O.sx*this.sx+O.shy*this.shx,ue=O.sx*this.shy+O.shy*this.sy,fe=O.shx*this.sx+O.sy*this.shx,ve=O.shx*this.shy+O.sy*this.sy,Ae=O.tx*this.sx+O.ty*this.shx+this.tx,Be=O.tx*this.shy+O.ty*this.sy+this.ty;return new ot(K,ue,fe,ve,Ae,Be)},ot.prototype.decompose=function(){var O=this.sx,K=this.shy,ue=this.shx,fe=this.sy,ve=this.tx,Ae=this.ty,Be=Math.sqrt(O*O+K*K),Ye=(O/=Be)*ue+(K/=Be)*fe;ue-=O*Ye,fe-=K*Ye;var nt=Math.sqrt(ue*ue+fe*fe);return Ye/=nt,O*(fe/=nt)<K*(ue/=nt)&&(O=-O,K=-K,Ye=-Ye,Be=-Be),{scale:new ot(Be,0,0,nt,0,0),translate:new ot(1,0,0,1,ve,Ae),rotate:new ot(O,K,-K,O,0,0),skew:new ot(1,0,Ye,1,0,0)}},ot.prototype.toString=function(O){return this.join(" ")},ot.prototype.inversed=function(){var O=this.sx,K=this.shy,ue=this.shx,fe=this.sy,ve=this.tx,Ae=this.ty,Be=1/(O*fe-K*ue),Ye=fe*Be,nt=-K*Be,gt=-ue*Be,ht=O*Be;return new ot(Ye,nt,gt,ht,-Ye*ve-gt*Ae,-nt*ve-ht*Ae)},ot.prototype.applyToPoint=function(O){var K=O.x*this.sx+O.y*this.shx+this.tx,ue=O.x*this.shy+O.y*this.sy+this.ty;return new Ul(K,ue)},ot.prototype.applyToRectangle=function(O){var K=this.applyToPoint(O),ue=this.applyToPoint(new Ul(O.x+O.w,O.y+O.h));return new Hc(K.x,K.y,ue.x-K.x,ue.y-K.y)},ot.prototype.clone=function(){var O=this.sx,K=this.shy,ue=this.shx,fe=this.sy,ve=this.tx,Ae=this.ty;return new ot(O,K,ue,fe,ve,Ae)},f.Matrix=ot;var Ma=f.matrixMult=function(O,K){return K.multiply(O)},hi=new ot(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=hi;var Tr=function(O,K){if(!ws[O]){var ue=(K instanceof qo?"Sh":"P")+(Object.keys(bt).length+1).toString(10);K.id=ue,ws[O]=ue,bt[ue]=K,_t.publish("addPattern",K)}};f.ShadingPattern=qo,f.TilingPattern=Zs,f.addShadingPattern=function(O,K){return T("addShadingPattern()"),Tr(O,K),this},f.beginTilingPattern=function(O){T("beginTilingPattern()"),zh(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},f.endTilingPattern=function(O,K){T("endTilingPattern()"),K.stream=ae[D].join(`
`),Tr(O,K),_t.publish("endTilingPattern",K),fi.pop().restore()};var _n=f.__private__.newObject=function(){var O=kn();return Gr(O,!0),O},kn=f.__private__.newObjectDeferred=function(){return H++,Z[H]=function(){return G},H},Gr=function(O,K){return K=typeof K=="boolean"&&K,Z[O]=G,K&&re(O+" 0 obj"),O},Ol=f.__private__.newAdditionalObject=function(){var O={objId:kn(),content:""};return ce.push(O),O},Ii=kn(),Da=kn(),Ia=f.__private__.decodeColorString=function(O){var K=O.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length===5&&(K[4]==="k"||K[4]==="K")&&(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var ue=parseFloat(K[0]);K=[ue,ue,ue,"r"]}for(var fe="#",ve=0;ve<3;ve++)fe+=("0"+Math.floor(255*parseFloat(K[ve])).toString(16)).slice(-2);return fe},$a=f.__private__.encodeColorString=function(O){var K;typeof O=="string"&&(O={ch1:O});var ue=O.ch1,fe=O.ch2,ve=O.ch3,Ae=O.ch4,Be=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var Ye=new hF(ue);if(Ye.ok)ue=Ye.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var nt=parseInt(ue.substr(1),16);ue=nt>>16&255,fe=nt>>8&255,ve=255&nt}if(fe===void 0||Ae===void 0&&ue===fe&&fe===ve)if(typeof ue=="string")K=ue+" "+Be[0];else switch(O.precision){case 2:K=U(ue/255)+" "+Be[0];break;case 3:default:K=C(ue/255)+" "+Be[0]}else if(Ae===void 0||It(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return K=["1.","1.","1.",Be[1]].join(" ");if(typeof ue=="string")K=[ue,fe,ve,Be[1]].join(" ");else switch(O.precision){case 2:K=[U(ue/255),U(fe/255),U(ve/255),Be[1]].join(" ");break;default:case 3:K=[C(ue/255),C(fe/255),C(ve/255),Be[1]].join(" ")}}else if(typeof ue=="string")K=[ue,fe,ve,Ae,Be[2]].join(" ");else switch(O.precision){case 2:K=[U(ue),U(fe),U(ve),U(Ae),Be[2]].join(" ");break;case 3:default:K=[C(ue),C(fe),C(ve),C(Ae),Be[2]].join(" ")}return K},pi=f.__private__.getFilters=function(){return o},ca=f.__private__.putStream=function(O){var K=(O=O||{}).data||"",ue=O.filters||pi(),fe=O.alreadyAppliedFilters||[],ve=O.addLength1||!1,Ae=K.length,Be=O.objectId,Ye=function(or){return or};if(h!==null&&Be===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Ye=ir.encryptor(Be,0));var nt={};ue===!0&&(ue=["FlateEncode"]);var gt=O.additionalKeyValues||[],ht=(nt=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(K,ue):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(nt.data.length!==0&&(gt.push({key:"Length",value:nt.data.length}),ve===!0&&gt.push({key:"Length1",value:Ae})),ht.length!=0)if(ht.split("/").length-1==1)gt.push({key:"Filter",value:ht});else{gt.push({key:"Filter",value:"["+ht+"]"});for(var kt=0;kt<gt.length;kt+=1)if(gt[kt].key==="DecodeParms"){for(var an=[],dn=0;dn<nt.reverseChain.split("/").length-1;dn+=1)an.push("null");an.push(gt[kt].value),gt[kt].value="["+an.join(" ")+"]"}}re("<<");for(var An=0;An<gt.length;An++)re("/"+gt[An].key+" "+gt[An].value);re(">>"),nt.data.length!==0&&(re("stream"),re(Ye(nt.data)),re("endstream"))},mi=f.__private__.putPage=function(O){var K=O.number,ue=O.data,fe=O.objId,ve=O.contentsObjId;Gr(fe,!0),re("<</Type /Page"),re("/Parent "+O.rootDictionaryObjId+" 0 R"),re("/Resources "+O.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(k(O.mediaBox.bottomLeftX))+" "+parseFloat(k(O.mediaBox.bottomLeftY))+" "+k(O.mediaBox.topRightX)+" "+k(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&re("/CropBox ["+k(O.cropBox.bottomLeftX)+" "+k(O.cropBox.bottomLeftY)+" "+k(O.cropBox.topRightX)+" "+k(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&re("/BleedBox ["+k(O.bleedBox.bottomLeftX)+" "+k(O.bleedBox.bottomLeftY)+" "+k(O.bleedBox.topRightX)+" "+k(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&re("/TrimBox ["+k(O.trimBox.bottomLeftX)+" "+k(O.trimBox.bottomLeftY)+" "+k(O.trimBox.topRightX)+" "+k(O.trimBox.topRightY)+"]"),O.artBox!==null&&re("/ArtBox ["+k(O.artBox.bottomLeftX)+" "+k(O.artBox.bottomLeftY)+" "+k(O.artBox.topRightX)+" "+k(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&re("/UserUnit "+O.userUnit),_t.publish("putPage",{objId:fe,pageContext:ft[K],pageNumber:K,page:ue}),re("/Contents "+ve+" 0 R"),re(">>"),re("endobj");var Ae=ue.join(`
`);return v===x.ADVANCED&&(Ae+=`
Q`),Gr(ve,!0),ca({data:Ae,filters:pi(),objectId:ve}),re("endobj"),fe},Ns=f.__private__.putPages=function(){var O,K,ue=[];for(O=1;O<=cn;O++)ft[O].objId=kn(),ft[O].contentsObjId=kn();for(O=1;O<=cn;O++)ue.push(mi({number:O,data:ae[O],objId:ft[O].objId,contentsObjId:ft[O].contentsObjId,mediaBox:ft[O].mediaBox,cropBox:ft[O].cropBox,bleedBox:ft[O].bleedBox,trimBox:ft[O].trimBox,artBox:ft[O].artBox,userUnit:ft[O].userUnit,rootDictionaryObjId:Ii,resourceDictionaryObjId:Da}));Gr(Ii,!0),re("<</Type /Pages");var fe="/Kids [";for(K=0;K<cn;K++)fe+=ue[K]+" 0 R ";re(fe+"]"),re("/Count "+cn),re(">>"),re("endobj"),_t.publish("postPutPages")},Tl=function(O){_t.publish("putFont",{font:O,out:re,newObject:_n,putStream:ca}),O.isAlreadyPutted!==!0&&(O.objectNumber=_n(),re("<<"),re("/Type /Font"),re("/BaseFont /"+mu(O.postScriptName)),re("/Subtype /Type1"),typeof O.encoding=="string"&&re("/Encoding /"+O.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Fl=function(){for(var O in Ct)Ct.hasOwnProperty(O)&&(d===!1||d===!0&&p.hasOwnProperty(O))&&Tl(Ct[O])},_l=function(O){O.objectNumber=_n();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[k(O.x),k(O.y),k(O.x+O.width),k(O.y+O.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var ue=O.pages[1].join(`
`);ca({data:ue,additionalKeyValues:K,objectId:O.objectNumber}),re("endobj")},El=function(){for(var O in Yn)Yn.hasOwnProperty(O)&&_l(Yn[O])},kh=function(O,K){var ue,fe=[],ve=1/(K-1);for(ue=0;ue<1;ue+=ve)fe.push(ue);if(fe.push(1),O[0].offset!=0){var Ae={offset:0,color:O[0].color};O.unshift(Ae)}if(O[O.length-1].offset!=1){var Be={offset:1,color:O[O.length-1].color};O.push(Be)}for(var Ye="",nt=0,gt=0;gt<fe.length;gt++){for(ue=fe[gt];ue>O[nt+1].offset;)nt++;var ht=O[nt].offset,kt=(ue-ht)/(O[nt+1].offset-ht),an=O[nt].color,dn=O[nt+1].color;Ye+=te(Math.round((1-kt)*an[0]+kt*dn[0]).toString(16))+te(Math.round((1-kt)*an[1]+kt*dn[1]).toString(16))+te(Math.round((1-kt)*an[2]+kt*dn[2]).toString(16))}return Ye.trim()},ty=function(O,K){K||(K=21);var ue=_n(),fe=kh(O.colors,K),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+K+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ca({data:fe,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),re("endobj"),O.objectNumber=_n(),re("<< /ShadingType "+O.type),re("/ColorSpace /DeviceRGB");var Ae="/Coords ["+k(parseFloat(O.coords[0]))+" "+k(parseFloat(O.coords[1]))+" ";O.type===2?Ae+=k(parseFloat(O.coords[2]))+" "+k(parseFloat(O.coords[3])):Ae+=k(parseFloat(O.coords[2]))+" "+k(parseFloat(O.coords[3]))+" "+k(parseFloat(O.coords[4]))+" "+k(parseFloat(O.coords[5])),re(Ae+="]"),O.matrix&&re("/Matrix ["+O.matrix.toString()+"]"),re("/Function "+ue+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},ny=function(O,K){var ue=kn(),fe=_n();K.push({resourcesOid:ue,objectOid:fe}),O.objectNumber=fe;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+O.boundingBox.map(k).join(" ")+"]"}),ve.push({key:"XStep",value:k(O.xStep)}),ve.push({key:"YStep",value:k(O.yStep)}),ve.push({key:"Resources",value:ue+" 0 R"}),O.matrix&&ve.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),ca({data:O.stream,additionalKeyValues:ve,objectId:O.objectNumber}),re("endobj")},Ll=function(O){var K;for(K in bt)bt.hasOwnProperty(K)&&(bt[K]instanceof qo?ty(bt[K]):bt[K]instanceof Zs&&ny(bt[K],O))},Ah=function(O){for(var K in O.objectNumber=_n(),re("<<"),O)switch(K){case"opacity":re("/ca "+U(O[K]));break;case"stroke-opacity":re("/CA "+U(O[K]))}re(">>"),re("endobj")},ry=function(){var O;for(O in un)un.hasOwnProperty(O)&&Ah(un[O])},Lc=function(){for(var O in re("/XObject <<"),Yn)Yn.hasOwnProperty(O)&&Yn[O].objectNumber>=0&&re("/"+O+" "+Yn[O].objectNumber+" 0 R");_t.publish("putXobjectDict"),re(">>")},ay=function(){ir.oid=_n(),re("<<"),re("/Filter /Standard"),re("/V "+ir.v),re("/R "+ir.r),re("/U <"+ir.toHexString(ir.U)+">"),re("/O <"+ir.toHexString(ir.O)+">"),re("/P "+ir.P),re(">>"),re("endobj")},Ph=function(){for(var O in re("/Font <<"),Ct)Ct.hasOwnProperty(O)&&(d===!1||d===!0&&p.hasOwnProperty(O))&&re("/"+O+" "+Ct[O].objectNumber+" 0 R");re(">>")},iy=function(){if(Object.keys(bt).length>0){for(var O in re("/Shading <<"),bt)bt.hasOwnProperty(O)&&bt[O]instanceof qo&&bt[O].objectNumber>=0&&re("/"+O+" "+bt[O].objectNumber+" 0 R");_t.publish("putShadingPatternDict"),re(">>")}},Ml=function(O){if(Object.keys(bt).length>0){for(var K in re("/Pattern <<"),bt)bt.hasOwnProperty(K)&&bt[K]instanceof f.TilingPattern&&bt[K].objectNumber>=0&&bt[K].objectNumber<O&&re("/"+K+" "+bt[K].objectNumber+" 0 R");_t.publish("putTilingPatternDict"),re(">>")}},oy=function(){if(Object.keys(un).length>0){var O;for(O in re("/ExtGState <<"),un)un.hasOwnProperty(O)&&un[O].objectNumber>=0&&re("/"+O+" "+un[O].objectNumber+" 0 R");_t.publish("putGStateDict"),re(">>")}},gn=function(O){Gr(O.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ph(),iy(),Ml(O.objectOid),oy(),Lc(),re(">>"),re("endobj")},Ch=function(){var O=[];Fl(),ry(),El(),Ll(O),_t.publish("putResources"),O.forEach(gn),gn({resourcesOid:Da,objectOid:Number.MAX_SAFE_INTEGER}),_t.publish("postPutResources")},Oh=function(){_t.publish("putAdditionalObjects");for(var O=0;O<ce.length;O++){var K=ce[O];Gr(K.objId,!0),re(K.content),re("endobj")}_t.publish("postPutAdditionalObjects")},Th=function(O){Ot[O.fontName]=Ot[O.fontName]||{},Ot[O.fontName][O.fontStyle]=O.id},Mc=function(O,K,ue,fe,ve){var Ae={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:O,fontName:K,fontStyle:ue,encoding:fe,isStandardFont:ve||!1,metadata:{}};return _t.publish("addFont",{font:Ae,instance:this}),Ct[Ae.id]=Ae,Th(Ae),Ae.id},sy=function(O){for(var K=0,ue=ke.length;K<ue;K++){var fe=Mc.call(this,O[K][0],O[K][1],O[K][2],ke[K][3],!0);d===!1&&(p[fe]=!0);var ve=O[K][0].split("-");Th({id:fe,fontName:ve[0],fontStyle:ve[1]||""})}_t.publish("addFonts",{fonts:Ct,dictionary:Ot})},Ra=function(O){return O.foo=function(){try{return O.apply(this,arguments)}catch(fe){var K=fe.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var ue="Error in function "+K.split(`
`)[0].split("<")[0]+": "+fe.message;if(!lt.console)throw new Error(ue);lt.console.error(ue,fe),lt.alert&&alert(ue)}},O.foo.bar=O,O.foo},Dl=function(O,K){var ue,fe,ve,Ae,Be,Ye,nt,gt,ht;if(ve=(K=K||{}).sourceEncoding||"Unicode",Be=K.outputEncoding,(K.autoencode||Be)&&Ct[ut].metadata&&Ct[ut].metadata[ve]&&Ct[ut].metadata[ve].encoding&&(Ae=Ct[ut].metadata[ve].encoding,!Be&&Ct[ut].encoding&&(Be=Ct[ut].encoding),!Be&&Ae.codePages&&(Be=Ae.codePages[0]),typeof Be=="string"&&(Be=Ae[Be]),Be)){for(nt=!1,Ye=[],ue=0,fe=O.length;ue<fe;ue++)(gt=Be[O.charCodeAt(ue)])?Ye.push(String.fromCharCode(gt)):Ye.push(O[ue]),Ye[ue].charCodeAt(0)>>8&&(nt=!0);O=Ye.join("")}for(ue=O.length;nt===void 0&&ue!==0;)O.charCodeAt(ue-1)>>8&&(nt=!0),ue--;if(!nt)return O;for(Ye=K.noBOM?[]:[254,255],ue=0,fe=O.length;ue<fe;ue++){if((ht=(gt=O.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+O+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(ht),Ye.push(gt-(ht<<8))}return String.fromCharCode.apply(void 0,Ye)},Fr=f.__private__.pdfEscape=f.pdfEscape=function(O,K){return Dl(O,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dc=f.__private__.beginPage=function(O){ae[++cn]=[],ft[cn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},_h(cn),de(ae[D])},Fh=function(O,K){var ue,fe,ve;switch(n=K||n,typeof O=="string"&&(ue=b(O.toLowerCase()),Array.isArray(ue)&&(fe=ue[0],ve=ue[1])),Array.isArray(O)&&(fe=O[0]*Ne,ve=O[1]*Ne),isNaN(fe)&&(fe=a[0],ve=a[1]),(fe>14400||ve>14400)&&(Ht.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),ve=Math.min(14400,ve)),a=[fe,ve],n.substr(0,1)){case"l":ve>fe&&(a=[ve,fe]);break;case"p":fe>ve&&(a=[ve,fe])}Dc(a),$h(Bc),re(Ba),Uc!==0&&re(Uc+" J"),zc!==0&&re(zc+" j"),_t.publish("addPage",{pageNumber:cn})},ly=function(O){O>0&&O<=cn&&(ae.splice(O,1),ft.splice(O,1),cn--,D>cn&&(D=cn),this.setPage(D))},_h=function(O){O>0&&O<=cn&&(D=O)},uy=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ae.length-1},Eh=function(O,K,ue){var fe,ve=void 0;return ue=ue||{},O=O!==void 0?O:Ct[ut].fontName,K=K!==void 0?K:Ct[ut].fontStyle,fe=O.toLowerCase(),Ot[fe]!==void 0&&Ot[fe][K]!==void 0?ve=Ot[fe][K]:Ot[O]!==void 0&&Ot[O][K]!==void 0?ve=Ot[O][K]:ue.disableWarning===!1&&Ht.warn("Unable to look up font label for font '"+O+"', '"+K+"'. Refer to getFontList() for available fonts."),ve||ue.noFallback||(ve=Ot.times[K])==null&&(ve=Ot.times.normal),ve},cy=f.__private__.putInfo=function(){var O=_n(),K=function(fe){return fe};for(var ue in h!==null&&(K=ir.encryptor(O,0)),re("<<"),re("/Producer ("+Fr(K("jsPDF "+at.version))+")"),tt)tt.hasOwnProperty(ue)&&tt[ue]&&re("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Fr(K(tt[ue]))+")");re("/CreationDate ("+Fr(K(W))+")"),re(">>"),re("endobj")},Ic=f.__private__.putCatalog=function(O){var K=(O=O||{}).rootDictionaryObjId||Ii;switch(_n(),re("<<"),re("/Type /Catalog"),re("/Pages "+K+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+Re;ue.substr(ue.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&re("/OpenAction [3 0 R /XYZ null null "+U(Re)+"]")}switch(Ge||(Ge="continuous"),Ge){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}De&&re("/PageMode /"+De),_t.publish("putCatalog"),re(">>"),re("endobj")},dy=f.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(H+1)),re("/Root "+H+" 0 R"),re("/Info "+(H-1)+" 0 R"),h!==null&&re("/Encrypt "+ir.oid+" 0 R"),re("/ID [ <"+L+"> <"+L+"> ]"),re(">>")},fy=f.__private__.putHeader=function(){re("%PDF-"+m),re("%")},hy=f.__private__.putXRef=function(){var O="0000000000";re("xref"),re("0 "+(H+1)),re("0000000000 65535 f ");for(var K=1;K<=H;K++)typeof Z[K]=="function"?re((O+Z[K]()).slice(-10)+" 00000 n "):Z[K]!==void 0?re((O+Z[K]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},$i=f.__private__.buildDocument=function(){be(),de(X),_t.publish("buildDocument"),fy(),Ns(),Oh(),Ch(),h!==null&&ay(),cy(),Ic();var O=G;return hy(),dy(),re("startxref"),re(""+O),re("%%EOF"),de(ae[D]),X.join(`
`)},Il=f.__private__.getBlob=function(O){return new Blob([Te(O)],{type:"application/pdf"})},$l=f.output=f.__private__.output=Ra(function(O,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",O){case void 0:return $i();case"save":f.save(K.filename);break;case"arraybuffer":return Te($i());case"blob":return Il($i());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(Il($i()))||void 0;Ht.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",fe=$i();try{ue=R2(fe)}catch{ue=R2(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+K.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(ve=K.pdfObjectUrl,Ae="");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Ye=lt.open();return Ye!==null&&Ye.document.write(Be),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',gt=lt.open();if(gt!==null){gt.document.write(nt);var ht=this;gt.document.documentElement.querySelector("#pdfViewer").onload=function(){gt.document.title=K.filename,gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ht.output("bloburl"))}}return gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',an=lt.open();if(an!==null&&(an.document.write(kt),an.document.title=K.filename),an||typeof safari>"u")return an;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",K);default:return null}}),Lh=function(O){return Array.isArray(Ss)===!0&&Ss.indexOf(O)>-1};switch(r){case"pt":Ne=1;break;case"mm":Ne=72/25.4;break;case"cm":Ne=72/2.54;break;case"in":Ne=72;break;case"px":Ne=Lh("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ne=12;break;case"ex":Ne=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ne=r}var ir=null;ie(),B();var py=function(O){return h!==null?ir.encryptor(O,0):function(K){return K}},Mh=f.__private__.getPageInfo=f.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[O].objId,pageNumber:O,pageContext:ft[O]}},dt=f.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in ft)if(ft[K].objId===O)break;return Mh(K)},my=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ft[D].objId,pageNumber:D,pageContext:ft[D]}};f.addPage=function(){return Fh.apply(this,arguments),this},f.setPage=function(){return _h.apply(this,arguments),de.call(this,ae[D]),this},f.insertPage=function(O){return this.addPage(),this.movePage(D,O),this},f.movePage=function(O,K){var ue,fe;if(O>K){ue=ae[O],fe=ft[O];for(var ve=O;ve>K;ve--)ae[ve]=ae[ve-1],ft[ve]=ft[ve-1];ae[K]=ue,ft[K]=fe,this.setPage(K)}else if(O<K){ue=ae[O],fe=ft[O];for(var Ae=O;Ae<K;Ae++)ae[Ae]=ae[Ae+1],ft[Ae]=ft[Ae+1];ae[K]=ue,ft[K]=fe,this.setPage(K)}return this},f.deletePage=function(){return ly.apply(this,arguments),this},f.__private__.text=f.text=function(O,K,ue,fe,ve){var Ae,Be,Ye,nt,gt,ht,kt,an,dn,An=(fe=fe||{}).scope||this;if(typeof O=="number"&&typeof K=="number"&&(typeof ue=="string"||Array.isArray(ue))){var or=ue;ue=K,K=O,O=or}if(arguments[3]instanceof ot?(T("The transform parameter of text() with a Matrix value"),dn=ve):(Ye=arguments[4],nt=arguments[5],It(kt=arguments[3])==="object"&&kt!==null||(typeof Ye=="string"&&(nt=Ye,Ye=null),typeof kt=="string"&&(nt=kt,kt=null),typeof kt=="number"&&(Ye=kt,kt=null),fe={flags:kt,angle:Ye,align:nt})),isNaN(K)||isNaN(ue)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return An;var Un="",Wa=!1,Vr=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:ks,vi=An.internal.scaleFactor;function Hh(Vt){return Vt=Vt.split("	").join(Array(fe.TabLen||9).join(" ")),Fr(Vt,kt)}function Kc(Vt){for(var Kt,vn=Vt.concat(),En=[],zi=vn.length;zi--;)typeof(Kt=vn.shift())=="string"?En.push(Kt):Array.isArray(Vt)&&(Kt.length===1||Kt[1]===void 0&&Kt[2]===void 0)?En.push(Kt[0]):En.push([Kt[0],Kt[1],Kt[2]]);return En}function Yc(Vt,Kt){var vn;if(typeof Vt=="string")vn=Kt(Vt)[0];else if(Array.isArray(Vt)){for(var En,zi,rd=Vt.concat(),Zl=[],Yh=rd.length;Yh--;)typeof(En=rd.shift())=="string"?Zl.push(Kt(En)[0]):Array.isArray(En)&&typeof En[0]=="string"&&(zi=Kt(En[0],En[1],En[2]),Zl.push([zi[0],zi[1],zi[2]]));vn=Zl}return vn}var Hl=!1,Xc=!0;if(typeof O=="string")Hl=!0;else if(Array.isArray(O)){var Jc=O.concat();Be=[];for(var ql,Xn=Jc.length;Xn--;)(typeof(ql=Jc.shift())!="string"||Array.isArray(ql)&&typeof ql[0]!="string")&&(Xc=!1);Hl=Xc}if(Hl===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Gl=Oe/An.internal.scaleFactor,Vl=Gl*(Vr-1);switch(fe.baseline){case"bottom":ue-=Vl;break;case"top":ue+=Gl-Vl;break;case"hanging":ue+=Gl-2*Vl;break;case"middle":ue+=Gl/2-Vl}if((ht=fe.maxWidth||0)>0&&(typeof O=="string"?O=An.splitTextToSize(O,ht):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(Vt,Kt){return Vt.concat(An.splitTextToSize(Kt,ht))},[]))),Ae={text:O,x:K,y:ue,options:fe,mutex:{pdfEscape:Fr,activeFontKey:ut,fonts:Ct,activeFontSize:Oe}},_t.publish("preProcessText",Ae),O=Ae.text,Ye=(fe=Ae.options).angle,!(dn instanceof ot)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,fe.rotationDirection===0&&(Ye=-Ye),v===x.ADVANCED&&(Ye=-Ye);var Kl=Math.cos(Ye),Qc=Math.sin(Ye);dn=new ot(Kl,Qc,-Qc,Kl,0,0)}else Ye&&Ye instanceof ot&&(dn=Ye);v!==x.ADVANCED||dn||(dn=hi),(gt=fe.charSpace||Wl)!==void 0&&(Un+=k(P(gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(an=fe.horizontalScale)!==void 0&&(Un+=k(100*an)+` Tz
`),fe.lang;var _r=-1,ky=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Zc=An.internal.getCurrentPageInfo().pageContext;switch(ky){case 0:case!1:case"fill":_r=0;break;case 1:case!0:case"stroke":_r=1;break;case 2:case"fillThenStroke":_r=2;break;case 3:case"invisible":_r=3;break;case 4:case"fillAndAddForClipping":_r=4;break;case 5:case"strokeAndAddPathForClipping":_r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_r=6;break;case 7:case"addToPathForClipping":_r=7}var qh=Zc.usedRenderingMode!==void 0?Zc.usedRenderingMode:-1;_r!==-1?Un+=_r+` Tr
`:qh!==-1&&(Un+=`0 Tr
`),_r!==-1&&(Zc.usedRenderingMode=_r),nt=fe.align||"left";var da,Yl=Oe*Vr,Gh=An.internal.pageSize.getWidth(),Vh=Ct[ut];gt=fe.charSpace||Wl,ht=fe.maxWidth||0,kt=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var So=[],Cs=function(Vt){return An.getStringUnitWidth(Vt,{font:Vh,charSpace:gt,fontSize:Oe,doKerning:!1})*Oe/vi};if(Object.prototype.toString.call(O)==="[object Array]"){var Er;Be=Kc(O),nt!=="left"&&(da=Be.map(Cs));var wr,No=0;if(nt==="right"){K-=da[0],O=[],Xn=Be.length;for(var Bi=0;Bi<Xn;Bi++)Bi===0?(wr=yi(K),Er=Ri(ue)):(wr=P(No-da[Bi]),Er=-Yl),O.push([Be[Bi],wr,Er]),No=da[Bi]}else if(nt==="center"){K-=da[0]/2,O=[],Xn=Be.length;for(var Wi=0;Wi<Xn;Wi++)Wi===0?(wr=yi(K),Er=Ri(ue)):(wr=P((No-da[Wi])/2),Er=-Yl),O.push([Be[Wi],wr,Er]),No=da[Wi]}else if(nt==="left"){O=[],Xn=Be.length;for(var Xl=0;Xl<Xn;Xl++)O.push(Be[Xl])}else if(nt==="justify"&&Vh.encoding==="Identity-H"){O=[],Xn=Be.length,ht=ht!==0?ht:Gh;for(var Ui=0,yn=0;yn<Xn;yn++)if(Er=yn===0?Ri(ue):-Yl,wr=yn===0?yi(K):Ui,yn<Xn-1){var ed=P((ht-da[yn])/(Be[yn].split(" ").length-1)),Sr=Be[yn].split(" ");O.push([Sr[0]+" ",wr,Er]),Ui=0;for(var fa=1;fa<Sr.length;fa++){var Jl=(Cs(Sr[fa-1]+" "+Sr[fa])-Cs(Sr[fa]))*vi+ed;fa==Sr.length-1?O.push([Sr[fa],Jl,0]):O.push([Sr[fa]+" ",Jl,0]),Ui-=Jl}}else O.push([Be[yn],wr,Er]);O.push(["",Ui,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],Xn=Be.length,ht=ht!==0?ht:Gh,yn=0;yn<Xn;yn++)Er=yn===0?Ri(ue):-Yl,wr=yn===0?yi(K):0,yn<Xn-1?So.push(k(P((ht-da[yn])/(Be[yn].split(" ").length-1)))):So.push(0),O.push([Be[yn],wr,Er])}}var Kh=typeof fe.R2L=="boolean"?fe.R2L:Fe;Kh===!0&&(O=Yc(O,function(Vt,Kt,vn){return[Vt.split("").reverse().join(""),Kt,vn]})),Ae={text:O,x:K,y:ue,options:fe,mutex:{pdfEscape:Fr,activeFontKey:ut,fonts:Ct,activeFontSize:Oe}},_t.publish("postProcessText",Ae),O=Ae.text,Wa=Ae.mutex.isHex||!1;var td=Ct[ut].encoding;td!=="WinAnsiEncoding"&&td!=="StandardEncoding"||(O=Yc(O,function(Vt,Kt,vn){return[Hh(Vt),Kt,vn]})),Be=Kc(O),O=[];for(var Os,Ts,jo,Fs=0,Ql=1,_s=Array.isArray(Be[0])?Ql:Fs,ko="",nd=function(Vt,Kt,vn){var En="";return vn instanceof ot?(vn=typeof fe.angle=="number"?Ma(vn,new ot(1,0,0,1,Vt,Kt)):Ma(new ot(1,0,0,1,Vt,Kt),vn),v===x.ADVANCED&&(vn=Ma(new ot(1,0,0,-1,0,0),vn)),En=vn.join(" ")+` Tm
`):En=k(Vt)+" "+k(Kt)+` Td
`,En},ha=0;ha<Be.length;ha++){switch(ko="",_s){case Ql:jo=(Wa?"<":"(")+Be[ha][0]+(Wa?">":")"),Os=parseFloat(Be[ha][1]),Ts=parseFloat(Be[ha][2]);break;case Fs:jo=(Wa?"<":"(")+Be[ha]+(Wa?">":")"),Os=yi(K),Ts=Ri(ue)}So!==void 0&&So[ha]!==void 0&&(ko=So[ha]+` Tw
`),ha===0?O.push(ko+nd(Os,Ts,dn)+jo):_s===Fs?O.push(ko+jo):_s===Ql&&O.push(ko+nd(Os,Ts,dn)+jo)}O=_s===Fs?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var pa=`BT
/`;return pa+=ut+" "+Oe+` Tf
`,pa+=k(Oe*Vr)+` TL
`,pa+=As+`
`,pa+=Un,pa+=O,re(pa+="ET"),p[ut]=!0,An};var gy=f.__private__.clip=f.clip=function(O){return re(O==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return gy("evenodd")},f.__private__.discardPath=f.discardPath=function(){return re("n"),this};var gi=f.__private__.isValidStyle=function(O){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(K=!0),K};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(O){return gi(O)&&(c=O),this};var Dh=f.__private__.getStyle=f.getStyle=function(O){var K=c;switch(O){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=O}return K},Ih=f.close=function(){return re("h"),this};f.stroke=function(){return re("S"),this},f.fill=function(O){return Rl("f",O),this},f.fillEvenOdd=function(O){return Rl("f*",O),this},f.fillStroke=function(O){return Rl("B",O),this},f.fillStrokeEvenOdd=function(O){return Rl("B*",O),this};var Rl=function(O,K){It(K)==="object"?vy(K,O):re(O)},$c=function(O){O===null||v===x.ADVANCED&&O===void 0||(O=Dh(O),re(O))};function yy(O,K,ue,fe,ve){var Ae=new Zs(K||this.boundingBox,ue||this.xStep,fe||this.yStep,this.gState,ve||this.matrix);Ae.stream=this.stream;var Be=O+"$$"+this.cloneIndex+++"$$";return Tr(Be,Ae),Ae}var vy=function(O,K){var ue=ws[O.key],fe=bt[ue];if(fe instanceof qo)re("q"),re(xy(K)),fe.gState&&f.setGState(fe.gState),re(O.matrix.toString()+" cm"),re("/"+ue+" sh"),re("Q");else if(fe instanceof Zs){var ve=new ot(1,0,0,-1,0,wo());O.matrix&&(ve=ve.multiply(O.matrix||hi),ue=yy.call(fe,O.key,O.boundingBox,O.xStep,O.yStep,ve).id),re("q"),re("/Pattern cs"),re("/"+ue+" scn"),fe.gState&&f.setGState(fe.gState),re(K),re("Q")}},xy=function(O){switch(O){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Rc=f.moveTo=function(O,K){return re(k(P(O))+" "+k(M(K))+" m"),this},js=f.lineTo=function(O,K){return re(k(P(O))+" "+k(M(K))+" l"),this},xo=f.curveTo=function(O,K,ue,fe,ve,Ae){return re([k(P(O)),k(M(K)),k(P(ue)),k(M(fe)),k(P(ve)),k(M(Ae)),"c"].join(" ")),this};f.__private__.line=f.line=function(O,K,ue,fe,ve){if(isNaN(O)||isNaN(K)||isNaN(ue)||isNaN(fe)||!gi(ve))throw new Error("Invalid arguments passed to jsPDF.line");return v===x.COMPAT?this.lines([[ue-O,fe-K]],O,K,[1,1],ve||"S"):this.lines([[ue-O,fe-K]],O,K,[1,1]).stroke()},f.__private__.lines=f.lines=function(O,K,ue,fe,ve,Ae){var Be,Ye,nt,gt,ht,kt,an,dn,An,or,Un,Wa;if(typeof O=="number"&&(Wa=ue,ue=K,K=O,O=Wa),fe=fe||[1,1],Ae=Ae||!1,isNaN(K)||isNaN(ue)||!Array.isArray(O)||!Array.isArray(fe)||!gi(ve)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Rc(K,ue),Be=fe[0],Ye=fe[1],gt=O.length,or=K,Un=ue,nt=0;nt<gt;nt++)(ht=O[nt]).length===2?(or=ht[0]*Be+or,Un=ht[1]*Ye+Un,js(or,Un)):(kt=ht[0]*Be+or,an=ht[1]*Ye+Un,dn=ht[2]*Be+or,An=ht[3]*Ye+Un,or=ht[4]*Be+or,Un=ht[5]*Ye+Un,xo(kt,an,dn,An,or,Un));return Ae&&Ih(),$c(ve),this},f.path=function(O){for(var K=0;K<O.length;K++){var ue=O[K],fe=ue.c;switch(ue.op){case"m":Rc(fe[0],fe[1]);break;case"l":js(fe[0],fe[1]);break;case"c":xo.apply(this,fe);break;case"h":Ih()}}return this},f.__private__.rect=f.rect=function(O,K,ue,fe,ve){if(isNaN(O)||isNaN(K)||isNaN(ue)||isNaN(fe)||!gi(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return v===x.COMPAT&&(fe=-fe),re([k(P(O)),k(M(K)),k(P(ue)),k(P(fe)),"re"].join(" ")),$c(ve),this},f.__private__.triangle=f.triangle=function(O,K,ue,fe,ve,Ae,Be){if(isNaN(O)||isNaN(K)||isNaN(ue)||isNaN(fe)||isNaN(ve)||isNaN(Ae)||!gi(Be))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-O,fe-K],[ve-ue,Ae-fe],[O-ve,K-Ae]],O,K,[1,1],Be,!0),this},f.__private__.roundedRect=f.roundedRect=function(O,K,ue,fe,ve,Ae,Be){if(isNaN(O)||isNaN(K)||isNaN(ue)||isNaN(fe)||isNaN(ve)||isNaN(Ae)||!gi(Be))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ue),Ae=Math.min(Ae,.5*fe),this.lines([[ue-2*ve,0],[ve*Ye,0,ve,Ae-Ae*Ye,ve,Ae],[0,fe-2*Ae],[0,Ae*Ye,-ve*Ye,Ae,-ve,Ae],[2*ve-ue,0],[-ve*Ye,0,-ve,-Ae*Ye,-ve,-Ae],[0,2*Ae-fe],[0,-Ae*Ye,ve*Ye,-Ae,ve,-Ae]],O+ve,K,[1,1],Be,!0),this},f.__private__.ellipse=f.ellipse=function(O,K,ue,fe,ve){if(isNaN(O)||isNaN(K)||isNaN(ue)||isNaN(fe)||!gi(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*ue,Be=4/3*(Math.SQRT2-1)*fe;return Rc(O+ue,K),xo(O+ue,K-Be,O+Ae,K-fe,O,K-fe),xo(O-Ae,K-fe,O-ue,K-Be,O-ue,K),xo(O-ue,K+Be,O-Ae,K+fe,O,K+fe),xo(O+Ae,K+fe,O+ue,K+Be,O+ue,K),$c(ve),this},f.__private__.circle=f.circle=function(O,K,ue,fe){if(isNaN(O)||isNaN(K)||isNaN(ue)||!gi(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,K,ue,ue,fe)},f.setFont=function(O,K,ue){return ue&&(K=A(K,ue)),ut=Eh(O,K,{disableWarning:!1}),this};var by=f.__private__.getFont=f.getFont=function(){return Ct[Eh.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var O,K,ue={};for(O in Ot)if(Ot.hasOwnProperty(O))for(K in ue[O]=[],Ot[O])Ot[O].hasOwnProperty(K)&&ue[O].push(K);return ue},f.addFont=function(O,K,ue,fe,ve){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(ue=A(ue,fe)),ve=ve||"Identity-H",Mc.call(this,O,K,ue,ve)};var ks,Bc=e.lineWidth||.200025,Bl=f.__private__.getLineWidth=f.getLineWidth=function(){return Bc},$h=f.__private__.setLineWidth=f.setLineWidth=function(O){return Bc=O,re(k(P(O))+" w"),this};f.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(O,K){if(O=O||[],K=K||0,isNaN(K)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(ue){return k(P(ue))}).join(" "),K=k(P(K)),re("["+O+"] "+K+" d"),this};var Rh=f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*ks};f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*ks};var Bh=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(ks=O),this},Wh=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ks};Bh(e.lineHeight);var yi=f.__private__.getHorizontalCoordinate=function(O){return P(O)},Ri=f.__private__.getVerticalCoordinate=function(O){return v===x.ADVANCED?O:ft[D].mediaBox.topRightY-ft[D].mediaBox.bottomLeftY-P(O)},wy=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(O){return k(yi(O))},bo=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(O){return k(Ri(O))},Ba=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ia(Ba)},f.__private__.setStrokeColor=f.setDrawColor=function(O,K,ue,fe){return Ba=$a({ch1:O,ch2:K,ch3:ue,ch4:fe,pdfColorType:"draw",precision:2}),re(Ba),this};var Wc=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ia(Wc)},f.__private__.setFillColor=f.setFillColor=function(O,K,ue,fe){return Wc=$a({ch1:O,ch2:K,ch3:ue,ch4:fe,pdfColorType:"fill",precision:2}),re(Wc),this};var As=e.textColor||"0 g",Sy=f.__private__.getTextColor=f.getTextColor=function(){return Ia(As)};f.__private__.setTextColor=f.setTextColor=function(O,K,ue,fe){return As=$a({ch1:O,ch2:K,ch3:ue,ch4:fe,pdfColorType:"text",precision:3}),this};var Wl=e.charSpace,Ny=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Wl||0)};f.__private__.setCharSpace=f.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wl=O,this};var Uc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(O){var K=f.CapJoinStyles[O];if(K===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=K,re(K+" J"),this};var zc=0;f.__private__.setLineJoin=f.setLineJoin=function(O){var K=f.CapJoinStyles[O];if(K===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zc=K,re(K+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(k(P(O))+" M"),this},f.GState=uh,f.setGState=function(O){(O=typeof O=="string"?un[La[O]]:Uh(null,O)).equals(Di)||(re("/"+O.id+" gs"),Di=O)};var Uh=function(O,K){if(!O||!La[O]){var ue=!1;for(var fe in un)if(un.hasOwnProperty(fe)&&un[fe].equals(K)){ue=!0;break}if(ue)K=un[fe];else{var ve="GS"+(Object.keys(un).length+1).toString(10);un[ve]=K,K.id=ve}return O&&(La[O]=K.id),_t.publish("addGState",K),K}};f.addGState=function(O,K){return Uh(O,K),this},f.saveGraphicsState=function(){return re("q"),ar.push({key:ut,size:Oe,color:As}),this},f.restoreGraphicsState=function(){re("Q");var O=ar.pop();return ut=O.key,Oe=O.size,As=O.color,Di=null,this},f.setCurrentTransformationMatrix=function(O){return re(O.toString()+" cm"),this},f.comment=function(O){return re("#"+O),this};var Ul=function(O,K){var ue=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Ae){isNaN(Ae)||(ue=parseFloat(Ae))}});var fe=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Ae){isNaN(Ae)||(fe=parseFloat(Ae))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ae){ve=Ae.toString()}}),this},Hc=function(O,K,ue,fe){Ul.call(this,O,K),this.type="rect";var ve=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Be){isNaN(Be)||(ve=parseFloat(Be))}});var Ae=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Be){isNaN(Be)||(Ae=parseFloat(Be))}}),this},qc=function(){this.page=cn,this.currentPage=D,this.pages=ae.slice(0),this.pagesContext=ft.slice(0),this.x=yt,this.y=ct,this.matrix=jn,this.width=Ps(D),this.height=wo(D),this.outputDestination=xe,this.id="",this.objectNumber=-1};qc.prototype.restore=function(){cn=this.page,D=this.currentPage,ft=this.pagesContext,ae=this.pages,yt=this.x,ct=this.y,jn=this.matrix,Gc(D,this.width),Vc(D,this.height),xe=this.outputDestination};var zh=function(O,K,ue,fe,ve){fi.push(new qc),cn=D=0,ae=[],yt=O,ct=K,jn=ve,Dc([ue,fe])},jy=function(O){if(di[O])fi.pop().restore();else{var K=new qc,ue="Xo"+(Object.keys(Yn).length+1).toString(10);K.id=ue,di[O]=ue,Yn[ue]=K,_t.publish("addFormObject",K),fi.pop().restore()}};for(var zl in f.beginFormObject=function(O,K,ue,fe,ve){return zh(O,K,ue,fe,ve),this},f.endFormObject=function(O){return jy(O),this},f.doFormObject=function(O,K){var ue=Yn[di[O]];return re("q"),re(K.toString()+" cm"),re("/"+ue.id+" Do"),re("Q"),this},f.getFormObject=function(O){var K=Yn[di[O]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},f.save=function(O,K){return O=O||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(zs(Il($i()),O),typeof zs.unload=="function"&&lt.setTimeout&&setTimeout(zs.unload,911),this):new Promise(function(ue,fe){try{var ve=zs(Il($i()),O);typeof zs.unload=="function"&&lt.setTimeout&&setTimeout(zs.unload,911),ue(ve)}catch(Ae){fe(Ae.message)}})},at.API)at.API.hasOwnProperty(zl)&&(zl==="events"&&at.API.events.length?function(O,K){var ue,fe,ve;for(ve=K.length-1;ve!==-1;ve--)ue=K[ve][0],fe=K[ve][1],O.subscribe.apply(O,[ue].concat(typeof fe=="function"?[fe]:fe))}(_t,at.API.events):f[zl]=at.API[zl]);var Ps=f.getPageWidth=function(O){return(ft[O=O||D].mediaBox.topRightX-ft[O].mediaBox.bottomLeftX)/Ne},Gc=f.setPageWidth=function(O,K){ft[O].mediaBox.topRightX=K*Ne+ft[O].mediaBox.bottomLeftX},wo=f.getPageHeight=function(O){return(ft[O=O||D].mediaBox.topRightY-ft[O].mediaBox.bottomLeftY)/Ne},Vc=f.setPageHeight=function(O,K){ft[O].mediaBox.topRightY=K*Ne+ft[O].mediaBox.bottomLeftY};return f.internal={pdfEscape:Fr,getStyle:Dh,getFont:by,getFontSize:Ie,getCharSpace:Ny,getTextColor:Sy,getLineHeight:Rh,getLineHeightFactor:Wh,getLineWidth:Bl,write:Pe,getHorizontalCoordinate:yi,getVerticalCoordinate:Ri,getCoordinateString:wy,getVerticalCoordinateString:bo,collections:{},newObject:_n,newAdditionalObject:Ol,newObjectDeferred:kn,newObjectDeferredBegin:Gr,getFilters:pi,putStream:ca,events:_t,scaleFactor:Ne,pageSize:{getWidth:function(){return Ps(D)},setWidth:function(O){Gc(D,O)},getHeight:function(){return wo(D)},setHeight:function(O){Vc(D,O)}},encryptionOptions:h,encryption:ir,getEncryptor:py,output:$l,getNumberOfPages:uy,pages:ae,out:re,f2:U,f3:C,getPageInfo:Mh,getPageInfoByObjId:dt,getCurrentPageInfo:my,getPDFVersion:g,Point:Ul,Rectangle:Hc,Matrix:ot,hasHotfix:Lh},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Ps(D)},set:function(O){Gc(D,O)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return wo(D)},set:function(O){Vc(D,O)},enumerable:!0,configurable:!0}),sy.call(f,ke),ut="F1",Fh(a,n),_t.publish("initialized"),f}pu.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},pu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},pu.prototype.processOwnerPassword=function(e,t){return W2(B2(t).substr(0,5),e)},pu.prototype.encryptor=function(e,t){var n=B2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return W2(n,r)}},uh.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||It(e)!==It(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},at.API={events:[]},at.version="2.5.2";var hn=at.API,a5=1,Cl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pt=function(e){return e.toFixed(2)},$o=function(e){return e.toFixed(5)};hn.__acroform__={};var qr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},hk=function(e){return e*a5},Si=function(e){var t=new yF,n=Ze.internal.getHeight(e)||0,r=Ze.internal.getWidth(e)||0;return t.BBox=[0,0,Number(pt(r)),Number(pt(n))],t},oce=hn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},sce=hn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},lce=hn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},bn=hn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lce(e,t-1)},wn=hn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oce(e,t-1)},Sn=hn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sce(e,t-1)},uce=hn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=n(a)||0,l.lowerLeft_Y=r(i+s)||0,l.upperRight_X=n(a+o)||0,l.upperRight_Y=r(i)||0,[Number(pt(l.lowerLeft_X)),Number(pt(l.lowerLeft_Y)),Number(pt(l.upperRight_X)),Number(pt(l.upperRight_Y))]},cce=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=U2(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+pt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Si(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},U2=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=n,o=Ze.internal.getHeight(e)||0;o=o<0?-o:o;var s=Ze.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(C,P,I){if(C+1<a.length){var M=P+" "+a[C+1][0];return Kp(M,e,I).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var c,h,d=Kp("3",e,i).height,p=e.multiline?o-i:(o-d)/2,f=p+=2,m=0,g=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Kp(t,e,i=12).width+", FieldWidth:"+s+`
`;break}for(var b="",x=0,v=0;v<a.length;v++)if(a.hasOwnProperty(v)){var j=!1;if(a[v].length!==1&&w!==a[v].length-1){if((d+2)*(x+2)+2>o)continue e;b+=a[v][w],j=!0,g=v,v--}else{b=(b+=a[v][w]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var N=parseInt(v),A=l(N,b,i),k=v>=a.length-1;if(A&&!k){b+=" ",w=0;continue}if(A||k){if(k)g=N;else if(e.multiline&&(d+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(d+2)*(x+2)+2>o)continue e;g=N}}for(var T="",E=m;E<=g;E++){var U=a[E];if(e.multiline){if(E===g){T+=U[w]+" ",w=(w+1)%U.length;continue}if(E===m){T+=U[U.length-1]+" ";continue}}T+=U[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,h=Kp(T,e,i).width,e.textAlign){case"right":c=s-h-2;break;case"center":c=(s-h)/2;break;case"left":default:c=2}t+=pt(c)+" "+pt(f)+` Td
`,t+="("+Cl(T)+`) Tj
`,t+=-pt(c)+` 0 Td
`,f=-(i+2),h=0,m=j?g:g+1,x++,b=""}break}return r.text=t,r.fontSize=i,r},Kp=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},dce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fce=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},hce=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),It(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[r]}},pce=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ui.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(dce)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");a5=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new vF,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i.objId=void 0,i.hasAnnotation&&fce(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,a){var i=!r;for(var o in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],c=s.Rect;if(s.Rect&&(s.Rect=uce(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Ze.createDefaultAppearanceStream(s),It(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=c,s.hasAppearanceStream&&!s.appearanceStreamContent){var h=cce(s);l.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(s.appearanceStreamContent){var d="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var f=s.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var m=f[o];typeof m=="function"&&(m=m.call(a,s)),d+="/"+o+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(a,s)),d+="/"+o+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:s.objId}),a.internal.out("endobj")}i&&hce(a.internal.acroformPlugin.xForms,a)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},gF=hn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),It(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),a+="("+Cl(r(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},n1=function(e,t,n){var r=function(a){return a};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Cl(r(e))+")"},Pi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pi.prototype.toString=function(){return this.objId+" 0 R"},Pi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Pi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:gF(a,this.objId,this.scope)}):a instanceof Pi?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:r,value:a}))}return e};var yF=function(){Pi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};qr(yF,Pi);var vF=function(){Pi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Cl(n(e))+")"}},set:function(n){e=n}})};qr(vF,Pi);var ui=function e(){Pi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!bn(t,3)},set:function(b){b?this.F=wn(t,3):this.F=Sn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Dg)return;i="FieldObject"+e.FieldNum++}var b=function(x){return x};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Cl(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/a5:c},set:function(b){c=b}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(b){h=b}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Dg||this instanceof ss))return n1(d,this.objId,this.scope)},set:function(b){b=b.toString(),d=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof In?p:n1(p,this.objId,this.scope)},set:function(b){b=b.toString(),p=this instanceof In?b:b.substr(0,1)==="("?cu(b.substr(1,b.length-2)):cu(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof In?cu(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof In?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof In?f:n1(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=this instanceof In?b:b.substr(0,1)==="("?cu(b.substr(1,b.length-2)):cu(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof In?cu(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof In?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(b){m=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,1)},set:function(b){b?this.Ff=wn(this.Ff,1):this.Ff=Sn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,2)},set:function(b){b?this.Ff=wn(this.Ff,2):this.Ff=Sn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,3)},set:function(b){b?this.Ff=wn(this.Ff,3):this.Ff=Sn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');w=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(w){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};qr(ui,Pi);var sl=function(){ui.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gF(t,this.objId,this.scope)},set:function(n){var r,a;a=[],typeof(r=n)=="string"&&(a=function(i,o,s){s||(s=1);for(var l,c=[];l=o.exec(i);)c.push(l[s]);return c}(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,18)},set:function(n){n?this.Ff=wn(this.Ff,18):this.Ff=Sn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=wn(this.Ff,19):this.Ff=Sn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,20)},set:function(n){n?(this.Ff=wn(this.Ff,20),t.sort()):this.Ff=Sn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,22)},set:function(n){n?this.Ff=wn(this.Ff,22):this.Ff=Sn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,23)},set:function(n){n?this.Ff=wn(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,27)},set:function(n){n?this.Ff=wn(this.Ff,27):this.Ff=Sn(this.Ff,27)}}),this.hasAppearanceStream=!1};qr(sl,ui);var ll=function(){sl.call(this),this.fontName="helvetica",this.combo=!1};qr(ll,sl);var ul=function(){ll.call(this),this.combo=!0};qr(ul,ll);var tf=function(){ul.call(this),this.edit=!0};qr(tf,ul);var In=function(){ui.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,15)},set:function(n){n?this.Ff=wn(this.Ff,15):this.Ff=Sn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,16)},set:function(n){n?this.Ff=wn(this.Ff,16):this.Ff=Sn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,17)},set:function(n){n?this.Ff=wn(this.Ff,17):this.Ff=Sn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,26)},set:function(n){n?this.Ff=wn(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+Cl(n(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){It(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};qr(In,ui);var nf=function(){In.call(this),this.pushButton=!0};qr(nf,In);var cl=function(){In.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};qr(cl,In);var Dg=function(){var e,t;ui.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+Cl(a(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){It(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qr(Dg,ui),cl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},cl.prototype.createOption=function(e){var t=new Dg;return t.Parent=this,t.optionName=e,this.Kids.push(t),mce.call(this.scope,t),t};var rf=function(){In.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};qr(rf,In);var ss=function(){ui.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,13)},set:function(t){t?this.Ff=wn(this.Ff,13):this.Ff=Sn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,21)},set:function(t){t?this.Ff=wn(this.Ff,21):this.Ff=Sn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,23)},set:function(t){t?this.Ff=wn(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,24)},set:function(t){t?this.Ff=wn(this.Ff,24):this.Ff=Sn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,25)},set:function(t){t?this.Ff=wn(this.Ff,25):this.Ff=Sn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,26)},set:function(t){t?this.Ff=wn(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qr(ss,ui);var af=function(){ss.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,14)},set:function(e){e?this.Ff=wn(this.Ff,14):this.Ff=Sn(this.Ff,14)}}),this.password=!0};qr(af,ss);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Si(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=U2(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+pt(Ze.internal.getWidth(e))+" "+pt(Ze.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+pt(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Si(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],i=Ze.internal.getHeight(e),o=Ze.internal.getWidth(e),s=U2(e,e.caption);return a.push("1 g"),a.push("0 0 "+pt(o)+" "+pt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+pt(o-1)+" "+pt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+pt(s.fontSize)+" Tf "+r),a.push(s.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Si(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pt(Ze.internal.getWidth(e))+" "+pt(Ze.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ze.RadioButton.Circle.YesNormal,t.D[e]=Ze.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Si(e);t.scope=e.scope;var n=[],r=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Ze.internal.Bezier_C,i=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+$o(Ze.internal.getWidth(e)/2)+" "+$o(Ze.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Si(e);t.scope=e.scope;var n=[],r=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Ze.internal.Bezier_C).toFixed(5)),o=Number((r*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$o(Ze.internal.getWidth(e)/2)+" "+$o(Ze.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+$o(Ze.internal.getWidth(e)/2)+" "+$o(Ze.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Si(e);t.scope=e.scope;var n=[],r=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$o(Ze.internal.getWidth(e)/2)+" "+$o(Ze.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ze.RadioButton.Cross.YesNormal,t.D[e]=Ze.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Si(e);t.scope=e.scope;var n=[],r=Ze.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+pt(Ze.internal.getWidth(e)-2)+" "+pt(Ze.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(pt(r.x1.x)+" "+pt(r.x1.y)+" m"),n.push(pt(r.x2.x)+" "+pt(r.x2.y)+" l"),n.push(pt(r.x4.x)+" "+pt(r.x4.y)+" m"),n.push(pt(r.x3.x)+" "+pt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Si(e);t.scope=e.scope;var n=Ze.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+pt(Ze.internal.getWidth(e))+" "+pt(Ze.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+pt(Ze.internal.getWidth(e)-2)+" "+pt(Ze.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(pt(n.x1.x)+" "+pt(n.x1.y)+" m"),r.push(pt(n.x2.x)+" "+pt(n.x2.y)+" l"),r.push(pt(n.x4.x)+" "+pt(n.x4.y)+" m"),r.push(pt(n.x3.x)+" "+pt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Si(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pt(Ze.internal.getWidth(e))+" "+pt(Ze.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ze.internal.getWidth(e),n=Ze.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ze.internal.getWidth=function(e){var t=0;return It(e)==="object"&&(t=hk(e.Rect[2])),t},Ze.internal.getHeight=function(e){var t=0;return It(e)==="object"&&(t=hk(e.Rect[3])),t};var mce=hn.addField=function(e){if(pce(this,e),!(e instanceof ui))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};hn.AcroFormChoiceField=sl,hn.AcroFormListBox=ll,hn.AcroFormComboBox=ul,hn.AcroFormEditBox=tf,hn.AcroFormButton=In,hn.AcroFormPushButton=nf,hn.AcroFormRadioButton=cl,hn.AcroFormCheckBox=rf,hn.AcroFormTextField=ss,hn.AcroFormPasswordField=af,hn.AcroFormAppearance=Ze,hn.AcroForm={ChoiceField:sl,ListBox:ll,ComboBox:ul,EditBox:tf,Button:In,PushButton:nf,RadioButton:cl,CheckBox:rf,TextField:ss,PasswordField:af,Appearance:Ze},at.AcroForm={ChoiceField:sl,ListBox:ll,ComboBox:ul,EditBox:tf,Button:In,PushButton:nf,RadioButton:cl,CheckBox:rf,TextField:ss,PasswordField:af,Appearance:Ze};var gce=at.AcroForm;function xF(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(C,P){var I,M,W,L,R,B=t;if((P=P||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(A(C))for(R in n)for(W=n[R],I=0;I<W.length;I+=1){for(L=!0,M=0;M<W[I].length;M+=1)if(W[I][M]!==void 0&&W[I][M]!==C[M]){L=!1;break}if(L===!0){B=R;break}}else for(R in n)for(W=n[R],I=0;I<W.length;I+=1){for(L=!0,M=0;M<W[I].length;M+=1)if(W[I][M]!==void 0&&W[I][M]!==C.charCodeAt(M)){L=!1;break}if(L===!0){B=R;break}}return B===t&&P!==t&&(B=P),B},a=function C(P){for(var I=this.internal.write,M=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var L=[];if(L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Image"}),L.push({key:"Width",value:P.width}),L.push({key:"Height",value:P.height}),P.colorSpace===w.INDEXED?L.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(L.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===w.DEVICE_CMYK&&L.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),L.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&L.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var R="",B=0,z=P.transparency.length;B<z;B++)R+=P.transparency[B]+" "+P.transparency[B]+" ";L.push({key:"Mask",value:"["+R+"]"})}P.sMask!==void 0&&L.push({key:"SMask",value:P.objectId+1+" 0 R"});var Y=P.filter!==void 0?["/"+P.filter]:void 0;if(M({data:P.data,additionalKeyValues:L,alreadyAppliedFilters:Y,objectId:P.objectId}),I("endobj"),"sMask"in P&&P.sMask!==void 0){var ie="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,_={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:ie,data:P.sMask};"filter"in P&&(_.filter=P.filter),C.call(this,_)}if(P.colorSpace===w.INDEXED){var D=this.internal.newObject();M({data:T(new Uint8Array(P.palette)),objectId:D}),I("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var P in C)a.call(this,C[P])},o=function(){var C,P=this.internal.collections.addImage_images,I=this.internal.write;for(var M in P)I("/I"+(C=P[M]).index,C.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var C=this.internal.collections.addImage_images;return s.call(this),C},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(C){return typeof e["process"+C.toUpperCase()]=="function"},d=function(C){return It(C)==="object"&&C.nodeType===1},p=function(C,P){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var I=""+C.getAttribute("src");if(I.indexOf("data:image/")===0)return ef(unescape(I).split("base64,").pop());var M=e.loadFile(I,!0);if(M!==void 0)return M}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var W;switch(P){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;case"JPEG":case"JPG":default:W="image/jpeg"}return ef(C.toDataURL(W,1).split("base64,").pop())}},f=function(C){var P=this.internal.collections.addImage_images;if(P){for(var I in P)if(C===P[I].alias)return P[I]}},m=function(C,P,I){return C||P||(C=-96,P=-96),C<0&&(C=-1*I.width*72/C/this.internal.scaleFactor),P<0&&(P=-1*I.height*72/P/this.internal.scaleFactor),C===0&&(C=P*I.width/I.height),P===0&&(P=C*I.height/I.width),[C,P]},g=function(C,P,I,M,W,L){var R=m.call(this,I,M,W),B=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,Y=l.call(this);if(I=R[0],M=R[1],Y[W.index]=W,L){L*=Math.PI/180;var ie=Math.cos(L),_=Math.sin(L),D=function(te){return te.toFixed(4)},q=[D(ie),D(_),D(-1*_),D(ie),0,0,"cm"]}this.internal.write("q"),L?(this.internal.write([1,"0","0",1,B(C),z(P+M),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([B(I),"0","0",B(M),"0","0","cm"].join(" "))):this.internal.write([B(I),"0","0",B(M),B(C),z(P+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(C){var P,I,M=0;if(typeof C=="string")for(I=C.length,P=0;P<I;P++)M=(M<<5)-M+C.charCodeAt(P),M|=0;else if(A(C))for(I=C.byteLength/2,P=0;P<I;P++)M=(M<<5)-M+C[P],M|=0;return M},v=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var P=!0;return C.length===0&&(P=!1),C.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(P=!1),P},j=e.__addimage__.extractImageFromDataUrl=function(C){var P=(C=C||"").split("base64,"),I=null;if(P.length===2){var M=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(M)&&(I={mimeType:M[1],charset:M[2],data:P[1]})}return I},N=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(C){return N()&&C instanceof ArrayBuffer};var A=e.__addimage__.isArrayBufferView=function(C){return N()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(C){for(var P=C.length,I=new Uint8Array(P),M=0;M<P;M++)I[M]=C.charCodeAt(M);return I},T=e.__addimage__.arrayBufferToBinaryString=function(C){for(var P="",I=A(C)?C:new Uint8Array(C),M=0;M<I.length;M+=8192)P+=String.fromCharCode.apply(null,I.subarray(M,M+8192));return P};e.addImage=function(){var C,P,I,M,W,L,R,B,z;if(typeof arguments[1]=="number"?(P=t,I=arguments[1],M=arguments[2],W=arguments[3],L=arguments[4],R=arguments[5],B=arguments[6],z=arguments[7]):(P=arguments[1],I=arguments[2],M=arguments[3],W=arguments[4],L=arguments[5],R=arguments[6],B=arguments[7],z=arguments[8]),It(C=arguments[0])==="object"&&!d(C)&&"imageData"in C){var Y=C;C=Y.imageData,P=Y.format||P||t,I=Y.x||I||0,M=Y.y||M||0,W=Y.w||Y.width||W,L=Y.h||Y.height||L,R=Y.alias||R,B=Y.compression||B,z=Y.rotation||Y.angle||z}var ie=this.internal.getFilters();if(B===void 0&&ie.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(I)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var _=E.call(this,C,P,R,B);return g.call(this,I,M,W,L,_,z),this};var E=function(C,P,I,M){var W,L,R;if(typeof C=="string"&&r(C)===t){C=unescape(C);var B=U(C,!1);(B!==""||(B=e.loadFile(C,!0))!==void 0)&&(C=B)}if(d(C)&&(C=p(C,P)),P=r(C,P),!h(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((R=I)==null||R.length===0)&&(I=function(z){return typeof z=="string"||A(z)?x(z):A(z.data)?x(z.data):null}(C)),(W=f.call(this,I))||(N()&&(C instanceof Uint8Array||P==="RGBA"||(L=C,C=k(C))),W=this["process"+P.toUpperCase()](C,c.call(this),I,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in e.image_compression?z:b.NONE}(M),L)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},U=e.__addimage__.convertBase64ToBinaryString=function(C,P){var I;P=typeof P!="boolean"||P;var M,W="";if(typeof C=="string"){M=(I=j(C))!==null?I.data:C;try{W=ef(M)}catch(L){if(P)throw v(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+L.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};e.getImageProperties=function(C){var P,I,M="";if(d(C)&&(C=p(C)),typeof C=="string"&&r(C)===t&&((M=U(C,!1))===""&&(M=e.loadFile(C)||""),C=M),I=r(C),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!N()||C instanceof Uint8Array||(C=k(C)),!(P=this["process"+I.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=I,P}})(at.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,a,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,h=!1,d=0;d<c.length&&!h;d++)switch((r=c[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),x=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+f(b(r.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(b(x))+") >>",g.content=i;var v=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+v,r.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(g.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(m(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var N=this.annotations._nameMap[r.options.name];r.options.pageNumber=N.page,r.options.top=N.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var A=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+A+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,a,i,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+a),h:c(r+i)},options:o,type:"link"})},e.textWithLink=function(n,r,a,i){var o,s,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var h=this.splitTextToSize(n,s).length;o=Math.ceil(c*h)}else s=l,o=c;return this.text(n,r,a,i),a+=.2*c,i.align==="center"&&(r-=l/2),i.align==="right"&&(r-=l),this.link(r,a-c,s,o,i),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(g){var w=0,b=n,x="",v=0;for(w=0;w<g.length;w+=1)b[g.charCodeAt(w)]!==void 0?(v++,typeof(b=b[g.charCodeAt(w)])=="number"&&(x+=String.fromCharCode(b),b=n,v=0),w===g.length-1&&(b=n,x+=g.charAt(w-(v-1)),w-=v-1,v=0)):(b=n,x+=g.charAt(w-v),w-=v,v=0);return x};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,w,b){return o(g)?i(g)===!1?-1:!c(g)||!o(w)&&!o(b)||!o(b)&&s(w)||s(g)&&!o(w)||s(g)&&l(w)||s(g)&&s(w)?0:h(g)&&o(w)&&!s(w)&&o(b)&&c(b)?3:s(g)||!o(b)?1:2:-1},f=function(g){var w=0,b=0,x=0,v="",j="",N="",A=(g=g||"").split("\\s+"),k=[];for(w=0;w<A.length;w+=1){for(k.push(""),b=0;b<A[w].length;b+=1)v=A[w][b],j=A[w][b-1],N=A[w][b+1],o(v)?(x=p(v,j,N),k[w]+=x!==-1?String.fromCharCode(t[v.charCodeAt(0)][x]):v):k[w]+=v;k[w]=d(k[w])}return k.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(w)){var x=0;for(b=[],x=0;x<w.length;x+=1)Array.isArray(w[x])?b.push([f(w[x][0]),w[x][1],w[x][2]]):b.push([f(w[x])]);g=b}else g=f(w);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(at.API),at.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var a;if((n=n||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(at.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,g=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(v,j){return v.concat(w.splitTextToSize(j,b))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)f<(g=this.getStringUnitWidth(l[x],{font:d})*h)&&(f=g);return f!==0&&(m=l.length),{w:f/=p,h:Math.max((m*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,h,d,p){if(r.call(this),!h)throw new Error("No data for PDF table.");var f,m,g,w,b=[],x=[],v=[],j={},N={},A=[],k=[],T=(p=p||{}).autoSize||!1,E=p.printHeaders!==!1,U=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,C=p.margins||Object.assign({width:this.getPageWidth()},t),P=typeof p.padding=="number"?p.padding:3,I=p.headerBackgroundColor||"#c8c8c8",M=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=M,this.setFontSize(U),d==null)x=b=Object.keys(h[0]),v=b.map(function(){return"left"});else if(Array.isArray(d)&&It(d[0])==="object")for(b=d.map(function(Y){return Y.name}),x=d.map(function(Y){return Y.prompt||Y.name||""}),v=d.map(function(Y){return Y.align||"left"}),f=0;f<d.length;f+=1)N[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(x=b=d,v=b.map(function(){return"left"}));if(T||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<b.length;f+=1){for(j[w=b[f]]=h.map(function(Y){return Y[w]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=j[w],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)A.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[w]=Math.max.apply(null,A)+P+P,A=[]}if(E){var W={};for(f=0;f<b.length;f+=1)W[b[f]]={},W[b[f]].text=x[f],W[b[f]].align=v[f];var L=s.call(this,W,N);k=b.map(function(Y){return new i(l,c,N[Y],L,W[Y].text,void 0,W[Y].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var R=d.reduce(function(Y,ie){return Y[ie.name]=ie.align,Y},{});for(f=0;f<h.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:h[f]},this);var B=s.call(this,h[f],N);for(g=0;g<b.length;g+=1){var z=h[f][b[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:g,data:z},this),o.call(this,new i(l,c,N[b[g]],B,z,f+2,R[b[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var s=function(l,c){var h=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-h-h)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/p+h+h},this).reduce(function(f,m){return Math.max(f,m)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){h=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(at.API);var bF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],z2=xF(wF),SF=[100,200,300,400,500,600,700,800,900],yce=xF(SF);function H2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return bF[i=i||"normal"]?i:"normal"}(e.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof z2[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function pk(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var vce={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gk(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function xce(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},vce,n.genericFontFamilies||{}),i=null,o=null,s=0;s<t.length;++s)if(a[(i=H2(t[s])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+gk(i)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var h=z2[l],d=h<=z2.normal?-1:1,p=pk(c,wF,h,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(i.stretch,o),o=function(l,c){if(c[l])return c[l];for(var h=bF[l],d=0;d<h.length;++d)if(c[h[d]])return c[h[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=yce[l],d=pk(c,SF,h,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+gk(i)+"'.");return o}function yk(e){return e.trimLeft()}function bce(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function wce(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Yp,vk,xk,r1=["times"];(function(e){var t,n,r,a,i,o,s,l,c,h=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new l,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new o,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new o,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var d=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var D=_;Object.defineProperty(this,"pdf",{get:function(){return D}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(de){q=!!de}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(de){te=!!de}});var H=0;Object.defineProperty(this,"posX",{get:function(){return H},set:function(de){isNaN(de)||(H=de)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(de){isNaN(de)||(Z=de)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(de){var re;typeof de=="number"?re=[de,de,de,de]:((re=new Array(4))[0]=de[0],re[1]=de.length>=2?de[1]:re[0],re[2]=de.length>=3?de[2]:re[0],re[3]=de.length>=4?de[3]:re[1]),c.margin=re}});var X=!1;Object.defineProperty(this,"autoPaging",{get:function(){return X},set:function(de){X=de}});var G=0;Object.defineProperty(this,"lastBreak",{get:function(){return G},set:function(de){G=de}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(de){ce=de}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(de){de instanceof h&&(c=de)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(de){c.path=de}});var ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return ae},set:function(de){ae=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var re;re=p(de),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var re=p(de);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var le=null;function xe(de,re){if(le===null){var Pe=function(Te){var ke=[];return Object.keys(Te).forEach(function(Oe){Te[Oe].forEach(function(Re){var Ie=null;switch(Re){case"bold":Ie={family:Oe,weight:"bold"};break;case"italic":Ie={family:Oe,style:"italic"};break;case"bolditalic":Ie={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Oe}}Ie!==null&&(Ie.ref={name:Oe,style:Re},ke.push(Ie))})}),ke}(de.getFontList());le=function(Te){for(var ke={},Oe=0;Oe<Te.length;++Oe){var Re=H2(Te[Oe]),Ie=Re.family,Fe=Re.stretch,De=Re.style,Le=Re.weight;ke[Ie]=ke[Ie]||{},ke[Ie][Fe]=ke[Ie][Fe]||{},ke[Ie][Fe][De]=ke[Ie][Fe][De]||{},ke[Ie][Fe][De][Le]=Re}return ke}(Pe.concat(re))}return le}var be=null;Object.defineProperty(this,"fontFaces",{get:function(){return be},set:function(de){le=null,be=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var re;if(this.ctx.font=de,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(de))!==null){var Pe=re[1],Te=(re[2],re[3]),ke=re[4],Oe=(re[5],re[6]),Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Re==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ie=function(tt){var ut,Ne,yt=[],ct=tt.trim();if(ct==="")return r1;if(ct in mk)return[mk[ct]];for(;ct!=="";){switch(Ne=null,ut=(ct=yk(ct)).charAt(0)){case'"':case"'":Ne=bce(ct.substring(1),ut);break;default:Ne=wce(ct)}if(Ne===null||(yt.push(Ne[0]),(ct=yk(Ne[1]))!==""&&ct.charAt(0)!==","))return r1;ct=ct.replace(/^,/,"")}return yt}(Oe);if(this.fontFaces){var Fe=xce(xe(this.pdf,this.fontFaces),Ie.map(function(tt){return{family:tt,stretch:"normal",weight:Te,style:Pe}}));this.pdf.setFont(Fe.ref.name,Fe.ref.style)}else{var De="";(Te==="bold"||parseInt(Te,10)>=700||Pe==="bold")&&(De="bold"),Pe==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var Le="",Ge={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<Ie.length;Ue++){if(this.pdf.internal.getFont(Ie[Ue],De,{noFallback:!0,disableWarning:!0})!==void 0){Le=Ie[Ue];break}if(De==="bolditalic"&&this.pdf.internal.getFont(Ie[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Le=Ie[Ue],De="bold";else if(this.pdf.internal.getFont(Ie[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Le=Ie[Ue],De="normal";break}}if(Le===""){for(var mt=0;mt<Ie.length;mt++)if(Ge[Ie[mt]]){Le=Ge[Ie[mt]];break}}Le=Le===""?"Times":Le,this.pdf.setFont(Le,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};d.prototype.setLineDash=function(_){this.lineDash=_},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){j.call(this,"fill",!1)},d.prototype.stroke=function(){j.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(_,D){if(isNaN(_)||isNaN(D))throw Ht.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(_,D));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(_,D)},d.prototype.closePath=function(){var _=new o(0,0),D=0;for(D=this.path.length-1;D!==-1;D--)if(this.path[D].type==="begin"&&It(this.path[D+1])==="object"&&typeof this.path[D+1].x=="number"){_=new o(this.path[D+1].x,this.path[D+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(_.x,_.y)},d.prototype.lineTo=function(_,D){if(isNaN(_)||isNaN(D))throw Ht.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(_,D));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},d.prototype.quadraticCurveTo=function(_,D,q,te){if(isNaN(q)||isNaN(te)||isNaN(_)||isNaN(D))throw Ht.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var H=this.ctx.transform.applyToPoint(new o(q,te)),Z=this.ctx.transform.applyToPoint(new o(_,D));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},d.prototype.bezierCurveTo=function(_,D,q,te,H,Z){if(isNaN(H)||isNaN(Z)||isNaN(_)||isNaN(D)||isNaN(q)||isNaN(te))throw Ht.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var X=this.ctx.transform.applyToPoint(new o(H,Z)),G=this.ctx.transform.applyToPoint(new o(_,D)),ce=this.ctx.transform.applyToPoint(new o(q,te));this.path.push({type:"bct",x1:G.x,y1:G.y,x2:ce.x,y2:ce.y,x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},d.prototype.arc=function(_,D,q,te,H,Z){if(isNaN(_)||isNaN(D)||isNaN(q)||isNaN(te)||isNaN(H))throw Ht.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var X=this.ctx.transform.applyToPoint(new o(_,D));_=X.x,D=X.y;var G=this.ctx.transform.applyToPoint(new o(0,q)),ce=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(G.x-ce.x,2)+Math.pow(G.y-ce.y,2))}Math.abs(H-te)>=2*Math.PI&&(te=0,H=2*Math.PI),this.path.push({type:"arc",x:_,y:D,radius:q,startAngle:te,endAngle:H,counterclockwise:Z})},d.prototype.arcTo=function(_,D,q,te,H){throw new Error("arcTo not implemented.")},d.prototype.rect=function(_,D,q,te){if(isNaN(_)||isNaN(D)||isNaN(q)||isNaN(te))throw Ht.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,D),this.lineTo(_+q,D),this.lineTo(_+q,D+te),this.lineTo(_,D+te),this.lineTo(_,D),this.lineTo(_+q,D),this.lineTo(_,D)},d.prototype.fillRect=function(_,D,q,te){if(isNaN(_)||isNaN(D)||isNaN(q)||isNaN(te))throw Ht.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var H={};this.lineCap!=="butt"&&(H.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(H.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,D,q,te),this.fill(),H.hasOwnProperty("lineCap")&&(this.lineCap=H.lineCap),H.hasOwnProperty("lineJoin")&&(this.lineJoin=H.lineJoin)}},d.prototype.strokeRect=function(_,D,q,te){if(isNaN(_)||isNaN(D)||isNaN(q)||isNaN(te))throw Ht.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(_,D,q,te),this.stroke())},d.prototype.clearRect=function(_,D,q,te){if(isNaN(_)||isNaN(D)||isNaN(q)||isNaN(te))throw Ht.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,D,q,te))},d.prototype.save=function(_){_=typeof _!="boolean"||_;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(D),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},d.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(D),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(_){var D,q,te,H;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))D=0,q=0,te=0,H=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(Z!==null)D=parseInt(Z[1]),q=parseInt(Z[2]),te=parseInt(Z[3]),H=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)D=parseInt(Z[1]),q=parseInt(Z[2]),te=parseInt(Z[3]),H=parseFloat(Z[4]);else{if(H=1,typeof _=="string"&&_.charAt(0)!=="#"){var X=new hF(_);_=X.ok?X.toHex():"#000000"}_.length===4?(D=_.substring(1,2),D+=D,q=_.substring(2,3),q+=q,te=_.substring(3,4),te+=te):(D=_.substring(1,3),q=_.substring(3,5),te=_.substring(5,7)),D=parseInt(D,16),q=parseInt(q,16),te=parseInt(te,16)}}return{r:D,g:q,b:te,a:H,style:_}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(_,D,q,te){if(isNaN(D)||isNaN(q)||typeof _!="string")throw Ht.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!f.call(this)){var H=B(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;P.call(this,{text:_,x:D,y:q,scale:Z,angle:H,align:this.textAlign,maxWidth:te})}},d.prototype.strokeText=function(_,D,q,te){if(isNaN(D)||isNaN(q)||typeof _!="string")throw Ht.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){te=isNaN(te)?void 0:te;var H=B(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;P.call(this,{text:_,x:D,y:q,scale:Z,renderingMode:"stroke",angle:H,align:this.textAlign,maxWidth:te})}},d.prototype.measureText=function(_){if(typeof _!="string")throw Ht.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var D=this.pdf,q=this.pdf.internal.scaleFactor,te=D.internal.getFontSize(),H=D.getStringUnitWidth(_)*te/D.internal.scaleFactor,Z=function(X){var G=(X=X||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return G}}),this};return new Z({width:H*=Math.round(96*q/72*1e4)/1e4})},d.prototype.scale=function(_,D){if(isNaN(_)||isNaN(D))throw Ht.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(_,0,0,D,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.rotate=function(_){if(isNaN(_))throw Ht.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var D=new l(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(D)},d.prototype.translate=function(_,D){if(isNaN(_)||isNaN(D))throw Ht.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,_,D);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.transform=function(_,D,q,te,H,Z){if(isNaN(_)||isNaN(D)||isNaN(q)||isNaN(te)||isNaN(H)||isNaN(Z))throw Ht.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var X=new l(_,D,q,te,H,Z);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.setTransform=function(_,D,q,te,H,Z){_=isNaN(_)?1:_,D=isNaN(D)?0:D,q=isNaN(q)?0:q,te=isNaN(te)?1:te,H=isNaN(H)?0:H,Z=isNaN(Z)?0:Z,this.ctx.transform=new l(_,D,q,te,H,Z)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(_,D,q,te,H,Z,X,G,ce){var ae=this.pdf.getImageProperties(_),le=1,xe=1,be=1,de=1;te!==void 0&&G!==void 0&&(be=G/te,de=ce/H,le=ae.width/te*G/te,xe=ae.height/H*ce/H),Z===void 0&&(Z=D,X=q,D=0,q=0),te!==void 0&&G===void 0&&(G=te,ce=H),te===void 0&&G===void 0&&(G=ae.width,ce=ae.height);for(var re,Pe=this.ctx.transform.decompose(),Te=B(Pe.rotate.shx),ke=new l,Oe=(ke=(ke=(ke=ke.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale)).applyToRectangle(new s(Z-D*be,X-q*de,te*le,H*xe)),Re=w.call(this,Oe),Ie=[],Fe=0;Fe<Re.length;Fe+=1)Ie.indexOf(Re[Fe])===-1&&Ie.push(Re[Fe]);if(v(Ie),this.autoPaging)for(var De=Ie[0],Le=Ie[Ie.length-1],Ge=De;Ge<Le+1;Ge++){this.pdf.setPage(Ge);var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=Ge===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ne=Ge===1?0:tt+(Ge-2)*ut;if(this.ctx.clip_path.length!==0){var yt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(re,this.posX+this.margin[3],-Ne+mt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=yt}var ct=JSON.parse(JSON.stringify(Oe));ct=x([ct],this.posX+this.margin[3],-Ne+mt+this.ctx.prevPageLastElemOffset)[0];var jn=(Ge>De||Ge<Le)&&g.call(this);jn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,ut,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,Te),jn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Te)};var w=function(_,D,q){var te=[];D=D||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var H=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":te.push(Math.floor((_.y+H)/q)+1);break;case"arc":te.push(Math.floor((_.y+H-_.radius)/q)+1),te.push(Math.floor((_.y+H+_.radius)/q)+1);break;case"qct":var Z=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);te.push(Math.floor((Z.y+H)/q)+1),te.push(Math.floor((Z.y+Z.h+H)/q)+1);break;case"bct":var X=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);te.push(Math.floor((X.y+H)/q)+1),te.push(Math.floor((X.y+X.h+H)/q)+1);break;case"rect":te.push(Math.floor((_.y+H)/q)+1),te.push(Math.floor((_.y+_.h+H)/q)+1)}for(var G=0;G<te.length;G+=1)for(;this.pdf.internal.getNumberOfPages()<te[G];)b.call(this);return te},b=function(){var _=this.fillStyle,D=this.strokeStyle,q=this.font,te=this.lineCap,H=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=D,this.font=q,this.lineCap=te,this.lineWidth=H,this.lineJoin=Z},x=function(_,D,q){for(var te=0;te<_.length;te++)switch(_[te].type){case"bct":_[te].x2+=D,_[te].y2+=q;case"qct":_[te].x1+=D,_[te].y1+=q;case"mt":case"lt":case"arc":default:_[te].x+=D,_[te].y+=q}return _},v=function(_){return _.sort(function(D,q){return D-q})},j=function(_,D){for(var q,te,H=this.fillStyle,Z=this.strokeStyle,X=this.lineCap,G=this.lineWidth,ce=Math.abs(G*this.ctx.transform.scaleX),ae=this.lineJoin,le=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),be=[],de=0;de<xe.length;de++)if(xe[de].x!==void 0)for(var re=w.call(this,xe[de]),Pe=0;Pe<re.length;Pe+=1)be.indexOf(re[Pe])===-1&&be.push(re[Pe]);for(var Te=0;Te<be.length;Te++)for(;this.pdf.internal.getNumberOfPages()<be[Te];)b.call(this);if(v(be),this.autoPaging)for(var ke=be[0],Oe=be[be.length-1],Re=ke;Re<Oe+1;Re++){this.pdf.setPage(Re),this.fillStyle=H,this.strokeStyle=Z,this.lineCap=X,this.lineWidth=ce,this.lineJoin=ae;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=Re===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Re===1?0:De+(Re-2)*Le;if(this.ctx.clip_path.length!==0){var Ue=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(q,this.posX+this.margin[3],-Ge+Fe+this.ctx.prevPageLastElemOffset),N.call(this,_,!0),this.path=Ue}if(te=JSON.parse(JSON.stringify(le)),this.path=x(te,this.posX+this.margin[3],-Ge+Fe+this.ctx.prevPageLastElemOffset),D===!1||Re===0){var mt=(Re>ke||Re<Oe)&&g.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Le,null).clip().discardPath()),N.call(this,_,D),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=G}else this.lineWidth=ce,N.call(this,_,D),this.lineWidth=G;this.path=le},N=function(_,D){if((_!=="stroke"||D||!m.call(this))&&(_==="stroke"||D||!f.call(this))){for(var q,te,H=[],Z=this.path,X=0;X<Z.length;X++){var G=Z[X];switch(G.type){case"begin":H.push({begin:!0});break;case"close":H.push({close:!0});break;case"mt":H.push({start:G,deltas:[],abs:[]});break;case"lt":var ce=H.length;if(Z[X-1]&&!isNaN(Z[X-1].x)&&(q=[G.x-Z[X-1].x,G.y-Z[X-1].y],ce>0)){for(;ce>=0;ce--)if(H[ce-1].close!==!0&&H[ce-1].begin!==!0){H[ce-1].deltas.push(q),H[ce-1].abs.push(G);break}}break;case"bct":q=[G.x1-Z[X-1].x,G.y1-Z[X-1].y,G.x2-Z[X-1].x,G.y2-Z[X-1].y,G.x-Z[X-1].x,G.y-Z[X-1].y],H[H.length-1].deltas.push(q);break;case"qct":var ae=Z[X-1].x+2/3*(G.x1-Z[X-1].x),le=Z[X-1].y+2/3*(G.y1-Z[X-1].y),xe=G.x+2/3*(G.x1-G.x),be=G.y+2/3*(G.y1-G.y),de=G.x,re=G.y;q=[ae-Z[X-1].x,le-Z[X-1].y,xe-Z[X-1].x,be-Z[X-1].y,de-Z[X-1].x,re-Z[X-1].y],H[H.length-1].deltas.push(q);break;case"arc":H.push({deltas:[],abs:[],arc:!0}),Array.isArray(H[H.length-1].abs)&&H[H.length-1].abs.push(G)}}te=D?null:_==="stroke"?"stroke":"fill";for(var Pe=!1,Te=0;Te<H.length;Te++)if(H[Te].arc)for(var ke=H[Te].abs,Oe=0;Oe<ke.length;Oe++){var Re=ke[Oe];Re.type==="arc"?T.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,D,!Pe):I.call(this,Re.x,Re.y),Pe=!0}else if(H[Te].close===!0)this.pdf.internal.out("h"),Pe=!1;else if(H[Te].begin!==!0){var Ie=H[Te].start.x,Fe=H[Te].start.y;M.call(this,H[Te].deltas,Ie,Fe),Pe=!0}te&&E.call(this,te),D&&U.call(this)}},A=function(_){var D=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=D*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-q;case"top":return _+D-q;case"hanging":return _+D-2*q;case"middle":return _+D/2-q;case"ideographic":return _;case"alphabetic":default:return _}},k=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(D,q){this.colorStops.push([D,q])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(_,D,q,te,H,Z,X,G,ce){for(var ae=L.call(this,q,te,H,Z),le=0;le<ae.length;le++){var xe=ae[le];le===0&&(ce?C.call(this,xe.x1+_,xe.y1+D):I.call(this,xe.x1+_,xe.y1+D)),W.call(this,_,D,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}G?U.call(this):E.call(this,X)},E=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(_,D){this.pdf.internal.out(n(_)+" "+r(D)+" m")},P=function(_){var D;switch(_.align){case"right":case"end":D="right";break;case"center":D="center";break;case"left":case"start":default:D="left"}var q=this.pdf.getTextDimensions(_.text),te=A.call(this,_.y),H=k.call(this,te)-q.h,Z=this.ctx.transform.applyToPoint(new o(_.x,te)),X=this.ctx.transform.decompose(),G=new l;G=(G=(G=G.multiply(X.translate)).multiply(X.skew)).multiply(X.scale);for(var ce,ae,le,xe=this.ctx.transform.applyToRectangle(new s(_.x,te,q.w,q.h)),be=G.applyToRectangle(new s(_.x,H,q.w,q.h)),de=w.call(this,be),re=[],Pe=0;Pe<de.length;Pe+=1)re.indexOf(de[Pe])===-1&&re.push(de[Pe]);if(v(re),this.autoPaging)for(var Te=re[0],ke=re[re.length-1],Oe=Te;Oe<ke+1;Oe++){this.pdf.setPage(Oe);var Re=Oe===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[2],De=Fe-this.margin[0],Le=this.pdf.internal.pageSize.width-this.margin[1],Ge=Le-this.margin[3],Ue=Oe===1?0:Ie+(Oe-2)*De;if(this.ctx.clip_path.length!==0){var mt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ce,this.posX+this.margin[3],-1*Ue+Re),N.call(this,"fill",!0),this.path=mt}var tt=x([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-Ue+Re+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*_.scale),le=this.lineWidth,this.lineWidth=le*_.scale);var ut=this.autoPaging!=="text";if(ut||tt.y+tt.h<=Fe){if(ut||tt.y>=Re&&tt.x<=Le){var Ne=ut?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||Le-tt.x)[0],yt=x([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Ue+Re+this.ctx.prevPageLastElemOffset)[0],ct=ut&&(Oe>Te||Oe<ke)&&g.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,De,null).clip().discardPath()),this.pdf.text(Ne,yt.x,yt.y,{angle:_.angle,align:D,renderingMode:_.renderingMode}),ct&&this.pdf.restoreGraphicsState()}}else tt.y<Fe&&(this.ctx.prevPageLastElemOffset+=Fe-tt.y);_.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=le)}else _.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*_.scale),le=this.lineWidth,this.lineWidth=le*_.scale),this.pdf.text(_.text,Z.x+this.posX,Z.y+this.posY,{angle:_.angle,align:D,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=le)},I=function(_,D,q,te){q=q||0,te=te||0,this.pdf.internal.out(n(_+q)+" "+r(D+te)+" l")},M=function(_,D,q){return this.pdf.lines(_,D,q,null,null)},W=function(_,D,q,te,H,Z,X,G){this.pdf.internal.out([t(a(q+_)),t(i(te+D)),t(a(H+_)),t(i(Z+D)),t(a(X+_)),t(i(G+D)),"c"].join(" "))},L=function(_,D,q,te){for(var H=2*Math.PI,Z=Math.PI/2;D>q;)D-=H;var X=Math.abs(q-D);X<H&&te&&(X=H-X);for(var G=[],ce=te?-1:1,ae=D;X>1e-5;){var le=ae+ce*Math.min(X,Z);G.push(R.call(this,_,ae,le)),X-=Math.abs(le-ae),ae=le}return G},R=function(_,D,q){var te=(q-D)/2,H=_*Math.cos(te),Z=_*Math.sin(te),X=H,G=-Z,ce=X*X+G*G,ae=ce+X*H+G*Z,le=4/3*(Math.sqrt(2*ce*ae)-ae)/(X*Z-G*H),xe=X-le*G,be=G+le*X,de=xe,re=-be,Pe=te+D,Te=Math.cos(Pe),ke=Math.sin(Pe);return{x1:_*Math.cos(D),y1:_*Math.sin(D),x2:xe*Te-be*ke,y2:xe*ke+be*Te,x3:de*Te-re*ke,y3:de*ke+re*Te,x4:_*Math.cos(q),y4:_*Math.sin(q)}},B=function(_){return 180*_/Math.PI},z=function(_,D,q,te,H,Z){var X=_+.5*(q-_),G=D+.5*(te-D),ce=H+.5*(q-H),ae=Z+.5*(te-Z),le=Math.min(_,H,X,ce),xe=Math.max(_,H,X,ce),be=Math.min(D,Z,G,ae),de=Math.max(D,Z,G,ae);return new s(le,be,xe-le,de-be)},Y=function(_,D,q,te,H,Z,X,G){var ce,ae,le,xe,be,de,re,Pe,Te,ke,Oe,Re,Ie,Fe,De=q-_,Le=te-D,Ge=H-q,Ue=Z-te,mt=X-H,tt=G-Z;for(ae=0;ae<41;ae++)Te=(re=(le=_+(ce=ae/40)*De)+ce*((be=q+ce*Ge)-le))+ce*(be+ce*(H+ce*mt-be)-re),ke=(Pe=(xe=D+ce*Le)+ce*((de=te+ce*Ue)-xe))+ce*(de+ce*(Z+ce*tt-de)-Pe),ae==0?(Oe=Te,Re=ke,Ie=Te,Fe=ke):(Oe=Math.min(Oe,Te),Re=Math.min(Re,ke),Ie=Math.max(Ie,Te),Fe=Math.max(Fe,ke));return new s(Math.round(Oe),Math.round(Re),Math.round(Ie-Oe),Math.round(Fe-Re))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,D,q=(_=this.ctx.lineDash,D=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:D}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(at.API),function(e){var t=function(i){var o,s,l,c,h,d,p,f,m,g;for(s=[],l=0,c=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(h=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(h=((h=((h=((h=(h-(g=h%85))/85)-(m=h%85))/85)-(f=h%85))/85)-(p=h%85))/85)%85,s.push(d+33,p+33,f+33,m+33,g+33)):s.push(122);return function(w,b){for(var x=b;x>0;x--)w.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(i){var o,s,l,c,h,d=String,p="length",f=255,m="charCodeAt",g="slice",w="replace";for(i[g](-2),i=i[g](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],c=0,h=(i+=o="uuuuu"[g](i[p]%5||5))[p];h>c;c+=5)s=52200625*(i[m](c)-33)+614125*(i[m](c+1)-33)+7225*(i[m](c+2)-33)+85*(i[m](c+3)-33)+(i[m](c+4)-33),l.push(f&s>>24,f&s>>16,f&s>>8,f&s);return function(b,x){for(var v=x;v>0;v--)b.pop()}(l,o[p]),d.fromCharCode.apply(d,l)},r=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var s="",l=0;l<i.length;l+=2)s+=String.fromCharCode("0x"+(i[l]+i[l+1]));return s},a=function(i){for(var o=new Uint8Array(i.length),s=i.length;s--;)o[s]=i.charCodeAt(s);return i=(o=$2(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,o){var s=0,l=i||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(at.API),function(e){e.loadFile=function(t,n,r){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,c,h){var d=new XMLHttpRequest,p=0,f=function(m){var g=m.length,w=[],b=String.fromCharCode;for(p=0;p<g;p+=1)w.push(b(255&m.charCodeAt(p)));return w.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?h(f(this.responseText)):h(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(a,i,o)}catch{}return s}(t,n,r)},e.loadImageFile=e.loadFile}(at.API),function(e){function t(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):E2(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):E2(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=It(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},a=function(o,s){var l=document.createElement(o);for(var c in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[c]=s.style[c];return l},i=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(s)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,s){return o.__proto__=s||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:a("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(c,h){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(l(p,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var f=c[p],m=f.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),s(this.prop.container,d)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},i.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},i.prototype.get=function(o,s){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function s(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,s,l,c){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,s,l,c){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,h).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),h=l.call(c,o,s);return i.convert(h,this.__proto__)},i.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},i.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},i.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return i.convert(s,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,at.getPageSize=function(o,s,l){if(It(o)==="object"){var c=o;o=c.orientation,s=c.unit||s,l=c.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var h,d=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+s}var f,m=0,g=0;if(p.hasOwnProperty(d))m=p[d][1]/h,g=p[d][0]/h;else try{m=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>m&&(f=g,g=m,m=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>g&&(f=g,g=m,m=f)}return{width:g,height:m,unit:s,k:h,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(H2):null;var l=new i(s);return s.worker?l:l.from(o).doCallback()}}(at.API),at.API.addJS=function(e){return xk=e,this.internal.events.subscribe("postPutResources",function(){Yp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),vk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yp!==void 0&&vk!==void 0&&this.internal.out("/Names <</JavaScript "+Yp+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(i=0;i<c;i++){var d=n.internal.newObject();h.push(d);var p=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<h.length;i++)n.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,a,i){var o={title:a,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,a){for(var i=0;i<a.children.length;i++)r.count++,this.count_r(r,a.children[i]);return r.count}}])}(at.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,a,i,o,s){var l,c=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var p,f=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,g={width:0,height:0,numcomponents:1},w=4;w<m;w+=2){if(w+=f,t.indexOf(d.charCodeAt(w+1))!==-1){p=256*d.charCodeAt(w+5)+d.charCodeAt(w+6),g={width:256*d.charCodeAt(w+7)+d.charCodeAt(w+8),height:p,numcomponents:d.charCodeAt(w+9)};break}f=256*d.charCodeAt(w+2)+d.charCodeAt(w+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:c,index:r,alias:a}}return h}}(at.API);var du,Xp,bk,wk,Sk,Sce=function(){var e,t,n;function r(i){var o,s,l,c,h,d,p,f,m,g,w,b,x,v;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),m=(function(){var j,N;for(N=[],j=0;j<4;++j)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*h/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),i=(d!=null?d.data:void 0)||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(x=0;0<=g?x<g:x>g;0<=g?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(w=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,w.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,w.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(v=this.colorType)===4||v===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var o,s;for(s=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function h(d,p,f,m){var g,w,b,x,v,j,N,A,k,T,E,U,C,P,I,M,W,L,R,B,z,Y=Math.ceil((c.width-d)/f),ie=Math.ceil((c.height-p)/m),_=c.width==Y&&c.height==ie;for(P=o*Y,U=_?s:new Uint8Array(P*ie),j=i.length,C=0,w=0;C<ie&&l<j;){switch(i[l++]){case 0:for(x=W=0;W<P;x=W+=1)U[w++]=i[l++];break;case 1:for(x=L=0;L<P;x=L+=1)g=i[l++],v=x<o?0:U[w-o],U[w++]=(g+v)%256;break;case 2:for(x=R=0;R<P;x=R+=1)g=i[l++],b=(x-x%o)/o,I=C&&U[(C-1)*P+b*o+x%o],U[w++]=(I+g)%256;break;case 3:for(x=B=0;B<P;x=B+=1)g=i[l++],b=(x-x%o)/o,v=x<o?0:U[w-o],I=C&&U[(C-1)*P+b*o+x%o],U[w++]=(g+Math.floor((v+I)/2))%256;break;case 4:for(x=z=0;z<P;x=z+=1)g=i[l++],b=(x-x%o)/o,v=x<o?0:U[w-o],C===0?I=M=0:(I=U[(C-1)*P+b*o+x%o],M=b&&U[(C-1)*P+(b-1)*o+x%o]),N=v+I-M,A=Math.abs(N-v),T=Math.abs(N-I),E=Math.abs(N-M),k=A<=T&&A<=E?v:T<=E?I:M,U[w++]=(g+k)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!_){var D=((p+C*m)*c.width+d)*o,q=C*P;for(x=0;x<Y;x+=1){for(var te=0;te<o;te+=1)s[D++]=U[q++];D+=(f-1)*o}}C++}}return i=Zue(i),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),s},r.prototype.decodePalette=function(){var i,o,s,l,c,h,d,p,f;for(s=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+s.length),l=0,i=0,o=d=0,p=s.length;d<p;o=d+=3)c[l++]=s[o],c[l++]=s[o+1],c[l++]=s[o+2],c[l++]=(f=h[i++])!=null?f:255;return c},r.prototype.copyToImageData=function(i,o){var s,l,c,h,d,p,f,m,g,w,b;if(l=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,s=!0),m=(c=i.data||i).length,d=g||o,h=p=0,l===1)for(;h<m;)f=g?4*o[h/4]:p,w=d[f++],c[h++]=w,c[h++]=w,c[h++]=w,c[h++]=s?d[f++]:255,p=f;else for(;h<m;)f=g?4*o[h/4]:p,c[h++]=d[f++],c[h++]=d[f++],c[h++]=d[f++],c[h++]=s?d[f++]:255,p=f},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{t=lt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var o,s,l,c,h,d,p,f;if(this.animation){for(f=[],s=h=0,d=(p=this.animation.frames).length;h<d;s=++h)o=p[s],l=i.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=e(l));return f}},r.prototype.renderFrame=function(i,o){var s,l,c;return s=(l=this.animation.frames)[o],c=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),s.blendOp===0&&i.clearRect(s.xOffset,s.yOffset,s.width,s.height),i.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(i){var o,s,l,c,h,d,p=this;return s=0,d=this.animation,c=d.numFrames,l=d.frames,h=d.numPlays,(o=function(){var f,m;if(f=s++%c,m=l[f],p.renderFrame(i,f),c>1&&s/c<h)return p.animation._timeout=setTimeout(o,m.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var o,s;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Nce(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var s=null,l=null;i&&(s=t,l=o,t+=3*o);var c=!0,h=[],d=0,p=null,f=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];d=e[t++]|e[t++]<<8,p=e[t++],!(1&g)&&(p=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,j=e[t++],N=j>>6&1,A=1<<(7&j)+1,k=s,T=l,E=!1;j>>7&&(E=!0,k=t,T=A,t+=3*A);var U=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}h.push({x:w,y:b,width:x,height:v,has_local_palette:E,palette_offset:k,palette_size:T,data_offset:U,data_length:t-U,transparent_index:p,interlaced:!!N,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return m},this.frameInfo=function(P){if(P<0||P>=h.length)throw new Error("Frame index out of range.");return h[P]},this.decodeAndBlitFrameBGRA=function(P,I){var M=this.frameInfo(P),W=M.width*M.height,L=new Uint8Array(W);Nk(e,M.data_offset,L,W);var R=M.palette_offset,B=M.transparent_index;B===null&&(B=256);var z=M.width,Y=n-z,ie=z,_=4*(M.y*n+M.x),D=4*((M.y+M.height)*n+M.x),q=_,te=4*Y;M.interlaced===!0&&(te+=4*n*7);for(var H=8,Z=0,X=L.length;Z<X;++Z){var G=L[Z];if(ie===0&&(ie=z,(q+=te)>=D&&(te=4*Y+4*n*(H-1),q=_+(z+Y)*(H<<1),H>>=1)),G===B)q+=4;else{var ce=e[R+3*G],ae=e[R+3*G+1],le=e[R+3*G+2];I[q++]=le,I[q++]=ae,I[q++]=ce,I[q++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(P,I){var M=this.frameInfo(P),W=M.width*M.height,L=new Uint8Array(W);Nk(e,M.data_offset,L,W);var R=M.palette_offset,B=M.transparent_index;B===null&&(B=256);var z=M.width,Y=n-z,ie=z,_=4*(M.y*n+M.x),D=4*((M.y+M.height)*n+M.x),q=_,te=4*Y;M.interlaced===!0&&(te+=4*n*7);for(var H=8,Z=0,X=L.length;Z<X;++Z){var G=L[Z];if(ie===0&&(ie=z,(q+=te)>=D&&(te=4*Y+4*n*(H-1),q=_+(z+Y)*(H<<1),H>>=1)),G===B)q+=4;else{var ce=e[R+3*G],ae=e[R+3*G+1],le=e[R+3*G+2];I[q++]=ce,I[q++]=ae,I[q++]=le,I[q++]=255}--ie}}}function Nk(e,t,n,r){for(var a=e[t++],i=1<<a,o=i+1,s=o+1,l=a+1,c=(1<<l)-1,h=0,d=0,p=0,f=e[t++],m=new Int32Array(4096),g=null;;){for(;h<16&&f!==0;)d|=e[t++]<<h,h+=8,f===1?f=e[t++]:--f;if(h<l)break;var w=d&c;if(d>>=l,h-=l,w!==i){if(w===o)break;for(var b=w<s?w:g,x=0,v=b;v>i;)v=m[v]>>8,++x;var j=v;if(p+x+(b!==w?1:0)>r)return void Ht.log("Warning, gif stream longer than expected.");n[p++]=j;var N=p+=x;for(b!==w&&(n[p++]=j),v=b;x--;)v=m[v],n[--N]=255&v,v>>=8;g!==null&&s<4096&&(m[s++]=g<<8|j,s>=c+1&&l<12&&(++l,c=c<<1|1)),g=w}else s=o+1,c=(1<<(l=a+1))-1,g=null}return p!==r&&Ht.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function a1(e){var t,n,r,a,i,o=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),d=new Array(65535),p=new Array(65535),f=new Array(64),m=new Array(64),g=[],w=0,b=7,x=new Array(64),v=new Array(64),j=new Array(64),N=new Array(256),A=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(_,D){for(var q=0,te=0,H=new Array,Z=1;Z<=16;Z++){for(var X=1;X<=_[Z];X++)H[D[te]]=[],H[D[te]][0]=q,H[D[te]][1]=Z,te++,q++;q*=2}return H}function R(_){for(var D=_[0],q=_[1]-1;q>=0;)D&1<<q&&(w|=1<<b),q--,--b<0&&(w==255?(B(255),B(0)):B(w),b=7,w=0)}function B(_){g.push(_)}function z(_){B(_>>8&255),B(255&_)}function Y(_,D,q,te,H){for(var Z,X=H[0],G=H[240],ce=function(ke,Oe){var Re,Ie,Fe,De,Le,Ge,Ue,mt,tt,ut,Ne=0;for(tt=0;tt<8;++tt){Re=ke[Ne],Ie=ke[Ne+1],Fe=ke[Ne+2],De=ke[Ne+3],Le=ke[Ne+4],Ge=ke[Ne+5],Ue=ke[Ne+6];var yt=Re+(mt=ke[Ne+7]),ct=Re-mt,jn=Ie+Ue,Ct=Ie-Ue,Ot=Fe+Ge,ar=Fe-Ge,bt=De+Le,ws=De-Le,un=yt+bt,La=yt-bt,Di=jn+Ot,cn=jn-Ot;ke[Ne]=un+Di,ke[Ne+4]=un-Di;var ft=.707106781*(cn+La);ke[Ne+2]=La+ft,ke[Ne+6]=La-ft;var _t=.382683433*((un=ws+ar)-(cn=Ct+ct)),Ss=.5411961*un+_t,Yn=1.306562965*cn+_t,di=.707106781*(Di=ar+Ct),fi=ct+di,ot=ct-di;ke[Ne+5]=ot+Ss,ke[Ne+3]=ot-Ss,ke[Ne+1]=fi+Yn,ke[Ne+7]=fi-Yn,Ne+=8}for(Ne=0,tt=0;tt<8;++tt){Re=ke[Ne],Ie=ke[Ne+8],Fe=ke[Ne+16],De=ke[Ne+24],Le=ke[Ne+32],Ge=ke[Ne+40],Ue=ke[Ne+48];var Ma=Re+(mt=ke[Ne+56]),hi=Re-mt,Tr=Ie+Ue,_n=Ie-Ue,kn=Fe+Ge,Gr=Fe-Ge,Ol=De+Le,Ii=De-Le,Da=Ma+Ol,Ia=Ma-Ol,$a=Tr+kn,pi=Tr-kn;ke[Ne]=Da+$a,ke[Ne+32]=Da-$a;var ca=.707106781*(pi+Ia);ke[Ne+16]=Ia+ca,ke[Ne+48]=Ia-ca;var mi=.382683433*((Da=Ii+Gr)-(pi=_n+hi)),Ns=.5411961*Da+mi,Tl=1.306562965*pi+mi,Fl=.707106781*($a=Gr+_n),_l=hi+Fl,El=hi-Fl;ke[Ne+40]=El+Ns,ke[Ne+24]=El-Ns,ke[Ne+8]=_l+Tl,ke[Ne+56]=_l-Tl,Ne++}for(tt=0;tt<64;++tt)ut=ke[tt]*Oe[tt],f[tt]=ut>0?ut+.5|0:ut-.5|0;return f}(_,D),ae=0;ae<64;++ae)m[k[ae]]=ce[ae];var le=m[0]-q;q=m[0],le==0?R(te[0]):(R(te[p[Z=32767+le]]),R(d[Z]));for(var xe=63;xe>0&&m[xe]==0;)xe--;if(xe==0)return R(X),q;for(var be,de=1;de<=xe;){for(var re=de;m[de]==0&&de<=xe;)++de;var Pe=de-re;if(Pe>=16){be=Pe>>4;for(var Te=1;Te<=be;++Te)R(G);Pe&=15}Z=32767+m[de],R(H[(Pe<<4)+p[Z]]),R(d[Z]),de++}return xe!=63&&R(X),q}function ie(_){_=Math.min(Math.max(_,1),100),i!=_&&(function(D){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var H=o((q[te]*D+50)/100);H=Math.min(Math.max(H,1),255),s[k[te]]=H}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],X=0;X<64;X++){var G=o((Z[X]*D+50)/100);G=Math.min(Math.max(G,1),255),l[k[X]]=G}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ae=0,le=0;le<8;le++)for(var xe=0;xe<8;xe++)c[ae]=1/(s[k[ae]]*ce[le]*ce[xe]*8),h[ae]=1/(l[k[ae]]*ce[le]*ce[xe]*8),ae++}(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),i=_)}this.encode=function(_,D){D&&ie(D),g=new Array,w=0,b=7,z(65496),z(65504),z(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),z(1),z(1),B(0),B(0),function(){z(65499),z(132),B(0);for(var Ie=0;Ie<64;Ie++)B(s[Ie]);B(1);for(var Fe=0;Fe<64;Fe++)B(l[Fe])}(),function(Ie,Fe){z(65472),z(17),B(8),z(Fe),z(Ie),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(_.width,_.height),function(){z(65476),z(418),B(0);for(var Ie=0;Ie<16;Ie++)B(T[Ie+1]);for(var Fe=0;Fe<=11;Fe++)B(E[Fe]);B(16);for(var De=0;De<16;De++)B(U[De+1]);for(var Le=0;Le<=161;Le++)B(C[Le]);B(1);for(var Ge=0;Ge<16;Ge++)B(P[Ge+1]);for(var Ue=0;Ue<=11;Ue++)B(I[Ue]);B(17);for(var mt=0;mt<16;mt++)B(M[mt+1]);for(var tt=0;tt<=161;tt++)B(W[tt])}(),z(65498),z(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var q=0,te=0,H=0;w=0,b=7,this.encode.displayName="_encode_";for(var Z,X,G,ce,ae,le,xe,be,de,re=_.data,Pe=_.width,Te=_.height,ke=4*Pe,Oe=0;Oe<Te;){for(Z=0;Z<ke;){for(ae=ke*Oe+Z,xe=-1,be=0,de=0;de<64;de++)le=ae+(be=de>>3)*ke+(xe=4*(7&de)),Oe+be>=Te&&(le-=ke*(Oe+1+be-Te)),Z+xe>=ke&&(le-=Z+xe-ke+4),X=re[le++],G=re[le++],ce=re[le++],x[de]=(A[X]+A[G+256>>0]+A[ce+512>>0]>>16)-128,v[de]=(A[X+768>>0]+A[G+1024>>0]+A[ce+1280>>0]>>16)-128,j[de]=(A[X+1280>>0]+A[G+1536>>0]+A[ce+1792>>0]>>16)-128;q=Y(x,c,q,t,r),te=Y(v,h,te,n,a),H=Y(j,h,H,n,a),Z+=32}Oe+=8}if(b>=0){var Re=[];Re[1]=b+1,Re[0]=(1<<b+1)-1,R(Re)}return z(65497),new Uint8Array(g)},e=e||50,function(){for(var _=String.fromCharCode,D=0;D<256;D++)N[D]=_(D)}(),t=L(T,E),n=L(P,I),r=L(U,C),a=L(M,W),function(){for(var _=1,D=2,q=1;q<=15;q++){for(var te=_;te<D;te++)p[32767+te]=q,d[32767+te]=[],d[32767+te][1]=q,d[32767+te][0]=te;for(var H=-(D-1);H<=-_;H++)p[32767+H]=q,d[32767+H]=[],d[32767+H][1]=q,d[32767+H][0]=D-1+H;_<<=1,D<<=1}}(),function(){for(var _=0;_<256;_++)A[_]=19595*_,A[_+256>>0]=38470*_,A[_+512>>0]=7471*_+32768,A[_+768>>0]=-11059*_,A[_+1024>>0]=-21709*_,A[_+1280>>0]=32768*_+8421375,A[_+1536>>0]=-27439*_,A[_+1792>>0]=-5329*_}(),ie(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Va(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jk(e){function t(T){if(!T)throw Error("assert :P")}function n(T,E,U){for(var C=0;4>C;C++)if(T[E+C]!=U.charCodeAt(C))return!0;return!1}function r(T,E,U,C,P){for(var I=0;I<P;I++)T[E+I]=U[C+I]}function a(T,E,U,C){for(var P=0;P<C;P++)T[E+P]=U}function i(T){return new Int32Array(T)}function o(T,E){for(var U=[],C=0;C<T;C++)U.push(new E);return U}function s(T,E){var U=[];return function C(P,I,M){for(var W=M[I],L=0;L<W&&(P.push(M.length>I+1?[]:new E),!(M.length<I+1));L++)C(P[L],I+1,M)}(U,0,T),U}var l=function(){var T=this;function E(y,S){for(var F=1<<S-1>>>0;y&F;)F>>>=1;return F?(y&F-1)+F:y}function U(y,S,F,$,V){t(!($%F));do y[S+($-=F)]=V;while(0<$)}function C(y,S,F,$,V){if(t(2328>=V),512>=V)var J=i(512);else if((J=i(V))==null)return 0;return function(Q,ee,ne,oe,he,we){var Se,ye,Me=ee,je=1<<ne,pe=i(16),me=i(16);for(t(he!=0),t(oe!=null),t(Q!=null),t(0<ne),ye=0;ye<he;++ye){if(15<oe[ye])return 0;++pe[oe[ye]]}if(pe[0]==he)return 0;for(me[1]=0,Se=1;15>Se;++Se){if(pe[Se]>1<<Se)return 0;me[Se+1]=me[Se]+pe[Se]}for(ye=0;ye<he;++ye)Se=oe[ye],0<oe[ye]&&(we[me[Se]++]=ye);if(me[15]==1)return(oe=new P).g=0,oe.value=we[0],U(Q,Me,1,je,oe),je;var _e,$e=-1,Ee=je-1,Xe=0,qe=1,rt=1,Ve=1<<ne;for(ye=0,Se=1,he=2;Se<=ne;++Se,he<<=1){if(qe+=rt<<=1,0>(rt-=pe[Se]))return 0;for(;0<pe[Se];--pe[Se])(oe=new P).g=Se,oe.value=we[ye++],U(Q,Me+Xe,he,Ve,oe),Xe=E(Xe,Se)}for(Se=ne+1,he=2;15>=Se;++Se,he<<=1){if(qe+=rt<<=1,0>(rt-=pe[Se]))return 0;for(;0<pe[Se];--pe[Se]){if(oe=new P,(Xe&Ee)!=$e){for(Me+=Ve,_e=1<<($e=Se)-ne;15>$e&&!(0>=(_e-=pe[$e]));)++$e,_e<<=1;je+=Ve=1<<(_e=$e-ne),Q[ee+($e=Xe&Ee)].g=_e+ne,Q[ee+$e].value=Me-ee-$e}oe.g=Se-ne,oe.value=we[ye++],U(Q,Me+(Xe>>ne),he,Ve,oe),Xe=E(Xe,Se)}}return qe!=2*me[15]-1?0:je}(y,S,F,$,V,J)}function P(){this.value=this.g=0}function I(){this.value=this.g=0}function M(){this.G=o(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Xn,I)}function W(y,S,F,$){t(y!=null),t(S!=null),t(2147483648>$),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=S,y.pa=F,y.Jd=S,y.Yc=F+$,y.Zc=4<=$?F+$-4+1:F,Z(y)}function L(y,S){for(var F=0;0<S--;)F|=G(y,128)<<S;return F}function R(y,S){var F=L(y,S);return X(y)?-F:F}function B(y,S,F,$){var V,J=0;for(t(y!=null),t(S!=null),t(4294967288>$),y.Sb=$,y.Ra=0,y.u=0,y.h=0,4<$&&($=4),V=0;V<$;++V)J+=S[F+V]<<8*V;y.Ra=J,y.bb=$,y.oa=S,y.pa=F}function z(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Kl-8>>>0,++y.bb,y.u-=8;q(y)&&(y.h=1,y.u=0)}function Y(y,S){if(t(0<=S),!y.h&&S<=Vl){var F=D(y)&Gl[S];return y.u+=S,z(y),F}return y.h=1,y.u=0}function ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function D(y){return y.Ra>>>(y.u&Kl-1)>>>0}function q(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Kl}function te(y,S){y.u=S,y.h=q(y)}function H(y){y.u>=Qc&&(t(y.u>=Qc),z(y))}function Z(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function X(y){return L(y,1)}function G(y,S){var F=y.Ca;0>y.b&&Z(y);var $=y.b,V=F*S>>>8,J=(y.I>>>$>V)+0;for(J?(F-=V,y.I-=V+1<<$>>>0):F=V+1,$=F,V=0;256<=$;)V+=8,$>>=8;return $=7^V+_r[$],y.b-=$,y.Ca=(F<<$)-1,J}function ce(y,S,F){y[S+0]=F>>24&255,y[S+1]=F>>16&255,y[S+2]=F>>8&255,y[S+3]=F>>0&255}function ae(y,S){return y[S+0]<<0|y[S+1]<<8}function le(y,S){return ae(y,S)|y[S+2]<<16}function xe(y,S){return ae(y,S)|ae(y,S+2)<<16}function be(y,S){var F=1<<S;return t(y!=null),t(0<S),y.X=i(F),y.X==null?0:(y.Mb=32-S,y.Xa=S,1)}function de(y,S){t(y!=null),t(S!=null),t(y.Xa==S.Xa),r(S.X,0,y.X,0,1<<S.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Pe(y,S,F,$){t(F!=null),t($!=null);var V=F[0],J=$[0];return V==0&&(V=(y*J+S/2)/S),J==0&&(J=(S*V+y/2)/y),0>=V||0>=J?0:(F[0]=V,$[0]=J,1)}function Te(y,S){return y+(1<<S)-1>>>S}function ke(y,S){return((4278255360&y)+(4278255360&S)>>>0&4278255360)+((16711935&y)+(16711935&S)>>>0&16711935)>>>0}function Oe(y,S){T[S]=function(F,$,V,J,Q,ee,ne){var oe;for(oe=0;oe<Q;++oe){var he=T[y](ee[ne+oe-1],V,J+oe);ee[ne+oe]=ke(F[$+oe],he)}}}function Re(){this.ud=this.hd=this.jd=0}function Ie(y,S){return((4278124286&(y^S))>>>1)+(y&S)>>>0}function Fe(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function De(y,S){return Fe(y+(y-S+.5>>1))}function Le(y,S,F){return Math.abs(S-F)-Math.abs(y-F)}function Ge(y,S,F,$,V,J,Q){for($=J[Q-1],F=0;F<V;++F)J[Q+F]=$=ke(y[S+F],$)}function Ue(y,S,F,$,V){var J;for(J=0;J<F;++J){var Q=y[S+J],ee=Q>>8&255,ne=16711935&(ne=(ne=16711935&Q)+((ee<<16)+ee));$[V+J]=(4278255360&Q)+ne>>>0}}function mt(y,S){S.jd=y>>0&255,S.hd=y>>8&255,S.ud=y>>16&255}function tt(y,S,F,$,V,J){var Q;for(Q=0;Q<$;++Q){var ee=S[F+Q],ne=ee>>>8,oe=ee,he=255&(he=(he=ee>>>16)+((y.jd<<24>>24)*(ne<<24>>24)>>>5));oe=255&(oe=(oe=oe+((y.hd<<24>>24)*(ne<<24>>24)>>>5))+((y.ud<<24>>24)*(he<<24>>24)>>>5)),V[J+Q]=(4278255360&ee)+(he<<16)+oe}}function ut(y,S,F,$,V){T[S]=function(J,Q,ee,ne,oe,he,we,Se,ye){for(ne=we;ne<Se;++ne)for(we=0;we<ye;++we)oe[he++]=V(ee[$(J[Q++])])},T[y]=function(J,Q,ee,ne,oe,he,we){var Se=8>>J.b,ye=J.Ea,Me=J.K[0],je=J.w;if(8>Se)for(J=(1<<J.b)-1,je=(1<<Se)-1;Q<ee;++Q){var pe,me=0;for(pe=0;pe<ye;++pe)pe&J||(me=$(ne[oe++])),he[we++]=V(Me[me&je]),me>>=Se}else T["VP8LMapColor"+F](ne,oe,Me,je,he,we,Q,ee,ye)}}function Ne(y,S,F,$,V){for(F=S+F;S<F;){var J=y[S++];$[V++]=J>>16&255,$[V++]=J>>8&255,$[V++]=J>>0&255}}function yt(y,S,F,$,V){for(F=S+F;S<F;){var J=y[S++];$[V++]=J>>16&255,$[V++]=J>>8&255,$[V++]=J>>0&255,$[V++]=J>>24&255}}function ct(y,S,F,$,V){for(F=S+F;S<F;){var J=(Q=y[S++])>>16&240|Q>>12&15,Q=Q>>0&240|Q>>28&15;$[V++]=J,$[V++]=Q}}function jn(y,S,F,$,V){for(F=S+F;S<F;){var J=(Q=y[S++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;$[V++]=J,$[V++]=Q}}function Ct(y,S,F,$,V){for(F=S+F;S<F;){var J=y[S++];$[V++]=J>>0&255,$[V++]=J>>8&255,$[V++]=J>>16&255}}function Ot(y,S,F,$,V,J){if(J==0)for(F=S+F;S<F;)ce($,((J=y[S++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),V+=32;else r($,V,y,S,F)}function ar(y,S){T[S][0]=T[y+"0"],T[S][1]=T[y+"1"],T[S][2]=T[y+"2"],T[S][3]=T[y+"3"],T[S][4]=T[y+"4"],T[S][5]=T[y+"5"],T[S][6]=T[y+"6"],T[S][7]=T[y+"7"],T[S][8]=T[y+"8"],T[S][9]=T[y+"9"],T[S][10]=T[y+"10"],T[S][11]=T[y+"11"],T[S][12]=T[y+"12"],T[S][13]=T[y+"13"],T[S][14]=T[y+"0"],T[S][15]=T[y+"0"]}function bt(y){return y==Cy||y==Oy||y==tp||y==Ty}function ws(){this.eb=[],this.size=this.A=this.fb=0}function un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function La(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ws,this.f.kb=new un,this.sd=null}function Di(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function _t(y,S){var F=y.T,$=S.ba.f.RGBA,V=$.eb,J=$.fb+y.ka*$.A,Q=ga[S.ba.S],ee=y.y,ne=y.O,oe=y.f,he=y.N,we=y.ea,Se=y.W,ye=S.cc,Me=S.dc,je=S.Mc,pe=S.Nc,me=y.ka,_e=y.ka+y.T,$e=y.U,Ee=$e+1>>1;for(me==0?Q(ee,ne,null,null,oe,he,we,Se,oe,he,we,Se,V,J,null,null,$e):(Q(S.ec,S.fc,ee,ne,ye,Me,je,pe,oe,he,we,Se,V,J-$.A,V,J,$e),++F);me+2<_e;me+=2)ye=oe,Me=he,je=we,pe=Se,he+=y.Rc,Se+=y.Rc,J+=2*$.A,Q(ee,(ne+=2*y.fa)-y.fa,ee,ne,ye,Me,je,pe,oe,he,we,Se,V,J-$.A,V,J,$e);return ne+=y.fa,y.j+_e<y.o?(r(S.ec,S.fc,ee,ne,$e),r(S.cc,S.dc,oe,he,Ee),r(S.Mc,S.Nc,we,Se,Ee),F--):1&_e||Q(ee,ne,null,null,oe,he,we,Se,oe,he,we,Se,V,J+$.A,null,null,$e),F}function Ss(y,S,F){var $=y.F,V=[y.J];if($!=null){var J=y.U,Q=S.ba.S,ee=Q==ep||Q==tp;S=S.ba.f.RGBA;var ne=[0],oe=y.ka;ne[0]=y.T,y.Kb&&(oe==0?--ne[0]:(--oe,V[0]-=y.width),y.j+y.ka+y.T==y.o&&(ne[0]=y.o-y.j-oe));var he=S.eb;oe=S.fb+oe*S.A,y=Kt($,V[0],y.width,J,ne,he,oe+(ee?0:3),S.A),t(F==ne),y&&bt(Q)&&pa(he,oe,ee,J,ne,S.A)}return 0}function Yn(y){var S=y.ma,F=S.ba.S,$=11>F,V=F==Qh||F==Zh||F==ep||F==Py||F==12||bt(F);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Xc(S.Oa,y,V?11:12))return 0;if(V&&bt(F)&&Be(),y.da)alert("todo:use_scaling");else{if($){if(S.Ib=ft,y.Kb){if(F=y.U+1>>1,S.memory=i(y.U+2*F),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+y.U,S.Mc=S.cc,S.Nc=S.dc+F,S.Ib=_t,Be()}}else alert("todo:EmitYUV");V&&(S.Jb=Ss,$&&ve())}if($&&!p5){for(y=0;256>y;++y)VF[y]=89858*(y-128)+rp>>np,XF[y]=-22014*(y-128)+rp,YF[y]=-45773*(y-128),KF[y]=113618*(y-128)+rp>>np;for(y=id;y<Ey;++y)S=76283*(y-16)+rp>>np,JF[y-id]=Vr(S,255),QF[y-id]=Vr(S+8>>4,15);p5=1}return 1}function di(y){var S=y.ma,F=y.U,$=y.T;return t(!(1&y.ka)),0>=F||0>=$?0:(F=S.Ib(y,S),S.Jb!=null&&S.Jb(y,S,F),S.Dc+=F,1)}function fi(y){y.ma.memory=null}function ot(y,S,F,$){return Y(y,8)!=47?0:(S[0]=Y(y,14)+1,F[0]=Y(y,14)+1,$[0]=Y(y,1),Y(y,3)!=0?0:!y.h)}function Ma(y,S){if(4>y)return y+1;var F=y-2>>1;return(2+(1&y)<<F)+Y(S,F)+1}function hi(y,S){return 120<S?S-120:1<=(F=((F=EF[S-1])>>4)*y+(8-(15&F)))?F:1;var F}function Tr(y,S,F){var $=D(F),V=y[S+=255&$].g-8;return 0<V&&(te(F,F.u+8),$=D(F),S+=y[S].value,S+=$&(1<<V)-1),te(F,F.u+y[S].g),y[S].value}function _n(y,S,F){return F.g+=y.g,F.value+=y.value<<S>>>0,t(8>=F.g),y.g}function kn(y,S,F){var $=y.xc;return t((S=$==0?0:y.vc[y.md*(F>>$)+(S>>$)])<y.Wb),y.Ya[S]}function Gr(y,S,F,$){var V=y.ab,J=y.c*S,Q=y.C;S=Q+S;var ee=F,ne=$;for($=y.Ta,F=y.Ua;0<V--;){var oe=y.gc[V],he=Q,we=S,Se=ee,ye=ne,Me=(ne=$,ee=F,oe.Ea);switch(t(he<we),t(we<=oe.nc),oe.hc){case 2:qh(Se,ye,(we-he)*Me,ne,ee);break;case 0:var je=he,pe=we,me=ne,_e=ee,$e=(Ve=oe).Ea;je==0&&(ky(Se,ye,null,null,1,me,_e),Ge(Se,ye+1,0,0,$e-1,me,_e+1),ye+=$e,_e+=$e,++je);for(var Ee=1<<Ve.b,Xe=Ee-1,qe=Te($e,Ve.b),rt=Ve.K,Ve=Ve.w+(je>>Ve.b)*qe;je<pe;){var Ft=rt,Lt=Ve,At=1;for(Zc(Se,ye,me,_e-$e,1,me,_e);At<$e;){var Nt=(At&~Xe)+Ee;Nt>$e&&(Nt=$e),(0,So[Ft[Lt++]>>8&15])(Se,ye+ +At,me,_e+At-$e,Nt-At,me,_e+At),At=Nt}ye+=$e,_e+=$e,++je&Xe||(Ve+=qe)}we!=oe.nc&&r(ne,ee-Me,ne,ee+(we-he-1)*Me,Me);break;case 1:for(Me=Se,pe=ye,$e=(Se=oe.Ea)-(_e=Se&~(me=(ye=1<<oe.b)-1)),je=Te(Se,oe.b),Ee=oe.K,oe=oe.w+(he>>oe.b)*je;he<we;){for(Xe=Ee,qe=oe,rt=new Re,Ve=pe+_e,Ft=pe+Se;pe<Ve;)mt(Xe[qe++],rt),Cs(rt,Me,pe,ye,ne,ee),pe+=ye,ee+=ye;pe<Ft&&(mt(Xe[qe++],rt),Cs(rt,Me,pe,$e,ne,ee),pe+=$e,ee+=$e),++he&me||(oe+=je)}break;case 3:if(Se==ne&&ye==ee&&0<oe.b){for(pe=ne,Se=Me=ee+(we-he)*Me-(_e=(we-he)*Te(oe.Ea,oe.b)),ye=ne,me=ee,je=[],_e=($e=_e)-1;0<=_e;--_e)je[_e]=ye[me+_e];for(_e=$e-1;0<=_e;--_e)pe[Se+_e]=je[_e];da(oe,he,we,ne,Me,ne,ee)}else da(oe,he,we,Se,ye,ne,ee)}ee=$,ne=F}ne!=F&&r($,F,ee,ne,J)}function Ol(y,S){var F=y.V,$=y.Ba+y.c*y.C,V=S-y.C;if(t(S<=y.l.o),t(16>=V),0<V){var J=y.l,Q=y.Ta,ee=y.Ua,ne=J.width;if(Gr(y,V,F,$),V=ee=[ee],t((F=y.C)<($=S)),t(J.v<J.va),$>J.o&&($=J.o),F<J.j){var oe=J.j-F;F=J.j,V[0]+=oe*ne}if(F>=$?F=0:(V[0]+=4*J.v,J.ka=F-J.j,J.U=J.va-J.v,J.T=$-F,F=1),F){if(ee=ee[0],11>(F=y.ca).S){var he=F.f.RGBA,we=($=F.S,V=J.U,J=J.T,oe=he.eb,he.A),Se=J;for(he=he.fb+y.Ma*he.A;0<Se--;){var ye=Q,Me=ee,je=V,pe=oe,me=he;switch($){case Jh:Er(ye,Me,je,pe,me);break;case Qh:wr(ye,Me,je,pe,me);break;case Cy:wr(ye,Me,je,pe,me),pa(pe,me,0,je,1,0);break;case i5:Wi(ye,Me,je,pe,me);break;case Zh:Ot(ye,Me,je,pe,me,1);break;case Oy:Ot(ye,Me,je,pe,me,1),pa(pe,me,0,je,1,0);break;case ep:Ot(ye,Me,je,pe,me,0);break;case tp:Ot(ye,Me,je,pe,me,0),pa(pe,me,1,je,1,0);break;case Py:No(ye,Me,je,pe,me);break;case Ty:No(ye,Me,je,pe,me),Vt(pe,me,je,1,0);break;case o5:Bi(ye,Me,je,pe,me);break;default:t(0)}ee+=ne,he+=we}y.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=F.height)}}y.C=S,t(y.C<=y.i)}function Ii(y){var S;if(0<y.ua)return 0;for(S=0;S<y.Wb;++S){var F=y.Ya[S].G,$=y.Ya[S].H;if(0<F[1][$[1]+0].g||0<F[2][$[2]+0].g||0<F[3][$[3]+0].g)return 0}return 1}function Da(y,S,F,$,V,J){if(y.Z!=0){var Q=y.qd,ee=y.rd;for(t(Po[y.Z]!=null);S<F;++S)Po[y.Z](Q,ee,$,V,$,V,J),Q=$,ee=V,V+=J;y.qd=Q,y.rd=ee}}function Ia(y,S){var F=y.l.ma,$=F.Z==0||F.Z==1?y.l.j:y.C;if($=y.C<$?$:y.C,t(S<=y.l.o),S>$){var V=y.l.width,J=F.ca,Q=F.tb+V*$,ee=y.V,ne=y.Ba+y.c*$,oe=y.gc;t(y.ab==1),t(oe[0].hc==3),Gh(oe[0],$,S,ee,ne,J,Q),Da(F,$,S,J,Q,V)}y.C=y.Ma=S}function $a(y,S,F,$,V,J,Q){var ee=y.$/$,ne=y.$%$,oe=y.m,he=y.s,we=F+y.$,Se=we;V=F+$*V;var ye=F+$*J,Me=280+he.ua,je=y.Pb?ee:16777216,pe=0<he.ua?he.Wa:null,me=he.wc,_e=we<ye?kn(he,ne,ee):null;t(y.C<J),t(ye<=V);var $e=!1;e:for(;;){for(;$e||we<ye;){var Ee=0;if(ee>=je){var Xe=we-F;t((je=y).Pb),je.wd=je.m,je.xd=Xe,0<je.s.ua&&de(je.s.Wa,je.s.vb),je=ee+MF}if(ne&me||(_e=kn(he,ne,ee)),t(_e!=null),_e.Qb&&(S[we]=_e.qb,$e=!0),!$e)if(H(oe),_e.jc){Ee=oe,Xe=S;var qe=we,rt=_e.pd[D(Ee)&Xn-1];t(_e.jc),256>rt.g?(te(Ee,Ee.u+rt.g),Xe[qe]=rt.value,Ee=0):(te(Ee,Ee.u+rt.g-256),t(256<=rt.value),Ee=rt.value),Ee==0&&($e=!0)}else Ee=Tr(_e.G[0],_e.H[0],oe);if(oe.h)break;if($e||256>Ee){if(!$e)if(_e.nd)S[we]=(_e.qb|Ee<<8)>>>0;else{if(H(oe),$e=Tr(_e.G[1],_e.H[1],oe),H(oe),Xe=Tr(_e.G[2],_e.H[2],oe),qe=Tr(_e.G[3],_e.H[3],oe),oe.h)break;S[we]=(qe<<24|$e<<16|Ee<<8|Xe)>>>0}if($e=!1,++we,++ne>=$&&(ne=0,++ee,Q!=null&&ee<=J&&!(ee%16)&&Q(y,ee),pe!=null))for(;Se<we;)Ee=S[Se++],pe.X[(506832829*Ee&4294967295)>>>pe.Mb]=Ee}else if(280>Ee){if(Ee=Ma(Ee-256,oe),Xe=Tr(_e.G[4],_e.H[4],oe),H(oe),Xe=hi($,Xe=Ma(Xe,oe)),oe.h)break;if(we-F<Xe||V-we<Ee)break e;for(qe=0;qe<Ee;++qe)S[we+qe]=S[we+qe-Xe];for(we+=Ee,ne+=Ee;ne>=$;)ne-=$,++ee,Q!=null&&ee<=J&&!(ee%16)&&Q(y,ee);if(t(we<=V),ne&me&&(_e=kn(he,ne,ee)),pe!=null)for(;Se<we;)Ee=S[Se++],pe.X[(506832829*Ee&4294967295)>>>pe.Mb]=Ee}else{if(!(Ee<Me))break e;for($e=Ee-280,t(pe!=null);Se<we;)Ee=S[Se++],pe.X[(506832829*Ee&4294967295)>>>pe.Mb]=Ee;Ee=we,t(!($e>>>(Xe=pe).Xa)),S[Ee]=Xe.X[$e],$e=!0}$e||t(oe.h==q(oe))}if(y.Pb&&oe.h&&we<V)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&de(y.s.vb,y.s.Wa);else{if(oe.h)break e;Q!=null&&Q(y,ee>J?J:ee),y.a=0,y.$=we-F}return 1}return y.a=3,0}function pi(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var S=y.Wa;S!=null&&(S.X=null),y.vb=null,t(y!=null)}function ca(){var y=new jy;return y==null?null:(y.a=0,y.xb=u5,ar("Predictor","VP8LPredictors"),ar("Predictor","VP8LPredictors_C"),ar("PredictorAdd","VP8LPredictorsAdd"),ar("PredictorAdd","VP8LPredictorsAdd_C"),qh=Ue,Cs=tt,Er=Ne,wr=yt,No=ct,Bi=jn,Wi=Ct,T.VP8LMapColor32b=Yl,T.VP8LMapColor8b=Vh,y)}function mi(y,S,F,$,V){var J=1,Q=[y],ee=[S],ne=$.m,oe=$.s,he=null,we=0;e:for(;;){if(F)for(;J&&Y(ne,1);){var Se=Q,ye=ee,Me=$,je=1,pe=Me.m,me=Me.gc[Me.ab],_e=Y(pe,2);if(Me.Oc&1<<_e)J=0;else{switch(Me.Oc|=1<<_e,me.hc=_e,me.Ea=Se[0],me.nc=ye[0],me.K=[null],++Me.ab,t(4>=Me.ab),_e){case 0:case 1:me.b=Y(pe,3)+2,je=mi(Te(me.Ea,me.b),Te(me.nc,me.b),0,Me,me.K),me.K=me.K[0];break;case 3:var $e,Ee=Y(pe,8)+1,Xe=16<Ee?0:4<Ee?1:2<Ee?2:3;if(Se[0]=Te(me.Ea,Xe),me.b=Xe,$e=je=mi(Ee,1,0,Me,me.K)){var qe,rt=Ee,Ve=me,Ft=1<<(8>>Ve.b),Lt=i(Ft);if(Lt==null)$e=0;else{var At=Ve.K[0],Nt=Ve.w;for(Lt[0]=Ve.K[0][0],qe=1;qe<1*rt;++qe)Lt[qe]=ke(At[Nt+qe],Lt[qe-1]);for(;qe<4*Ft;++qe)Lt[qe]=0;Ve.K[0]=null,Ve.K[0]=Lt,$e=1}}je=$e;break;case 2:break;default:t(0)}J=je}}if(Q=Q[0],ee=ee[0],J&&Y(ne,1)&&!(J=1<=(we=Y(ne,4))&&11>=we)){$.a=3;break e}var zt;if(zt=J)t:{var Wt,vt,Pn,Lr=$,Cn=Q,Mr=ee,Mt=we,Yr=F,Xr=Lr.m,zn=Lr.s,Jn=[null],Nr=1,ya=0,xi=LF[Mt];n:for(;;){if(Yr&&Y(Xr,1)){var Hn=Y(Xr,3)+2,qi=Te(Cn,Hn),Es=Te(Mr,Hn),eu=qi*Es;if(!mi(qi,Es,0,Lr,Jn))break n;for(Jn=Jn[0],zn.xc=Hn,Wt=0;Wt<eu;++Wt){var Co=Jn[Wt]>>8&65535;Jn[Wt]=Co,Co>=Nr&&(Nr=Co+1)}}if(Xr.h)break n;for(vt=0;5>vt;++vt){var fn=s5[vt];!vt&&0<Mt&&(fn+=1<<Mt),ya<fn&&(ya=fn)}var Ly=o(Nr*xi,P),y5=Nr,v5=o(y5,M);if(v5==null)var ip=null;else t(65536>=y5),ip=v5;var od=i(ya);if(ip==null||od==null||Ly==null){Lr.a=1;break n}var op=Ly;for(Wt=Pn=0;Wt<Nr;++Wt){var za=ip[Wt],tu=za.G,nu=za.H,x5=0,sp=1,b5=0;for(vt=0;5>vt;++vt){fn=s5[vt],tu[vt]=op,nu[vt]=Pn,!vt&&0<Mt&&(fn+=1<<Mt);a:{var lp,My=fn,up=Lr,sd=od,t_=op,n_=Pn,Dy=0,Oo=up.m,r_=Y(Oo,1);if(a(sd,0,0,My),r_){var a_=Y(Oo,1)+1,i_=Y(Oo,1),w5=Y(Oo,i_==0?1:8);sd[w5]=1,a_==2&&(sd[w5=Y(Oo,8)]=1);var cp=1}else{var S5=i(19),N5=Y(Oo,4)+4;if(19<N5){up.a=3;var dp=0;break a}for(lp=0;lp<N5;++lp)S5[_F[lp]]=Y(Oo,3);var Iy=void 0,ld=void 0,j5=up,o_=S5,fp=My,k5=sd,$y=0,To=j5.m,A5=8,P5=o(128,P);r:for(;C(P5,0,7,o_,19);){if(Y(To,1)){var s_=2+2*Y(To,3);if((Iy=2+Y(To,s_))>fp)break r}else Iy=fp;for(ld=0;ld<fp&&Iy--;){H(To);var C5=P5[0+(127&D(To))];te(To,To.u+C5.g);var ru=C5.value;if(16>ru)k5[ld++]=ru,ru!=0&&(A5=ru);else{var l_=ru==16,O5=ru-16,u_=TF[O5],T5=Y(To,OF[O5])+u_;if(ld+T5>fp)break r;for(var c_=l_?A5:0;0<T5--;)k5[ld++]=c_}}$y=1;break r}$y||(j5.a=3),cp=$y}(cp=cp&&!Oo.h)&&(Dy=C(t_,n_,8,sd,My)),cp&&Dy!=0?dp=Dy:(up.a=3,dp=0)}if(dp==0)break n;if(sp&&FF[vt]==1&&(sp=op[Pn].g==0),x5+=op[Pn].g,Pn+=dp,3>=vt){var ud,Ry=od[0];for(ud=1;ud<fn;++ud)od[ud]>Ry&&(Ry=od[ud]);b5+=Ry}}if(za.nd=sp,za.Qb=0,sp&&(za.qb=(tu[3][nu[3]+0].value<<24|tu[1][nu[1]+0].value<<16|tu[2][nu[2]+0].value)>>>0,x5==0&&256>tu[0][nu[0]+0].value&&(za.Qb=1,za.qb+=tu[0][nu[0]+0].value<<8)),za.jc=!za.Qb&&6>b5,za.jc){var hp,Gi=za;for(hp=0;hp<Xn;++hp){var Fo=hp,_o=Gi.pd[Fo],pp=Gi.G[0][Gi.H[0]+Fo];256<=pp.value?(_o.g=pp.g+256,_o.value=pp.value):(_o.g=0,_o.value=0,Fo>>=_n(pp,8,_o),Fo>>=_n(Gi.G[1][Gi.H[1]+Fo],16,_o),Fo>>=_n(Gi.G[2][Gi.H[2]+Fo],0,_o),_n(Gi.G[3][Gi.H[3]+Fo],24,_o))}}}zn.vc=Jn,zn.Wb=Nr,zn.Ya=ip,zn.yc=Ly,zt=1;break t}zt=0}if(!(J=zt)){$.a=3;break e}if(0<we){if(oe.ua=1<<we,!be(oe.Wa,we)){$.a=1,J=0;break e}}else oe.ua=0;var By=$,F5=Q,d_=ee,Wy=By.s,Uy=Wy.xc;if(By.c=F5,By.i=d_,Wy.md=Te(F5,Uy),Wy.wc=Uy==0?-1:(1<<Uy)-1,F){$.xb=UF;break e}if((he=i(Q*ee))==null){$.a=1,J=0;break e}J=(J=$a($,he,0,Q,ee,ee,null))&&!ne.h;break e}return J?(V!=null?V[0]=he:(t(he==null),t(F)),$.$=0,F||pi(oe)):pi(oe),J}function Ns(y,S){var F=y.c*y.i,$=F+S+16*S;return t(y.c<=S),y.V=i($),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+F+S,1)}function Tl(y,S){var F=y.C,$=S-F,V=y.V,J=y.Ba+y.c*F;for(t(S<=y.l.o);0<$;){var Q=16<$?16:$,ee=y.l.ma,ne=y.l.width,oe=ne*Q,he=ee.ca,we=ee.tb+ne*F,Se=y.Ta,ye=y.Ua;Gr(y,Q,V,J),vn(Se,ye,he,we,oe),Da(ee,F,F+Q,he,we,ne),$-=Q,V+=Q*y.c,F+=Q}t(F==S),y.C=y.Ma=S}function Fl(){this.ub=this.yd=this.td=this.Rb=0}function _l(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function El(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function kh(){this.Yb=function(){var y=[];return function S(F,$,V){for(var J=V[$],Q=0;Q<J&&(F.push(V.length>$+1?[]:0),!(V.length<$+1));Q++)S(F[Q],$+1,V)}(y,0,[3,11]),y}()}function ty(){this.jb=i(3),this.Wc=s([4,8],kh),this.Xc=s([4,17],kh)}function ny(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ll(){this.ld=this.La=this.dd=this.tc=0}function Ah(){this.Na=this.la=0}function ry(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Lc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ay(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ll),this.Y=0,this.ya=Array(new Lc),this.aa=0,this.l=new Ml}function Ph(){this.y=i(16),this.f=i(8),this.ea=i(8)}function iy(){this.cb=this.a=0,this.sc="",this.m=new ie,this.Od=new Fl,this.Kc=new _l,this.ed=new ny,this.Qa=new El,this.Ic=this.$c=this.Aa=0,this.D=new ay,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ie),this.ia=0,this.pb=o(4,ry),this.Pa=new ty,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ph),this.Hd=0,this.rb=Array(new Ah),this.sb=0,this.wa=Array(new Ll),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Lc),this.L=this.aa=0,this.gd=s([4,2],Ll),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ml(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oy(){var y=new iy;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,ad||(ad=Th)),y}function gn(y,S,F){return y.a==0&&(y.a=S,y.sc=F,y.cb=0),0}function Ch(y,S,F){return 3<=F&&y[S+0]==157&&y[S+1]==1&&y[S+2]==42}function Oh(y,S){if(y==null)return 0;if(y.a=0,y.sc="OK",S==null)return gn(y,2,"null VP8Io passed to VP8GetHeaders()");var F=S.data,$=S.w,V=S.ha;if(4>V)return gn(y,7,"Truncated header.");var J=F[$+0]|F[$+1]<<8|F[$+2]<<16,Q=y.Od;if(Q.Rb=!(1&J),Q.td=J>>1&7,Q.yd=J>>4&1,Q.ub=J>>5,3<Q.td)return gn(y,3,"Incorrect keyframe parameters.");if(!Q.yd)return gn(y,4,"Frame not displayable.");$+=3,V-=3;var ee=y.Kc;if(Q.Rb){if(7>V)return gn(y,7,"cannot parse picture header");if(!Ch(F,$,V))return gn(y,3,"Bad code word");ee.c=16383&(F[$+4]<<8|F[$+3]),ee.Td=F[$+4]>>6,ee.i=16383&(F[$+6]<<8|F[$+5]),ee.Ud=F[$+6]>>6,$+=7,V-=7,y.za=ee.c+15>>4,y.Ub=ee.i+15>>4,S.width=ee.c,S.height=ee.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,a((J=y.Pa).jb,0,255,J.jb.length),t((J=y.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,a(J.Zb,0,0,J.Zb.length),a(J.Lb,0,0,J.Lb)}if(Q.ub>V)return gn(y,7,"bad partition length");W(J=y.m,F,$,Q.ub),$+=Q.ub,V-=Q.ub,Q.Rb&&(ee.Ld=X(J),ee.Kd=X(J)),ee=y.Qa;var ne,oe=y.Pa;if(t(J!=null),t(ee!=null),ee.Cb=X(J),ee.Cb){if(ee.Bb=X(J),X(J)){for(ee.Fb=X(J),ne=0;4>ne;++ne)ee.Zb[ne]=X(J)?R(J,7):0;for(ne=0;4>ne;++ne)ee.Lb[ne]=X(J)?R(J,6):0}if(ee.Bb)for(ne=0;3>ne;++ne)oe.jb[ne]=X(J)?L(J,8):255}else ee.Bb=0;if(J.Ka)return gn(y,3,"cannot parse segment header");if((ee=y.ed).zd=X(J),ee.Tb=L(J,6),ee.wb=L(J,3),ee.Pc=X(J),ee.Pc&&X(J)){for(oe=0;4>oe;++oe)X(J)&&(ee.vd[oe]=R(J,6));for(oe=0;4>oe;++oe)X(J)&&(ee.od[oe]=R(J,6))}if(y.L=ee.Tb==0?0:ee.zd?1:2,J.Ka)return gn(y,3,"cannot parse filter header");var he=V;if(V=ne=$,$=ne+he,ee=he,y.Xb=(1<<L(y.m,2))-1,he<3*(oe=y.Xb))F=7;else{for(ne+=3*oe,ee-=3*oe,he=0;he<oe;++he){var we=F[V+0]|F[V+1]<<8|F[V+2]<<16;we>ee&&(we=ee),W(y.Jc[+he],F,ne,we),ne+=we,ee-=we,V+=3}W(y.Jc[+oe],F,ne,ee),F=ne<$?0:5}if(F!=0)return gn(y,F,"cannot parse partitions");for(F=L(ne=y.m,7),V=X(ne)?R(ne,4):0,$=X(ne)?R(ne,4):0,ee=X(ne)?R(ne,4):0,oe=X(ne)?R(ne,4):0,ne=X(ne)?R(ne,4):0,he=y.Qa,we=0;4>we;++we){if(he.Cb){var Se=he.Zb[we];he.Fb||(Se+=F)}else{if(0<we){y.pb[we]=y.pb[0];continue}Se=F}var ye=y.pb[we];ye.Sc[0]=Fy[Vr(Se+V,127)],ye.Sc[1]=_y[Vr(Se+0,127)],ye.Eb[0]=2*Fy[Vr(Se+$,127)],ye.Eb[1]=101581*_y[Vr(Se+ee,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=Fy[Vr(Se+oe,117)],ye.Qc[1]=_y[Vr(Se+ne,127)],ye.lc=Se+ne}if(!Q.Rb)return gn(y,4,"Not a key frame.");for(X(J),Q=y.Pa,F=0;4>F;++F){for(V=0;8>V;++V)for($=0;3>$;++$)for(ee=0;11>ee;++ee)oe=G(J,BF[F][V][$][ee])?L(J,8):$F[F][V][$][ee],Q.Wc[F][V].Yb[$][ee]=oe;for(V=0;17>V;++V)Q.Xc[F][V]=Q.Wc[F][WF[V]]}return y.kc=X(J),y.kc&&(y.Bd=L(J,8)),y.cb=1}function Th(y,S,F,$,V,J,Q){var ee=S[V].Yb[F];for(F=0;16>V;++V){if(!G(y,ee[F+0]))return V;for(;!G(y,ee[F+1]);)if(ee=S[++V].Yb[0],F=0,V==16)return 16;var ne=S[V+1].Yb;if(G(y,ee[F+2])){var oe=y,he=0;if(G(oe,(Se=ee)[(we=F)+3]))if(G(oe,Se[we+6])){for(ee=0,we=2*(he=G(oe,Se[we+8]))+(Se=G(oe,Se[we+9+he])),he=0,Se=DF[we];Se[ee];++ee)he+=he+G(oe,Se[ee]);he+=3+(8<<we)}else G(oe,Se[we+7])?(he=7+2*G(oe,165),he+=G(oe,145)):he=5+G(oe,159);else he=G(oe,Se[we+4])?3+G(oe,Se[we+5]):2;ee=ne[2]}else he=1,ee=ne[1];ne=Q+IF[V],0>(oe=y).b&&Z(oe);var we,Se=oe.b,ye=(we=oe.Ca>>1)-(oe.I>>Se)>>31;--oe.b,oe.Ca+=ye,oe.Ca|=1,oe.I-=(we+1&ye)<<Se,J[ne]=((he^ye)-ye)*$[(0<V)+0]}return 16}function Mc(y){var S=y.rb[y.sb-1];S.la=0,S.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function sy(y,S){if(y==null)return 0;if(S==null)return gn(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!Oh(y,S))return 0;if(t(y.cb),S.ac==null||S.ac(S)){S.ob&&(y.L=0);var F=ap[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=S.v-F>>4,y.zb=S.j-F>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=S.o+15+F>>4,y.Hb=S.va+15+F>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var $=y.ed;for(F=0;4>F;++F){var V;if(y.Qa.Cb){var J=y.Qa.Lb[F];y.Qa.Fb||(J+=$.Tb)}else J=$.Tb;for(V=0;1>=V;++V){var Q=y.gd[F][V],ee=J;if($.Pc&&(ee+=$.vd[0],V&&(ee+=$.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var ne=ee;0<$.wb&&(ne=4<$.wb?ne>>2:ne>>1)>9-$.wb&&(ne=9-$.wb),1>ne&&(ne=1),Q.dd=ne,Q.tc=2*ee+ne,Q.ld=40<=ee?2:15<=ee?1:0}else Q.tc=0;Q.La=V}}}F=0}else gn(y,6,"Frame setup failed"),F=y.a;if(F=F==0){if(F){y.$c=0,0<y.Aa||(y.Ic=e_);e:{F=y.Ic,$=4*(ne=y.za);var oe=32*ne,he=ne+1,we=0<y.L?ne*(0<y.Aa?2:1):0,Se=(y.Aa==2?2:1)*ne;if((Q=$+832+(V=3*(16*F+ap[y.L])/2*oe)+(J=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=Q)F=0;else{if(Q>y.Vb){if(y.Vb=0,y.Ec=i(Q),y.Fc=0,y.Ec==null){F=gn(y,1,"no memory during frame initialization.");break e}y.Vb=Q}Q=y.Ec,ee=y.Fc,y.Ac=Q,y.Bc=ee,ee+=$,y.Gd=o(oe,Ph),y.Hd=0,y.rb=o(he+1,Ah),y.sb=1,y.wa=we?o(we,Ll):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=ne),t(!0),y.oc=Q,y.pc=ee,ee+=832,y.ya=o(Se,Lc),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=ne),y.R=16*ne,y.B=8*ne,ne=(oe=ap[y.L])*y.R,oe=oe/2*y.B,y.sa=Q,y.ta=ee+ne,y.qa=y.sa,y.ra=y.ta+16*F*y.R+oe,y.Ha=y.qa,y.Ia=y.ra+8*F*y.B+oe,y.$c=0,ee+=V,y.mb=J?Q:null,y.nb=J?ee:null,t(ee+J<=y.Fc+y.Vb),Mc(y),a(y.Ac,y.Bc,0,$),F=1}}if(F){if(S.ka=0,S.y=y.sa,S.O=y.ta,S.f=y.qa,S.N=y.ra,S.ea=y.Ha,S.Vd=y.Ia,S.fa=y.R,S.Rc=y.B,S.F=null,S.J=0,!Yh){for(F=-255;255>=F;++F)En[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)zi[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)rd[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)Zl[255+F]=0>F?0:255<F?255:F;Yh=1}Xl=cy,Ui=ly,ed=_h,Sr=uy,fa=Eh,yn=Fh,Jl=Wc,Kh=As,td=Ny,Os=Uc,Ts=Sy,jo=Wl,Fs=zc,Ql=Uh,_s=Wh,ko=yi,nd=Ri,ha=wy,Ua[0]=gi,Ua[1]=dy,Ua[2]=my,Ua[3]=gy,Ua[4]=Dh,Ua[5]=Rl,Ua[6]=Ih,Ua[7]=$c,Ua[8]=vy,Ua[9]=yy,Ao[0]=Lh,Ao[1]=hy,Ao[2]=$i,Ao[3]=Il,Ao[4]=ir,Ao[5]=py,Ao[6]=Mh,Hi[0]=xo,Hi[1]=fy,Hi[2]=xy,Hi[3]=Rc,Hi[4]=ks,Hi[5]=by,Hi[6]=Bc,F=1}else F=0}F&&(F=function(ye,Me){for(ye.M=0;ye.M<ye.Va;++ye.M){var je,pe=ye.Jc[ye.M&ye.Xb],me=ye.m,_e=ye;for(je=0;je<_e.za;++je){var $e=me,Ee=_e,Xe=Ee.Ac,qe=Ee.Bc+4*je,rt=Ee.zc,Ve=Ee.ya[Ee.aa+je];if(Ee.Qa.Bb?Ve.$b=G($e,Ee.Pa.jb[0])?2+G($e,Ee.Pa.jb[2]):G($e,Ee.Pa.jb[1]):Ve.$b=0,Ee.kc&&(Ve.Ad=G($e,Ee.Bd)),Ve.Za=!G($e,145)+0,Ve.Za){var Ft=Ve.Ob,Lt=0;for(Ee=0;4>Ee;++Ee){var At,Nt=rt[0+Ee];for(At=0;4>At;++At){Nt=RF[Xe[qe+At]][Nt];for(var zt=l5[G($e,Nt[0])];0<zt;)zt=l5[2*zt+G($e,Nt[zt])];Nt=-zt,Xe[qe+At]=Nt}r(Ft,Lt,Xe,qe,4),Lt+=4,rt[0+Ee]=Nt}}else Nt=G($e,156)?G($e,128)?1:3:G($e,163)?2:0,Ve.Ob[0]=Nt,a(Xe,qe,Nt,4),a(rt,0,Nt,4);Ve.Dd=G($e,142)?G($e,114)?G($e,183)?1:3:2:0}if(_e.m.Ka)return gn(ye,7,"Premature end-of-partition0 encountered.");for(;ye.ja<ye.za;++ye.ja){if(_e=pe,$e=(me=ye).rb[me.sb-1],Xe=me.rb[me.sb+me.ja],je=me.ya[me.aa+me.ja],qe=me.kc?je.Ad:0)$e.la=Xe.la=0,je.Za||($e.Na=Xe.Na=0),je.Hc=0,je.Gc=0,je.ia=0;else{var Wt,vt;if($e=Xe,Xe=_e,qe=me.Pa.Xc,rt=me.ya[me.aa+me.ja],Ve=me.pb[rt.$b],Ee=rt.ad,Ft=0,Lt=me.rb[me.sb-1],Nt=At=0,a(Ee,Ft,0,384),rt.Za)var Pn=0,Lr=qe[3];else{zt=i(16);var Cn=$e.Na+Lt.Na;if(Cn=ad(Xe,qe[1],Cn,Ve.Eb,0,zt,0),$e.Na=Lt.Na=(0<Cn)+0,1<Cn)Xl(zt,0,Ee,Ft);else{var Mr=zt[0]+3>>3;for(zt=0;256>zt;zt+=16)Ee[Ft+zt]=Mr}Pn=1,Lr=qe[0]}var Mt=15&$e.la,Yr=15&Lt.la;for(zt=0;4>zt;++zt){var Xr=1&Yr;for(Mr=vt=0;4>Mr;++Mr)Mt=Mt>>1|(Xr=(Cn=ad(Xe,Lr,Cn=Xr+(1&Mt),Ve.Sc,Pn,Ee,Ft))>Pn)<<7,vt=vt<<2|(3<Cn?3:1<Cn?2:Ee[Ft+0]!=0),Ft+=16;Mt>>=4,Yr=Yr>>1|Xr<<7,At=(At<<8|vt)>>>0}for(Lr=Mt,Pn=Yr>>4,Wt=0;4>Wt;Wt+=2){for(vt=0,Mt=$e.la>>4+Wt,Yr=Lt.la>>4+Wt,zt=0;2>zt;++zt){for(Xr=1&Yr,Mr=0;2>Mr;++Mr)Cn=Xr+(1&Mt),Mt=Mt>>1|(Xr=0<(Cn=ad(Xe,qe[2],Cn,Ve.Qc,0,Ee,Ft)))<<3,vt=vt<<2|(3<Cn?3:1<Cn?2:Ee[Ft+0]!=0),Ft+=16;Mt>>=2,Yr=Yr>>1|Xr<<5}Nt|=vt<<4*Wt,Lr|=Mt<<4<<Wt,Pn|=(240&Yr)<<Wt}$e.la=Lr,Lt.la=Pn,rt.Hc=At,rt.Gc=Nt,rt.ia=43690&Nt?0:Ve.ia,qe=!(At|Nt)}if(0<me.L&&(me.wa[me.Y+me.ja]=me.gd[je.$b][je.Za],me.wa[me.Y+me.ja].La|=!qe),_e.Ka)return gn(ye,7,"Premature end-of-file encountered.")}if(Mc(ye),me=Me,_e=1,je=(pe=ye).D,$e=0<pe.L&&pe.M>=pe.zb&&pe.M<=pe.Va,pe.Aa==0)e:{if(je.M=pe.M,je.uc=$e,Yc(pe,je),_e=1,je=(vt=pe.D).Nb,$e=(Nt=ap[pe.L])*pe.R,Xe=Nt/2*pe.B,zt=16*je*pe.R,Mr=8*je*pe.B,qe=pe.sa,rt=pe.ta-$e+zt,Ve=pe.qa,Ee=pe.ra-Xe+Mr,Ft=pe.Ha,Lt=pe.Ia-Xe+Mr,Yr=(Mt=vt.M)==0,At=Mt>=pe.Va-1,pe.Aa==2&&Yc(pe,vt),vt.uc)for(Xr=(Cn=pe).D.M,t(Cn.D.uc),vt=Cn.yb;vt<Cn.Hb;++vt){Pn=vt,Lr=Xr;var zn=(Jn=(fn=Cn).D).Nb;Wt=fn.R;var Jn=Jn.wa[Jn.Y+Pn],Nr=fn.sa,ya=fn.ta+16*zn*Wt+16*Pn,xi=Jn.dd,Hn=Jn.tc;if(Hn!=0)if(t(3<=Hn),fn.L==1)0<Pn&&ko(Nr,ya,Wt,Hn+4),Jn.La&&ha(Nr,ya,Wt,Hn),0<Lr&&_s(Nr,ya,Wt,Hn+4),Jn.La&&nd(Nr,ya,Wt,Hn);else{var qi=fn.B,Es=fn.qa,eu=fn.ra+8*zn*qi+8*Pn,Co=fn.Ha,fn=fn.Ia+8*zn*qi+8*Pn;zn=Jn.ld,0<Pn&&(Kh(Nr,ya,Wt,Hn+4,xi,zn),Os(Es,eu,Co,fn,qi,Hn+4,xi,zn)),Jn.La&&(jo(Nr,ya,Wt,Hn,xi,zn),Ql(Es,eu,Co,fn,qi,Hn,xi,zn)),0<Lr&&(Jl(Nr,ya,Wt,Hn+4,xi,zn),td(Es,eu,Co,fn,qi,Hn+4,xi,zn)),Jn.La&&(Ts(Nr,ya,Wt,Hn,xi,zn),Fs(Es,eu,Co,fn,qi,Hn,xi,zn))}}if(pe.ia&&alert("todo:DitherRow"),me.put!=null){if(vt=16*Mt,Mt=16*(Mt+1),Yr?(me.y=pe.sa,me.O=pe.ta+zt,me.f=pe.qa,me.N=pe.ra+Mr,me.ea=pe.Ha,me.W=pe.Ia+Mr):(vt-=Nt,me.y=qe,me.O=rt,me.f=Ve,me.N=Ee,me.ea=Ft,me.W=Lt),At||(Mt-=Nt),Mt>me.o&&(Mt=me.o),me.F=null,me.J=null,pe.Fa!=null&&0<pe.Fa.length&&vt<Mt&&(me.J=Vc(pe,me,vt,Mt-vt),me.F=pe.mb,me.F==null&&me.F.length==0)){_e=gn(pe,3,"Could not decode alpha data.");break e}vt<me.j&&(Nt=me.j-vt,vt=me.j,t(!(1&Nt)),me.O+=pe.R*Nt,me.N+=pe.B*(Nt>>1),me.W+=pe.B*(Nt>>1),me.F!=null&&(me.J+=me.width*Nt)),vt<Mt&&(me.O+=me.v,me.N+=me.v>>1,me.W+=me.v>>1,me.F!=null&&(me.J+=me.v),me.ka=vt-me.j,me.U=me.va-me.v,me.T=Mt-vt,_e=me.put(me))}je+1!=pe.Ic||At||(r(pe.sa,pe.ta-$e,qe,rt+16*pe.R,$e),r(pe.qa,pe.ra-Xe,Ve,Ee+8*pe.B,Xe),r(pe.Ha,pe.Ia-Xe,Ft,Lt+8*pe.B,Xe))}if(!_e)return gn(ye,6,"Output aborted.")}return 1}(y,S)),S.bc!=null&&S.bc(S),F&=1}return F?(y.cb=0,F):0}function Ra(y,S,F,$,V){V=y[S+F+32*$]+(V>>3),y[S+F+32*$]=-256&V?0>V?0:255:V}function Dl(y,S,F,$,V,J){Ra(y,S,0,F,$+V),Ra(y,S,1,F,$+J),Ra(y,S,2,F,$-J),Ra(y,S,3,F,$-V)}function Fr(y){return(20091*y>>16)+y}function Dc(y,S,F,$){var V,J=0,Q=i(16);for(V=0;4>V;++V){var ee=y[S+0]+y[S+8],ne=y[S+0]-y[S+8],oe=(35468*y[S+4]>>16)-Fr(y[S+12]),he=Fr(y[S+4])+(35468*y[S+12]>>16);Q[J+0]=ee+he,Q[J+1]=ne+oe,Q[J+2]=ne-oe,Q[J+3]=ee-he,J+=4,S++}for(V=J=0;4>V;++V)ee=(y=Q[J+0]+4)+Q[J+8],ne=y-Q[J+8],oe=(35468*Q[J+4]>>16)-Fr(Q[J+12]),Ra(F,$,0,0,ee+(he=Fr(Q[J+4])+(35468*Q[J+12]>>16))),Ra(F,$,1,0,ne+oe),Ra(F,$,2,0,ne-oe),Ra(F,$,3,0,ee-he),J++,$+=32}function Fh(y,S,F,$){var V=y[S+0]+4,J=35468*y[S+4]>>16,Q=Fr(y[S+4]),ee=35468*y[S+1]>>16;Dl(F,$,0,V+Q,y=Fr(y[S+1]),ee),Dl(F,$,1,V+J,y,ee),Dl(F,$,2,V-J,y,ee),Dl(F,$,3,V-Q,y,ee)}function ly(y,S,F,$,V){Dc(y,S,F,$),V&&Dc(y,S+16,F,$+4)}function _h(y,S,F,$){Ui(y,S+0,F,$,1),Ui(y,S+32,F,$+128,1)}function uy(y,S,F,$){var V;for(y=y[S+0]+4,V=0;4>V;++V)for(S=0;4>S;++S)Ra(F,$,S,V,y)}function Eh(y,S,F,$){y[S+0]&&Sr(y,S+0,F,$),y[S+16]&&Sr(y,S+16,F,$+4),y[S+32]&&Sr(y,S+32,F,$+128),y[S+48]&&Sr(y,S+48,F,$+128+4)}function cy(y,S,F,$){var V,J=i(16);for(V=0;4>V;++V){var Q=y[S+0+V]+y[S+12+V],ee=y[S+4+V]+y[S+8+V],ne=y[S+4+V]-y[S+8+V],oe=y[S+0+V]-y[S+12+V];J[0+V]=Q+ee,J[8+V]=Q-ee,J[4+V]=oe+ne,J[12+V]=oe-ne}for(V=0;4>V;++V)Q=(y=J[0+4*V]+3)+J[3+4*V],ee=J[1+4*V]+J[2+4*V],ne=J[1+4*V]-J[2+4*V],oe=y-J[3+4*V],F[$+0]=Q+ee>>3,F[$+16]=oe+ne>>3,F[$+32]=Q-ee>>3,F[$+48]=oe-ne>>3,$+=64}function Ic(y,S,F){var $,V=S-32,J=Kr,Q=255-y[V-1];for($=0;$<F;++$){var ee,ne=J,oe=Q+y[S-1];for(ee=0;ee<F;++ee)y[S+ee]=ne[oe+y[V+ee]];S+=32}}function dy(y,S){Ic(y,S,4)}function fy(y,S){Ic(y,S,8)}function hy(y,S){Ic(y,S,16)}function $i(y,S){var F;for(F=0;16>F;++F)r(y,S+32*F,y,S-32,16)}function Il(y,S){var F;for(F=16;0<F;--F)a(y,S,y[S-1],16),S+=32}function $l(y,S,F){var $;for($=0;16>$;++$)a(S,F+32*$,y,16)}function Lh(y,S){var F,$=16;for(F=0;16>F;++F)$+=y[S-1+32*F]+y[S+F-32];$l($>>5,y,S)}function ir(y,S){var F,$=8;for(F=0;16>F;++F)$+=y[S-1+32*F];$l($>>4,y,S)}function py(y,S){var F,$=8;for(F=0;16>F;++F)$+=y[S+F-32];$l($>>4,y,S)}function Mh(y,S){$l(128,y,S)}function dt(y,S,F){return y+2*S+F+2>>2}function my(y,S){var F,$=S-32;for($=new Uint8Array([dt(y[$-1],y[$+0],y[$+1]),dt(y[$+0],y[$+1],y[$+2]),dt(y[$+1],y[$+2],y[$+3]),dt(y[$+2],y[$+3],y[$+4])]),F=0;4>F;++F)r(y,S+32*F,$,0,$.length)}function gy(y,S){var F=y[S-1],$=y[S-1+32],V=y[S-1+64],J=y[S-1+96];ce(y,S+0,16843009*dt(y[S-1-32],F,$)),ce(y,S+32,16843009*dt(F,$,V)),ce(y,S+64,16843009*dt($,V,J)),ce(y,S+96,16843009*dt(V,J,J))}function gi(y,S){var F,$=4;for(F=0;4>F;++F)$+=y[S+F-32]+y[S-1+32*F];for($>>=3,F=0;4>F;++F)a(y,S+32*F,$,4)}function Dh(y,S){var F=y[S-1+0],$=y[S-1+32],V=y[S-1+64],J=y[S-1-32],Q=y[S+0-32],ee=y[S+1-32],ne=y[S+2-32],oe=y[S+3-32];y[S+0+96]=dt($,V,y[S-1+96]),y[S+1+96]=y[S+0+64]=dt(F,$,V),y[S+2+96]=y[S+1+64]=y[S+0+32]=dt(J,F,$),y[S+3+96]=y[S+2+64]=y[S+1+32]=y[S+0+0]=dt(Q,J,F),y[S+3+64]=y[S+2+32]=y[S+1+0]=dt(ee,Q,J),y[S+3+32]=y[S+2+0]=dt(ne,ee,Q),y[S+3+0]=dt(oe,ne,ee)}function Ih(y,S){var F=y[S+1-32],$=y[S+2-32],V=y[S+3-32],J=y[S+4-32],Q=y[S+5-32],ee=y[S+6-32],ne=y[S+7-32];y[S+0+0]=dt(y[S+0-32],F,$),y[S+1+0]=y[S+0+32]=dt(F,$,V),y[S+2+0]=y[S+1+32]=y[S+0+64]=dt($,V,J),y[S+3+0]=y[S+2+32]=y[S+1+64]=y[S+0+96]=dt(V,J,Q),y[S+3+32]=y[S+2+64]=y[S+1+96]=dt(J,Q,ee),y[S+3+64]=y[S+2+96]=dt(Q,ee,ne),y[S+3+96]=dt(ee,ne,ne)}function Rl(y,S){var F=y[S-1+0],$=y[S-1+32],V=y[S-1+64],J=y[S-1-32],Q=y[S+0-32],ee=y[S+1-32],ne=y[S+2-32],oe=y[S+3-32];y[S+0+0]=y[S+1+64]=J+Q+1>>1,y[S+1+0]=y[S+2+64]=Q+ee+1>>1,y[S+2+0]=y[S+3+64]=ee+ne+1>>1,y[S+3+0]=ne+oe+1>>1,y[S+0+96]=dt(V,$,F),y[S+0+64]=dt($,F,J),y[S+0+32]=y[S+1+96]=dt(F,J,Q),y[S+1+32]=y[S+2+96]=dt(J,Q,ee),y[S+2+32]=y[S+3+96]=dt(Q,ee,ne),y[S+3+32]=dt(ee,ne,oe)}function $c(y,S){var F=y[S+0-32],$=y[S+1-32],V=y[S+2-32],J=y[S+3-32],Q=y[S+4-32],ee=y[S+5-32],ne=y[S+6-32],oe=y[S+7-32];y[S+0+0]=F+$+1>>1,y[S+1+0]=y[S+0+64]=$+V+1>>1,y[S+2+0]=y[S+1+64]=V+J+1>>1,y[S+3+0]=y[S+2+64]=J+Q+1>>1,y[S+0+32]=dt(F,$,V),y[S+1+32]=y[S+0+96]=dt($,V,J),y[S+2+32]=y[S+1+96]=dt(V,J,Q),y[S+3+32]=y[S+2+96]=dt(J,Q,ee),y[S+3+64]=dt(Q,ee,ne),y[S+3+96]=dt(ee,ne,oe)}function yy(y,S){var F=y[S-1+0],$=y[S-1+32],V=y[S-1+64],J=y[S-1+96];y[S+0+0]=F+$+1>>1,y[S+2+0]=y[S+0+32]=$+V+1>>1,y[S+2+32]=y[S+0+64]=V+J+1>>1,y[S+1+0]=dt(F,$,V),y[S+3+0]=y[S+1+32]=dt($,V,J),y[S+3+32]=y[S+1+64]=dt(V,J,J),y[S+3+64]=y[S+2+64]=y[S+0+96]=y[S+1+96]=y[S+2+96]=y[S+3+96]=J}function vy(y,S){var F=y[S-1+0],$=y[S-1+32],V=y[S-1+64],J=y[S-1+96],Q=y[S-1-32],ee=y[S+0-32],ne=y[S+1-32],oe=y[S+2-32];y[S+0+0]=y[S+2+32]=F+Q+1>>1,y[S+0+32]=y[S+2+64]=$+F+1>>1,y[S+0+64]=y[S+2+96]=V+$+1>>1,y[S+0+96]=J+V+1>>1,y[S+3+0]=dt(ee,ne,oe),y[S+2+0]=dt(Q,ee,ne),y[S+1+0]=y[S+3+32]=dt(F,Q,ee),y[S+1+32]=y[S+3+64]=dt($,F,Q),y[S+1+64]=y[S+3+96]=dt(V,$,F),y[S+1+96]=dt(J,V,$)}function xy(y,S){var F;for(F=0;8>F;++F)r(y,S+32*F,y,S-32,8)}function Rc(y,S){var F;for(F=0;8>F;++F)a(y,S,y[S-1],8),S+=32}function js(y,S,F){var $;for($=0;8>$;++$)a(S,F+32*$,y,8)}function xo(y,S){var F,$=8;for(F=0;8>F;++F)$+=y[S+F-32]+y[S-1+32*F];js($>>4,y,S)}function by(y,S){var F,$=4;for(F=0;8>F;++F)$+=y[S+F-32];js($>>3,y,S)}function ks(y,S){var F,$=4;for(F=0;8>F;++F)$+=y[S-1+32*F];js($>>3,y,S)}function Bc(y,S){js(128,y,S)}function Bl(y,S,F){var $=y[S-F],V=y[S+0],J=3*(V-$)+Ay[1020+y[S-2*F]-y[S+F]],Q=Xh[112+(J+4>>3)];y[S-F]=Kr[255+$+Xh[112+(J+3>>3)]],y[S+0]=Kr[255+V-Q]}function $h(y,S,F,$){var V=y[S+0],J=y[S+F];return ma[255+y[S-2*F]-y[S-F]]>$||ma[255+J-V]>$}function Rh(y,S,F,$){return 4*ma[255+y[S-F]-y[S+0]]+ma[255+y[S-2*F]-y[S+F]]<=$}function Bh(y,S,F,$,V){var J=y[S-3*F],Q=y[S-2*F],ee=y[S-F],ne=y[S+0],oe=y[S+F],he=y[S+2*F],we=y[S+3*F];return 4*ma[255+ee-ne]+ma[255+Q-oe]>$?0:ma[255+y[S-4*F]-J]<=V&&ma[255+J-Q]<=V&&ma[255+Q-ee]<=V&&ma[255+we-he]<=V&&ma[255+he-oe]<=V&&ma[255+oe-ne]<=V}function Wh(y,S,F,$){var V=2*$+1;for($=0;16>$;++$)Rh(y,S+$,F,V)&&Bl(y,S+$,F)}function yi(y,S,F,$){var V=2*$+1;for($=0;16>$;++$)Rh(y,S+$*F,1,V)&&Bl(y,S+$*F,1)}function Ri(y,S,F,$){var V;for(V=3;0<V;--V)Wh(y,S+=4*F,F,$)}function wy(y,S,F,$){var V;for(V=3;0<V;--V)yi(y,S+=4,F,$)}function bo(y,S,F,$,V,J,Q,ee){for(J=2*J+1;0<V--;){if(Bh(y,S,F,J,Q))if($h(y,S,F,ee))Bl(y,S,F);else{var ne=y,oe=S,he=F,we=ne[oe-2*he],Se=ne[oe-he],ye=ne[oe+0],Me=ne[oe+he],je=ne[oe+2*he],pe=27*(_e=Ay[1020+3*(ye-Se)+Ay[1020+we-Me]])+63>>7,me=18*_e+63>>7,_e=9*_e+63>>7;ne[oe-3*he]=Kr[255+ne[oe-3*he]+_e],ne[oe-2*he]=Kr[255+we+me],ne[oe-he]=Kr[255+Se+pe],ne[oe+0]=Kr[255+ye-pe],ne[oe+he]=Kr[255+Me-me],ne[oe+2*he]=Kr[255+je-_e]}S+=$}}function Ba(y,S,F,$,V,J,Q,ee){for(J=2*J+1;0<V--;){if(Bh(y,S,F,J,Q))if($h(y,S,F,ee))Bl(y,S,F);else{var ne=y,oe=S,he=F,we=ne[oe-he],Se=ne[oe+0],ye=ne[oe+he],Me=Xh[112+((je=3*(Se-we))+4>>3)],je=Xh[112+(je+3>>3)],pe=Me+1>>1;ne[oe-2*he]=Kr[255+ne[oe-2*he]+pe],ne[oe-he]=Kr[255+we+je],ne[oe+0]=Kr[255+Se-Me],ne[oe+he]=Kr[255+ye-pe]}S+=$}}function Wc(y,S,F,$,V,J){bo(y,S,F,1,16,$,V,J)}function As(y,S,F,$,V,J){bo(y,S,1,F,16,$,V,J)}function Sy(y,S,F,$,V,J){var Q;for(Q=3;0<Q;--Q)Ba(y,S+=4*F,F,1,16,$,V,J)}function Wl(y,S,F,$,V,J){var Q;for(Q=3;0<Q;--Q)Ba(y,S+=4,1,F,16,$,V,J)}function Ny(y,S,F,$,V,J,Q,ee){bo(y,S,V,1,8,J,Q,ee),bo(F,$,V,1,8,J,Q,ee)}function Uc(y,S,F,$,V,J,Q,ee){bo(y,S,1,V,8,J,Q,ee),bo(F,$,1,V,8,J,Q,ee)}function zc(y,S,F,$,V,J,Q,ee){Ba(y,S+4*V,V,1,8,J,Q,ee),Ba(F,$+4*V,V,1,8,J,Q,ee)}function Uh(y,S,F,$,V,J,Q,ee){Ba(y,S+4,1,V,8,J,Q,ee),Ba(F,$+4,1,V,8,J,Q,ee)}function Ul(){this.ba=new La,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Hc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zh(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new P}function jy(){this.xb=this.a=0,this.l=new Ml,this.ca=new La,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zh,this.ab=0,this.gc=o(4,qc),this.Oc=0}function zl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ml,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ps(y,S,F,$,V,J,Q){for(y=y==null?0:y[S+0],S=0;S<Q;++S)V[J+S]=y+F[$+S]&255,y=V[J+S]}function Gc(y,S,F,$,V,J,Q){var ee;if(y==null)Ps(null,null,F,$,V,J,Q);else for(ee=0;ee<Q;++ee)V[J+ee]=y[S+ee]+F[$+ee]&255}function wo(y,S,F,$,V,J,Q){if(y==null)Ps(null,null,F,$,V,J,Q);else{var ee,ne=y[S+0],oe=ne,he=ne;for(ee=0;ee<Q;++ee)oe=he+(ne=y[S+ee])-oe,he=F[$+ee]+(-256&oe?0>oe?0:255:oe)&255,oe=ne,V[J+ee]=he}}function Vc(y,S,F,$){var V=S.width,J=S.o;if(t(y!=null&&S!=null),0>F||0>=$||F+$>J)return null;if(!y.Cc){if(y.ga==null){var Q;if(y.ga=new zl,(Q=y.ga==null)||(Q=S.width*S.o,t(y.Gb.length==0),y.Gb=i(Q),y.Uc=0,y.Gb==null?Q=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Q=1),Q=!Q),!Q){Q=y.ga;var ee=y.Fa,ne=y.P,oe=y.qc,he=y.mb,we=y.nb,Se=ne+1,ye=oe-1,Me=Q.l;if(t(ee!=null&&he!=null&&S!=null),Po[0]=null,Po[1]=Ps,Po[2]=Gc,Po[3]=wo,Q.ca=he,Q.tb=we,Q.c=S.width,Q.i=S.height,t(0<Q.c&&0<Q.i),1>=oe)S=0;else if(Q.$a=ee[ne+0]>>0&3,Q.Z=ee[ne+0]>>2&3,Q.Lc=ee[ne+0]>>4&3,ne=ee[ne+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||ne)S=0;else if(Me.put=di,Me.ac=Yn,Me.bc=fi,Me.ma=Q,Me.width=S.width,Me.height=S.height,Me.Da=S.Da,Me.v=S.v,Me.va=S.va,Me.j=S.j,Me.o=S.o,Q.$a)e:{t(Q.$a==1),S=ca();t:for(;;){if(S==null){S=0;break e}if(t(Q!=null),Q.mc=S,S.c=Q.c,S.i=Q.i,S.l=Q.l,S.l.ma=Q,S.l.width=Q.c,S.l.height=Q.i,S.a=0,B(S.m,ee,Se,ye),!mi(Q.c,Q.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Ii(S.s)?(Q.ic=1,ee=S.c*S.i,S.Ta=null,S.Ua=0,S.V=i(ee),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(Q.ic=0,S=Ns(S,Q.c)),!S))break t;S=1;break e}Q.mc=null,S=0}else S=ye>=Q.c*Q.i;Q=!S}if(Q)return null;y.ga.Lc!=1?y.Ga=0:$=J-F}t(y.ga!=null),t(F+$<=J);e:{if(S=(ee=y.ga).c,J=ee.l.o,ee.$a==0){if(Se=y.rc,ye=y.Vc,Me=y.Fa,ne=y.P+1+F*S,oe=y.mb,he=y.nb+F*S,t(ne<=y.P+y.qc),ee.Z!=0)for(t(Po[ee.Z]!=null),Q=0;Q<$;++Q)Po[ee.Z](Se,ye,Me,ne,oe,he,S),Se=oe,ye=he,he+=S,ne+=S;else for(Q=0;Q<$;++Q)r(oe,he,Me,ne,S),Se=oe,ye=he,he+=S,ne+=S;y.rc=Se,y.Vc=ye}else{if(t(ee.mc!=null),S=F+$,t((Q=ee.mc)!=null),t(S<=Q.i),Q.C>=S)S=1;else if(ee.ic||ve(),ee.ic){ee=Q.V,Se=Q.Ba,ye=Q.c;var je=Q.i,pe=(Me=1,ne=Q.$/ye,oe=Q.$%ye,he=Q.m,we=Q.s,Q.$),me=ye*je,_e=ye*S,$e=we.wc,Ee=pe<_e?kn(we,oe,ne):null;t(pe<=me),t(S<=je),t(Ii(we));t:for(;;){for(;!he.h&&pe<_e;){if(oe&$e||(Ee=kn(we,oe,ne)),t(Ee!=null),H(he),256>(je=Tr(Ee.G[0],Ee.H[0],he)))ee[Se+pe]=je,++pe,++oe>=ye&&(oe=0,++ne<=S&&!(ne%16)&&Ia(Q,ne));else{if(!(280>je)){Me=0;break t}je=Ma(je-256,he);var Xe,qe=Tr(Ee.G[4],Ee.H[4],he);if(H(he),!(pe>=(qe=hi(ye,qe=Ma(qe,he)))&&me-pe>=je)){Me=0;break t}for(Xe=0;Xe<je;++Xe)ee[Se+pe+Xe]=ee[Se+pe+Xe-qe];for(pe+=je,oe+=je;oe>=ye;)oe-=ye,++ne<=S&&!(ne%16)&&Ia(Q,ne);pe<_e&&oe&$e&&(Ee=kn(we,oe,ne))}t(he.h==q(he))}Ia(Q,ne>S?S:ne);break t}!Me||he.h&&pe<me?(Me=0,Q.a=he.h?5:3):Q.$=pe,S=Me}else S=$a(Q,Q.V,Q.Ba,Q.c,Q.i,S,Tl);if(!S){$=0;break e}}F+$>=J&&(y.Cc=1),$=1}if(!$)return null;if(y.Cc&&(($=y.ga)!=null&&($.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+F*V}function O(y,S,F,$,V,J){for(;0<V--;){var Q,ee=y,ne=S+(F?1:0),oe=y,he=S+(F?0:3);for(Q=0;Q<$;++Q){var we=oe[he+4*Q];we!=255&&(we*=32897,ee[ne+4*Q+0]=ee[ne+4*Q+0]*we>>23,ee[ne+4*Q+1]=ee[ne+4*Q+1]*we>>23,ee[ne+4*Q+2]=ee[ne+4*Q+2]*we>>23)}S+=J}}function K(y,S,F,$,V){for(;0<$--;){var J;for(J=0;J<F;++J){var Q=y[S+2*J+0],ee=15&(oe=y[S+2*J+1]),ne=4369*ee,oe=(240&oe|oe>>4)*ne>>16;y[S+2*J+0]=(240&Q|Q>>4)*ne>>16&240|(15&Q|Q<<4)*ne>>16>>4&15,y[S+2*J+1]=240&oe|ee}S+=V}}function ue(y,S,F,$,V,J,Q,ee){var ne,oe,he=255;for(oe=0;oe<V;++oe){for(ne=0;ne<$;++ne){var we=y[S+ne];J[Q+4*ne]=we,he&=we}S+=F,Q+=ee}return he!=255}function fe(y,S,F,$,V){var J;for(J=0;J<V;++J)F[$+J]=y[S+J]>>8}function ve(){pa=O,Vt=K,Kt=ue,vn=fe}function Ae(y,S,F){T[y]=function($,V,J,Q,ee,ne,oe,he,we,Se,ye,Me,je,pe,me,_e,$e){var Ee,Xe=$e-1>>1,qe=ee[ne+0]|oe[he+0]<<16,rt=we[Se+0]|ye[Me+0]<<16;t($!=null);var Ve=3*qe+rt+131074>>2;for(S($[V+0],255&Ve,Ve>>16,je,pe),J!=null&&(Ve=3*rt+qe+131074>>2,S(J[Q+0],255&Ve,Ve>>16,me,_e)),Ee=1;Ee<=Xe;++Ee){var Ft=ee[ne+Ee]|oe[he+Ee]<<16,Lt=we[Se+Ee]|ye[Me+Ee]<<16,At=qe+Ft+rt+Lt+524296,Nt=At+2*(Ft+rt)>>3;Ve=Nt+qe>>1,qe=(At=At+2*(qe+Lt)>>3)+Ft>>1,S($[V+2*Ee-1],255&Ve,Ve>>16,je,pe+(2*Ee-1)*F),S($[V+2*Ee-0],255&qe,qe>>16,je,pe+(2*Ee-0)*F),J!=null&&(Ve=At+rt>>1,qe=Nt+Lt>>1,S(J[Q+2*Ee-1],255&Ve,Ve>>16,me,_e+(2*Ee-1)*F),S(J[Q+2*Ee+0],255&qe,qe>>16,me,_e+(2*Ee+0)*F)),qe=Ft,rt=Lt}1&$e||(Ve=3*qe+rt+131074>>2,S($[V+$e-1],255&Ve,Ve>>16,je,pe+($e-1)*F),J!=null&&(Ve=3*rt+qe+131074>>2,S(J[Q+$e-1],255&Ve,Ve>>16,me,_e+($e-1)*F)))}}function Be(){ga[Jh]=zF,ga[Qh]=c5,ga[i5]=HF,ga[Zh]=d5,ga[ep]=f5,ga[Py]=h5,ga[o5]=qF,ga[Cy]=c5,ga[Oy]=d5,ga[tp]=f5,ga[Ty]=h5}function Ye(y){return y&-16384?0>y?0:255:y>>GF}function nt(y,S){return Ye((19077*y>>8)+(26149*S>>8)-14234)}function gt(y,S,F){return Ye((19077*y>>8)-(6419*S>>8)-(13320*F>>8)+8708)}function ht(y,S){return Ye((19077*y>>8)+(33050*S>>8)-17685)}function kt(y,S,F,$,V){$[V+0]=nt(y,F),$[V+1]=gt(y,S,F),$[V+2]=ht(y,S)}function an(y,S,F,$,V){$[V+0]=ht(y,S),$[V+1]=gt(y,S,F),$[V+2]=nt(y,F)}function dn(y,S,F,$,V){var J=gt(y,S,F);S=J<<3&224|ht(y,S)>>3,$[V+0]=248&nt(y,F)|J>>5,$[V+1]=S}function An(y,S,F,$,V){var J=240&ht(y,S)|15;$[V+0]=240&nt(y,F)|gt(y,S,F)>>4,$[V+1]=J}function or(y,S,F,$,V){$[V+0]=255,kt(y,S,F,$,V+1)}function Un(y,S,F,$,V){an(y,S,F,$,V),$[V+3]=255}function Wa(y,S,F,$,V){kt(y,S,F,$,V),$[V+3]=255}function Vr(y,S){return 0>y?0:y>S?S:y}function vi(y,S,F){T[y]=function($,V,J,Q,ee,ne,oe,he,we){for(var Se=he+(-2&we)*F;he!=Se;)S($[V+0],J[Q+0],ee[ne+0],oe,he),S($[V+1],J[Q+0],ee[ne+0],oe,he+F),V+=2,++Q,++ne,he+=2*F;1&we&&S($[V+0],J[Q+0],ee[ne+0],oe,he)}}function Hh(y,S,F){return F==0?y==0?S==0?6:5:S==0?4:0:F}function Kc(y,S,F,$,V){switch(y>>>30){case 3:Ui(S,F,$,V,0);break;case 2:yn(S,F,$,V);break;case 1:Sr(S,F,$,V)}}function Yc(y,S){var F,$,V=S.M,J=S.Nb,Q=y.oc,ee=y.pc+40,ne=y.oc,oe=y.pc+584,he=y.oc,we=y.pc+600;for(F=0;16>F;++F)Q[ee+32*F-1]=129;for(F=0;8>F;++F)ne[oe+32*F-1]=129,he[we+32*F-1]=129;for(0<V?Q[ee-1-32]=ne[oe-1-32]=he[we-1-32]=129:(a(Q,ee-32-1,127,21),a(ne,oe-32-1,127,9),a(he,we-32-1,127,9)),$=0;$<y.za;++$){var Se=S.ya[S.aa+$];if(0<$){for(F=-1;16>F;++F)r(Q,ee+32*F-4,Q,ee+32*F+12,4);for(F=-1;8>F;++F)r(ne,oe+32*F-4,ne,oe+32*F+4,4),r(he,we+32*F-4,he,we+32*F+4,4)}var ye=y.Gd,Me=y.Hd+$,je=Se.ad,pe=Se.Hc;if(0<V&&(r(Q,ee-32,ye[Me].y,0,16),r(ne,oe-32,ye[Me].f,0,8),r(he,we-32,ye[Me].ea,0,8)),Se.Za){var me=Q,_e=ee-32+16;for(0<V&&($>=y.za-1?a(me,_e,ye[Me].y[15],4):r(me,_e,ye[Me+1].y,0,4)),F=0;4>F;F++)me[_e+128+F]=me[_e+256+F]=me[_e+384+F]=me[_e+0+F];for(F=0;16>F;++F,pe<<=2)me=Q,_e=ee+m5[F],Ua[Se.Ob[F]](me,_e),Kc(pe,je,16*+F,me,_e)}else if(me=Hh($,V,Se.Ob[0]),Ao[me](Q,ee),pe!=0)for(F=0;16>F;++F,pe<<=2)Kc(pe,je,16*+F,Q,ee+m5[F]);for(F=Se.Gc,me=Hh($,V,Se.Dd),Hi[me](ne,oe),Hi[me](he,we),pe=je,me=ne,_e=oe,255&(Se=F>>0)&&(170&Se?ed(pe,256,me,_e):fa(pe,256,me,_e)),Se=he,pe=we,255&(F>>=8)&&(170&F?ed(je,320,Se,pe):fa(je,320,Se,pe)),V<y.Ub-1&&(r(ye[Me].y,0,Q,ee+480,16),r(ye[Me].f,0,ne,oe+224,8),r(ye[Me].ea,0,he,we+224,8)),F=8*J*y.B,ye=y.sa,Me=y.ta+16*$+16*J*y.R,je=y.qa,Se=y.ra+8*$+F,pe=y.Ha,me=y.Ia+8*$+F,F=0;16>F;++F)r(ye,Me+F*y.R,Q,ee+32*F,16);for(F=0;8>F;++F)r(je,Se+F*y.B,ne,oe+32*F,8),r(pe,me+F*y.B,he,we+32*F,8)}}function Hl(y,S,F,$,V,J,Q,ee,ne){var oe=[0],he=[0],we=0,Se=ne!=null?ne.kd:0,ye=ne??new Hc;if(y==null||12>F)return 7;ye.data=y,ye.w=S,ye.ha=F,S=[S],F=[F],ye.gb=[ye.gb];e:{var Me=S,je=F,pe=ye.gb;if(t(y!=null),t(je!=null),t(pe!=null),pe[0]=0,12<=je[0]&&!n(y,Me[0],"RIFF")){if(n(y,Me[0]+8,"WEBP")){pe=3;break e}var me=xe(y,Me[0]+4);if(12>me||4294967286<me){pe=3;break e}if(Se&&me>je[0]-8){pe=7;break e}pe[0]=me,Me[0]+=12,je[0]-=12}pe=0}if(pe!=0)return pe;for(me=0<ye.gb[0],F=F[0];;){e:{var _e=y;je=S,pe=F;var $e=oe,Ee=he,Xe=Me=[0];if((Ve=we=[we])[0]=0,8>pe[0])pe=7;else{if(!n(_e,je[0],"VP8X")){if(xe(_e,je[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var qe=xe(_e,je[0]+8),rt=1+le(_e,je[0]+12);if(2147483648<=rt*(_e=1+le(_e,je[0]+15))){pe=3;break e}Xe!=null&&(Xe[0]=qe),$e!=null&&($e[0]=rt),Ee!=null&&(Ee[0]=_e),je[0]+=18,pe[0]-=18,Ve[0]=1}pe=0}}if(we=we[0],Me=Me[0],pe!=0)return pe;if(je=!!(2&Me),!me&&we)return 3;if(J!=null&&(J[0]=!!(16&Me)),Q!=null&&(Q[0]=je),ee!=null&&(ee[0]=0),Q=oe[0],Me=he[0],we&&je&&ne==null){pe=0;break}if(4>F){pe=7;break}if(me&&we||!me&&!we&&!n(y,S[0],"ALPH")){F=[F],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{qe=y,pe=S,me=F;var Ve=ye.gb;$e=ye.na,Ee=ye.P,Xe=ye.Sa,rt=22,t(qe!=null),t(me!=null),_e=pe[0];var Ft=me[0];for(t($e!=null),t(Xe!=null),$e[0]=null,Ee[0]=null,Xe[0]=0;;){if(pe[0]=_e,me[0]=Ft,8>Ft){pe=7;break e}var Lt=xe(qe,_e+4);if(4294967286<Lt){pe=3;break e}var At=8+Lt+1&-2;if(rt+=At,0<Ve&&rt>Ve){pe=3;break e}if(!n(qe,_e,"VP8 ")||!n(qe,_e,"VP8L")){pe=0;break e}if(Ft[0]<At){pe=7;break e}n(qe,_e,"ALPH")||($e[0]=qe,Ee[0]=_e+8,Xe[0]=Lt),_e+=At,Ft-=At}}if(F=F[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],pe!=0)break}F=[F],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(Ve=y,pe=S,me=F,$e=ye.gb[0],Ee=ye.Ja,Xe=ye.xa,qe=pe[0],_e=!n(Ve,qe,"VP8 "),rt=!n(Ve,qe,"VP8L"),t(Ve!=null),t(me!=null),t(Ee!=null),t(Xe!=null),8>me[0])pe=7;else{if(_e||rt){if(Ve=xe(Ve,qe+4),12<=$e&&Ve>$e-12){pe=3;break e}if(Se&&Ve>me[0]-8){pe=7;break e}Ee[0]=Ve,pe[0]+=8,me[0]-=8,Xe[0]=rt}else Xe[0]=5<=me[0]&&Ve[qe+0]==47&&!(Ve[qe+4]>>5),Ee[0]=me[0];pe=0}if(F=F[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],S=S[0],pe!=0)break;if(4294967286<ye.Ja)return 3;if(ee==null||je||(ee[0]=ye.xa?2:1),Q=[Q],Me=[Me],ye.xa){if(5>F){pe=7;break}ee=Q,Se=Me,je=J,y==null||5>F?y=0:5<=F&&y[S+0]==47&&!(y[S+4]>>5)?(me=[0],Ve=[0],$e=[0],B(Ee=new _,y,S,F),ot(Ee,me,Ve,$e)?(ee!=null&&(ee[0]=me[0]),Se!=null&&(Se[0]=Ve[0]),je!=null&&(je[0]=$e[0]),y=1):y=0):y=0}else{if(10>F){pe=7;break}ee=Me,y==null||10>F||!Ch(y,S+3,F-3)?y=0:(Se=y[S+0]|y[S+1]<<8|y[S+2]<<16,je=16383&(y[S+7]<<8|y[S+6]),y=16383&(y[S+9]<<8|y[S+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=ye.Ja||!je||!y?y=0:(Q&&(Q[0]=je),ee&&(ee[0]=y),y=1))}if(!y||(Q=Q[0],Me=Me[0],we&&(oe[0]!=Q||he[0]!=Me)))return 3;ne!=null&&(ne[0]=ye,ne.offset=S-ne.w,t(4294967286>S-ne.w),t(ne.offset==ne.ha-F));break}return pe==0||pe==7&&we&&ne==null?(J!=null&&(J[0]|=ye.na!=null&&0<ye.na.length),$!=null&&($[0]=Q),V!=null&&(V[0]=Me),0):pe}function Xc(y,S,F){var $=S.width,V=S.height,J=0,Q=0,ee=$,ne=V;if(S.Da=y!=null&&0<y.Da,S.Da&&(ee=y.cd,ne=y.bd,J=y.v,Q=y.j,11>F||(J&=-2,Q&=-2),0>J||0>Q||0>=ee||0>=ne||J+ee>$||Q+ne>V))return 0;if(S.v=J,S.j=Q,S.va=J+ee,S.o=Q+ne,S.U=ee,S.T=ne,S.da=y!=null&&0<y.da,S.da){if(!Pe(ee,ne,F=[y.ib],J=[y.hb]))return 0;S.ib=F[0],S.hb=J[0]}return S.ob=y!=null&&y.ob,S.Kb=y==null||!y.Sd,S.da&&(S.ob=S.ib<3*$/4&&S.hb<3*V/4,S.Kb=0),1}function Jc(y){if(y==null)return 2;if(11>y.S){var S=y.f.RGBA;S.fb+=(y.height-1)*S.A,S.A=-S.A}else S=y.f.kb,y=y.height,S.O+=(y-1)*S.fa,S.fa=-S.fa,S.N+=(y-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(y-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(y-1)*S.lb,S.lb=-S.lb);return 0}function ql(y,S,F,$){if($==null||0>=y||0>=S)return 2;if(F!=null){if(F.Da){var V=F.cd,J=F.bd,Q=-2&F.v,ee=-2&F.j;if(0>Q||0>ee||0>=V||0>=J||Q+V>y||ee+J>S)return 2;y=V,S=J}if(F.da){if(!Pe(y,S,V=[F.ib],J=[F.hb]))return 2;y=V[0],S=J[0]}}$.width=y,$.height=S;e:{var ne=$.width,oe=$.height;if(y=$.S,0>=ne||0>=oe||!(y>=Jh&&13>y))y=2;else{if(0>=$.Rd&&$.sd==null){Q=J=V=S=0;var he=(ee=ne*g5[y])*oe;if(11>y||(J=(oe+1)/2*(S=(ne+1)/2),y==12&&(Q=(V=ne)*oe)),(oe=i(he+2*J+Q))==null){y=1;break e}$.sd=oe,11>y?((ne=$.f.RGBA).eb=oe,ne.fb=0,ne.A=ee,ne.size=he):((ne=$.f.kb).y=oe,ne.O=0,ne.fa=ee,ne.Fd=he,ne.f=oe,ne.N=0+he,ne.Ab=S,ne.Cd=J,ne.ea=oe,ne.W=0+he+J,ne.Db=S,ne.Ed=J,y==12&&(ne.F=oe,ne.J=0+he+2*J),ne.Tc=Q,ne.lb=V)}if(S=1,V=$.S,J=$.width,Q=$.height,V>=Jh&&13>V)if(11>V)y=$.f.RGBA,S&=(ee=Math.abs(y.A))*(Q-1)+J<=y.size,S&=ee>=J*g5[V],S&=y.eb!=null;else{y=$.f.kb,ee=(J+1)/2,he=(Q+1)/2,ne=Math.abs(y.fa),oe=Math.abs(y.Ab);var we=Math.abs(y.Db),Se=Math.abs(y.lb),ye=Se*(Q-1)+J;S&=ne*(Q-1)+J<=y.Fd,S&=oe*(he-1)+ee<=y.Cd,S=(S&=we*(he-1)+ee<=y.Ed)&ne>=J&oe>=ee&we>=ee,S&=y.y!=null,S&=y.f!=null,S&=y.ea!=null,V==12&&(S&=Se>=J,S&=ye<=y.Tc,S&=y.F!=null)}else S=0;y=S?0:2}}return y!=0||F!=null&&F.fd&&(y=Jc($)),y}var Xn=64,Gl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vl=24,Kl=32,Qc=8,_r=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(y){return y},T.Predictor2=function(y,S,F){return S[F+0]},T.Predictor3=function(y,S,F){return S[F+1]},T.Predictor4=function(y,S,F){return S[F-1]},T.Predictor5=function(y,S,F){return Ie(Ie(y,S[F+1]),S[F+0])},T.Predictor6=function(y,S,F){return Ie(y,S[F-1])},T.Predictor7=function(y,S,F){return Ie(y,S[F+0])},T.Predictor8=function(y,S,F){return Ie(S[F-1],S[F+0])},T.Predictor9=function(y,S,F){return Ie(S[F+0],S[F+1])},T.Predictor10=function(y,S,F){return Ie(Ie(y,S[F-1]),Ie(S[F+0],S[F+1]))},T.Predictor11=function(y,S,F){var $=S[F+0];return 0>=Le($>>24&255,y>>24&255,(S=S[F-1])>>24&255)+Le($>>16&255,y>>16&255,S>>16&255)+Le($>>8&255,y>>8&255,S>>8&255)+Le(255&$,255&y,255&S)?$:y},T.Predictor12=function(y,S,F){var $=S[F+0];return(Fe((y>>24&255)+($>>24&255)-((S=S[F-1])>>24&255))<<24|Fe((y>>16&255)+($>>16&255)-(S>>16&255))<<16|Fe((y>>8&255)+($>>8&255)-(S>>8&255))<<8|Fe((255&y)+(255&$)-(255&S)))>>>0},T.Predictor13=function(y,S,F){var $=S[F-1];return(De((y=Ie(y,S[F+0]))>>24&255,$>>24&255)<<24|De(y>>16&255,$>>16&255)<<16|De(y>>8&255,$>>8&255)<<8|De(y>>0&255,$>>0&255))>>>0};var ky=T.PredictorAdd0;T.PredictorAdd1=Ge,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var Zc=T.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var qh,da=T.ColorIndexInverseTransform,Yl=T.MapARGB,Gh=T.VP8LColorIndexInverseTransformAlpha,Vh=T.MapAlpha,So=T.VP8LPredictorsAdd=[];So.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Cs,Er,wr,No,Bi,Wi,Xl,Ui,yn,ed,Sr,fa,Jl,Kh,td,Os,Ts,jo,Fs,Ql,_s,ko,nd,ha,pa,Vt,Kt,vn,En=i(511),zi=i(2041),rd=i(225),Zl=i(767),Yh=0,Ay=zi,Xh=rd,Kr=Zl,ma=En,Jh=0,Qh=1,i5=2,Zh=3,ep=4,Py=5,o5=6,Cy=7,Oy=8,tp=9,Ty=10,OF=[2,3,7],TF=[3,3,11],s5=[280,256,256,256,40],FF=[0,1,1,1,0],_F=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],EF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],LF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],MF=8,Fy=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_y=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ad=null,DF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],IF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],l5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$F=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],RF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],BF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],WF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ao=[],Ua=[],Hi=[],UF=1,u5=2,Po=[],ga=[];Ae("UpsampleRgbLinePair",kt,3),Ae("UpsampleBgrLinePair",an,3),Ae("UpsampleRgbaLinePair",Wa,4),Ae("UpsampleBgraLinePair",Un,4),Ae("UpsampleArgbLinePair",or,4),Ae("UpsampleRgba4444LinePair",An,2),Ae("UpsampleRgb565LinePair",dn,2);var zF=T.UpsampleRgbLinePair,HF=T.UpsampleBgrLinePair,c5=T.UpsampleRgbaLinePair,d5=T.UpsampleBgraLinePair,f5=T.UpsampleArgbLinePair,h5=T.UpsampleRgba4444LinePair,qF=T.UpsampleRgb565LinePair,np=16,rp=1<<np-1,id=-227,Ey=482,GF=6,p5=0,VF=i(256),KF=i(256),YF=i(256),XF=i(256),JF=i(Ey-id),QF=i(Ey-id);vi("YuvToRgbRow",kt,3),vi("YuvToBgrRow",an,3),vi("YuvToRgbaRow",Wa,4),vi("YuvToBgraRow",Un,4),vi("YuvToArgbRow",or,4),vi("YuvToRgba4444Row",An,2),vi("YuvToRgb565Row",dn,2);var m5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ap=[0,2,8],ZF=[8,7,6,4,4,2,2,2,1,1,1,1],e_=1;this.WebPDecodeRGBA=function(y,S,F,$,V){var J=Qh,Q=new Ul,ee=new La;Q.ba=ee,ee.S=J,ee.width=[ee.width],ee.height=[ee.height];var ne=ee.width,oe=ee.height,he=new Di;if(he==null||y==null)var we=2;else t(he!=null),we=Hl(y,S,F,he.width,he.height,he.Pd,he.Qd,he.format,null);if(we!=0?ne=0:(ne!=null&&(ne[0]=he.width[0]),oe!=null&&(oe[0]=he.height[0]),ne=1),ne){ee.width=ee.width[0],ee.height=ee.height[0],$!=null&&($[0]=ee.width),V!=null&&(V[0]=ee.height);e:{if($=new Ml,(V=new Hc).data=y,V.w=S,V.ha=F,V.kd=1,S=[0],t(V!=null),((y=Hl(V.data,V.w,V.ha,null,null,null,S,null,V))==0||y==7)&&S[0]&&(y=4),(S=y)==0){if(t(Q!=null),$.data=V.data,$.w=V.w+V.offset,$.ha=V.ha-V.offset,$.put=di,$.ac=Yn,$.bc=fi,$.ma=Q,V.xa){if((y=ca())==null){Q=1;break e}if(function(Se,ye){var Me=[0],je=[0],pe=[0];t:for(;;){if(Se==null)return 0;if(ye==null)return Se.a=2,0;if(Se.l=ye,Se.a=0,B(Se.m,ye.data,ye.w,ye.ha),!ot(Se.m,Me,je,pe)){Se.a=3;break t}if(Se.xb=u5,ye.width=Me[0],ye.height=je[0],!mi(Me[0],je[0],1,Se,null))break t;return 1}return t(Se.a!=0),0}(y,$)){if($=(S=ql($.width,$.height,Q.Oa,Q.ba))==0){t:{$=y;n:for(;;){if($==null){$=0;break t}if(t($.s.yc!=null),t($.s.Ya!=null),t(0<$.s.Wb),t((F=$.l)!=null),t((V=F.ma)!=null),$.xb!=0){if($.ca=V.ba,$.tb=V.tb,t($.ca!=null),!Xc(V.Oa,F,Zh)){$.a=2;break n}if(!Ns($,F.width)||F.da)break n;if((F.da||bt($.ca.S))&&ve(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&ve()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!be($.s.vb,$.s.Wa.Xa)){$.a=1;break n}$.xb=0}if(!$a($,$.V,$.Ba,$.c,$.i,F.o,Ol))break n;V.Dc=$.Ma,$=1;break t}t($.a!=0),$=0}$=!$}$&&(S=y.a)}else S=y.a}else{if((y=new oy)==null){Q=1;break e}if(y.Fa=V.na,y.P=V.P,y.qc=V.Sa,Oh(y,$)){if((S=ql($.width,$.height,Q.Oa,Q.ba))==0){if(y.Aa=0,F=Q.Oa,t((V=y)!=null),F!=null){if(0<(ne=0>(ne=F.Md)?0:100<ne?255:255*ne/100)){for(oe=he=0;4>oe;++oe)12>(we=V.pb[oe]).lc&&(we.ia=ne*ZF[0>we.lc?0:we.lc]>>3),he|=we.ia;he&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=F.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}sy(y,$)||(S=y.a)}}else S=y.a}S==0&&Q.Oa!=null&&Q.Oa.fd&&(S=Jc(Q.ba))}Q=S}J=Q!=0?null:11>J?ee.f.RGBA.eb:ee.f.kb.y}else J=null;return J};var g5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(T,E){for(var U="",C=0;C<4;C++)U+=String.fromCharCode(T[E++]);return U}function h(T,E){return(T[E+0]<<0|T[E+1]<<8|T[E+2]<<16)>>>0}function d(T,E){return(T[E+0]<<0|T[E+1]<<8|T[E+2]<<16|T[E+3]<<24)>>>0}new l;var p=[0],f=[0],m=[],g=new l,w=e,b=function(T,E){var U={},C=0,P=!1,I=0,M=0;if(U.frames=[],!function(D,q,te,H){for(var Z=0;Z<H;Z++)if(D[q+Z]!=te.charCodeAt(Z))return!0;return!1}(T,E,"RIFF",4)){var W,L;for(d(T,E+=4),E+=8;E<T.length;){var R=c(T,E),B=d(T,E+=4);E+=4;var z=B+(1&B);switch(R){case"VP8 ":case"VP8L":U.frames[C]===void 0&&(U.frames[C]={}),(_=U.frames[C]).src_off=P?M:E-8,_.src_size=I+B+8,C++,P&&(P=!1,I=0,M=0);break;case"VP8X":(_=U.header={}).feature_flags=T[E];var Y=E+4;_.canvas_width=1+h(T,Y),Y+=3,_.canvas_height=1+h(T,Y),Y+=3;break;case"ALPH":P=!0,I=z+8,M=E-8;break;case"ANIM":(_=U.header).bgcolor=d(T,E),Y=E+4,_.loop_count=(W=T)[(L=Y)+0]<<0|W[L+1]<<8,Y+=2;break;case"ANMF":var ie,_;(_=U.frames[C]={}).offset_x=2*h(T,E),E+=3,_.offset_y=2*h(T,E),E+=3,_.width=1+h(T,E),E+=3,_.height=1+h(T,E),E+=3,_.duration=h(T,E),E+=3,ie=T[E++],_.dispose=1&ie,_.blend=ie>>1&1}R!="ANMF"&&(E+=z)}return U}}(w,0);b.response=w,b.rgbaoutput=!0,b.dataurl=!1;var x=b.header?b.header:null,v=b.frames?b.frames:null;if(x){x.loop_counter=x.loop_count,p=[x.canvas_height],f=[x.canvas_width];for(var j=0;j<v.length&&v[j].blend!=0;j++);}var N=v[0],A=g.WebPDecodeRGBA(w,N.src_off,N.src_size,f,p);N.rgba=A,N.imgwidth=f[0],N.imgheight=p[0];for(var k=0;k<f[0]*p[0]*4;k++)m[k]=A[k];return this.width=f,this.height=p,this.data=m,this}(function(e){var t=function(){return typeof $2=="function"},n=function(p,f,m,g){var w=4,b=o;switch(g){case e.image_compression.FAST:w=1,b=i;break;case e.image_compression.MEDIUM:w=6,b=s;break;case e.image_compression.SLOW:w=9,b=l}p=r(p,f,m,b);var x=$2(p,{level:w});return e.__addimage__.arrayBufferToBinaryString(x)},r=function(p,f,m,g){for(var w,b,x,v=p.length/f,j=new Uint8Array(p.length+v),N=h(),A=0;A<v;A+=1){if(x=A*f,w=p.subarray(x,x+f),g)j.set(g(w,m,b),x+A);else{for(var k,T=N.length,E=[];k<T;k+=1)E[k]=N[k](w,m,b);var U=d(E.concat());j.set(E[U],x+A)}b=w}return j},a=function(p){var f=Array.apply([],p);return f.unshift(0),f},i=function(p,f){var m,g=[],w=p.length;g[0]=1;for(var b=0;b<w;b+=1)m=p[b-f]||0,g[b+1]=p[b]-m+256&255;return g},o=function(p,f,m){var g,w=[],b=p.length;w[0]=2;for(var x=0;x<b;x+=1)g=m&&m[x]||0,w[x+1]=p[x]-g+256&255;return w},s=function(p,f,m){var g,w,b=[],x=p.length;b[0]=3;for(var v=0;v<x;v+=1)g=p[v-f]||0,w=m&&m[v]||0,b[v+1]=p[v]+256-(g+w>>>1)&255;return b},l=function(p,f,m){var g,w,b,x,v=[],j=p.length;v[0]=4;for(var N=0;N<j;N+=1)g=p[N-f]||0,w=m&&m[N]||0,b=m&&m[N-f]||0,x=c(g,w,b),v[N+1]=p[N]-x+256&255;return v},c=function(p,f,m){if(p===f&&f===m)return p;var g=Math.abs(f-m),w=Math.abs(p-m),b=Math.abs(p+f-m-m);return g<=w&&g<=b?p:w<=b?f:m},h=function(){return[a,i,o,s,l]},d=function(p){var f=p.map(function(m){return m.reduce(function(g,w){return g+Math.abs(w)},0)});return f.indexOf(Math.min.apply(null,f))};e.processPNG=function(p,f,m,g){var w,b,x,v,j,N,A,k,T,E,U,C,P,I,M,W=this.decode.FLATE_DECODE,L="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(x=new Sce(p)).imgData,b=x.bits,w=x.colorSpace,j=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){T=(k=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,U=new Uint8Array(T*x.colors),E=new Uint8Array(T);var R,B=x.pixelBitlength-x.bits;for(I=0,M=0;I<T;I++){for(P=k[I],R=0;R<B;)U[M++]=P>>>R&255,R+=x.bits;E[I]=P>>>R&255}}if(x.bits===16){T=(k=new Uint32Array(x.decodePixels().buffer)).length,U=new Uint8Array(T*(32/x.pixelBitlength)*x.colors),E=new Uint8Array(T*(32/x.pixelBitlength)),C=x.colors>1,I=0,M=0;for(var z=0;I<T;)P=k[I++],U[M++]=P>>>0&255,C&&(U[M++]=P>>>16&255,P=k[I++],U[M++]=P>>>0&255),E[z++]=P>>>16&255;b=8}g!==e.image_compression.NONE&&t()?(p=n(U,x.width*x.colors,x.colors,g),A=n(E,x.width,1,g)):(p=U,A=E,W=void 0)}if(x.colorType===3&&(w=this.color_spaces.INDEXED,N=x.palette,x.transparency.indexed)){var Y=x.transparency.indexed,ie=0;for(I=0,T=Y.length;I<T;++I)ie+=Y[I];if((ie/=255)===T-1&&Y.indexOf(0)!==-1)v=[Y.indexOf(0)];else if(ie!==T){for(k=x.decodePixels(),E=new Uint8Array(k.length),I=0,T=k.length;I<T;I++)E[I]=Y[k[I]];A=n(E,x.width,1)}}var _=function(D){var q;switch(D){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(g);return W===this.decode.FLATE_DECODE&&(L="/Predictor "+_+" "),L+="/Colors "+j+" /BitsPerComponent "+b+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:m,data:p,index:f,filter:W,decodeParameters:L,transparency:v,palette:N,sMask:A,predictor:_,width:x.width,height:x.height,bitsPerComponent:b,colorSpace:w}}}})(at.API),function(e){e.processGIF89A=function(t,n,r,a){var i=new Nce(t),o=i.width,s=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:s},h=new a1(100).encode(c,100);return e.processJPEG.call(this,h,n,r,a)},e.processGIF87A=e.processGIF89A}(at.API),Va.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Va.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Ht.log("bit decode error:"+n)}},Va.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var l=this.palette[i>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Va.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*a*4,s=i>>4,l=15&i,c=this.palette[s];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Va.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Va.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,h=r*this.width*4+4*a;this.data[h]=l,this.data[h+1]=s,this.data[h+2]=o,this.data[h+3]=c}this.pos+=e}},Va.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,h=a*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=255}this.pos+=e}},Va.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Va.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=r,this.data[s+3]=o}},Va.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var i=new Va(t,!1),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},c=new a1(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(at.API),jk.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var i=new jk(t),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},c=new a1(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(at.API),at.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),s=0,l=0,c=0;c<a;c+=4){var h=r[c],d=r[c+1],p=r[c+2],f=r[c+3];i[s++]=h,i[s++]=d,i[s++]=p,o[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},at.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},du=at.API,Xp=du.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:a.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=c.fof?c.fof:1,d=t.doKerning!==!1,p=0,f=e.length,m=0,g=s[0]||l,w=[];for(n=0;n<f;n++)r=e.charCodeAt(n),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(p=d&&It(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/h:0,w.push((s[r]||g)/l+p)),m=r;return w},bk=du.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return du.processArabic&&(e=du.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,a)/n:Xp.apply(this,arguments).reduce(function(i,o){return i+o},0)},wk=function(e,t,n,r){for(var a=[],i=0,o=e.length,s=0;i!==o&&s+t[i]<n;)s+=t[i],i++;a.push(e.slice(0,i));var l=i;for(s=0;i!==o;)s+t[i]>r&&(a.push(e.slice(l,i)),s=0,l=i),s+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},Sk=function(e,t,n){n||(n={});var r,a,i,o,s,l,c,h=[],d=[h],p=n.textIndent||0,f=0,m=0,g=e.split(" "),w=Xp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),x=[];g.map(function(j){(j=j.split(/\s*\n/)).length>1?x=x.concat(j.map(function(N,A){return(A&&N.length?`
`:"")+N})):x.push(j[0])}),g=x,l=bk.apply(this,[b,n])}for(i=0,o=g.length;i<o;i++){var v=0;if(r=g[i],l&&r[0]==`
`&&(r=r.substr(1),v=1),p+f+(m=(a=Xp.apply(this,[r,n])).reduce(function(j,N){return j+N},0))>t||v){if(m>t){for(s=wk.apply(this,[r,a,t-(p+f),t]),h.push(s.shift()),h=[s.pop()];s.length;)d.push([s.shift()]);m=a.slice(r.length-(h[0]?h[0].length:0)).reduce(function(j,N){return j+N},0)}else h=[r];d.push(h),p=m+l,f=w}else h.push(r),p+=f+m,f=w}return c=l?function(j,N){return(N?b:"")+j.join(" ")}:function(j){return j.join(" ")},d.map(c)},du.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var d=this.internal.getFont(h.fontName,h.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var s,l,c=[];for(s=0,l=r.length;s<l;s++)c=c.concat(Sk.apply(this,[r[s],o,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},a=0;a<t.length;a++)n[t[a]]="0123456789abcdef"[a],r["0123456789abcdef"[a]]=t[a];var i=function(d){return"0x"+parseInt(d,10).toString(16)},o=e.__fontmetrics__.compress=function(d){var p,f,m,g,w=["{"];for(var b in d){if(p=d[b],isNaN(parseInt(b,10))?f="'"+b+"'":(b=parseInt(b,10),f=(f=i(b).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof p=="number")p<0?(m=i(p).slice(3),g="-"):(m=i(p).slice(2),g=""),m=g+m.slice(0,-1)+r[m.slice(-1)];else{if(It(p)!=="object")throw new Error("Don't know what to do with value type "+It(p)+".");m=o(p)}w.push(f+m)}return w.push("}"),w.join("")},s=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,m,g,w={},b=1,x=w,v=[],j="",N="",A=d.length-1,k=1;k<A;k+=1)(g=d[k])=="'"?p?(m=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(v.push([x,m]),x={},m=void 0):g=="}"?((f=v.pop())[0][f[1]]=x,m=void 0,x=f[0]):g=="-"?b=-1:m===void 0?n.hasOwnProperty(g)?(j+=n[g],m=parseInt(j,16)*b,b=1,j=""):j+=g:n.hasOwnProperty(g)?(N+=n[g],x[m]=parseInt(N,16)*b,b=1,m=void 0,N=""):N+=g;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var p=d.font,f=h.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var m=c.Unicode[p.postScriptName];m&&(p.metadata.Unicode.encoding=m,p.encoding=m.codePages[0])}])}(at.API),function(e){var t=function(n){for(var r=n.length,a=new Uint8Array(r),i=0;i<r;i++)a[i]=n.charCodeAt(i);return a};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(ef(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,r)}}])}(at),function(e){function t(){return(lt.canvg?Promise.resolve(lt.canvg):E2(()=>import("./index.es-C1WlhDnN.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}at.API.addSvgAsImage=function(n,r,a,i,o,s,l,c){if(isNaN(r)||isNaN(a))throw Ht.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Ht.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=o;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(m){return m.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(p)}).then(function(){f.addImage(h.toDataURL("image/jpeg",1),r,a,i,o,l,c)})}}(),at.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},at.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],c=0,h=0,d=0;function p(m,g){var w,b=!1;for(w=0;w<m.length;w+=1)m[w]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=s.length;for(d=0;d<f;d+=1)n[s[d]].value=n[s[d]].defaultValue,n[s[d]].explicitSet=!1}if(It(e)==="object"){for(a in e)if(i=e[a],p(s,a)&&i!==void 0){if(n[a].type==="boolean"&&typeof i=="boolean")n[a].value=i;else if(n[a].type==="name"&&p(n[a].valueSet,i))n[a].value=i;else if(n[a].type==="integer"&&Number.isInteger(i))n[a].value=i;else if(n[a].type==="array"){for(c=0;c<i.length;c+=1)if(r=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(h=0;h<i[c].length;h+=1)typeof i[c][h]!="number"&&(r=!1);r===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[a].value="["+l.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?g.push("/"+m+" /"+n[m].value):g.push("/"+m+" "+n[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+o.length+s.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(at.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,o){for(var s,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],d=0,p=i.length;d<p;++d){if(s=o.metadata.characterToGlyph(i.charCodeAt(d)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=i.charCodeAt(d),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return h.join("");s=s.toString(16),h.push(c[4-s.length],s)}return h.join("")},r=function(i){var o,s,l,c,h,d,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(s=Object.keys(i).sort(function(f,m){return f-m})).length;d<p;d++)o=s[d],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var s=o.font,l=o.out,c=o.newObject,h=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var d=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),f="",m=0;m<p.length;m++)f+=String.fromCharCode(p[m]);var g=c();h({data:f,addLength1:!0,objectId:g}),l("endobj");var w=c();h({data:r(s.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+mu(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+mu(s.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+mu(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var s=o.font,l=o.out,c=o.newObject,h=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var d=s.metadata.rawData,p="",f=0;f<d.length;f++)p+=String.fromCharCode(d[f]);var m=c();h({data:p,addLength1:!0,objectId:m}),l("endobj");var g=c();h({data:r(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var w=c();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+mu(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=c();for(var b=0;b<s.metadata.hmtx.widths.length;b++)s.metadata.hmtx.widths[b]=parseInt(s.metadata.hmtx.widths[b]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+mu(s.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,s=i.text||"",l=i.x,c=i.y,h=i.options||{},d=i.mutex||{},p=d.pdfEscape,f=d.activeFontKey,m=d.fonts,g=f,w="",b=0,x="",v=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:s,x:l,y:c,options:h,mutex:d};for(x=s,g=f,Array.isArray(s)&&(x=s[0]),b=0;b<x.length;b+=1)m[g].metadata.hasOwnProperty("cmap")&&(o=m[g].metadata.cmap.unicode.codeMap[x[b].charCodeAt(0)]),o||x[b].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?w+=x[b]:w+="";var j="";return parseInt(g.slice(1))<14||v==="WinAnsiEncoding"?j=p(w,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(j=n(w,m[g])),d.isHex=!0,{text:j,x:l,y:c,options:h,mutex:d}};t.events.push(["postProcessText",function(i){var o=i.text||"",s=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?s.push([a(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):s.push(a(Object.assign({},l,{text:o[c]})).text);i.text=s}else i.text=a(Object.assign({},l,{text:o})).text}])}(at),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var a,i,o,s,l,c,h,d=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,v=0;this.__bidiEngine__={};var j=function(C){var P=C.charCodeAt(),I=P>>8,M=g[I];return M!==void 0?d[256*M+(255&P)]:I===252||I===253?"AL":b.test(I)?"L":I===8?"R":"N"},N=function(C){for(var P,I=0;I<C.length;I++){if((P=j(C.charAt(I)))==="L")return!1;if(P==="R")return!0}return!1},A=function(C,P,I,M){var W,L,R,B,z=P[M];switch(z){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(z="AN");break;case"AL":x=!0,z="R";break;case"WS":z="N";break;case"CS":M<1||M+1>=P.length||(W=I[M-1])!=="EN"&&W!=="AN"||(L=P[M+1])!=="EN"&&L!=="AN"?z="N":x&&(L="AN"),z=L===W?L:"N";break;case"ES":z=(W=M>0?I[M-1]:"B")==="EN"&&M+1<P.length&&P[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&I[M-1]==="EN"){z="EN";break}if(x){z="N";break}for(R=M+1,B=P.length;R<B&&P[R]==="ET";)R++;z=R<B&&P[R]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(B=P.length,R=M+1;R<B&&P[R]==="NSM";)R++;if(R<B){var Y=C[M],ie=Y>=1425&&Y<=2303||Y===64286;if(W=P[R],ie&&(W==="R"||W==="AL")){z="R";break}}}z=M<1||(W=P[M-1])==="B"?"N":I[M-1];break;case"B":x=!1,a=!0,z=v;break;case"S":i=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":z="N"}return z},k=function(C,P,I){var M=C.split("");return I&&T(M,I,{hiLevel:v}),M.reverse(),P&&P.reverse(),M.join("")},T=function(C,P,I){var M,W,L,R,B,z=-1,Y=C.length,ie=0,_=[],D=v?f:p,q=[];for(x=!1,a=!1,i=!1,W=0;W<Y;W++)q[W]=j(C[W]);for(L=0;L<Y;L++){if(B=ie,_[L]=A(C,q,_,L),M=240&(ie=D[B][m[_[L]]]),ie&=15,P[L]=R=D[ie][5],M>0)if(M===16){for(W=z;W<L;W++)P[W]=1;z=-1}else z=-1;if(D[ie][6])z===-1&&(z=L);else if(z>-1){for(W=z;W<L;W++)P[W]=R;z=-1}q[L]==="B"&&(P[L]=0),I.hiLevel|=R}i&&function(te,H,Z){for(var X=0;X<Z;X++)if(te[X]==="S"){H[X]=v;for(var G=X-1;G>=0&&te[G]==="WS";G--)H[G]=v}}(q,P,Y)},E=function(C,P,I,M,W){if(!(W.hiLevel<C)){if(C===1&&v===1&&!a)return P.reverse(),void(I&&I.reverse());for(var L,R,B,z,Y=P.length,ie=0;ie<Y;){if(M[ie]>=C){for(B=ie+1;B<Y&&M[B]>=C;)B++;for(z=ie,R=B-1;z<R;z++,R--)L=P[z],P[z]=P[R],P[R]=L,I&&(L=I[z],I[z]=I[R],I[R]=L);ie=B}ie++}}},U=function(C,P,I){var M=C.split(""),W={hiLevel:v};return I||(I=[]),T(M,I,W),function(L,R,B){if(B.hiLevel!==0&&h)for(var z,Y=0;Y<L.length;Y++)R[Y]===1&&(z=w.indexOf(L[Y]))>=0&&(L[Y]=w[z+1])}(M,I,W),E(2,M,P,I,W),E(1,M,P,I,W),M.join("")};return this.__bidiEngine__.doBidiReorder=function(C,P,I){if(function(W,L){if(L)for(var R=0;R<W.length;R++)L[R]=R;s===void 0&&(s=N(W)),c===void 0&&(c=N(W))}(C,P),o||!l||c)if(o&&l&&s^c)v=s?1:0,C=k(C,P,I);else if(!o&&l&&c)v=s?1:0,C=U(C,P,I),C=k(C,P);else if(!o||s||l||c){if(o&&!l&&s^c)C=k(C,P),s?(v=0,C=U(C,P,I)):(v=1,C=U(C,P,I),C=k(C,P));else if(o&&s&&!l&&c)v=1,C=U(C,P,I),C=k(C,P);else if(!o&&!l&&s^c){var M=h;s?(v=1,C=U(C,P,I),v=0,h=!1,C=U(C,P,I),h=M):(v=0,C=U(C,P,I),C=k(C,P),v=1,h=!1,C=U(C,P,I),h=M,C=k(C,P))}}else v=0,C=U(C,P,I);else v=s?1:0,C=U(C,P,I);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,l=C.isOutputVisual,s=C.isInputRtl,c=C.isOutputRtl,h=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var a=r.text,i=(r.x,r.y,r.options||{}),o=(r.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(o=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?o.push([n.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):o.push([n.doBidiReorder(a[s])]);r.text=o}else r.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new fs(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new $ce(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new jce(this.contents),this.head=new Ace(this),this.name=new Fce(this),this.cmap=new NF(this),this.toUnicode={},this.hhea=new Pce(this),this.maxp=new _ce(this),this.hmtx=new Ece(this),this.post=new Oce(this),this.os2=new Cce(this),this.loca=new Ice(this),this.glyf=new Lce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,c;for(c=[],o=0,s=(l=this.bbox).length;o<s;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var a,i,o,s;for(o=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var ci,fs=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,a;for(a=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)a.push(this.writeByte(t.charCodeAt(n)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,a,i,o,s,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*a+16777216*i+65536*o+256*s+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,a,i;for(i=[],r=0,a=t.length;r<a;r++)n=t[r],i.push(this.writeByte(n));return i},e}(),jce=function(){var e;function t(n){var r,a,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,a,i,o,s,l,c,h,d,p,f,m,g;for(g in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),h=16*f-d,(a=new fs).writeInt(this.scalarType),a.writeShort(f),a.writeShort(d),a.writeShort(o),a.writeShort(h),i=16*f,c=a.pos+i,s=null,m=[],n)for(p=n[g],a.writeString(g),a.writeInt(e(p)),a.writeInt(c),a.writeInt(p.length),m=m.concat(p),g==="head"&&(s=c),c+=p.length;c%4;)m.push(0),c++;return a.write(m),r=2981146554-e(a.data),a.pos=s+8,a.writeUInt32(r),a.data},e=function(n){var r,a,i,o;for(n=jF.call(n);n.length%4;)n.push(0);for(i=new fs(n),a=0,r=0,o=n.length;r<o;r=r+=4)a+=i.readUInt32();return 4294967295&a},t}(),kce={}.hasOwnProperty,Mi=function(e,t){for(var n in t)kce.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};ci=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ace=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mi(t,ci),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new fs).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),kk=function(){function e(t,n){var r,a,i,o,s,l,c,h,d,p,f,m,g,w,b,x,v;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,i=function(){var j,N;for(N=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)N.push(t.readUInt16());return N}(),t.pos+=2,g=function(){var j,N;for(N=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)N.push(t.readUInt16());return N}(),c=function(){var j,N;for(N=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)N.push(t.readUInt16());return N}(),h=function(){var j,N;for(N=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)N.push(t.readUInt16());return N}(),a=(this.length-t.pos+this.offset)/2,s=function(){var j,N;for(N=[],l=j=0;0<=a?j<a:j>a;l=0<=a?++j:--j)N.push(t.readUInt16());return N}(),l=b=0,v=i.length;b<v;l=++b)for(w=i[l],r=x=m=g[l];m<=w?x<=w:x>=w;r=m<=w?++x:--x)h[l]===0?o=r+c[l]:(o=s[h[l]/2+(r-m)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}t.pos=d}return e.encode=function(t,n){var r,a,i,o,s,l,c,h,d,p,f,m,g,w,b,x,v,j,N,A,k,T,E,U,C,P,I,M,W,L,R,B,z,Y,ie,_,D,q,te,H,Z,X,G,ce,ae,le;switch(M=new fs,o=Object.keys(t).sort(function(xe,be){return xe-be}),n){case"macroman":for(g=0,w=function(){var xe=[];for(m=0;m<256;++m)xe.push(0);return xe}(),x={0:0},i={},W=0,z=o.length;W<z;W++)x[G=t[a=o[W]]]==null&&(x[G]=++g),i[a]={old:t[a],new:x[t[a]]},w[a]=x[t[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(w),{charMap:i,subtable:M.data,maxGlyphID:g+1};case"unicode":for(P=[],d=[],v=0,x={},r={},b=c=null,L=0,Y=o.length;L<Y;L++)x[N=t[a=o[L]]]==null&&(x[N]=++v),r[a]={old:N,new:x[N]},s=x[N]-a,b!=null&&s===c||(b&&d.push(b),P.push(a),c=s),b=a;for(b&&d.push(b),d.push(65535),P.push(65535),U=2*(E=P.length),T=2*Math.pow(Math.log(E)/Math.LN2,2),p=Math.log(T/2)/Math.LN2,k=2*E-T,l=[],A=[],f=[],m=R=0,ie=P.length;R<ie;m=++R){if(C=P[m],h=d[m],C===65535){l.push(0),A.push(0);break}if(C-(I=r[C].new)>=32768)for(l.push(0),A.push(2*(f.length+E-m)),a=B=C;C<=h?B<=h:B>=h;a=C<=h?++B:--B)f.push(r[a].new);else l.push(I-C),A.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*E+2*f.length),M.writeUInt16(0),M.writeUInt16(U),M.writeUInt16(T),M.writeUInt16(p),M.writeUInt16(k),Z=0,_=d.length;Z<_;Z++)a=d[Z],M.writeUInt16(a);for(M.writeUInt16(0),X=0,D=P.length;X<D;X++)a=P[X],M.writeUInt16(a);for(ce=0,q=l.length;ce<q;ce++)s=l[ce],M.writeUInt16(s);for(ae=0,te=A.length;ae<te;ae++)j=A[ae],M.writeUInt16(j);for(le=0,H=f.length;le<H;le++)g=f[le],M.writeUInt16(g);return{charMap:r,subtable:M.data,maxGlyphID:v+1}}},e}(),NF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mi(t,ci),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,a,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r=new kk(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var a,i;return r==null&&(r="macroman"),a=kk.encode(n,r),(i=new fs).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),Pce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mi(t,ci),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),Cce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mi(t,ci),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(n.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),Oce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mi(t,ci),t.prototype.tag="post",t.prototype.parse=function(n){var r,a,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(a=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var s,l,c;for(c=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)c.push(n.readUInt32());return c}).call(this)}},t}(),Tce=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Fce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mi(t,ci),t.prototype.tag="name",t.prototype.parse=function(n){var r,a,i,o,s,l,c,h,d,p,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),a=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=d=0,p=a.length;d<p;o=++d)i=a[o],n.pos=i.offset,h=n.readString(i.length),s=new Tce(h,i),c[f=i.nameID]==null&&(c[f]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),_ce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mi(t,ci),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),Ece=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mi(t,ci),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,a,i,o,s,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,d;for(d=[],r=h=0;0<=i?h<i:h>i;r=0<=i?++h:--h)d.push(n.readInt16());return d}(),this.widths=(function(){var h,d,p,f;for(f=[],h=0,d=(p=this.metrics).length;h<d;h++)o=p[h],f.push(o.advance);return f}).call(this),a=this.widths[this.widths.length-1],c=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),jF=[].slice,Lce=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mi(t,ci),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,a,i,o,s,l,c,h,d,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,a=o.indexOf(n),(i=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+a,s=(l=new fs(r.read(i))).readShort(),h=l.readShort(),p=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=s===-1?new Dce(l,h,p,c,d):new Mce(l,s,h,p,c,d),this.cache[n]))},t.prototype.encode=function(n,r,a){var i,o,s,l,c;for(s=[],o=[],l=0,c=r.length;l<c;l++)i=n[r[l]],o.push(s.length),i&&(s=s.concat(i.encode(a)));return o.push(s.length),{table:s,offsets:o}},t}(),Mce=function(){function e(t,n,r,a,i,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Dce=function(){function e(t,n,r,a,i){var o,s;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new fs(jF.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Ice=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Mi(t,ci),t.prototype.tag="loca",t.prototype.parse=function(n){var r,a;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<a.length;++s)if(a[s]=i,o<r.length&&r[o]==s){++o,a[s]=i;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(i+=c)}for(var h=new Array(4*a.length),d=0;d<a.length;++d)h[4*d+3]=255&a[d],h[4*d+2]=(65280&a[d])>>8,h[4*d+1]=(16711680&a[d])>>16,h[4*d]=(4278190080&a[d])>>24;return h},t}(),$ce=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,a,i;for(n in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[n],t[n]=a[r];return t},e.prototype.glyphsFor=function(t){var n,r,a,i,o,s,l;for(a={},o=0,s=t.length;o<s;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in n=[],a)(r=a[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in l=this.glyphsFor(n))r=l[i],a[i]=r;return a},e.prototype.encode=function(t,n){var r,a,i,o,s,l,c,h,d,p,f,m,g,w,b;for(a in r=NF.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},b=r.charMap)f[(l=b[a]).old]=l.new;for(m in p=r.maxGlyphID,o)m in f||(f[m]=p++);return h=function(x){var v,j;for(v in j={},x)j[x[v]]=v;return j}(f),d=Object.keys(h).sort(function(x,v){return x-v}),g=function(){var x,v,j;for(j=[],x=0,v=d.length;x<v;x++)s=d[x],j.push(h[s]);return j}(),i=this.font.glyf.encode(o,g,f),c=this.font.loca.encode(i.offsets,g),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e}();at.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,a,i,o;if(Array.isArray(n))return"["+function(){var s,l,c;for(c=[],s=0,l=n.length;s<l;s++)r=n[s],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in i=["<<"],n)o=n[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+n},t}();const Rce=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:gce,AcroFormAppearance:Ze,AcroFormButton:In,AcroFormCheckBox:rf,AcroFormChoiceField:sl,AcroFormComboBox:ul,AcroFormEditBox:tf,AcroFormListBox:ll,AcroFormPasswordField:af,AcroFormPushButton:nf,AcroFormRadioButton:cl,AcroFormTextField:ss,GState:uh,ShadingPattern:qo,TilingPattern:Zs,default:at,jsPDF:at},Symbol.toStringTag,{value:"Module"}));var kF={exports:{}};const Bce=m_(Rce);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(r,a){e.exports=a(function(){try{return Bce}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Hs<"u"?Hs:typeof window<"u"?window:typeof self<"u"?self:Hs,function(n){return function(){var r={172:function(s,l){var c=this&&this.__extends||function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(g[b]=w[b])},p(f,m)};return function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(f,m);function g(){this.constructor=f}f.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var h=function(){function p(f,m,g){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=g,this.doc=f.getDocument()}return p}();l.HookData=h;var d=function(p){c(f,p);function f(m,g,w,b,x,v){var j=p.call(this,m,g,v)||this;return j.cell=w,j.row=b,j.column=x,j.section=b.section,j}return f}(h);l.CellHookData=d},340:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var h=c(4),d=c(136),p=c(744),f=c(776),m=c(664),g=c(972);function w(b){b.API.autoTable=function(){for(var x=[],v=0;v<arguments.length;v++)x[v]=arguments[v];var j;x.length===1?j=x[0]:(console.error("Use of deprecated autoTable initiation"),j=x[2]||{},j.columns=x[0],j.body=x[1]);var N=(0,f.parseInput)(this,j),A=(0,g.createTable)(this,N);return(0,m.drawTable)(this,A),this},b.API.lastAutoTable=!1,b.API.previousAutoTable=!1,b.API.autoTable.previous=!1,b.API.autoTableText=function(x,v,j,N){(0,d.default)(x,v,j,N,this)},b.API.autoTableSetDefaults=function(x){return p.DocHandler.setDefaults(x,this),this},b.autoTableSetDefaults=function(x,v){p.DocHandler.setDefaults(x,v)},b.API.autoTableHtmlToJson=function(x,v){var j;if(v===void 0&&(v=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var N=new p.DocHandler(this),A=(0,h.parseHtml)(N,x,window,v,!1),k=A.head,T=A.body,E=((j=k[0])===null||j===void 0?void 0:j.map(function(U){return U.content}))||[];return{columns:E,rows:T,data:T}},b.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var x=this.lastAutoTable;return x&&x.finalY?x.finalY:0},b.API.autoTableAddPageContent=function(x){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),b.API.autoTable.globalDefaults||(b.API.autoTable.globalDefaults={}),b.API.autoTable.globalDefaults.addPageContent=x,this},b.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=w},136:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function c(h,d,p,f,m){f=f||{};var g=1.15,w=m.internal.scaleFactor,b=m.internal.getFontSize()/w,x=m.getLineHeightFactor?m.getLineHeightFactor():g,v=b*x,j=/\r\n|\r|\n/g,N="",A=1;if((f.valign==="middle"||f.valign==="bottom"||f.halign==="center"||f.halign==="right")&&(N=typeof h=="string"?h.split(j):h,A=N.length||1),p+=b*(2-g),f.valign==="middle"?p-=A/2*v:f.valign==="bottom"&&(p-=A*v),f.halign==="center"||f.halign==="right"){var k=b;if(f.halign==="center"&&(k*=.5),N&&A>=1){for(var T=0;T<N.length;T++)m.text(N[T],d-m.getStringUnitWidth(N[T])*k,p),p+=v;return m}d-=m.getStringUnitWidth(h)*k}return f.halign==="justify"?m.text(h,d,p,{maxWidth:f.maxWidth||100,align:"justify"}):m.text(h,d,p),m}l.default=c},420:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(m,g,w){w.applyStyles(g,!0);var b=Array.isArray(m)?m:[m],x=b.map(function(v){return w.getTextWidth(v)}).reduce(function(v,j){return Math.max(v,j)},0);return x}l.getStringWidth=c;function h(m,g,w,b){var x=g.settings.tableLineWidth,v=g.settings.tableLineColor;m.applyStyles({lineWidth:x,lineColor:v});var j=d(x,!1);j&&m.rect(w.x,w.y,g.getWidth(m.pageSize().width),b.y-w.y,j)}l.addTableBorder=h;function d(m,g){var w=m>0,b=g||g===0;return w&&b?"DF":w?"S":b?"F":null}l.getFillStyle=d;function p(m,g){var w,b,x,v;if(m=m||g,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=g}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(w=m.left)!==null&&w!==void 0?w:g,top:(b=m.top)!==null&&b!==void 0?b:g,right:(x=m.right)!==null&&x!==void 0?x:g,bottom:(v=m.bottom)!==null&&v!==void 0?v:g}):(typeof m!="number"&&(m=g),{top:m,right:m,bottom:m,left:m})}l.parseSpacing=p;function f(m,g){var w=p(g.settings.margin,0);return m.pageSize().width-(w.left+w.right)}l.getPageAvailableWidth=f},796:function(s,l){var c=this&&this.__extends||function(){var f=function(m,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,b){w.__proto__=b}||function(w,b){for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(w[x]=b[x])},f(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(m,g);function w(){this.constructor=m}m.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var h=function(f){c(m,f);function m(g){var w=f.call(this)||this;return w._element=g,w}return m}(Array);l.HtmlRowInput=h;function d(f){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/f,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=d;function p(f){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[f]}l.getTheme=p},903:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var h=c(420);function d(w,b,x,v,j){var N={},A=1.3333333333333333,k=f(b,function(z){return j.getComputedStyle(z).backgroundColor});k!=null&&(N.fillColor=k);var T=f(b,function(z){return j.getComputedStyle(z).color});T!=null&&(N.textColor=T);var E=g(v,x);E&&(N.cellPadding=E);var U="borderTopColor",C=A*x,P=v.borderTopWidth;if(v.borderBottomWidth===P&&v.borderRightWidth===P&&v.borderLeftWidth===P){var I=(parseFloat(P)||0)/C;I&&(N.lineWidth=I)}else N.lineWidth={top:(parseFloat(v.borderTopWidth)||0)/C,right:(parseFloat(v.borderRightWidth)||0)/C,bottom:(parseFloat(v.borderBottomWidth)||0)/C,left:(parseFloat(v.borderLeftWidth)||0)/C},N.lineWidth.top||(N.lineWidth.right?U="borderRightColor":N.lineWidth.bottom?U="borderBottomColor":N.lineWidth.left&&(U="borderLeftColor"));var M=f(b,function(z){return j.getComputedStyle(z)[U]});M!=null&&(N.lineColor=M);var W=["left","right","center","justify"];W.indexOf(v.textAlign)!==-1&&(N.halign=v.textAlign),W=["middle","bottom","top"],W.indexOf(v.verticalAlign)!==-1&&(N.valign=v.verticalAlign);var L=parseInt(v.fontSize||"");isNaN(L)||(N.fontSize=L/A);var R=p(v);R&&(N.fontStyle=R);var B=(v.fontFamily||"").toLowerCase();return w.indexOf(B)!==-1&&(N.font=B),N}l.parseCss=d;function p(w){var b="";return(w.fontWeight==="bold"||w.fontWeight==="bolder"||parseInt(w.fontWeight)>=700)&&(b="bold"),(w.fontStyle==="italic"||w.fontStyle==="oblique")&&(b+="italic"),b}function f(w,b){var x=m(w,b);if(!x)return null;var v=x.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!v||!Array.isArray(v))return null;var j=[parseInt(v[1]),parseInt(v[2]),parseInt(v[3])],N=parseInt(v[4]);return N===0||isNaN(j[0])||isNaN(j[1])||isNaN(j[2])?null:j}function m(w,b){var x=b(w);return x==="rgba(0, 0, 0, 0)"||x==="transparent"||x==="initial"||x==="inherit"?w.parentElement==null?null:m(w.parentElement,b):x}function g(w,b){var x=[w.paddingTop,w.paddingRight,w.paddingBottom,w.paddingLeft],v=96/(72/b),j=(parseInt(w.lineHeight)-parseInt(w.fontSize))/b/2,N=x.map(function(k){return parseInt(k||"0")/v}),A=(0,h.parseSpacing)(N,0);return j>A.top&&(A.top=j),j>A.bottom&&(A.bottom=j),A}},744:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},h=function(){function d(p){this.jsPDFDocument=p,this.userStyles={textColor:p.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle,font:p.internal.getFont().fontName,lineWidth:p.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:p.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return d.setDefaults=function(p,f){f===void 0&&(f=null),f?f.__autoTableDocumentDefaults=p:c=p},d.unifyColor=function(p){return Array.isArray(p)?p:typeof p=="number"?[p,p,p]:typeof p=="string"?[p]:null},d.prototype.applyStyles=function(p,f){var m,g,w;f===void 0&&(f=!1),p.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(p.fontStyle);var b=this.jsPDFDocument.internal.getFont(),x=b.fontStyle,v=b.fontName;if(p.font&&(v=p.font),p.fontStyle){x=p.fontStyle;var j=this.getFontList()[v];j&&j.indexOf(x)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(j[0]),x=j[0])}if(this.jsPDFDocument.setFont(v,x),p.fontSize&&this.jsPDFDocument.setFontSize(p.fontSize),!f){var N=d.unifyColor(p.fillColor);N&&(m=this.jsPDFDocument).setFillColor.apply(m,N),N=d.unifyColor(p.textColor),N&&(g=this.jsPDFDocument).setTextColor.apply(g,N),N=d.unifyColor(p.lineColor),N&&(w=this.jsPDFDocument).setDrawColor.apply(w,N),typeof p.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(p.lineWidth)}},d.prototype.splitTextToSize=function(p,f,m){return this.jsPDFDocument.splitTextToSize(p,f,m)},d.prototype.rect=function(p,f,m,g,w){return this.jsPDFDocument.rect(p,f,m,g,w)},d.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},d.prototype.getTextWidth=function(p){return this.jsPDFDocument.getTextWidth(p)},d.prototype.getDocument=function(){return this.jsPDFDocument},d.prototype.setPage=function(p){this.jsPDFDocument.setPage(p)},d.prototype.addPage=function(){return this.jsPDFDocument.addPage()},d.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},d.prototype.getGlobalOptions=function(){return c||{}},d.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},d.prototype.pageSize=function(){var p=this.jsPDFDocument.internal.pageSize;return p.width==null&&(p={width:p.getWidth(),height:p.getHeight()}),p},d.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},d.prototype.getLineHeightFactor=function(){var p=this.jsPDFDocument;return p.getLineHeightFactor?p.getLineHeightFactor():1.15},d.prototype.getLineHeight=function(p){return p/this.scaleFactor()*this.getLineHeightFactor()},d.prototype.pageNumber=function(){var p=this.jsPDFDocument.internal.getCurrentPageInfo();return p?p.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},d}();l.DocHandler=h},4:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var h=c(903),d=c(796);function p(g,w,b,x,v){var j,N;x===void 0&&(x=!1),v===void 0&&(v=!1);var A;typeof w=="string"?A=b.document.querySelector(w):A=w;var k=Object.keys(g.getFontList()),T=g.scaleFactor(),E=[],U=[],C=[];if(!A)return console.error("Html table could not be found with input: ",w),{head:E,body:U,foot:C};for(var P=0;P<A.rows.length;P++){var I=A.rows[P],M=(N=(j=I==null?void 0:I.parentElement)===null||j===void 0?void 0:j.tagName)===null||N===void 0?void 0:N.toLowerCase(),W=f(k,T,b,I,x,v);W&&(M==="thead"?E.push(W):M==="tfoot"?C.push(W):U.push(W))}return{head:E,body:U,foot:C}}l.parseHtml=p;function f(g,w,b,x,v,j){for(var N=new d.HtmlRowInput(x),A=0;A<x.cells.length;A++){var k=x.cells[A],T=b.getComputedStyle(k);if(v||T.display!=="none"){var E=void 0;j&&(E=(0,h.parseCss)(g,k,w,T,b)),N.push({rowSpan:k.rowSpan,colSpan:k.colSpan,styles:E,_element:k,content:m(k)})}}var U=b.getComputedStyle(x);if(N.length>0&&(v||U.display!=="none"))return N}function m(g){var w=g.cloneNode(!0);return w.innerHTML=w.innerHTML.replace(/\n/g,"").replace(/ +/g," "),w.innerHTML=w.innerHTML.split(/<br.*?>/).map(function(b){return b.trim()}).join(`
`),w.innerText||w.textContent||""}},776:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var h=c(4),d=c(356),p=c(420),f=c(744),m=c(792);function g(A,k){var T=new f.DocHandler(A),E=T.getDocumentOptions(),U=T.getGlobalOptions();(0,m.default)(T,U,E,k);var C=(0,d.assign)({},U,E,k),P;typeof window<"u"&&(P=window);var I=w(U,E,k),M=b(U,E,k),W=x(T,C),L=j(T,C,P);return{id:k.tableId,content:L,hooks:M,styles:I,settings:W}}l.parseInput=g;function w(A,k,T){for(var E={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},U=function(M){if(M==="columnStyles"){var W=A[M],L=k[M],R=T[M];E.columnStyles=(0,d.assign)({},W,L,R)}else{var B=[A,k,T],z=B.map(function(Y){return Y[M]||{}});E[M]=(0,d.assign)({},z[0],z[1],z[2])}},C=0,P=Object.keys(E);C<P.length;C++){var I=P[C];U(I)}return E}function b(A,k,T){for(var E=[A,k,T],U={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},C=0,P=E;C<P.length;C++){var I=P[C];I.didParseCell&&U.didParseCell.push(I.didParseCell),I.willDrawCell&&U.willDrawCell.push(I.willDrawCell),I.didDrawCell&&U.didDrawCell.push(I.didDrawCell),I.willDrawPage&&U.willDrawPage.push(I.willDrawPage),I.didDrawPage&&U.didDrawPage.push(I.didDrawPage)}return U}function x(A,k){var T,E,U,C,P,I,M,W,L,R,B,z,Y=(0,p.parseSpacing)(k.margin,40/A.scaleFactor()),ie=(T=v(A,k.startY))!==null&&T!==void 0?T:Y.top,_;k.showFoot===!0?_="everyPage":k.showFoot===!1?_="never":_=(E=k.showFoot)!==null&&E!==void 0?E:"everyPage";var D;k.showHead===!0?D="everyPage":k.showHead===!1?D="never":D=(U=k.showHead)!==null&&U!==void 0?U:"everyPage";var q=(C=k.useCss)!==null&&C!==void 0?C:!1,te=k.theme||(q?"plain":"striped"),H=!!k.horizontalPageBreak,Z=(P=k.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(I=k.includeHiddenHtml)!==null&&I!==void 0?I:!1,useCss:q,theme:te,startY:ie,margin:Y,pageBreak:(M=k.pageBreak)!==null&&M!==void 0?M:"auto",rowPageBreak:(W=k.rowPageBreak)!==null&&W!==void 0?W:"auto",tableWidth:(L=k.tableWidth)!==null&&L!==void 0?L:"auto",showHead:D,showFoot:_,tableLineWidth:(R=k.tableLineWidth)!==null&&R!==void 0?R:0,tableLineColor:(B=k.tableLineColor)!==null&&B!==void 0?B:200,horizontalPageBreak:H,horizontalPageBreakRepeat:Z,horizontalPageBreakBehaviour:(z=k.horizontalPageBreakBehaviour)!==null&&z!==void 0?z:"afterAllRows"}}function v(A,k){var T=A.getLastAutoTable(),E=A.scaleFactor(),U=A.pageNumber(),C=!1;if(T&&T.startPageNumber){var P=T.startPageNumber+T.pageNumber-1;C=P===U}return typeof k=="number"?k:(k==null||k===!1)&&C&&(T==null?void 0:T.finalY)!=null?T.finalY+20/E:null}function j(A,k,T){var E=k.head||[],U=k.body||[],C=k.foot||[];if(k.html){var P=k.includeHiddenHtml;if(T){var I=(0,h.parseHtml)(A,k.html,T,P,k.useCss)||{};E=I.head||E,U=I.body||E,C=I.foot||E}else console.error("Cannot parse html in non browser environment")}var M=k.columns||N(E,U,C);return{columns:M,head:E,body:U,foot:C}}function N(A,k,T){var E=A[0]||k[0]||T[0]||[],U=[];return Object.keys(E).filter(function(C){return C!=="_element"}).forEach(function(C){var P=1,I;Array.isArray(E)?I=E[parseInt(C)]:I=E[C],typeof I=="object"&&!Array.isArray(I)&&(P=(I==null?void 0:I.colSpan)||1);for(var M=0;M<P;M++){var W=void 0;Array.isArray(E)?W=U.length:W=C+(M>0?"_".concat(M):"");var L={dataKey:W};U.push(L)}}),U}},792:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function c(d,p,f,m){for(var g=function(v){v&&typeof v!="object"&&console.error("The options parameter should be of type object, is: "+typeof v),typeof v.extendWidth<"u"&&(v.tableWidth=v.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof v.margins<"u"&&(typeof v.margin>"u"&&(v.margin=v.margins),console.error("Use of deprecated option: margins, use margin instead.")),v.startY&&typeof v.startY!="number"&&(console.error("Invalid value for startY option",v.startY),delete v.startY),!v.didDrawPage&&(v.afterPageContent||v.beforePageContent||v.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),v.didDrawPage=function(C){d.applyStyles(d.userStyles),v.beforePageContent&&v.beforePageContent(C),d.applyStyles(d.userStyles),v.afterPageContent&&v.afterPageContent(C),d.applyStyles(d.userStyles),v.afterPageAdd&&C.pageNumber>1&&C.afterPageAdd(C),d.applyStyles(d.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(C){v[C]&&console.error('The "'.concat(C,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(C){var P=C[0],I=C[1];v[I]&&(console.error("Use of deprecated option ".concat(I,". Use ").concat(P," instead")),v[P]=v[I])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(C){var P=typeof C=="string"?C:C[0],I=typeof C=="string"?C:C[1];typeof v[P]<"u"&&(typeof v.styles[I]>"u"&&(v.styles[I]=v[P]),console.error("Use of deprecated option: "+P+", use the style "+I+" instead."))});for(var j=0,N=["styles","bodyStyles","headStyles","footStyles"];j<N.length;j++){var A=N[j];h(v[A]||{})}for(var k=v.columnStyles||{},T=0,E=Object.keys(k);T<E.length;T++){var U=E[T];h(k[U]||{})}},w=0,b=[p,f,m];w<b.length;w++){var x=b[w];g(x)}}l.default=c;function h(d){d.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),d.minCellHeight||(d.minCellHeight=d.rowHeight)):d.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),d.cellWidth||(d.cellWidth=d.columnWidth))}},260:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var h=c(796),d=c(172),p=c(420),f=function(){function b(x,v){this.pageNumber=1,this.pageCount=1,this.id=x.id,this.settings=x.settings,this.styles=x.styles,this.hooks=x.hooks,this.columns=v.columns,this.head=v.head,this.body=v.body,this.foot=v.foot}return b.prototype.getHeadHeight=function(x){return this.head.reduce(function(v,j){return v+j.getMaxCellHeight(x)},0)},b.prototype.getFootHeight=function(x){return this.foot.reduce(function(v,j){return v+j.getMaxCellHeight(x)},0)},b.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},b.prototype.callCellHooks=function(x,v,j,N,A,k){for(var T=0,E=v;T<E.length;T++){var U=E[T],C=new d.CellHookData(x,this,j,N,A,k),P=U(C)===!1;if(j.text=Array.isArray(j.text)?j.text:[j.text],P)return!1}return!0},b.prototype.callEndPageHooks=function(x,v){x.applyStyles(x.userStyles);for(var j=0,N=this.hooks.didDrawPage;j<N.length;j++){var A=N[j];A(new d.HookData(x,this,v))}},b.prototype.callWillDrawPageHooks=function(x,v){for(var j=0,N=this.hooks.willDrawPage;j<N.length;j++){var A=N[j];A(new d.HookData(x,this,v))}},b.prototype.getWidth=function(x){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var v=this.columns.reduce(function(N,A){return N+A.wrappedWidth},0);return v}else{var j=this.settings.margin;return x-j.left-j.right}},b}();l.Table=f;var m=function(){function b(x,v,j,N,A){A===void 0&&(A=!1),this.height=0,this.raw=x,x instanceof h.HtmlRowInput&&(this.raw=x._element,this.element=x._element),this.index=v,this.section=j,this.cells=N,this.spansMultiplePages=A}return b.prototype.getMaxCellHeight=function(x){var v=this;return x.reduce(function(j,N){var A;return Math.max(j,((A=v.cells[N.index])===null||A===void 0?void 0:A.height)||0)},0)},b.prototype.hasRowSpan=function(x){var v=this;return x.filter(function(j){var N=v.cells[j.index];return N?N.rowSpan>1:!1}).length>0},b.prototype.canEntireRowFit=function(x,v){return this.getMaxCellHeight(v)<=x},b.prototype.getMinimumRowHeight=function(x,v){var j=this;return x.reduce(function(N,A){var k=j.cells[A.index];if(!k)return 0;var T=v.getLineHeight(k.styles.fontSize),E=k.padding("vertical"),U=E+T;return U>N?U:N},0)},b}();l.Row=m;var g=function(){function b(x,v,j){var N,A;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=v,this.section=j,this.raw=x;var k=x;x!=null&&typeof x=="object"&&!Array.isArray(x)?(this.rowSpan=x.rowSpan||1,this.colSpan=x.colSpan||1,k=(A=(N=x.content)!==null&&N!==void 0?N:x.title)!==null&&A!==void 0?A:x,x._element&&(this.raw=x._element)):(this.rowSpan=1,this.colSpan=1);var T=k!=null?""+k:"",E=/\r\n|\r|\n/g;this.text=T.split(E)}return b.prototype.getTextPos=function(){var x;if(this.styles.valign==="top")x=this.y+this.padding("top");else if(this.styles.valign==="bottom")x=this.y+this.height-this.padding("bottom");else{var v=this.height-this.padding("vertical");x=this.y+v/2+this.padding("top")}var j;if(this.styles.halign==="right")j=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var N=this.width-this.padding("horizontal");j=this.x+N/2+this.padding("left")}else j=this.x+this.padding("left");return{x:j,y:x}},b.prototype.getContentHeight=function(x,v){v===void 0&&(v=1.15);var j=Array.isArray(this.text)?this.text.length:1,N=this.styles.fontSize/x*v,A=j*N+this.padding("vertical");return Math.max(A,this.styles.minCellHeight)},b.prototype.padding=function(x){var v=(0,p.parseSpacing)(this.styles.cellPadding,0);return x==="vertical"?v.top+v.bottom:x==="horizontal"?v.left+v.right:v[x]},b}();l.Cell=g;var w=function(){function b(x,v,j){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=x,this.raw=v,this.index=j}return b.prototype.getMaxCustomCellWidth=function(x){for(var v=0,j=0,N=x.allRows();j<N.length;j++){var A=N[j],k=A.cells[this.index];k&&typeof k.styles.cellWidth=="number"&&(v=Math.max(v,k.styles.cellWidth))}return v},b}();l.Column=w},356:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(h,d,p,f,m){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(h),w=1;w<arguments.length;w++){var b=arguments[w];if(b!=null)for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(g[x]=b[x])}return g}l.assign=c},972:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var h=c(744),d=c(260),p=c(324),f=c(796),m=c(356);function g(A,k){var T=new h.DocHandler(A),E=w(k,T.scaleFactor()),U=new d.Table(k,E);return(0,p.calculateWidths)(T,U),T.applyStyles(T.userStyles),U}l.createTable=g;function w(A,k){var T=A.content,E=j(T.columns);if(T.head.length===0){var U=x(E,"head");U&&T.head.push(U)}if(T.foot.length===0){var U=x(E,"foot");U&&T.foot.push(U)}var C=A.settings.theme,P=A.styles;return{columns:E,head:b("head",T.head,E,P,C,k),body:b("body",T.body,E,P,C,k),foot:b("foot",T.foot,E,P,C,k)}}function b(A,k,T,E,U,C){var P={},I=k.map(function(M,W){for(var L=0,R={},B=0,z=0,Y=0,ie=T;Y<ie.length;Y++){var _=ie[Y];if(P[_.index]==null||P[_.index].left===0)if(z===0){var D=void 0;Array.isArray(M)?D=M[_.index-B-L]:D=M[_.dataKey];var q={};typeof D=="object"&&!Array.isArray(D)&&(q=(D==null?void 0:D.styles)||{});var te=N(A,_,W,U,E,C,q),H=new d.Cell(D,te,A);R[_.dataKey]=H,R[_.index]=H,z=H.colSpan-1,P[_.index]={left:H.rowSpan-1,times:z}}else z--,B++;else P[_.index].left--,z=P[_.index].times,L++}return new d.Row(M,W,A,R)});return I}function x(A,k){var T={};return A.forEach(function(E){if(E.raw!=null){var U=v(k,E.raw);U!=null&&(T[E.dataKey]=U)}}),Object.keys(T).length>0?T:null}function v(A,k){if(A==="head"){if(typeof k=="object")return k.header||k.title||null;if(typeof k=="string"||typeof k=="number")return k}else if(A==="foot"&&typeof k=="object")return k.footer;return null}function j(A){return A.map(function(k,T){var E,U,C;return typeof k=="object"?C=(U=(E=k.dataKey)!==null&&E!==void 0?E:k.key)!==null&&U!==void 0?U:T:C=T,new d.Column(C,k,T)})}function N(A,k,T,E,U,C,P){var I=(0,f.getTheme)(E),M;A==="head"?M=U.headStyles:A==="body"?M=U.bodyStyles:A==="foot"&&(M=U.footStyles);var W=(0,m.assign)({},I.table,I[A],U.styles,M),L=U.columnStyles[k.dataKey]||U.columnStyles[k.index]||{},R=A==="body"?L:{},B=A==="body"&&T%2===0?(0,m.assign)({},I.alternateRow,U.alternateRowStyles):{},z=(0,f.defaultStyles)(C),Y=(0,m.assign)({},z,W,B,R);return(0,m.assign)(Y,P)}},664:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var h=c(420),d=c(260),p=c(744),f=c(356),m=c(136),g=c(224);function w(L,R){var B=R.settings,z=B.startY,Y=B.margin,ie={x:Y.left,y:z},_=R.getHeadHeight(R.columns)+R.getFootHeight(R.columns),D=z+Y.bottom+_;if(B.pageBreak==="avoid"){var q=R.body,te=q.reduce(function(X,G){return X+G.height},0);D+=te}var H=new p.DocHandler(L);(B.pageBreak==="always"||B.startY!=null&&D>H.pageSize().height)&&(W(H),ie.y=Y.top),R.callWillDrawPageHooks(H,ie);var Z=(0,f.assign)({},ie);R.startPageNumber=H.pageNumber(),B.horizontalPageBreak?b(H,R,Z,ie):(H.applyStyles(H.userStyles),(B.showHead==="firstPage"||B.showHead==="everyPage")&&R.head.forEach(function(X){return U(H,R,X,ie,R.columns)}),H.applyStyles(H.userStyles),R.body.forEach(function(X,G){var ce=G===R.body.length-1;E(H,R,X,ce,Z,ie,R.columns)}),H.applyStyles(H.userStyles),(B.showFoot==="lastPage"||B.showFoot==="everyPage")&&R.foot.forEach(function(X){return U(H,R,X,ie,R.columns)})),(0,h.addTableBorder)(H,R,Z,ie),R.callEndPageHooks(H,ie),R.finalY=ie.y,L.lastAutoTable=R,L.previousAutoTable=R,L.autoTable&&(L.autoTable.previous=R),H.applyStyles(H.userStyles)}l.drawTable=w;function b(L,R,B,z){var Y=(0,g.calculateAllColumnsCanFitInPage)(L,R),ie=R.settings;if(ie.horizontalPageBreakBehaviour==="afterAllRows")Y.forEach(function(te,H){L.applyStyles(L.userStyles),H>0?M(L,R,B,z,te.columns,!0):x(L,R,z,te.columns),v(L,R,B,z,te.columns),N(L,R,z,te.columns)});else for(var _=-1,D=Y[0],q=function(){var te=_;if(D){L.applyStyles(L.userStyles);var H=D.columns;_>=0?M(L,R,B,z,H,!0):x(L,R,z,H),te=j(L,R,_+1,z,H),N(L,R,z,H)}var Z=te-_;Y.slice(1).forEach(function(X){L.applyStyles(L.userStyles),M(L,R,B,z,X.columns,!0),j(L,R,_+1,z,X.columns,Z),N(L,R,z,X.columns)}),_=te};_<R.body.length-1;)q()}function x(L,R,B,z){var Y=R.settings;L.applyStyles(L.userStyles),(Y.showHead==="firstPage"||Y.showHead==="everyPage")&&R.head.forEach(function(ie){return U(L,R,ie,B,z)})}function v(L,R,B,z,Y){L.applyStyles(L.userStyles),R.body.forEach(function(ie,_){var D=_===R.body.length-1;E(L,R,ie,D,B,z,Y)})}function j(L,R,B,z,Y,ie){L.applyStyles(L.userStyles),ie=ie??R.body.length;var _=Math.min(B+ie,R.body.length),D=-1;return R.body.slice(B,_).forEach(function(q,te){var H=B+te===R.body.length-1,Z=I(L,R,H,z);q.canEntireRowFit(Z,Y)&&(U(L,R,q,z,Y),D=B+te)}),D}function N(L,R,B,z){var Y=R.settings;L.applyStyles(L.userStyles),(Y.showFoot==="lastPage"||Y.showFoot==="everyPage")&&R.foot.forEach(function(ie){return U(L,R,ie,B,z)})}function A(L,R,B){var z=B.getLineHeight(L.styles.fontSize),Y=L.padding("vertical"),ie=Math.floor((R-Y)/z);return Math.max(0,ie)}function k(L,R,B,z){var Y={};L.spansMultiplePages=!0,L.height=0;for(var ie=0,_=0,D=B.columns;_<D.length;_++){var q=D[_],te=L.cells[q.index];if(te){Array.isArray(te.text)||(te.text=[te.text]);var H=new d.Cell(te.raw,te.styles,te.section);H=(0,f.assign)(H,te),H.text=[];var Z=A(te,R,z);te.text.length>Z&&(H.text=te.text.splice(Z,te.text.length));var X=z.scaleFactor(),G=z.getLineHeightFactor();te.contentHeight=te.getContentHeight(X,G),te.contentHeight>=R&&(te.contentHeight=R,H.styles.minCellHeight-=R),te.contentHeight>L.height&&(L.height=te.contentHeight),H.contentHeight=H.getContentHeight(X,G),H.contentHeight>ie&&(ie=H.contentHeight),Y[q.index]=H}}var ce=new d.Row(L.raw,-1,L.section,Y,!0);ce.height=ie;for(var ae=0,le=B.columns;ae<le.length;ae++){var q=le[ae],H=ce.cells[q.index];H&&(H.height=ce.height);var te=L.cells[q.index];te&&(te.height=L.height)}return ce}function T(L,R,B,z){var Y=L.pageSize().height,ie=z.settings.margin,_=ie.top+ie.bottom,D=Y-_;R.section==="body"&&(D-=z.getHeadHeight(z.columns)+z.getFootHeight(z.columns));var q=R.getMinimumRowHeight(z.columns,L),te=q<B;if(q>D)return console.error("Will not be able to print row ".concat(R.index," correctly since it's minimum height is larger than page height")),!0;if(!te)return!1;var H=R.hasRowSpan(z.columns),Z=R.getMaxCellHeight(z.columns)>D;return Z?(H&&console.error("The content of row ".concat(R.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(H||z.settings.rowPageBreak==="avoid")}function E(L,R,B,z,Y,ie,_){var D=I(L,R,z,ie);if(B.canEntireRowFit(D,_))U(L,R,B,ie,_);else if(T(L,B,D,R)){var q=k(B,D,R,L);U(L,R,B,ie,_),M(L,R,Y,ie,_),E(L,R,q,z,Y,ie,_)}else M(L,R,Y,ie,_),E(L,R,B,z,Y,ie,_)}function U(L,R,B,z,Y){z.x=R.settings.margin.left;for(var ie=0,_=Y;ie<_.length;ie++){var D=_[ie],q=B.cells[D.index];if(!q){z.x+=D.width;continue}L.applyStyles(q.styles),q.x=z.x,q.y=z.y;var te=R.callCellHooks(L,R.hooks.willDrawCell,q,B,D,z);if(te===!1){z.x+=D.width;continue}C(L,q,z);var H=q.getTextPos();(0,m.default)(q.text,H.x,H.y,{halign:q.styles.halign,valign:q.styles.valign,maxWidth:Math.ceil(q.width-q.padding("left")-q.padding("right"))},L.getDocument()),R.callCellHooks(L,R.hooks.didDrawCell,q,B,D,z),z.x+=D.width}z.y+=B.height}function C(L,R,B){var z=R.styles;if(L.getDocument().setFillColor(L.getDocument().getFillColor()),typeof z.lineWidth=="number"){var Y=(0,h.getFillStyle)(z.lineWidth,z.fillColor);Y&&L.rect(R.x,B.y,R.width,R.height,Y)}else typeof z.lineWidth=="object"&&(z.fillColor&&L.rect(R.x,B.y,R.width,R.height,"F"),P(L,R,B,z.lineWidth))}function P(L,R,B,z){var Y,ie,_,D;z.top&&(Y=B.x,ie=B.y,_=B.x+R.width,D=B.y,z.right&&(_+=.5*z.right),z.left&&(Y-=.5*z.left),q(z.top,Y,ie,_,D)),z.bottom&&(Y=B.x,ie=B.y+R.height,_=B.x+R.width,D=B.y+R.height,z.right&&(_+=.5*z.right),z.left&&(Y-=.5*z.left),q(z.bottom,Y,ie,_,D)),z.left&&(Y=B.x,ie=B.y,_=B.x,D=B.y+R.height,z.top&&(ie-=.5*z.top),z.bottom&&(D+=.5*z.bottom),q(z.left,Y,ie,_,D)),z.right&&(Y=B.x+R.width,ie=B.y,_=B.x+R.width,D=B.y+R.height,z.top&&(ie-=.5*z.top),z.bottom&&(D+=.5*z.bottom),q(z.right,Y,ie,_,D));function q(te,H,Z,X,G){L.getDocument().setLineWidth(te),L.getDocument().line(H,Z,X,G,"S")}}function I(L,R,B,z){var Y=R.settings.margin.bottom,ie=R.settings.showFoot;return(ie==="everyPage"||ie==="lastPage"&&B)&&(Y+=R.getFootHeight(R.columns)),L.pageSize().height-z.y-Y}function M(L,R,B,z,Y,ie){Y===void 0&&(Y=[]),ie===void 0&&(ie=!1),L.applyStyles(L.userStyles),R.settings.showFoot==="everyPage"&&!ie&&R.foot.forEach(function(D){return U(L,R,D,z,Y)}),R.callEndPageHooks(L,z);var _=R.settings.margin;(0,h.addTableBorder)(L,R,B,z),W(L),R.pageNumber++,R.pageCount++,z.x=_.left,z.y=_.top,B.y=_.top,R.callWillDrawPageHooks(L,z),R.settings.showHead==="everyPage"&&(R.head.forEach(function(D){return U(L,R,D,z,Y)}),L.applyStyles(L.userStyles))}l.addPage=M;function W(L){var R=L.pageNumber();L.setPage(R+1);var B=L.pageNumber();return B===R?(L.addPage(),!0):!1}},224:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var h=c(420);function d(f,m,g){var w;g===void 0&&(g={});var b=(0,h.getPageAvailableWidth)(f,m),x=new Map,v=[],j=[],N=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?N=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(N=[m.settings.horizontalPageBreakRepeat]),N.forEach(function(E){var U=m.columns.find(function(C){return C.dataKey===E||C.index===E});U&&!x.has(U.index)&&(x.set(U.index,!0),v.push(U.index),j.push(m.columns[U.index]),b-=U.wrappedWidth)});for(var A=!0,k=(w=g==null?void 0:g.start)!==null&&w!==void 0?w:0;k<m.columns.length;){if(x.has(k)){k++;continue}var T=m.columns[k].wrappedWidth;if(A||b>=T)A=!1,v.push(k),j.push(m.columns[k]),b-=T;else break;k++}return{colIndexes:v,columns:j,lastIndex:k-1}}function p(f,m){for(var g=[],w=0;w<m.columns.length;w++){var b=d(f,m,{start:w});b.columns.length&&(g.push(b),w=b.lastIndex)}return g}l.calculateAllColumnsCanFitInPage=p},324:function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var h=c(420);function d(v,j){p(v,j);var N=[],A=0;j.columns.forEach(function(T){var E=T.getMaxCustomCellWidth(j);E?T.width=E:(T.width=T.wrappedWidth,N.push(T)),A+=T.width});var k=j.getWidth(v.pageSize().width)-A;k&&(k=f(N,k,function(T){return Math.max(T.minReadableWidth,T.minWidth)})),k&&(k=f(N,k,function(T){return T.minWidth})),k=Math.abs(k),!j.settings.horizontalPageBreak&&k>.1/v.scaleFactor()&&(k=k<1?k:Math.round(k),console.warn("Of the table content, ".concat(k," units width could not fit page"))),g(j),w(j,v),m(j)}l.calculateWidths=d;function p(v,j){var N=v.scaleFactor(),A=j.settings.horizontalPageBreak,k=(0,h.getPageAvailableWidth)(v,j);j.allRows().forEach(function(T){for(var E=0,U=j.columns;E<U.length;E++){var C=U[E],P=T.cells[C.index];if(P){var I=j.hooks.didParseCell;j.callCellHooks(v,I,P,T,C,null);var M=P.padding("horizontal");P.contentWidth=(0,h.getStringWidth)(P.text,P.styles,v)+M;var W=(0,h.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,v);if(P.minReadableWidth=W+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||A===!0)P.contentWidth>k?(P.minWidth=k,P.wrappedWidth=k):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var L=10/N;P.minWidth=P.styles.minCellWidth||L,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),j.allRows().forEach(function(T){for(var E=0,U=j.columns;E<U.length;E++){var C=U[E],P=T.cells[C.index];if(P&&P.colSpan===1)C.wrappedWidth=Math.max(C.wrappedWidth,P.wrappedWidth),C.minWidth=Math.max(C.minWidth,P.minWidth),C.minReadableWidth=Math.max(C.minReadableWidth,P.minReadableWidth);else{var I=j.styles.columnStyles[C.dataKey]||j.styles.columnStyles[C.index]||{},M=I.cellWidth||I.minCellWidth;M&&typeof M=="number"&&(C.minWidth=M,C.wrappedWidth=M)}P&&(P.colSpan>1&&!C.minWidth&&(C.minWidth=P.minWidth),P.colSpan>1&&!C.wrappedWidth&&(C.wrappedWidth=P.minWidth))}})}function f(v,j,N){for(var A=j,k=v.reduce(function(L,R){return L+R.wrappedWidth},0),T=0;T<v.length;T++){var E=v[T],U=E.wrappedWidth/k,C=A*U,P=E.width+C,I=N(E),M=P<I?I:P;j-=M-E.width,E.width=M}if(j=Math.round(j*1e10)/1e10,j){var W=v.filter(function(L){return j<0?L.width>N(L):!0});W.length&&(j=f(W,j,N))}return j}l.resizeColumns=f;function m(v){for(var j={},N=1,A=v.allRows(),k=0;k<A.length;k++)for(var T=A[k],E=0,U=v.columns;E<U.length;E++){var C=U[E],P=j[C.index];if(N>1)N--,delete T.cells[C.index];else if(P)P.cell.height+=T.height,N=P.cell.colSpan,delete T.cells[C.index],P.left--,P.left<=1&&delete j[C.index];else{var I=T.cells[C.index];if(!I)continue;if(I.height=T.height,I.rowSpan>1){var M=A.length-k,W=I.rowSpan>M?M:I.rowSpan;j[C.index]={cell:I,left:W,row:T}}}}}function g(v){for(var j=v.allRows(),N=0;N<j.length;N++)for(var A=j[N],k=null,T=0,E=0,U=0;U<v.columns.length;U++){var C=v.columns[U];if(E-=1,E>1&&v.columns[U+1])T+=C.width,delete A.cells[C.index];else if(k){var P=k;delete A.cells[C.index],k=null,P.width=C.width+T}else{var P=A.cells[C.index];if(!P)continue;if(E=P.colSpan,T=0,P.colSpan>1){k=P,T+=C.width;continue}P.width=C.width+T}}}function w(v,j){for(var N={count:0,height:0},A=0,k=v.allRows();A<k.length;A++){for(var T=k[A],E=0,U=v.columns;E<U.length;E++){var C=U[E],P=T.cells[C.index];if(P){j.applyStyles(P.styles,!0);var I=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=j.splitTextToSize(P.text,I+1/j.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=b(P.text,I,P.styles,j,"...");else if(P.styles.overflow==="hidden")P.text=b(P.text,I,P.styles,j,"");else if(typeof P.styles.overflow=="function"){var M=P.styles.overflow(P.text,I);typeof M=="string"?P.text=[M]:P.text=M}P.contentHeight=P.getContentHeight(j.scaleFactor(),j.getLineHeightFactor());var W=P.contentHeight/P.rowSpan;P.rowSpan>1&&N.count*N.height<W*P.rowSpan?N={height:W,count:P.rowSpan}:N&&N.count>0&&N.height>W&&(W=N.height),W>T.height&&(T.height=W)}}N.count--}}function b(v,j,N,A,k){return v.map(function(T){return x(T,j,N,A,k)})}l.ellipsize=b;function x(v,j,N,A,k){var T=1e4*A.scaleFactor();if(j=Math.ceil(j*T)/T,j>=(0,h.getStringWidth)(v,N,A))return v;for(;j<(0,h.getStringWidth)(v+k,N,A)&&!(v.length<=1);)v=v.substring(0,v.length-1);return v.trim()+k}},964:function(s){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}s.exports=n}},a={};function i(s){var l=a[s];if(l!==void 0)return l.exports;var c=a[s]={exports:{}};return r[s].call(c.exports,c,c.exports,i),c.exports}var o={};return function(){var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var l=i(340),c=i(776),h=i(664),d=i(972),p=i(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return p.Table}});var f=i(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return f.CellHookData}});var m=i(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return m.Row}});function g(j){(0,l.default)(j)}s.applyPlugin=g;function w(j,N){var A=(0,c.parseInput)(j,N),k=(0,d.createTable)(j,A);(0,h.drawTable)(j,k)}function b(j,N){var A=(0,c.parseInput)(j,N);return(0,d.createTable)(j,A)}s.__createTable=b;function x(j,N){(0,h.drawTable)(j,N)}s.__drawTable=x;try{var v=i(964);v.jsPDF&&(v=v.jsPDF),g(v)}catch{}s.default=w}(),o}()})})(kF);var Wce=kF.exports;const Jp=Rt(Wce);async function AF(e,t,n,r="flight-report"){const a=new at;let i=20;const o=[251,191,36],s=[31,41,55],l=[34,197,94],c=[239,68,68];a.setFillColor(...o),a.rect(0,0,210,40,"F"),a.setFontSize(24),a.setTextColor(255,255,255),a.setFont(void 0,"bold"),a.text("FLIGHT REPORT",105,25,{align:"center"}),i=50,a.setFillColor(245,245,245),a.roundedRect(15,i-5,180,45,3,3,"F"),a.setFontSize(12),a.setTextColor(...s),a.setFont(void 0,"normal"),a.text(`Flight: ${e.metadata.name}`,20,i),i+=7,a.text(`Date: ${it(new Date,"dd/MM/yyyy")}`,20,i),i+=7,a.text(`Aircraft: ${e.configuration.aircraftModel||"C-130"}`,20,i),i+=7,a.text(`Start Time: ${it(e.configuration.startTime,"HH:mm")}`,20,i);const h=e.legs[e.legs.length-1],d=h==null?void 0:h.waypoints[h.waypoints.length-1];if(d!=null&&d.eta&&(a.text(`Final ETA: ${it(d.eta,"HH:mm")}`,120,i-21),d.actualTime)){const A=d.actualTime.getTime()>d.eta.getTime();a.setTextColor(...A?c:l),a.text(`Actual Arrival: ${it(d.actualTime,"HH:mm")}`,120,i-14),a.setTextColor(...s)}i+=20,a.setFillColor(...o),a.rect(15,i-5,180,10,"F"),a.setFontSize(14),a.setFont(void 0,"bold"),a.setTextColor(255,255,255),a.text("Fuel Readings",20,i+2),a.setTextColor(...s),a.setFont(void 0,"normal"),i+=15;const p=e.legs.find(A=>A.type==="taxi"),f=(p==null?void 0:p.fuelReads)||[],m=[...f,...t||[]];if(m.length>0){const A=m.map(k=>{const T=mr(k.fuelGauges),U=f.includes(k)||k.waypointId==="taxi-start"?"Starting Fuel":k.waypointId||"Free Point";return[it(k.time,"HH:mm"),U,T.toFixed(1),k.eicasFOB.toFixed(1),k.fuelUsedAtBOP.toFixed(1),k.fuelGapFromPlan.toFixed(1),k.note||""]});Jp(a,{startY:i,head:[["Time","Waypoint",`Gauges
Total`,`EICAS
FOB`,`Fuel
Used`,`Gap from
Plan`,"Note"]],body:A,theme:"striped",headStyles:{fillColor:s,fontSize:9,cellPadding:2},bodyStyles:{fontSize:8,cellPadding:2,overflow:"linebreak"},margin:{left:15,right:15},columnStyles:{0:{cellWidth:15},1:{cellWidth:25},2:{cellWidth:18},3:{cellWidth:18},4:{cellWidth:18},5:{cellWidth:20},6:{cellWidth:66,overflow:"linebreak",fontSize:7}},tableWidth:"auto"}),i=a.lastAutoTable.finalY+15}else a.setFontSize(10),a.text("No fuel readings recorded",20,i),i+=15;a.setFillColor(...o),a.rect(15,i-5,180,10,"F"),a.setFontSize(14),a.setFont(void 0,"bold"),a.setTextColor(255,255,255),a.text("Updated Waypoints",20,i+2),a.setTextColor(...s),a.setFont(void 0,"normal"),i+=15;const g=[];if(e.legs.forEach((A,k)=>{A.waypoints.forEach(T=>{var E,U;T.isActual&&g.push([`Leg ${k+1}`,T.name,T.eta?it(T.eta,"HH:mm"):"--",T.actualTime?it(T.actualTime,"HH:mm"):"--",((E=T.fob)==null?void 0:E.toFixed(1))||"--",((U=T.actualFob)==null?void 0:U.toFixed(1))||"--",T.groundSpeed||"--",T.actualGroundSpeed||"--",T.note||""])})}),g.length>0?(Jp(a,{startY:i,head:[["Leg","Waypoint",`Plan
ETA`,`Actual
ETA`,`Plan
FOB`,`Actual
FOB`,`Plan
GS`,`Actual
GS`,"Note"]],body:g,theme:"striped",headStyles:{fillColor:s,fontSize:8,cellPadding:2},bodyStyles:{fontSize:7,cellPadding:2},margin:{left:15,right:15},columnStyles:{0:{cellWidth:10},1:{cellWidth:25},2:{cellWidth:15},3:{cellWidth:15},4:{cellWidth:12},5:{cellWidth:12},6:{cellWidth:12},7:{cellWidth:12},8:{cellWidth:67,overflow:"linebreak",fontSize:6}},tableWidth:"auto",didParseCell:function(A){if(A.section==="body"&&A.column.index===5){const k=parseFloat(A.row.raw[4]),T=parseFloat(A.row.raw[5]);!isNaN(k)&&!isNaN(T)&&(T<k?A.cell.styles.textColor=c:T>k&&(A.cell.styles.textColor=l))}if(A.section==="body"&&A.column.index===3){const k=A.row.raw[2],T=A.row.raw[3];k!=="--"&&T!=="--"&&k<T?A.cell.styles.textColor=c:k!=="--"&&T!=="--"&&k>T&&(A.cell.styles.textColor=l)}}}),i=a.lastAutoTable.finalY+15):(a.setFontSize(10),a.text("No waypoints were updated",20,i),i+=15),i>250&&(a.addPage(),i=20),a.setFillColor(...o),a.rect(15,i-5,180,10,"F"),a.setFontSize(14),a.setFont(void 0,"bold"),a.setTextColor(255,255,255),a.text("Action Log",20,i+2),a.setTextColor(...s),a.setFont(void 0,"normal"),i+=15,n.length>0){const A=(T,E)=>{T=T.replace(/([,;:|])(?=\S)/g,"$1 ");const U=T.split(/\s+/),C=[];let P="";return U.forEach(I=>{if(I.length>E){P&&(C.push(P),P="");for(let M=0;M<I.length;M+=E-5){const W=I.substring(M,M+E-5);C.push(W+(M+E-5<I.length?"-":""))}}else P.length+I.length+1>E?(P&&C.push(P),P=I):P=P?P+" "+I:I}),P&&C.push(P),C.join(`
`)},k=n.map(T=>{let E=T.details;return E.length>250&&(E=E.substring(0,247)+"..."),E=A(E,55),[it(T.timestamp,"HH:mm"),T.action.length>30?T.action.substring(0,27)+"...":T.action,E]});Jp(a,{startY:i,head:[["Time","Action","Details"]],body:k,theme:"grid",headStyles:{fillColor:s,textColor:[255,255,255],fontSize:9,cellPadding:3,halign:"left"},bodyStyles:{fontSize:9,cellPadding:4,overflow:"linebreak",cellWidth:"wrap",valign:"top",lineColor:[200,200,200],lineWidth:.1},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:15,right:15},columnStyles:{0:{cellWidth:20,halign:"center"},1:{cellWidth:40,overflow:"hidden"},2:{cellWidth:105,overflow:"linebreak",fontSize:7.5,cellPadding:2,minCellHeight:8}},tableWidth:165,styles:{overflow:"linebreak",fontSize:9},showHead:"everyPage",pageBreak:"auto",rowPageBreak:"auto",willDrawCell:function(T){if(T.section==="body"&&T.column.index===2){const E=T.cell.text.join(" ");if(E.includes("FOB:")||E.includes("Time:")){const U=E.match(/FOB:\s*\+/),C=E.match(/FOB:\s*-/),P=E.match(/Time:\s*\+/),I=E.match(/Time:\s*-/);U||I?T.cell.styles.textColor=l:(C||P)&&(T.cell.styles.textColor=c)}}}}),i=a.lastAutoTable.finalY+15}else a.setFontSize(10),a.text("No actions logged",20,i),i+=15;i>220&&(a.addPage(),i=20),a.setFillColor(...o),a.rect(15,i-5,180,10,"F"),a.setFontSize(14),a.setFont(void 0,"bold"),a.setTextColor(255,255,255),a.text("Flight Summary",20,i+2),a.setTextColor(...s),a.setFont(void 0,"normal"),i+=15;const w=e.legs.reduce((A,k)=>A+(k.distance||0),0),b=e.configuration.fuelOnBoard||0,x=(d==null?void 0:d.actualFob)||(d==null?void 0:d.fob)||0,v=b-x,j=[["Total Distance",`${w.toFixed(0)} nm`],["Planned Fuel",`${b.toFixed(1)} klb`],["Final Fuel",`${x.toFixed(1)} klb`],["Fuel Used",`${v.toFixed(1)} klb`],["Number of Legs",e.legs.length.toString()],["Waypoints Updated",g.length.toString()],["Actions Logged",n.length.toString()]];Jp(a,{startY:i,body:j,theme:"plain",margin:{left:15,right:100},styles:{fontSize:11,cellPadding:3},alternateRowStyles:{fillColor:[250,250,250]},columnStyles:{0:{fontStyle:"bold",textColor:s},1:{halign:"right",textColor:o,fontStyle:"bold"}}});const N=a.internal.getNumberOfPages();for(let A=1;A<=N;A++)a.setPage(A),a.setFontSize(8),a.setTextColor(150,150,150),a.text(`Page ${A} of ${N}`,105,285,{align:"center"}),a.text(`Generated on ${it(new Date,"dd/MM/yyyy HH:mm")}`,15,285);try{a.save(`${r}.pdf`)}catch(A){throw console.error("Error saving PDF:",A),new Error("Failed to save PDF. Please check your browser settings.")}}async function PF(e,t="flight-data"){try{const n={metadata:{exportDate:new Date().toISOString(),version:"1.0",...e.metadata},configuration:e.configuration,legs:e.legs,fuel:e.fuel,alternates:e.alternates,remarks:e.remarks},r=JSON.stringify(n,null,2),a=new Blob([r],{type:"application/json"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=`${t}.json`,typeof document<"u"&&document.body?(document.body.appendChild(o),o.click(),document.body.removeChild(o)):o.click(),URL.revokeObjectURL(i)}catch(n){throw console.error("Error exporting flight data:",n),n}}async function CF(e){try{return prompt("Save flight report as:",e)}catch(t){return console.error("Error showing save dialog:",t),e}}function Uce(){const e=He(Y=>Y.activePlan),t=He(Y=>Y.actualPlan),n=He(Y=>Y.updateActualPlan),r=He(Y=>Y.setCurrentLeg),a=He(Y=>Y.setCurrentLegIndex);He(Y=>Y.currentLegId);const i=He(Y=>Y.currentLegIndex),o=He(Y=>Y.actionLog),s=He(Y=>Y.addActionLogEntry);He(Y=>Y.fuelReads);const l=He(Y=>Y.clearAllUserInputs),c=Ur(Y=>Y.setAppFlow),[h,d]=se.useState("fuel"),[p,f]=se.useState(i),[m,g]=se.useState(!1),[w,b]=se.useState(!1),[x,v]=se.useState(!1),[j,N]=se.useState(!1),[A,k]=se.useState(!1),{isConnected:T,sendTakeoff:E,sendPlanUpdate:U}=t5();if(console.log("EngineerView - activePlan:",e),console.log("EngineerView - actualPlan:",t),!e||!t)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No Active Flight Plan"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The flight plan could not be loaded."}),u.jsx(Ke,{onClick:()=>c({type:"planning"}),children:"Back to Planning"})]})});const C=[{id:"fuel",label:"Fuel",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:"progress",label:"Progress",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"waypoints",label:"Waypoints",icon:u.jsxs("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"graph",label:"Graph",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}],P=()=>{i===0&&g(!0)},I=Y=>{const ie={...t,configuration:{...t.configuration,startTime:Y},legs:t.legs.map((_,D)=>({..._,waypoints:_.waypoints.map((q,te)=>{let H=0;for(let X=0;X<D;X++)t.legs[X].waypoints.forEach(ce=>{H+=ce.eet||0});for(let X=0;X<=te;X++)H+=_.waypoints[X].eet||0;const Z=new Date(Y.getTime()+H*60*1e3);return{...q,eta:Z}})}))};n(ie),s("TAKEOFF",`Takeoff confirmed at ${it(Y,"HH:mm")}`),T&&(E(Y),U(ie)),t.legs.length>1&&(a(1),r(t.legs[1].id),f(1))},M=()=>{v(!0)},W=async()=>{v(!1);try{const Y=`${t.metadata.name.replace(/[^a-z0-9]/gi,"_")}_${it(new Date,"yyyy-MM-dd")}`,ie=await CF(Y);if(!ie)return;const _=[];t.legs.forEach(D=>{D.fuelReads&&D.fuelReads.length>0&&_.push(...D.fuelReads)});try{await AF(t,_,o,ie)}catch(D){console.error("Error exporting PDF:",D)}try{await PF(t,`${ie}_data`)}catch(D){console.error("Error exporting JSON:",D)}alert("Flight ended. Reports saved to your Downloads folder."),c({type:"planning"})}catch(Y){console.error("Error in end flight process:",Y),alert("Error ending flight. The flight has been ended but reports may not have been saved."),c({type:"planning"})}},L=()=>{switch(h){case"fuel":return u.jsx(ZT,{});case"progress":return u.jsx(Oue,{selectedLegIndex:p});case"waypoints":return u.jsx(eF,{});case"graph":return u.jsx(tF,{});default:return null}},R=t.legs[t.legs.length-1],B=R==null?void 0:R.waypoints[R.waypoints.length-1],z=(B==null?void 0:B.eta)||t.configuration.startTime;return u.jsxs(Zw,{children:[u.jsxs("div",{className:"h-full grid",style:{gridTemplateRows:"auto auto 1fr auto"},children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 transition-colors duration-300",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{children:u.jsx("h1",{className:"text-lg font-bold text-black-1 dark:text-gray-100",children:t.metadata.name})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{size:"sm",variant:"secondary",onClick:()=>c({type:"welcome"}),children:" Home"}),u.jsxs(Ke,{size:"sm",variant:"secondary",onClick:()=>N(!0),className:"flex items-center gap-1",children:[u.jsx(Due,{size:16}),"970 2/3 Calc"]}),u.jsx(Ke,{size:"sm",variant:"danger",onClick:()=>{confirm(`Are you sure you want to clear all input data?

This will remove:
 All fuel readings
 All waypoint updates
 970 2/3 calculations
 Action log entries`)&&(l(),s("SYSTEM","All user inputs cleared"))},children:"Clear inputs data"}),u.jsx(Ke,{size:"sm",variant:T?"success":"secondary",onClick:()=>b(!0),children:T?" Synced":" Sync"}),i===0&&u.jsxs(Ke,{size:"sm",variant:"primary",onClick:P,children:[" ",t.configuration.startTime&&t.configuration.startTime instanceof Date&&t.configuration.startTime.getTime()>0?"Update Takeoff":"Takeoff"]}),u.jsx(Ke,{size:"sm",variant:"danger",onClick:M,children:" End Flight"})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-2 transition-colors duration-300",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex gap-2 overflow-x-auto",children:t.legs.map((Y,ie)=>u.jsx("button",{onClick:()=>{if(i===0&&ie>0&&!(t.configuration.startTime&&t.configuration.startTime instanceof Date&&t.configuration.startTime.getTime()>0)){k(!0);return}f(ie),r(Y.id),a(ie)},className:et("px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors",p===ie?"bg-yellow-400 text-black dark:bg-yellow-500 dark:text-black":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:(()=>{var q,te;if(Y.type==="taxi")return"Taxi";const D=t.legs.slice(0,ie+1).filter(H=>H.type!=="taxi").length;try{if(Y.waypoints&&Array.isArray(Y.waypoints)&&Y.waypoints.length>=2){const H=(q=Y.waypoints[0])==null?void 0:q.name,Z=(te=Y.waypoints[Y.waypoints.length-1])==null?void 0:te.name;if(H&&Z&&typeof H=="string"&&typeof Z=="string")return`${D}. ${H} - ${Z}`}}catch(H){console.warn("Error getting waypoint names for leg",ie,H)}return`${D}. Leg`})()},Y.id))}),i>0&&u.jsxs("div",{className:"ml-4 text-center",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"ETA"}),u.jsx("p",{className:"text-2xl font-bold text-black dark:text-gray-100",children:it(z,"HH:mm")})]})]})}),u.jsx("div",{className:"overflow-y-auto bg-background dark:bg-background-dark p-4",children:L()}),u.jsx(KT,{tabs:C,activeTab:h,onTabChange:d})]}),u.jsx(e5,{isOpen:m,onClose:()=>g(!1),onConfirm:I}),u.jsx(nF,{isOpen:w,onClose:()=>b(!1)}),u.jsx(gl,{isOpen:x,onClose:()=>v(!1),onConfirm:W,title:"End Flight",message:"Are you sure you want to end this flight? You will be prompted to save the flight report.",confirmText:"End Flight",cancelText:"Cancel",variant:"warning"}),u.jsx($ue,{isOpen:j,onClose:()=>N(!1)}),u.jsx(gl,{isOpen:A,onClose:()=>k(!1),title:"Takeoff Required",message:"Enter takeoff time to start the next leg",confirmText:"",variant:"warning",children:u.jsx("div",{className:"flex justify-center mt-4",children:u.jsx(Ke,{variant:"primary",onClick:()=>{k(!1),g(!0)},children:" Takeoff"})})})]})}function zce({selectedLegIndex:e=0}){const t=He(f=>f.actualPlan),n=He(f=>f.currentLegIndex);if(!t)return null;const r=e!==void 0?e:n,a=t.legs.flatMap(f=>f.waypoints),i=a.filter(f=>f.isActual),o=i.length/a.length*100,s=t.configuration.startTime,l=hC(new Date,s),c=Math.floor(l/60),h=l%60,d=t.legs.reduce((f,m)=>f+m.distance,0),p=i.reduce((f,m)=>f+(m.distance||0),0);return u.jsxs("div",{className:"bg-white p-4 space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Flight Progress"}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[o.toFixed(0),"%"]})]}),u.jsxs("div",{className:"relative w-full bg-gray-200 rounded-full h-3",children:[u.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${o}%`}}),u.jsx("div",{className:"absolute top-0 transition-all duration-500 -translate-y-1 -translate-x-2",style:{left:`${Math.min(o,95)}%`},children:u.jsx("span",{className:"text-blue-600 text-lg",children:""})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Elapsed Time"}),u.jsxs("div",{className:"text-lg font-semibold",children:[c,"h ",h,"m"]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Waypoints"}),u.jsxs("div",{className:"text-lg font-semibold",children:[i.length," / ",a.length]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Distance"}),u.jsxs("div",{className:"text-lg font-semibold",children:[p.toFixed(0)," / ",d.toFixed(0)," nm"]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Started"}),u.jsx("div",{className:"text-lg font-semibold",children:it(s,"HH:mm")})]})]}),u.jsxs("div",{className:"border-t pt-3",children:[u.jsx("h4",{className:"font-medium mb-2",children:r===n?"Current Leg":`Selected Leg ${r+1}`}),(()=>{var m;const f=t.legs[r];return f?u.jsxs("div",{className:"text-sm space-y-1",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"text-gray-600",children:["Leg ",r+1,":"]})," ",u.jsx("span",{className:"font-medium",children:f.type.toUpperCase()})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Altitude:"})," ",u.jsxs("span",{className:"font-medium",children:[((m=f.altitude)==null?void 0:m.toLocaleString())||0," ft"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Wind:"})," ",u.jsxs("span",{className:"font-medium",children:[(()=>{const g=Math.round(f.wind||0);return g>0?`+${g}`:g})()," kts",(()=>{const g=f.wind||0;return g>0?" (tailwind)":g<0?" (headwind)":" (no wind)"})()]})]})]}):u.jsx("p",{className:"text-gray-600",children:"No leg selected"})})()]})]})}function Hce(){const e=He(P=>P.activePlan),t=He(P=>P.actualPlan),n=He(P=>P.updateActualPlan),r=He(P=>P.setCurrentLeg),a=He(P=>P.setCurrentLegIndex);He(P=>P.currentLegId);const i=He(P=>P.currentLegIndex),o=He(P=>P.actionLog),s=He(P=>P.addActionLogEntry);He(P=>P.fuelReads);const l=Ur(P=>P.setAppFlow),[c,h]=se.useState("waypoints"),[d,p]=se.useState(i),[f,m]=se.useState(!1),[g,w]=se.useState(!1),{isConnected:b,sendTakeoff:x,sendPlanUpdate:v}=t5();if(console.log("NavigatorView - activePlan:",e),console.log("NavigatorView - actualPlan:",t),!e||!t)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Flight Plan"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"The flight plan could not be loaded."}),u.jsx(Ke,{onClick:()=>l({type:"planning"}),children:"Back to Planning"})]})});const j=[{id:"fuel",label:"Fuel",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:"progress",label:"Progress",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"waypoints",label:"Waypoints",icon:u.jsxs("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"graph",label:"Graph",icon:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}],N=()=>{i===0&&m(!0)},A=P=>{const I={...t,configuration:{...t.configuration,startTime:P},legs:t.legs.map((M,W)=>({...M,waypoints:M.waypoints.map((L,R)=>{let B=0;for(let Y=0;Y<W;Y++)t.legs[Y].waypoints.forEach(_=>{B+=_.eet||0});for(let Y=0;Y<=R;Y++)B+=M.waypoints[Y].eet||0;const z=new Date(P.getTime()+B*60*1e3);return{...L,eta:z}})}))};n(I),s("TAKEOFF",`Takeoff confirmed at ${it(P,"HH:mm")}`),b&&(x(P),v(I)),t.legs.length>1&&(a(1),r(t.legs[1].id),p(1))},k=async()=>{if(confirm("Are you sure you want to end navigation? You will be prompted to save the flight report."))try{const P=await CF(`${t.metadata.name.replace(/[^a-z0-9]/gi,"_")}_${it(new Date,"yyyy-MM-dd")}`);if(P){const I=[];t.legs.forEach(M=>{M.fuelReads&&M.fuelReads.length>0&&I.push(...M.fuelReads)}),await AF(t,I,o,P),await PF(t,`${P}_data`),alert("Flight report and data exported successfully!")}l({type:"planning"})}catch(P){console.error("Error exporting flight data:",P),alert("Error exporting flight data. Please try again.")}},T=()=>{switch(c){case"fuel":return u.jsx(ZT,{});case"progress":return u.jsx(zce,{selectedLegIndex:d});case"waypoints":return u.jsx(eF,{});case"graph":return u.jsx(tF,{});default:return null}},E=t.legs[t.legs.length-1],U=E==null?void 0:E.waypoints[E.waypoints.length-1],C=(U==null?void 0:U.eta)||t.configuration.startTime;return u.jsxs(Zw,{children:[u.jsxs("div",{className:"h-full grid",style:{gridTemplateRows:"auto auto 1fr auto"},children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{children:u.jsx("h1",{className:"text-lg font-bold text-black-1 dark:text-gray-100",children:t.metadata.name})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ke,{size:"sm",variant:b?"success":"secondary",onClick:()=>w(!0),children:b?" Synced":" Sync"}),i===0&&u.jsx(Ke,{size:"sm",variant:"primary",onClick:N,children:" Takeoff"}),u.jsx(Ke,{size:"sm",variant:"danger",onClick:k,children:" End Navigation"})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-2",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex gap-2 overflow-x-auto",children:t.legs.map((P,I)=>u.jsx("button",{onClick:()=>{p(I),r(P.id),a(I)},className:et("px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors",d===I?"bg-yellow-400 text-black":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:(()=>{var L,R;if(P.type==="taxi")return"Taxi";const W=t.legs.slice(0,I+1).filter(B=>B.type!=="taxi").length;try{if(P.waypoints&&Array.isArray(P.waypoints)&&P.waypoints.length>=2){const B=(L=P.waypoints[0])==null?void 0:L.name,z=(R=P.waypoints[P.waypoints.length-1])==null?void 0:R.name;if(B&&z&&typeof B=="string"&&typeof z=="string")return`${W}. ${B} - ${z}`}}catch(B){console.warn("Error getting waypoint names for leg",I,B)}return`${W}. Leg`})()},P.id))}),i>0&&u.jsxs("div",{className:"ml-4 text-center",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"ETA"}),u.jsx("p",{className:"text-2xl font-bold text-black dark:text-gray-100",children:it(C,"HH:mm")})]})]})}),u.jsx("div",{className:"overflow-y-auto bg-background dark:bg-background-dark p-4",children:T()}),u.jsx(KT,{tabs:j,activeTab:c,onTabChange:h})]}),u.jsx(e5,{isOpen:f,onClose:()=>m(!1),onConfirm:A}),u.jsx(nF,{isOpen:g,onClose:()=>w(!1)})]})}function qce(){const e=He(p=>p.actualPlan);if(!e)return null;const t=e.configuration.startTime,n=hC(new Date,t),r=e.legs.reduce((p,f)=>p+f.distance,0),a=e.legs.flatMap(p=>p.waypoints),i=a.filter(p=>p.isActual),o=a.filter(p=>!p.isActual),s=i.reduce((p,f)=>p+(f.distance||0),0),l=r-s,c=n>0?s/n*60:0,h=c>0?l/c*60:0,d=rx(new Date,h);return u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Flight Progress"}),u.jsxs("div",{className:"text-2xl font-bold text-primary",children:[(i.length/a.length*100).toFixed(0),"%"]}),u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[i.length," of ",a.length," waypoints"]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Elapsed Time"}),u.jsxs("div",{className:"text-2xl font-bold dark:text-gray-100",children:[Math.floor(n/60),"h ",n%60,"m"]}),u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Started at ",it(t,"HH:mm")]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Distance Covered"}),u.jsxs("div",{className:"text-2xl font-bold dark:text-gray-100",children:[s.toFixed(0)," nm"]}),u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["of ",r.toFixed(0)," nm total"]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Est. Arrival"}),u.jsx("div",{className:"text-2xl font-bold dark:text-gray-100",children:it(d,"HH:mm")}),u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["~",Math.round(h)," min remaining"]})]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Current Status"}),o.length>0?u.jsxs("div",{className:"text-blue-800 dark:text-blue-200",children:[u.jsxs("p",{className:"font-medium",children:["Next Waypoint: ",o[0].name]}),u.jsxs("p",{className:"text-sm mt-1",children:["ETA: ",o[0].eta?it(o[0].eta,"HH:mm"):"N/A"]}),o[0].distance&&u.jsxs("p",{className:"text-sm",children:["Distance: ",o[0].distance.toFixed(1)," nm"]})]}):u.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:"All waypoints completed - Approaching destination"})]})]})}function Gce(){const e=He(i=>i.actualPlan),t=He(i=>i.currentWaypointId);if(!e)return null;const n=e.legs.flatMap(i=>i.waypoints.map(o=>({...o,legId:i.id}))),r=n.findIndex(i=>!i.isActual),a=n.slice(Math.max(0,r-1),r+4);return u.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"font-semibold mb-3 dark:text-gray-100",children:"Waypoint Sequence"}),u.jsx("div",{className:"space-y-2",children:a.map((i,o)=>{var l;const s=!i.isActual&&((l=n.filter(c=>!c.isActual)[0])==null?void 0:l.id)===i.id;return u.jsx("div",{className:et("border rounded-lg p-3 transition-all",i.isActual&&"bg-gray-100 dark:bg-gray-700 opacity-60",s&&"border-primary bg-blue-50 dark:bg-blue-900/20 shadow-md",t===i.id&&"ring-2 ring-primary"),children:u.jsx("div",{className:"flex justify-between items-start",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"font-medium flex items-center gap-2 dark:text-gray-100",children:[i.name,i.isActual&&u.jsx("span",{className:"text-xs bg-gray-600 text-white px-2 py-0.5 rounded",children:"PASSED"}),s&&u.jsx("span",{className:"text-xs bg-primary text-white px-2 py-0.5 rounded",children:"NEXT"})]}),u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:["ETA: ",i.eta?it(i.eta,"HH:mm"):"N/A"]}),i.altitude&&u.jsxs("div",{children:["Alt: ",i.altitude.toLocaleString()," ft"]}),i.distance&&u.jsxs("div",{children:["Dist: ",i.distance.toFixed(1)," nm"]}),i.heading&&u.jsxs("div",{children:["HDG: ",i.heading,""]})]}),i.note&&u.jsxs("div",{className:"mt-2 text-sm bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded p-2",children:[u.jsx("span",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Note:"})," ",u.jsx("span",{className:"dark:text-yellow-200",children:i.note})]})]})})},i.id)})}),n.filter(i=>!i.isActual).length>4&&u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mt-3",children:["+",n.filter(i=>!i.isActual).length-4," more waypoints"]})]})}function Vce(){const e=He(d=>d.actualPlan),t=He(d=>d.fuelReads);if(!e)return null;const n=e.configuration.fuelOnBoard,r=t.reduce((d,p)=>d+p.amount,0),a=n-r,i=a/n*100,o=e.legs.flatMap(d=>d.waypoints),s=o.filter(d=>d.isActual).length/o.length,c=r/(s||.01)-r,h=a<c?"critical":a<c*1.2?"warning":"good";return u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 space-y-4 h-full flex flex-col",children:[u.jsx("h3",{className:"font-semibold text-lg dark:text-gray-100",children:"Fuel Status"}),u.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4",children:u.jsxs("div",{className:"relative h-40 w-full",children:[u.jsx("div",{className:"absolute inset-0 bg-gray-300 dark:bg-gray-600 rounded-lg overflow-hidden",children:u.jsx("div",{className:et("absolute bottom-0 left-0 right-0 transition-all duration-500",h==="critical"&&"bg-danger",h==="warning"&&"bg-warning",h==="good"&&"bg-success"),style:{height:`${i}%`}})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold dark:text-gray-100",children:a.toFixed(1)}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"klbs"})]})})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Capacity"}),u.jsxs("div",{className:"text-lg font-semibold dark:text-gray-100",children:[n.toFixed(1)," klb"]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Used"}),u.jsxs("div",{className:"text-lg font-semibold dark:text-gray-100",children:[r.toFixed(1)," klb"]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Est. Needed"}),u.jsxs("div",{className:"text-lg font-semibold dark:text-gray-100",children:[c.toFixed(1)," klb"]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Reserve"}),u.jsxs("div",{className:et("text-lg font-semibold",h==="critical"&&"text-danger",h==="warning"&&"text-warning",h==="good"&&"text-success"),children:[(a-c).toFixed(1)," klb"]})]})]}),h!=="good"&&u.jsxs("div",{className:et("rounded-lg p-3 text-sm",h==="critical"&&"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 text-red-800 dark:text-red-200",h==="warning"&&"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200"),children:[u.jsx("div",{className:"font-semibold mb-1",children:h==="critical"?" Critical Fuel Level":" Low Fuel Warning"}),u.jsx("div",{children:h==="critical"?"Fuel reserves are below required minimums. Consider diversion.":"Fuel reserves are approaching minimum levels. Monitor closely."})]}),t.length>0&&u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 border-t dark:border-gray-700 pt-3",children:[u.jsxs("div",{children:["Last fuel read: ",t[t.length-1].amount.toFixed(1)," klb"]}),u.jsx("div",{className:"text-xs",children:new Date(t[t.length-1].timestamp).toLocaleTimeString()})]})]})}function Kce(){const e=He(w=>w.activePlan),t=He(w=>w.actualPlan),n=He(w=>w.updateActualPlan),r=He(w=>w.currentLegIndex),a=He(w=>w.setCurrentLegIndex),i=He(w=>w.setCurrentLeg),o=He(w=>w.addActionLogEntry),s=Ur(w=>w.setAppFlow),[l,c]=se.useState(!1);if(!e||!t)return u.jsx("div",{children:"No active flight plan"});const h=()=>{r===0&&c(!0)},d=w=>{const b={...t,configuration:{...t.configuration,startTime:w},legs:t.legs.map((x,v)=>({...x,waypoints:x.waypoints.map((j,N)=>{let A=0;for(let T=0;T<v;T++)t.legs[T].waypoints.forEach(U=>{A+=U.eet||0});for(let T=0;T<=N;T++)A+=x.waypoints[T].eet||0;const k=new Date(w.getTime()+A*60*1e3);return{...j,eta:k}})}))};n(b),o("TAKEOFF",`Takeoff confirmed at ${it(w,"HH:mm")}`),t.legs.length>1&&(a(1),i(t.legs[1].id))},p=()=>{confirm("Are you sure you want to exit pilot mode?")&&s({type:"planning"})},m=t.legs.reduce((w,b)=>w+b.distance,0)/150*60,g=new Date(t.configuration.startTime.getTime()+m*6e4);return u.jsxs(Zw,{children:[u.jsxs("div",{className:"h-full grid",style:{gridTemplateRows:"auto 1fr"},children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-bold text-black-1 dark:text-gray-100",children:t.metadata.name}),r>0&&u.jsxs("p",{className:"text-sm text-label-gray dark:text-label-gray-dark",children:["ETA: ",it(g,"HH:mm")]})]}),u.jsxs("div",{className:"flex gap-2",children:[r===0&&u.jsx(Ke,{size:"sm",variant:"primary",onClick:h,children:" Takeoff"}),u.jsx(Ke,{size:"sm",variant:"secondary",onClick:p,children:" Exit Pilot Mode"})]})]})}),u.jsxs("div",{className:"flex overflow-hidden",children:[u.jsxs("div",{className:"w-2/3 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:u.jsx("h2",{className:"text-lg font-semibold dark:text-gray-100",children:"Flight Overview"})}),u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsx(qce,{}),u.jsx(Gce,{})]})]}),u.jsx("div",{className:"w-1/3 flex flex-col",children:u.jsx(Vce,{})})]})]}),u.jsx(e5,{isOpen:l,onClose:()=>c(!1),onConfirm:d})]})}function Ak({role:e}){const t=Ur(a=>a.setAppFlow),n=()=>{t({type:"planning"})},r={navigator:"Navigator",pilot:"Pilot",engineer:"Engineer"}[e];return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx("svg",{className:"w-10 h-10 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:[r," Mode - No Active Flight"]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Waiting to join an active flight. You can join when an Engineer starts broadcasting flight data."})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4 mb-6",children:[u.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"How to Join a Flight:"}),u.jsxs("ol",{className:"text-sm text-blue-800 dark:text-blue-300 text-left space-y-1",children:[u.jsx("li",{children:"1. Ensure you're on the same network as the Engineer"}),u.jsx("li",{children:"2. Wait for the Engineer to start broadcasting"}),u.jsx("li",{children:"3. Select the flight when it appears"}),u.jsx("li",{children:"4. Start receiving real-time updates"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Ke,{onClick:()=>{},variant:"secondary",className:"w-full",disabled:!0,children:"Searching for Flights..."}),u.jsx(Ke,{onClick:n,variant:"ghost",className:"w-full",children:"Back to Planning"})]})]})})}const fu={id:"test-csv-4engines",zeroFuelWeight:100,fuelOnBoard:25.7,drag:"withPods",oddEven:"even",startTime:new Date,landingInNegev:!1},Qp={id:"test-leg-4engines",type:"lrc1010",distance:1200,initialFuel:25.7,isa:10,specialCondition:"minimum4Engines",altitudeMode:"cc"};function Yce(){const[e,t]=se.useState([]);return se.useEffect(()=>{const n=Wb(Qp,fu,"minimum4Engines");t(n),console.log("4 Engines Test Results:"),console.log("Configuration:",fu),console.log("Leg:",Qp),console.log("Calculated Segments:",n)},[]),u.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"4 Engines Calculation Test"}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Test Configuration"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:["ZFW: ",fu.zeroFuelWeight," lbs"]}),u.jsxs("div",{children:["Initial Fuel: ",fu.fuelOnBoard," lbs"]}),u.jsxs("div",{children:["Total Weight: ",fu.zeroFuelWeight+fu.fuelOnBoard," lbs"]}),u.jsx("div",{children:"Drag: 60 (with pods)"}),u.jsxs("div",{children:["ISA: ",Qp.isa,"C"]}),u.jsxs("div",{children:["Distance: ",Qp.distance," nm"]}),u.jsx("div",{children:"Altitude: Even"}),u.jsx("div",{children:"Method: 1010"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calculated Segments vs Expected (CSV)"}),u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b",children:[u.jsx("th",{className:"text-left py-2",children:"Segment"}),u.jsx("th",{className:"text-center py-2",children:"Altitude"}),u.jsx("th",{className:"text-center py-2",children:"IAS"}),u.jsx("th",{className:"text-center py-2",children:"TAS"}),u.jsx("th",{className:"text-center py-2",children:"Fuel Rate"}),u.jsx("th",{className:"text-center py-2",children:"Remaining Fuel"}),u.jsx("th",{className:"text-center py-2",children:"Status"})]})}),u.jsx("tbody",{children:e.map((n,r)=>{const a=[{alt:24,ias:184,tas:277,fuelRate:4.4,remaining:24.1},{alt:26,ias:179,tas:278,fuelRate:4.2,remaining:19.9},{alt:26,ias:177,tas:275,fuelRate:4.1,remaining:15.8},{alt:28,ias:171,tas:275,fuelRate:3.9,remaining:11.9},{alt:28,ias:169,tas:272,fuelRate:3.9,remaining:8}][r],i=a&&Math.round(n.startAltitude/1e3)===a.alt,o=a&&Math.abs(n.indicatedAirSpeed-a.ias)<=5,s=a&&Math.abs(n.trueAirSpeed-a.tas)<=5,l=a&&Math.abs(n.fuelConsumptionPerHour-a.fuelRate)<=.2,c=a&&Math.abs(n.remainingFuel-a.remaining)<=.5,h=i&&o&&s&&l&&c;return u.jsxs("tr",{className:"border-b",children:[u.jsx("td",{className:"py-2",children:r+1}),u.jsx("td",{className:"text-center py-2",children:u.jsxs("div",{className:i?"text-green-600":"text-red-600",children:[Math.round(n.startAltitude/1e3),"k",a&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",a.alt,"k"]})]})}),u.jsx("td",{className:"text-center py-2",children:u.jsxs("div",{className:o?"text-green-600":"text-red-600",children:[n.indicatedAirSpeed,a&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",a.ias]})]})}),u.jsx("td",{className:"text-center py-2",children:u.jsxs("div",{className:s?"text-green-600":"text-red-600",children:[n.trueAirSpeed,a&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",a.tas]})]})}),u.jsx("td",{className:"text-center py-2",children:u.jsxs("div",{className:l?"text-green-600":"text-red-600",children:[n.fuelConsumptionPerHour.toFixed(1),a&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",a.fuelRate]})]})}),u.jsx("td",{className:"text-center py-2",children:u.jsxs("div",{className:c?"text-green-600":"text-red-600",children:[n.remainingFuel.toFixed(1),a&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",a.remaining]})]})}),u.jsx("td",{className:"text-center py-2",children:h?u.jsx("span",{className:"text-green-600",children:""}):u.jsx("span",{className:"text-red-600",children:""})})]},n.id)})})]}),e.length===0&&u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Calculating..."})]})]})}function Xce(){const e=Ur(r=>r.appFlow);qt(r=>r.plans);const t=qt(r=>r.currentPlanId),n=()=>{switch(e.type){case"welcome":return u.jsx(Z7,{});case"planning":return console.log("AppRouter: Planning mode, currentPlanId:",t),t?u.jsx(pue,{}):u.jsx(lD,{});case"confirmNav":case"confirmPilot":case"confirmEng":return u.jsx(vue,{});case"navEmpty":return u.jsx(Ak,{role:"navigator"});case"pilotEmpty":return u.jsx(Ak,{role:"pilot"});case"nav":return u.jsx(Hce,{});case"pilot":return u.jsx(Kce,{});case"eng":return u.jsx(Uce,{});default:return u.jsx(eD,{})}};return u.jsxs(LM,{children:[u.jsx(Z1,{path:"/test-4engines",element:u.jsx(Yce,{})}),u.jsx(Z1,{path:"/*",element:n()})]})}function Jce({message:e,onClose:t}){return se.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"bg-red-600 text-white px-6 py-4 rounded-lg shadow-xl max-w-md pointer-events-auto",children:u.jsxs("div",{className:"flex items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Error"}),u.jsx("p",{className:"text-sm",children:e})]}),u.jsx("button",{onClick:t,className:"ml-4 text-white hover:text-red-200 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})}const Qce=()=>{const{theme:e,toggleTheme:t}=Jw(),n=e==="dark";return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:et("text-xs font-medium transition-colors duration-300",n?"text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-gray-100"),children:"Day"}),u.jsxs("button",{onClick:t,className:et("relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300",n?"bg-primary":"bg-gray-300"),"aria-label":"Toggle theme",children:[u.jsx("span",{className:"sr-only",children:"Toggle theme"}),u.jsx("svg",{className:et("absolute left-0.5 h-4 w-4 transition-opacity duration-300",n?"opacity-0":"opacity-100"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),u.jsx("svg",{className:et("absolute right-0.5 h-4 w-4 transition-opacity duration-300",n?"opacity-100":"opacity-0"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),u.jsx("span",{className:"absolute h-5 w-5 rounded-full bg-white shadow-md transition-all duration-300 ease-in-out",style:{transform:n?"translateX(22px)":"translateX(1px)"}})]}),u.jsx("span",{className:et("text-xs font-medium transition-colors duration-300",n?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400"),children:"Night"})]})};function Zce(){console.log("App component rendering...");const e=Jw(t=>t.theme);se.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);try{const{error:t,setError:n}=Ur();return console.log("Store loaded, error state:",t),u.jsx(IM,{children:u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[u.jsx("div",{className:"fixed bottom-4 right-4 z-50 bg-white dark:bg-gray-800 p-2 rounded-full shadow-lg",children:u.jsx(Qce,{})}),u.jsx(Xce,{}),t&&u.jsx(Jce,{message:t,onClose:()=>n(null)})]})})}catch(t){return console.error("Error in App component:",t),u.jsxs("div",{children:["Error loading app: ",String(t)]})}}window.addEventListener("error",e=>{console.error("Global error:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)});console.log("main.tsx loading...");const dm=document.getElementById("root");console.log("Root element:",dm);if(dm){console.log("Creating React root...");try{i1.createRoot(dm).render(u.jsx(ge.StrictMode,{children:u.jsx(Zce,{})})),console.log("React root created")}catch(e){console.error("Error creating React root:",e),dm.innerHTML=`<div style="color: red; padding: 20px;">Error loading app: ${e}</div>`}}else console.error("Root element not found!"),document.body.innerHTML='<div style="color: red; padding: 20px;">Root element not found!</div>';export{It as _,Hs as c,Rt as g};
